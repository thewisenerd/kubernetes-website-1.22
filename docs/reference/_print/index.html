<!doctype html><html lang=en class=no-js>
<head>
<meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JPP6RFM2BP"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-JPP6RFM2BP')</script>
<link rel=alternate hreflang=zh href=https://kubernetes.io/zh/docs/reference/>
<link rel=alternate hreflang=ko href=https://kubernetes.io/ko/docs/reference/>
<link rel=alternate hreflang=ja href=https://kubernetes.io/ja/docs/reference/>
<link rel=alternate hreflang=fr href=https://kubernetes.io/fr/docs/reference/>
<link rel=alternate hreflang=de href=https://kubernetes.io/de/docs/reference/>
<link rel=alternate hreflang=es href=https://kubernetes.io/es/docs/reference/>
<link rel=alternate hreflang=pt-br href=https://kubernetes.io/pt-br/docs/reference/>
<link rel=alternate hreflang=id href=https://kubernetes.io/id/docs/reference/>
<link rel=alternate hreflang=ru href=https://kubernetes.io/ru/docs/reference/>
<link rel=alternate hreflang=pl href=https://kubernetes.io/pl/docs/reference/>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.87.0">
<link rel=canonical type=text/html href=https://kubernetes.io/docs/reference/>
<link rel="shortcut icon" type=image/png href=/images/favicon.png>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=manifest href=/manifest.webmanifest>
<link rel=apple-touch-icon href=/images/kubernetes-192x192.png>
<title>Reference | Kubernetes</title><meta property="og:title" content="Reference">
<meta property="og:description" content="Production-Grade Container Orchestration">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kubernetes.io/docs/reference/"><meta property="og:site_name" content="Kubernetes">
<meta itemprop=name content="Reference">
<meta itemprop=description content="Production-Grade Container Orchestration"><meta name=twitter:card content="summary">
<meta name=twitter:title content="Reference">
<meta name=twitter:description content="Production-Grade Container Orchestration">
<link href=/scss/main.css rel=stylesheet>
<script src=/js/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","url":"https://kubernetes.io","logo":"https://kubernetes.io/images/favicon.png"}</script>
<meta name=theme-color content="#326ce5">
<link rel=stylesheet href=/css/feature-states.css>
<meta name=description content="This section of the Kubernetes documentation contains references.
API Reference   Glossary - a comprehensive, standardized list of Kubernetes terminology
  Kubernetes API Reference
  One-page API Reference for Kubernetes v1.22
  Using The Kubernetes API - overview of the API for Kubernetes.
  API access control - details on how Kubernetes controls API access
  Well-Known Labels, Annotations and Taints
  Officially supported client libraries To call the Kubernetes API from a programming language, you can use client libraries.">
<meta property="og:description" content="This section of the Kubernetes documentation contains references.
API Reference   Glossary - a comprehensive, standardized list of Kubernetes terminology
  Kubernetes API Reference
  One-page API Reference for Kubernetes v1.22
  Using The Kubernetes API - overview of the API for Kubernetes.
  API access control - details on how Kubernetes controls API access
  Well-Known Labels, Annotations and Taints
  Officially supported client libraries To call the Kubernetes API from a programming language, you can use client libraries.">
<meta name=twitter:description content="This section of the Kubernetes documentation contains references.
API Reference   Glossary - a comprehensive, standardized list of Kubernetes terminology
  Kubernetes API Reference
  One-page API Reference for Kubernetes v1.22
  Using The Kubernetes API - overview of the API for Kubernetes.
  API access control - details on how Kubernetes controls API access
  Well-Known Labels, Annotations and Taints
  Officially supported client libraries To call the Kubernetes API from a programming language, you can use client libraries.">
<meta property="og:url" content="https://kubernetes.io/docs/reference/">
<meta property="og:title" content="Reference">
<meta name=twitter:title content="Reference">
<meta name=twitter:image content="https://kubernetes.io/images/favicon.png">
<meta name=twitter:image:alt content="Kubernetes">
<meta property="og:image" content="/images/kubernetes-horizontal-color.png">
<meta property="og:type" content="article">
<script src=/js/script.js></script>
</head>
<body class=td-section>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" data-auto-burger=primary>
<a class=navbar-brand href=/></a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-2 mb-lg-0">
<a class="nav-link active" href=/docs/>Documentation</span></a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/blog/>Kubernetes Blog</span></a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/training/>Training</span></a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/partners/>Partners</span></a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/community/>Community</span></a>
</li>
<li class="nav-item mr-2 mb-lg-0">
<a class=nav-link href=/case-studies/>Case Studies</span></a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Versions
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/releases>Release Information</a>
<a class=dropdown-item href=https://kubernetes.io/docs/reference/>v1.26</a>
<a class=dropdown-item href=https://v1-25.docs.kubernetes.io/docs/reference/>v1.25</a>
<a class=dropdown-item href=https://v1-24.docs.kubernetes.io/docs/reference/>v1.24</a>
<a class=dropdown-item href=https://v1-23.docs.kubernetes.io/docs/reference/>v1.23</a>
<a class=dropdown-item href=https://v1-22.docs.kubernetes.io/docs/reference/>v1.22</a>
</div>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdownMenuLink role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/zh/docs/reference/>中文 Chinese</a>
<a class=dropdown-item href=/ko/docs/reference/>한국어 Korean</a>
<a class=dropdown-item href=/ja/docs/reference/>日本語 Japanese</a>
<a class=dropdown-item href=/fr/docs/reference/>Français</a>
<a class=dropdown-item href=/de/docs/reference/>Deutsch</a>
<a class=dropdown-item href=/es/docs/reference/>Español</a>
<a class=dropdown-item href=/pt-br/docs/reference/>Português</a>
<a class=dropdown-item href=/id/docs/reference/>Bahasa Indonesia</a>
<a class=dropdown-item href=/ru/docs/reference/>Русский</a>
<a class=dropdown-item href=/pl/docs/reference/>Polski</a>
</div>
</li>
</ul>
</div>
<button id=hamburger onclick=kub.toggleMenu() data-auto-burger-exclude><div></div></button>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
</div>
<div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
</div>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<div class=td-content>
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.
</p><p>
<a href=/docs/reference/>Return to the regular view of this page</a>.
</p>
</div>
<h1 class=title>Reference</h1>
<ul>
<li>1: <a href=#pg-2b03679960950df772fb4fe7d78427b9>Glossary</a></li>
<li>2: <a href=#pg-882c82a32bfb4d7946585a93a966b442>API Overview</a></li>
<ul>
<li>2.1: <a href=#pg-2b5428a2ff6f4831fd972ef50e12b3eb>Kubernetes API Concepts</a></li>
<li>2.2: <a href=#pg-040d9484db673074f1b8ba3465be9d91>Server-Side Apply</a></li>
<li>2.3: <a href=#pg-79880efc25dc8cb3b6962ad78a964319>Client Libraries</a></li>
<li>2.4: <a href=#pg-8d2ce3e7b2223cda0ccd428f4d5ea24b>Kubernetes Deprecation Policy</a></li>
<li>2.5: <a href=#pg-2479c39af50fd55b898a3bcfb5988077>Deprecated API Migration Guide</a></li>
<li>2.6: <a href=#pg-e4dbb59f8f23854d7b7d574e169923c4>Kubernetes API health endpoints</a></li>
</ul>
<li>3: <a href=#pg-99b26586d8a33ec06996dcf7892a9683>API Access Control</a></li>
<ul>
<li>3.1: <a href=#pg-a6264859a5ad6e2f4a6e4cff9ce4fa8b>Authenticating</a></li>
<li>3.2: <a href=#pg-de45b6ca7419a0e308044425b2ac52bb>Authenticating with Bootstrap Tokens</a></li>
<li>3.3: <a href=#pg-3d0c14d1e3cfade38febc343cd044c73>Certificate Signing Requests</a></li>
<li>3.4: <a href=#pg-518807b9b00bda46d7c7e6e0b17c18f8>Using Admission Controllers</a></li>
<li>3.5: <a href=#pg-d04751f776f1faa6a82bbb7f0a200950>Dynamic Admission Control</a></li>
<li>3.6: <a href=#pg-bea207258f3576b8ec7444a20d498e1d>Managing Service Accounts</a></li>
<li>3.7: <a href=#pg-342be69d36f174f762c36f4fe11fcb20>Authorization Overview</a></li>
<li>3.8: <a href=#pg-954776b47f2d90515f375623a0ce98e1>Using RBAC Authorization</a></li>
<li>3.9: <a href=#pg-a5bdc757c01991e5e6ab1a82b90639ea>Using ABAC Authorization</a></li>
<li>3.10: <a href=#pg-9cbb97d4d9f08d67931a1baae4e6519c>Using Node Authorization</a></li>
<li>3.11: <a href=#pg-215c25173044b8f97e9b0494b0c7e53f>Webhook Mode</a></li>
</ul>
<li>4: <a href=#pg-232c8c895125744f56a31038ab6fa4e9>Well-Known Labels, Annotations and Taints</a></li>
<li>5: <a href=#pg-60a16da3955f1de774f1f8dd756f2251>Kubernetes API</a></li>
<ul>
<li>5.1: <a href=#pg-5037aed176781855678f89b4c21626ac>Workload Resources</a></li>
<ul>
<li>5.1.1: <a href=#pg-9cfc6ce767da10486ac184e3cf34abd4>Pod</a></li>
<li>5.1.2: <a href=#pg-af1995b54121f96a81a8c51fecc4f6f7>PodTemplate</a></li>
<li>5.1.3: <a href=#pg-888377326f4cd6e3d527f8dbb5ba81a0>ReplicationController</a></li>
<li>5.1.4: <a href=#pg-803e8dd9be7ea099609d5c9af16d670f>ReplicaSet</a></li>
<li>5.1.5: <a href=#pg-2c16e10bbf4113c1d2bb657311819771>Deployment</a></li>
<li>5.1.6: <a href=#pg-eb1ab4c03629d6617cc006c8c38b7424>StatefulSet</a></li>
<li>5.1.7: <a href=#pg-203ad280adf3207ae06a933d6a78e464>ControllerRevision</a></li>
<li>5.1.8: <a href=#pg-4efed40f98f8b85058d5aa64c1b40b99>DaemonSet</a></li>
<li>5.1.9: <a href=#pg-83b80f201ab5dccbbde519b7edc641ea>Job</a></li>
<li>5.1.10: <a href=#pg-661762555507aff4c6bde1090179871f>CronJob</a></li>
<li>5.1.11: <a href=#pg-dc6f15a65358762dd1015f9f080829a0>HorizontalPodAutoscaler</a></li>
<li>5.1.12: <a href=#pg-e449828c2ccbcf4be4605daf395a9109>HorizontalPodAutoscaler v2beta2</a></li>
<li>5.1.13: <a href=#pg-707d238ce24c4c3026aa7ef29968e3f7>PriorityClass</a></li>
</ul>
<li>5.2: <a href=#pg-54e55c546ba2153921dc8b78bafd699e>Service Resources</a></li>
<ul>
<li>5.2.1: <a href=#pg-106baf3be98dce0a42ad9ea7df796679>Service</a></li>
<li>5.2.2: <a href=#pg-3f9a97d28a4b596c8d33d230e2b3dd6e>Endpoints</a></li>
<li>5.2.3: <a href=#pg-c9e5f15a68e325ce17ea168bcabd33e5>EndpointSlice</a></li>
<li>5.2.4: <a href=#pg-734ceb8f9e59bff318dc526882eb5dcd>Ingress</a></li>
<li>5.2.5: <a href=#pg-3420962b87b77851810c3aa8baad9578>IngressClass</a></li>
</ul>
<li>5.3: <a href=#pg-ef67581d88f69ea15be11159c033f33b>Config and Storage Resources</a></li>
<ul>
<li>5.3.1: <a href=#pg-109fa09dec8516f460dc1668c66df57c>ConfigMap</a></li>
<li>5.3.2: <a href=#pg-7d0599aac497db82ee78fddbc549c01d>Secret</a></li>
<li>5.3.3: <a href=#pg-21d04f929a407332d3e23a09718e07f6>Volume</a></li>
<li>5.3.4: <a href=#pg-b0df9d7d300647dc0b5ebef6492f379c>PersistentVolumeClaim</a></li>
<li>5.3.5: <a href=#pg-876f3f471c6ce2412361e722f45723ce>PersistentVolume</a></li>
<li>5.3.6: <a href=#pg-6594b40b9d2889c78aa24c990663c227>StorageClass</a></li>
<li>5.3.7: <a href=#pg-4bfa6511c37446f7b8f7ff7643983981>VolumeAttachment</a></li>
<li>5.3.8: <a href=#pg-e9fc1d0635b78d89359345fdb7789971>CSIDriver</a></li>
<li>5.3.9: <a href=#pg-e54ab698c244de7268acca37e4e6e97e>CSINode</a></li>
<li>5.3.10: <a href=#pg-f52edae9eefa76dc41924c5ffe81c4fb>CSIStorageCapacity v1beta1</a></li>
</ul>
<li>5.4: <a href=#pg-6a5e06a0dc59d104938425c049f2f29b>Authentication Resources</a></li>
<ul>
<li>5.4.1: <a href=#pg-6449724e786cbecd0cecfaa5a486e64a>ServiceAccount</a></li>
<li>5.4.2: <a href=#pg-71bfa3e84f86650d855ced711edc8b41>TokenRequest</a></li>
<li>5.4.3: <a href=#pg-4140627880f82c11a5e16b3c4043cfdb>TokenReview</a></li>
<li>5.4.4: <a href=#pg-f9925c52e71befd56d9a92b04add148d>CertificateSigningRequest</a></li>
</ul>
<li>5.5: <a href=#pg-5362c9a7583eca653d4a705ba4e460ff>Authorization Resources</a></li>
<ul>
<li>5.5.1: <a href=#pg-253b0f85df0c0013b6476358e72b05f6>LocalSubjectAccessReview</a></li>
<li>5.5.2: <a href=#pg-3798a3911313b78a780825aa1a00827d>SelfSubjectAccessReview</a></li>
<li>5.5.3: <a href=#pg-ea1fed61553ac63709679a375b1ec442>SelfSubjectRulesReview</a></li>
<li>5.5.4: <a href=#pg-5a4c4b387f450c2b81962bec144749fc>SubjectAccessReview</a></li>
<li>5.5.5: <a href=#pg-4701a95c93d869e797bb11d9fc883748>ClusterRole</a></li>
<li>5.5.6: <a href=#pg-c05906bc1a365bcc4d4d92b4b3f4f192>ClusterRoleBinding</a></li>
<li>5.5.7: <a href=#pg-f0f12b8c869ff195f7b0b0388a88e76c>Role</a></li>
<li>5.5.8: <a href=#pg-337599e35c879ffc4ba442b2e98758e1>RoleBinding</a></li>
</ul>
<li>5.6: <a href=#pg-d8857a338d5c6dc04752576100c946d9>Policy Resources</a></li>
<ul>
<li>5.6.1: <a href=#pg-0831e36c3a644ba6bb53595de785976d>LimitRange</a></li>
<li>5.6.2: <a href=#pg-10c2069205c27f566d7476dc73169165>ResourceQuota</a></li>
<li>5.6.3: <a href=#pg-1e1d84ecddba19848ff49b8f10e5b3bc>NetworkPolicy</a></li>
<li>5.6.4: <a href=#pg-2e75f782721e263954f44aea4709a9d5>PodDisruptionBudget</a></li>
<li>5.6.5: <a href=#pg-249dbcad3167d59d62d9fd394bc275a7>PodSecurityPolicy v1beta1</a></li>
</ul>
<li>5.7: <a href=#pg-020d8f776dea9802131630c210dc4c0a>Extend Resources</a></li>
<ul>
<li>5.7.1: <a href=#pg-0a375cb95d28aa4cec341c561ccf6e83>CustomResourceDefinition</a></li>
<li>5.7.2: <a href=#pg-ad24d230da8fe5a5c54bc6bff4169d24>MutatingWebhookConfiguration</a></li>
<li>5.7.3: <a href=#pg-ad9945bc57d13986240173bdc1448f1b>ValidatingWebhookConfiguration</a></li>
</ul>
<li>5.8: <a href=#pg-692a25c0f0c88fc9b8c1e82cd0b0ee9e>Cluster Resources</a></li>
<ul>
<li>5.8.1: <a href=#pg-3ca7e8e10d76640701a022f9bac5e958>Node</a></li>
<li>5.8.2: <a href=#pg-a96e40f7c68d5bb9604dcaa7f5b69d0b>Namespace</a></li>
<li>5.8.3: <a href=#pg-e034843297b0ae20140d70f0d6df2378>Event</a></li>
<li>5.8.4: <a href=#pg-311b31c9ea6c6923cab8e14e36e62fbe>APIService</a></li>
<li>5.8.5: <a href=#pg-7ac923a0ef2a5ce2605b428b72f9e5eb>Lease</a></li>
<li>5.8.6: <a href=#pg-d1a53525d01a18b0dc630fcbc2411a03>RuntimeClass</a></li>
<li>5.8.7: <a href=#pg-eefad9c55010d108230b223241b95f78>FlowSchema v1beta1</a></li>
<li>5.8.8: <a href=#pg-fc6d9938d29eb2669c1cfee2f77ba1f0>PriorityLevelConfiguration v1beta1</a></li>
<li>5.8.9: <a href=#pg-76c59f2971e8baa82f76c4bea291baa5>Binding</a></li>
<li>5.8.10: <a href=#pg-4fd67a09c76a0614445c034348adc0a7>ComponentStatus</a></li>
</ul>
<li>5.9: <a href=#pg-0a260d85a5da2504fce8c56b77c45024>Common Definitions</a></li>
<ul>
<li>5.9.1: <a href=#pg-9eba5edb3c1d93f9a74827e3a71014dd>DeleteOptions</a></li>
<li>5.9.2: <a href=#pg-26234b02eb0546f7a178da9c373cb197>LabelSelector</a></li>
<li>5.9.3: <a href=#pg-dbe3b11fb1cfde0aac65f945d84b11d6>ListMeta</a></li>
<li>5.9.4: <a href=#pg-026383e0b43a68744a8b27a82bb4926d>LocalObjectReference</a></li>
<li>5.9.5: <a href=#pg-deb2d19043a047688f72480af2f1b1e0>NodeSelectorRequirement</a></li>
<li>5.9.6: <a href=#pg-47b6e1916665dd55bbeb2b33847653ed>ObjectFieldSelector</a></li>
<li>5.9.7: <a href=#pg-77f040b7d1c00efcedc11902ed78fc08>ObjectMeta</a></li>
<li>5.9.8: <a href=#pg-cf854f859540243f660c2798d641498c>ObjectReference</a></li>
<li>5.9.9: <a href=#pg-1997570a6710a3eaf78270f2e2535167>Patch</a></li>
<li>5.9.10: <a href=#pg-51b0e3fdb6e89030bd9e49dbb990918c>Quantity</a></li>
<li>5.9.11: <a href=#pg-406fd6938a5a3283ee7a816347603389>ResourceFieldSelector</a></li>
<li>5.9.12: <a href=#pg-b86f72d0a9c9625228b55ff79c154b63>Status</a></li>
<li>5.9.13: <a href=#pg-ad5a39cd0d4233c0afb2a1daf17b95b3>TypedLocalObjectReference</a></li>
</ul>
<li>5.10: <a href=#pg-6fbe4a9bf41cfee30909689bd978c45f>Common Parameters</a></li>
</ul>
<li>6: <a href=#pg-af7c1f9168ec67f957edc504f43faf9a>Kubernetes Issues and Security</a></li>
<ul>
<li>6.1: <a href=#pg-980c0542a3b195a20cfd4358792e2a38>Kubernetes Issue Tracker</a></li>
<li>6.2: <a href=#pg-1f7dc06f1cc1ea2cdde4480e54d5fb34>Kubernetes Security and Disclosure Information</a></li>
</ul>
<li>7: <a href=#pg-df8ff2190764e70c3de2015e2cb46b14>Ports and Protocols</a></li>
<li>8: <a href=#pg-5bbbc5163b35431b3bff029ab9ec57d3>Setup tools</a></li>
<ul>
<li>8.1: <a href=#pg-f351ced098abbb076bc8c4be1053672b>Kubeadm</a></li>
<ul>
<li>8.1.1: <a href=#pg-36c22b52e8447eb3d2452d4f56fbea9b>Kubeadm Generated</a></li>
<ul>
<li>8.1.1.1: <a href=#pg-fd3ad295c1f10bfa333f841bbdffba81></a></li>
<li>8.1.1.2: <a href=#pg-8df9aba508b2736a6712ef46227eea7d></a></li>
<li>8.1.1.3: <a href=#pg-018648dfc6f28bc9b969f45af0563cae></a></li>
<li>8.1.1.4: <a href=#pg-4a1ff27cdf01c1c47d034278048e776b></a></li>
<li>8.1.1.5: <a href=#pg-5d6b2999153cd86f56329534249fc4ec></a></li>
<li>8.1.1.6: <a href=#pg-adb5eecdc351074cc2e0cc2b1b4f04a8></a></li>
<li>8.1.1.7: <a href=#pg-df4c2dc6cba0be90d8d7de2fca9b87f7></a></li>
<li>8.1.1.8: <a href=#pg-6d6746e8ac1f1602f7dab1056b27e5c2></a></li>
<li>8.1.1.9: <a href=#pg-7449c7fa06f25b967cf531e937b0f4b2></a></li>
<li>8.1.1.10: <a href=#pg-b5c6ae77d3be9bd358c68667006cfc18></a></li>
<li>8.1.1.11: <a href=#pg-4f804e59ec1739e733807d2b591d771f></a></li>
<li>8.1.1.12: <a href=#pg-f5cf8caa95834803b133d53c321ab4a9></a></li>
<li>8.1.1.13: <a href=#pg-ee770858e2bb767b79d572b4882af656></a></li>
<li>8.1.1.14: <a href=#pg-7484bf11b6183f4c329b1f66734cc886></a></li>
<li>8.1.1.15: <a href=#pg-bf444d915ab856dba693c36294c5427b></a></li>
<li>8.1.1.16: <a href=#pg-f5c087e087714c5290b4967dd7924b3b></a></li>
<li>8.1.1.17: <a href=#pg-20703ce1c236264ad78cb1ad7244723e></a></li>
<li>8.1.1.18: <a href=#pg-49aaa494ef75de67609987a43e5ee520></a></li>
<li>8.1.1.19: <a href=#pg-d63311c16e6468f5a5940aadd902faa7></a></li>
<li>8.1.1.20: <a href=#pg-6678a79b85306310066616185153377d></a></li>
<li>8.1.1.21: <a href=#pg-8f73e208cc67d221165f6294393881a7></a></li>
<li>8.1.1.22: <a href=#pg-9aec3477159c105a46f4479de1c21418></a></li>
<li>8.1.1.23: <a href=#pg-045e41c28798930e21f77a90c3a90263></a></li>
<li>8.1.1.24: <a href=#pg-e7d83478123771ad14f475ee44440303></a></li>
<li>8.1.1.25: <a href=#pg-57a6b20d9571220989a7a445d4459468></a></li>
<li>8.1.1.26: <a href=#pg-92a2c11eef37937af846b55d9b87a544></a></li>
<li>8.1.1.27: <a href=#pg-dcfffcaafb438cd650475945ddc129ee></a></li>
<li>8.1.1.28: <a href=#pg-6eaa2624c512051ff2a9cdbc6ee54949></a></li>
<li>8.1.1.29: <a href=#pg-4b7ada30e3923594b2907dcb8b431080></a></li>
<li>8.1.1.30: <a href=#pg-6d1154da2e554de858cf4e7b37c054fa></a></li>
<li>8.1.1.31: <a href=#pg-d3a16914ddc849435ed864163978ddbf></a></li>
<li>8.1.1.32: <a href=#pg-8a257337ea78e5d9a0c54aa971eaf991></a></li>
<li>8.1.1.33: <a href=#pg-77759011117e7974cbfee9694b6f8801></a></li>
<li>8.1.1.34: <a href=#pg-8e1920b2caaa8de839cd3997edca80e9></a></li>
<li>8.1.1.35: <a href=#pg-00aa8c2e4b3b2fd3a4b7986976b7bfda></a></li>
<li>8.1.1.36: <a href=#pg-316aa97ee5719be5a723ac1b77c44f5a></a></li>
<li>8.1.1.37: <a href=#pg-759e85e62b32c0697ab37c214e99a864></a></li>
<li>8.1.1.38: <a href=#pg-2e7091074560abc2a8e7b897cdd8a7b6></a></li>
<li>8.1.1.39: <a href=#pg-eedb8f5a6ed4cff1dfb1a5d14176b5b3></a></li>
<li>8.1.1.40: <a href=#pg-c55f2fa6bdaa124b37da090a3ef90902></a></li>
<li>8.1.1.41: <a href=#pg-10f416336efdcee22d691869e7585b9f></a></li>
<li>8.1.1.42: <a href=#pg-c4b6d149cda7cac896f4374c821b7fc6></a></li>
<li>8.1.1.43: <a href=#pg-1db087626f4f368e932df6f12993a5ab></a></li>
<li>8.1.1.44: <a href=#pg-e85da83e18a50e472eb56320af55768a></a></li>
<li>8.1.1.45: <a href=#pg-eb911bdcb8bb53ceb8b253089ab0d814></a></li>
<li>8.1.1.46: <a href=#pg-62c5dc89c39f3ecd6aee57545d12891a></a></li>
<li>8.1.1.47: <a href=#pg-2a79e12b9455f0ca1a6d5b00a9841249></a></li>
<li>8.1.1.48: <a href=#pg-a2c8efac328fcf416e558bf167ef417d></a></li>
<li>8.1.1.49: <a href=#pg-d93bd37094201bdefdb3908c9a6c86b3></a></li>
<li>8.1.1.50: <a href=#pg-efa9ae4c92ed1c26dc04bb049db38cec></a></li>
<li>8.1.1.51: <a href=#pg-576c00359074987304b3b418cec9a5b1></a></li>
<li>8.1.1.52: <a href=#pg-e6097fe5dd013abd9f356c2566ef7b63></a></li>
<li>8.1.1.53: <a href=#pg-5ab65eab2498cc1893af5b3bf8fe08fc></a></li>
<li>8.1.1.54: <a href=#pg-fcb78718510a9d3027d1bb9d379c0c17></a></li>
<li>8.1.1.55: <a href=#pg-a0e1457f667eb757f82f8c42901aa6c5></a></li>
<li>8.1.1.56: <a href=#pg-59e362bf565041872395d165e99eafc1></a></li>
<li>8.1.1.57: <a href=#pg-2a5040747a02ae2b2326c9901f1725d3></a></li>
<li>8.1.1.58: <a href=#pg-043bd19497eefb77a6ed30a4d704fe7c></a></li>
<li>8.1.1.59: <a href=#pg-bffb0d67824e75ade7232d09754b9718></a></li>
<li>8.1.1.60: <a href=#pg-a37b5872c572c71775e389df50fca215></a></li>
<li>8.1.1.61: <a href=#pg-3f49598c499c3356d89d98fdc8c8ad79></a></li>
<li>8.1.1.62: <a href=#pg-7d68ac74e5301f789ddd2e25dd36218e></a></li>
<li>8.1.1.63: <a href=#pg-e7c1ae3d905d9b6854216e26651955cd></a></li>
<li>8.1.1.64: <a href=#pg-967a98823c19c8338bfc0e1338a20fb1></a></li>
<li>8.1.1.65: <a href=#pg-b5838cc93a3fdb37b61afd201a71edd9></a></li>
<li>8.1.1.66: <a href=#pg-f54c84a0fdada369a87b2ced6ccfc38f></a></li>
<li>8.1.1.67: <a href=#pg-0d96e214c09a8f014e984a6b980522b3></a></li>
<li>8.1.1.68: <a href=#pg-48afa88840a20edf1ad613c18480d4fc></a></li>
<li>8.1.1.69: <a href=#pg-14da359f76a0f36af507d289dd4a5050></a></li>
<li>8.1.1.70: <a href=#pg-3fda282409b804a14879b9c65c035797></a></li>
<li>8.1.1.71: <a href=#pg-e044e6c69c2b1512c8d89430e0400771></a></li>
<li>8.1.1.72: <a href=#pg-9f968809f867b76728697577492429e8></a></li>
<li>8.1.1.73: <a href=#pg-c3c506c1683aed34398a34ab66d609da></a></li>
<li>8.1.1.74: <a href=#pg-2c1a5a4405dca745ef50b4e86f5977c7></a></li>
<li>8.1.1.75: <a href=#pg-003aaef561d065ecdaeb2c325b6b9253></a></li>
<li>8.1.1.76: <a href=#pg-535f050663a6d8db3a61df2b19a0714b></a></li>
<li>8.1.1.77: <a href=#pg-2f0a684baffe3cdf830c16693412f8e0></a></li>
<li>8.1.1.78: <a href=#pg-aba528e06c437710b269f4e41f854fdd></a></li>
<li>8.1.1.79: <a href=#pg-1d7987a759cd1519def4d433710cdff1></a></li>
<li>8.1.1.80: <a href=#pg-33216a69b333c330cb8b305a119abc7c></a></li>
<li>8.1.1.81: <a href=#pg-53abd743076fc859067264f3e8e676e0></a></li>
<li>8.1.1.82: <a href=#pg-3a08eb202d572e417768a942ad24c59f></a></li>
<li>8.1.1.83: <a href=#pg-11ed4820a6c3b411d9c4b87163cf0ae7></a></li>
<li>8.1.1.84: <a href=#pg-e81c9d9320242b5ed4b063beea6696f8></a></li>
<li>8.1.1.85: <a href=#pg-47f2d404188d6eb1fbf6fffd7fba4e48></a></li>
<li>8.1.1.86: <a href=#pg-257824537b4c6c6b33249aa786461156></a></li>
<li>8.1.1.87: <a href=#pg-e10faf6f940de61052258af59e036518></a></li>
<li>8.1.1.88: <a href=#pg-a46a193f2322aa88cb3b2de2447b0461></a></li>
<li>8.1.1.89: <a href=#pg-f5b27d7bd0eeed918f8635c68d220dc5></a></li>
<li>8.1.1.90: <a href=#pg-370e9ffda66b4c48dfa54ea37c3aad21></a></li>
<li>8.1.1.91: <a href=#pg-6bd27042c883aa5c498647d37762392c></a></li>
<li>8.1.1.92: <a href=#pg-3a000435e1cca0be398b44b487f530c8></a></li>
<li>8.1.1.93: <a href=#pg-97fbe97ca22de377e7fbf2517e0451b6></a></li>
<li>8.1.1.94: <a href=#pg-bee6749065a369c2ab5b311eb43c40ba></a></li>
<li>8.1.1.95: <a href=#pg-bdd9680ec894593d17f782d5e5665fd4></a></li>
<li>8.1.1.96: <a href=#pg-1d005baad1a1e217d7ae0210fec96c3f></a></li>
<li>8.1.1.97: <a href=#pg-c79d11d27bed54caac743c93e0b2fb24></a></li>
<li>8.1.1.98: <a href=#pg-ba78e64c325e4131dd741235e2a1b2c0></a></li>
<li>8.1.1.99: <a href=#pg-872d33f1fbc83cb2f0bf89b4bd545174></a></li>
<li>8.1.1.100: <a href=#pg-7d8c1710684742ca940f580674225d9d></a></li>
<li>8.1.1.101: <a href=#pg-28dcf20d89c7bb1c8e7a3873d7703d5d></a></li>
<li>8.1.1.102: <a href=#pg-f869b6331e40c6f9eb01314f96d3113e></a></li>
<li>8.1.1.103: <a href=#pg-19a94d2f7649959b218952cef00729f4></a></li>
<li>8.1.1.104: <a href=#pg-b22d3ed181fb7f926ae2081f8fc8c14d></a></li>
<li>8.1.1.105: <a href=#pg-ae1ea74c2c21b25a3c1eacdaf549274b></a></li>
<li>8.1.1.106: <a href=#pg-633020ef232bc34f60c82153578a6c9b></a></li>
<li>8.1.1.107: <a href=#pg-e938edeb3d824f9b364de617a1f10a93></a></li>
<li>8.1.1.108: <a href=#pg-aa9f718186487df2ab6885cae45f5d37></a></li>
<li>8.1.1.109: <a href=#pg-60d816e74ec8e0301cc484b19d7694e6></a></li>
</ul>
<li>8.1.2: <a href=#pg-82b2fcf985bae77dcb754387a9fcc64f>kubeadm init</a></li>
<li>8.1.3: <a href=#pg-2a2b5f34806b4b1bd2c12682ac170d68>kubeadm join</a></li>
<li>8.1.4: <a href=#pg-2c20539d9fabf5982e2dd931742714bd>kubeadm upgrade</a></li>
<li>8.1.5: <a href=#pg-5042dc49c5348b3674d3878f37f7670b>kubeadm config</a></li>
<li>8.1.6: <a href=#pg-6eb5bc1e7114609930a76c683cc27c2b>kubeadm reset</a></li>
<li>8.1.7: <a href=#pg-516f4705fb2f5f62c76c7742772726a3>kubeadm token</a></li>
<li>8.1.8: <a href=#pg-34c4af6f36d969ed08ba840e7fb64c6d>kubeadm version</a></li>
<li>8.1.9: <a href=#pg-92a39c69c3689119dd5fa12886cb73a3>kubeadm alpha</a></li>
<li>8.1.10: <a href=#pg-6a1fed09235bbf3644c804339928f10e>kubeadm certs</a></li>
<li>8.1.11: <a href=#pg-fbe8dcd222ce5795a5c325670a26b067>kubeadm init phase</a></li>
<li>8.1.12: <a href=#pg-62a742c564b0b5b7ac12a95e67cc425a>kubeadm join phase</a></li>
<li>8.1.13: <a href=#pg-1ab2d643d770ca684548de4ddbc7d8c4>kubeadm kubeconfig</a></li>
<li>8.1.14: <a href=#pg-b969d0033ce5d9036463521fb1f150b3>kubeadm reset phase</a></li>
<li>8.1.15: <a href=#pg-dfd085b5ab706bd84dda15847dd27f1b>kubeadm upgrade phase</a></li>
<li>8.1.16: <a href=#pg-455b6412a275b743ee8ad90f35808393>Implementation details</a></li>
</ul>
</ul>
<li>9: <a href=#pg-54e562dd1441d0195970a6526b0055cc>Component tools</a></li>
<ul>
<li>9.1: <a href=#pg-ca5d01a42c486d535539d3038aa67eb9>Feature Gates</a></li>
<li>9.2: <a href=#pg-29e506a6018204679ef5459653a7aa1f>kubelet</a></li>
<li>9.3: <a href=#pg-ec8ff2888d36f533a57bc9704ccc84e0>kube-apiserver</a></li>
<li>9.4: <a href=#pg-8a37271ec8fd36a3a1ce07c4c58533d9>kube-controller-manager</a></li>
<li>9.5: <a href=#pg-a727de6cb5a090d5f115f88a8606c438>kube-proxy</a></li>
<li>9.6: <a href=#pg-57e59e5ddd9db63da6c9d27cc0e2f254>kube-scheduler</a></li>
<li>9.7: <a href=#pg-1715b765e2ff39feffd103d59ec0ef07>Kubelet authentication/authorization</a></li>
<li>9.8: <a href=#pg-bdd3803a4bb6efcc44a7ab03590ce93c>TLS bootstrapping</a></li>
</ul>
<li>10: <a href=#pg-03460a7254c6c73eb2a1bb3dd7d25910>kubectl</a></li>
<ul>
<li>10.1: <a href=#pg-f14fe15ecc2d41b5e901ef5e872ca657>Overview of kubectl</a></li>
<li>10.2: <a href=#pg-a938176c695852fe70362c29cf615f1c>JSONPath Support</a></li>
<li>10.3: <a href=#pg-4d3e62632c189fcc3c1357cd8fb8799c>kubectl</a></li>
<li>10.4: <a href=#pg-8aba901ac13f124e5782b90ddb166ee2>kubectl Cheat Sheet</a></li>
<li>10.5: <a href=#pg-d7ffbf04ffbefb241fd0722423b80f5a>kubectl Commands</a></li>
<li>10.6: <a href=#pg-a7abc09192597e614b58f8b552b682f5>kubectl for Docker Users</a></li>
<li>10.7: <a href=#pg-8de6aceb8bf692c06cced446bac5bc92>kubectl Usage Conventions</a></li>
</ul>
<li>11: <a href=#pg-a6ae13190e147ef3922315c2091fc258>Configuration APIs</a></li>
<ul>
<li>11.1: <a href=#pg-2896357fe4f62fe85522254410e0be7d>Client Authentication (v1beta1)</a></li>
<li>11.2: <a href=#pg-8f61883225b6bed85530d1904e148392>kube-apiserver Audit Configuration (v1)</a></li>
<li>11.3: <a href=#pg-e9edd8df1106a991be062e37a9ef87b5>kube-apiserver Configuration (v1alpha1)</a></li>
<li>11.4: <a href=#pg-d8644f8d8b33ff33a31c8b55065eaf37>kube-proxy Configuration (v1alpha1)</a></li>
<li>11.5: <a href=#pg-d673af4d710babea20cd6b317502afb8>kube-scheduler Configuration (v1beta1)</a></li>
<li>11.6: <a href=#pg-5cf379787cc3cd6f11182678610e6b5e>kube-scheduler Configuration (v1beta2)</a></li>
<li>11.7: <a href=#pg-699f28965d0a72527ebd04826dda8901>kube-scheduler Policy Configuration (v1)</a></li>
<li>11.8: <a href=#pg-81f4b8f1501e8345c99315695078a771>kubeadm Configuration (v1beta2)</a></li>
<li>11.9: <a href=#pg-675226e13e76ef189fe0156f7e52353a>kubeadm Configuration (v1beta3)</a></li>
<li>11.10: <a href=#pg-aaa2b8b78fe84a05914c155652d10956>Kubelet Configuration (v1beta1)</a></li>
<li>11.11: <a href=#pg-74f43b2a33c21414f1ed8c359b37d326>WebhookAdmission Configuration (v1)</a></li>
</ul>
<li>12: <a href=#pg-f8b023454daa9497b7eea35b7d35c075>Scheduling</a></li>
<ul>
<li>12.1: <a href=#pg-5a0a68fb6a7ffefb6d5f861100fa0ae3>Scheduling Policies</a></li>
<li>12.2: <a href=#pg-ef4fb938b6b63c95f5f26f9b1cec3054>Scheduler Configuration</a></li>
</ul>
<li>13: <a href=#pg-c808ce38575e73f72835d7ed02b03780>Other Tools</a></li>
<ul>
</ul>
</ul>
<div class=content>
<p>This section of the Kubernetes documentation contains references.</p>
<h2 id=api-reference>API Reference</h2>
<ul>
<li>
<p><a href=/docs/reference/glossary/>Glossary</a> - a comprehensive, standardized list of Kubernetes terminology</p>
</li>
<li>
<p><a href=/docs/reference/kubernetes-api/>Kubernetes API Reference</a></p>
</li>
<li>
<p><a href=/docs/reference/generated/kubernetes-api/v1.22/>One-page API Reference for Kubernetes v1.22</a></p>
</li>
<li>
<p><a href=/docs/reference/using-api/>Using The Kubernetes API</a> - overview of the API for Kubernetes.</p>
</li>
<li>
<p><a href=/docs/reference/access-authn-authz/>API access control</a> - details on how Kubernetes controls API access</p>
</li>
<li>
<p><a href=/docs/reference/labels-annotations-taints/>Well-Known Labels, Annotations and Taints</a></p>
</li>
</ul>
<h2 id=officially-supported-client-libraries>Officially supported client libraries</h2>
<p>To call the Kubernetes API from a programming language, you can use
<a href=/docs/reference/using-api/client-libraries/>client libraries</a>. Officially supported
client libraries:</p>
<ul>
<li><a href=https://github.com/kubernetes/client-go/>Kubernetes Go client library</a></li>
<li><a href=https://github.com/kubernetes-client/python>Kubernetes Python client library</a></li>
<li><a href=https://github.com/kubernetes-client/java>Kubernetes Java client library</a></li>
<li><a href=https://github.com/kubernetes-client/javascript>Kubernetes JavaScript client library</a></li>
<li><a href=https://github.com/kubernetes-client/csharp>Kubernetes C# client library</a></li>
<li><a href=https://github.com/kubernetes-client/haskell>Kubernetes Haskell client library</a></li>
</ul>
<h2 id=cli>CLI</h2>
<ul>
<li><a href=/docs/reference/kubectl/overview/>kubectl</a> - Main CLI tool for running commands and managing Kubernetes clusters.
<ul>
<li><a href=/docs/reference/kubectl/jsonpath/>JSONPath</a> - Syntax guide for using <a href=https://goessner.net/articles/JsonPath/>JSONPath expressions</a> with kubectl.</li>
</ul>
</li>
<li><a href=/docs/reference/setup-tools/kubeadm/>kubeadm</a> - CLI tool to easily provision a secure Kubernetes cluster.</li>
</ul>
<h2 id=components>Components</h2>
<ul>
<li>
<p><a href=/docs/reference/command-line-tools-reference/kubelet/>kubelet</a> - The
primary agent that runs on each node. The kubelet takes a set of PodSpecs
and ensures that the described containers are running and healthy.</p>
</li>
<li>
<p><a href=/docs/reference/command-line-tools-reference/kube-apiserver/>kube-apiserver</a> -
REST API that validates and configures data for API objects such as pods,
services, replication controllers.</p>
</li>
<li>
<p><a href=/docs/reference/command-line-tools-reference/kube-controller-manager/>kube-controller-manager</a> - Daemon that embeds the core control loops shipped with Kubernetes.</p>
</li>
<li>
<p><a href=/docs/reference/command-line-tools-reference/kube-proxy/>kube-proxy</a> - Can
do simple TCP/UDP stream forwarding or round-robin TCP/UDP forwarding across
a set of back-ends.</p>
</li>
<li>
<p><a href=/docs/reference/command-line-tools-reference/kube-scheduler/>kube-scheduler</a> - Scheduler that manages availability, performance, and capacity.</p>
<ul>
<li><a href=/docs/reference/scheduling/policies>Scheduler Policies</a></li>
<li><a href=/docs/reference/scheduling/config#profiles>Scheduler Profiles</a></li>
</ul>
</li>
<li>
<p>List of <a href=/docs/reference/ports-and-protocols/>ports and protocols</a> that
should be open on control plane and worker nodes</p>
</li>
</ul>
<h2 id=config-apis>Config APIs</h2>
<p>This section hosts the documentation for "unpublished" APIs which are used to
configure kubernetes components or tools. Most of these APIs are not exposed
by the API server in a RESTful way though they are essential for a user or an
operator to use or manage a cluster.</p>
<ul>
<li><a href=/docs/reference/config-api/apiserver-config.v1alpha1/>kube-apiserver configuration (v1alpha1)</a></li>
<li><a href=/docs/reference/config-api/kubelet-config.v1beta1/>kubelet configuration (v1beta1)</a></li>
<li><a href=/docs/reference/config-api/kube-scheduler-config.v1beta1/>kube-scheduler configuration (v1beta1)</a></li>
<li><a href=/docs/reference/config-api/kube-scheduler-config.v1beta2/>kube-scheduler configuration (v1beta2)</a></li>
<li><a href=/docs/reference/config-api/kube-scheduler-policy-config.v1/>kube-scheduler policy reference (v1)</a></li>
<li><a href=/docs/reference/config-api/kube-proxy-config.v1alpha1/>kube-proxy configuration (v1alpha1)</a></li>
<li><a href=/docs/reference/config-api/apiserver-audit.v1/><code>audit.k8s.io/v1</code> API</a></li>
<li><a href=/docs/reference/config-api/client-authentication.v1beta1/>Client authentication API (v1beta1)</a></li>
<li><a href=/docs/reference/config-api/apiserver-webhookadmission.v1/>WebhookAdmission configuration (v1)</a></li>
</ul>
<h2 id=config-api-for-kubeadm>Config API for kubeadm</h2>
<ul>
<li><a href=/docs/reference/config-api/kubeadm-config.v1beta2/>v1beta2</a></li>
<li><a href=/docs/reference/config-api/kubeadm-config.v1beta3/>v1beta3</a></li>
</ul>
<h2 id=design-docs>Design Docs</h2>
<p>An archive of the design docs for Kubernetes functionality. Good starting points are
<a href=https://git.k8s.io/community/contributors/design-proposals/architecture/architecture.md>Kubernetes Architecture</a> and
<a href=https://git.k8s.io/community/contributors/design-proposals>Kubernetes Design Overview</a>.</p>
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2b03679960950df772fb4fe7d78427b9>1 - Glossary</h1>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-882c82a32bfb4d7946585a93a966b442>2 - API Overview</h1>
<p>This section provides reference information for the Kubernetes API.</p>
<p>The REST API is the fundamental fabric of Kubernetes. All operations and
communications between components, and external user commands are REST API
calls that the API Server handles. Consequently, everything in the Kubernetes
platform is treated as an API object and has a corresponding entry in the
<a href=/docs/reference/generated/kubernetes-api/v1.22/>API</a>.</p>
<p>The <a href=/docs/reference/generated/kubernetes-api/v1.22/>Kubernetes API reference</a>
lists the API for Kubernetes version v1.22.</p>
<p>For general background information, read
<a href=/docs/concepts/overview/kubernetes-api/>The Kubernetes API</a>.
<a href=/docs/concepts/security/controlling-access/>Controlling Access to the Kubernetes API</a>
describes how clients can authenticate to the Kubernetes API server, and how their
requests are authorized.</p>
<h2 id=api-versioning>API versioning</h2>
<p>The JSON and Protobuf serialization schemas follow the same guidelines for
schema changes. The following descriptions cover both formats.</p>
<p>The API versioning and software versioning are indirectly related.
The <a href=https://git.k8s.io/community/contributors/design-proposals/release/versioning.md>API and release versioning proposal</a>
describes the relationship between API versioning and software versioning.</p>
<p>Different API versions indicate different levels of stability and support. You
can find more information about the criteria for each level in the
<a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api_changes.md#alpha-beta-and-stable-versions>API Changes documentation</a>.</p>
<p>Here's a summary of each level:</p>
<ul>
<li>
<p>Alpha:</p>
<ul>
<li>The version names contain <code>alpha</code> (for example, <code>v1alpha1</code>).</li>
<li>The software may contain bugs. Enabling a feature may expose bugs. A
feature may be disabled by default.</li>
<li>The support for a feature may be dropped at any time without notice.</li>
<li>The API may change in incompatible ways in a later software release without notice.</li>
<li>The software is recommended for use only in short-lived testing clusters,
due to increased risk of bugs and lack of long-term support.</li>
</ul>
</li>
<li>
<p>Beta:</p>
<ul>
<li>
<p>The version names contain <code>beta</code> (for example, <code>v2beta3</code>).</p>
</li>
<li>
<p>The software is well tested. Enabling a feature is considered safe.
Features are enabled by default.</p>
</li>
<li>
<p>The support for a feature will not be dropped, though the details may change.</p>
</li>
<li>
<p>The schema and/or semantics of objects may change in incompatible ways in
a subsequent beta or stable release. When this happens, migration
instructions are provided. Schema changes may require deleting, editing, and
re-creating API objects. The editing process may not be straightforward.
The migration may require downtime for applications that rely on the feature.</p>
</li>
<li>
<p>The software is not recommended for production uses. Subsequent releases
may introduce incompatible changes. If you have multiple clusters which
can be upgraded independently, you may be able to relax this restriction.</p>
</li>
</ul>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Please try beta features and provide feedback. After the features exit beta, it
may not be practical to make more changes.
</div>
</li>
<li>
<p>Stable:</p>
<ul>
<li>The version name is <code>vX</code> where <code>X</code> is an integer.</li>
<li>The stable versions of features appear in released software for many subsequent versions.</li>
</ul>
</li>
</ul>
<h2 id=api-groups>API groups</h2>
<p><a href=https://git.k8s.io/community/contributors/design-proposals/api-machinery/api-group.md>API groups</a>
make it easier to extend the Kubernetes API.
The API group is specified in a REST path and in the <code>apiVersion</code> field of a
serialized object.</p>
<p>There are several API groups in Kubernetes:</p>
<ul>
<li>The <em>core</em> (also called <em>legacy</em>) group is found at REST path <code>/api/v1</code>.
The core group is not specified as part of the <code>apiVersion</code> field, for
example, <code>apiVersion: v1</code>.</li>
<li>The named groups are at REST path <code>/apis/$GROUP_NAME/$VERSION</code> and use
<code>apiVersion: $GROUP_NAME/$VERSION</code> (for example, <code>apiVersion: batch/v1</code>).
You can find the full list of supported API groups in
<a href=/docs/reference/generated/kubernetes-api/v1.22/#-strong-api-groups-strong->Kubernetes API reference</a>.</li>
</ul>
<h2 id=enabling-or-disabling>Enabling or disabling API groups </h2>
<p>Certain resources and API groups are enabled by default. You can enable or
disable them by setting <code>--runtime-config</code> on the API server. The
<code>--runtime-config</code> flag accepts comma separated <code>&lt;key>[=&lt;value>]</code> pairs
describing the runtime configuration of the API server. If the <code>=&lt;value></code>
part is omitted, it is treated as if <code>=true</code> is specified. For example:</p>
<ul>
<li>to disable <code>batch/v1</code>, set <code>--runtime-config=batch/v1=false</code></li>
<li>to enable <code>batch/v2alpha1</code>, set <code>--runtime-config=batch/v2alpha1</code></li>
</ul>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> When you enable or disable groups or resources, you need to restart the API
server and controller manager to pick up the <code>--runtime-config</code> changes.
</div>
<h2 id=persistence>Persistence</h2>
<p>Kubernetes stores its serialized state in terms of the API resources by writing them into
<a class=glossary-tooltip title="Consistent and highly-available key value store used as Kubernetes' backing store for all cluster data." data-toggle=tooltip data-placement=top href=/docs/tasks/administer-cluster/configure-upgrade-etcd/ target=_blank aria-label=etcd>etcd</a>.</p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>Learn more about <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#api-conventions>API conventions</a></li>
<li>Read the design documentation for
<a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/aggregated-api-servers.md>aggregator</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2b5428a2ff6f4831fd972ef50e12b3eb>2.1 - Kubernetes API Concepts</h1>
<p>The Kubernetes API is a resource-based (RESTful) programmatic interface
provided via HTTP. It supports retrieving, creating, updating, and deleting
primary resources via the standard HTTP verbs (POST, PUT, PATCH, DELETE,
GET).</p>
<p>For some resources, the API includes additional subresources that allow
fine grained authorization (such as a separating viewing details for a Pod from
retrieving its logs), and can accept and serve those resources in different
representations for convenience or efficiency.</p>
<p>Kubernetes supports efficient change notifications on resources via <em>watches</em>.
Kubernetes also provides consistent list operations so that API clients can
effectively cache, track, and synchronize the state of resources.</p>
<p>You can view the <a href=/docs/reference/kubernetes-api/>API reference</a> online,
or read on to learn about the API in general.</p>
<h2 id=standard-api-terminology>Kubernetes API terminology</h2>
<p>Kubernetes generally leverages common RESTful terminology to describe the
API concepts:</p>
<ul>
<li>A <em>resource type</em> is the name used in the URL (<code>pods</code>, <code>namespaces</code>, <code>services</code>)</li>
<li>All resource types have a concrete representation (their object schema) which is called a <em>kind</em></li>
<li>A list of instances of a resource is known as a <em>collection</em></li>
<li>A single instance of a resource type is called a <em>resource</em>, and also usually represents an <em>object</em></li>
<li>For some resource types, the API includes one or more <em>sub-resources</em>, which are represented as URI paths below the resource</li>
</ul>
<p>Most Kubernetes API resource types are
<a href=/docs/concepts/overview/working-with-objects/kubernetes-objects/#kubernetes-objects>objects</a>:
they represent a concrete instance of a concept on the cluster, like a
pod or namespace. A smaller number of API resource types are <em>virtual</em> in
that they often represent operations on objects, rather than objects, such
as a permission check
(use a POST with a JSON-encoded body of <code>SubjectAccessReview</code> to the
<code>subjectaccessreviews</code> resource), or the <code>eviction</code> sub-resource of a Pod
(used to trigger
<a href=/docs/concepts/scheduling-eviction/api-eviction/>API-initiated eviction</a>).</p>
<h3 id=object-names>Object names</h3>
<p>All objects you can create via the API have a unique object
<a class=glossary-tooltip title="A client-provided string that refers to an object in a resource URL, such as /api/v1/pods/some-name." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/names target=_blank aria-label=name>name</a> to allow idempotent creation and
retrieval, except that virtual resource types may not have unique names if they are
not retrievable, or do not rely on idempotency.
Within a <a class=glossary-tooltip title="An abstraction used by Kubernetes to support multiple virtual clusters on the same physical cluster." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/namespaces target=_blank aria-label=namespace>namespace</a>, only one object
of a given kind can have a given name at a time. However, if you delete the object,
you can make a new object with the same name. Some objects are not namespaced (for
example: Nodes), and so their names must be unique across the whole cluster.</p>
<h3 id=api-verbs>API verbs</h3>
<p>Almost all object resource types support the standard HTTP verbs - GET, POST, PUT, PATCH,
and DELETE. Kubernetes also uses its own verbs, which are often written lowercase to distinguish
them from HTTP verbs.</p>
<p>Kubernetes uses the term <strong>list</strong> to describe returning a <a href=#collections>collection</a> of
resources to distinguish from retrieving a single resource which is usually called
a <strong>get</strong>. If you sent an HTTP GET request with the <code>?watch</code> query parameter,
Kubernetes calls this a <strong>watch</strong> and not a <strong>get</strong> (see
<a href=#efficient-detection-of-changes>Efficient detection of changes</a> for more details).</p>
<p>For PUT requests, Kubernetes internally classifies these as either <strong>create</strong> or <strong>update</strong>
based on the state of the existing object. An <strong>update</strong> is different from a <strong>patch</strong>; the
HTTP verb for a <strong>patch</strong> is PATCH.</p>
<h2 id=resource-uris>Resource URIs</h2>
<p>All resource types are either scoped by the cluster (<code>/apis/GROUP/VERSION/*</code>) or to a
namespace (<code>/apis/GROUP/VERSION/namespaces/NAMESPACE/*</code>). A namespace-scoped resource
type will be deleted when its namespace is deleted and access to that resource type
is controlled by authorization checks on the namespace scope.</p>
<p>You can also access collections of resources (for example: listing all Nodes).
The following paths are used to retrieve collections and resources:</p>
<ul>
<li>
<p>Cluster-scoped resources:</p>
<ul>
<li><code>GET /apis/GROUP/VERSION/RESOURCETYPE</code> - return the collection of resources of the resource type</li>
<li><code>GET /apis/GROUP/VERSION/RESOURCETYPE/NAME</code> - return the resource with NAME under the resource type</li>
</ul>
</li>
<li>
<p>Namespace-scoped resources:</p>
<ul>
<li><code>GET /apis/GROUP/VERSION/RESOURCETYPE</code> - return the collection of all instances of the resource type across all namespaces</li>
<li><code>GET /apis/GROUP/VERSION/namespaces/NAMESPACE/RESOURCETYPE</code> - return collection of all instances of the resource type in NAMESPACE</li>
<li><code>GET /apis/GROUP/VERSION/namespaces/NAMESPACE/RESOURCETYPE/NAME</code> - return the instance of the resource type with NAME in NAMESPACE</li>
</ul>
</li>
</ul>
<p>Since a namespace is a cluster-scoped resource type, you can retrieve the list
(“collection”) of all namespaces with <code>GET /api/v1/namespaces</code> and details about
a particular namespace with <code>GET /api/v1/namespaces/NAME</code>.</p>
<ul>
<li>Cluster-scoped subresource: <code>GET /apis/GROUP/VERSION/RESOURCETYPE/NAME/SUBRESOURCE</code></li>
<li>Namespace-scoped subresource: <code>GET /apis/GROUP/VERSION/namespaces/NAMESPACE/RESOURCETYPE/NAME/SUBRESOURCE</code></li>
</ul>
<p>The verbs supported for each subresource will differ depending on the object -
see the <a href=/docs/reference/kubernetes-api/>API reference</a> for more information. It
is not possible to access sub-resources across multiple resources - generally a new
virtual resource type would be used if that becomes necessary.</p>
<h2 id=efficient-detection-of-changes>Efficient detection of changes</h2>
<p>The Kubernetes API allows clients to make an initial request for an object or a
collection, and then to track changes since that initial request: a <strong>watch</strong>. Clients
can send a <strong>list</strong> or a <strong>get</strong> and then make a follow-up <strong>watch</strong> request.</p>
<p>To make this change tracking possible, every Kubernetes object has a <code>resourceVersion</code>
field representing the version of that resource as stored in the underlying persistence
layer. When retrieving a collection of resources (either namespace or cluster scoped),
the response from the API server contains a <code>resourceVersion</code> value. The client can
use that <code>resourceVersion</code> to initiate a <strong>watch</strong> against the API server.</p>
<p>When you send a <strong>watch</strong> request, the API server responds with a stream of
changes. These changes itemize the outcome of operations (such as <strong>create</strong>, <strong>delete</strong>,
and <strong>update</strong>) that occurred after the <code>resourceVersion</code> you specified as a parameter
to the <strong>watch</strong> request. The overall <strong>watch</strong> mechanism allows a client to fetch
the current state and then subscribe to subsequent changes, without missing any events.</p>
<p>If a client <strong>watch</strong> is disconnected then that client can start a new <strong>watch</strong> from
the last returned <code>resourceVersion</code>; the client could also perform a fresh <strong>get</strong> /
<strong>list</strong> request and begin again. See <a href=#resource-versions>Resource Version Semantics</a>
for more detail.</p>
<p>For example:</p>
<ol>
<li>
<p>List all of the pods in a given namespace.</p>
<pre><code class=language-console data-lang=console>GET /api/v1/namespaces/test/pods
---
200 OK
Content-Type: application/json

{
  &quot;kind&quot;: &quot;PodList&quot;,
  &quot;apiVersion&quot;: &quot;v1&quot;,
  &quot;metadata&quot;: {&quot;resourceVersion&quot;:&quot;10245&quot;},
  &quot;items&quot;: [...]
}
</code></pre></li>
<li>
<p>Starting from resource version 10245, receive notifications of any API operations
(such as <strong>create</strong>, <strong>delete</strong>, <strong>apply</strong> or <strong>update</strong>) that affect Pods in the
<em>test</em> namespace. Each change notification is a JSON document. The HTTP response body
(served as <code>application/json</code>) consists a series of JSON documents.</p>
<pre><code>GET /api/v1/namespaces/test/pods?watch=1&amp;resourceVersion=10245
---
200 OK
Transfer-Encoding: chunked
Content-Type: application/json

{
  &quot;type&quot;: &quot;ADDED&quot;,
  &quot;object&quot;: {&quot;kind&quot;: &quot;Pod&quot;, &quot;apiVersion&quot;: &quot;v1&quot;, &quot;metadata&quot;: {&quot;resourceVersion&quot;: &quot;10596&quot;, ...}, ...}
}
{
  &quot;type&quot;: &quot;MODIFIED&quot;,
  &quot;object&quot;: {&quot;kind&quot;: &quot;Pod&quot;, &quot;apiVersion&quot;: &quot;v1&quot;, &quot;metadata&quot;: {&quot;resourceVersion&quot;: &quot;11020&quot;, ...}, ...}
}
...
</code></pre></li>
</ol>
<p>A given Kubernetes server will only preserve a historical record of changes for a
limited time. Clusters using etcd 3 preserve changes in the last 5 minutes by default.
When the requested <strong>watch</strong> operations fail because the historical version of that
resource is not available, clients must handle the case by recognizing the status code
<code>410 Gone</code>, clearing their local cache, performing a new <strong>get</strong> or <strong>list</strong> operation,
and starting the <strong>watch</strong> from the <code>resourceVersion</code> that was returned.</p>
<p>For subscribing to collections, Kubernetes client libraries typically offer some form
of standard tool for this <strong>list</strong>-then-<strong>watch</strong> logic. (In the Go client library,
this is called a <code>Reflector</code> and is located in the <code>k8s.io/client-go/cache</code> package.)</p>
<h3 id=watch-bookmarks>Watch bookmarks</h3>
<p>To mitigate the impact of short history window, the Kubernetes API provides a watch
event named <code>BOOKMARK</code>. It is a special kind of event to mark that all changes up
to a given <code>resourceVersion</code> the client is requesting have already been sent. The
document representing the <code>BOOKMARK</code> event is of the type requested by the request,
but only includes a <code>.metadata.resourceVersion</code> field. For example:</p>
<pre><code class=language-console data-lang=console>GET /api/v1/namespaces/test/pods?watch=1&amp;resourceVersion=10245&amp;allowWatchBookmarks=true
---
200 OK
Transfer-Encoding: chunked
Content-Type: application/json

{
  &quot;type&quot;: &quot;ADDED&quot;,
  &quot;object&quot;: {&quot;kind&quot;: &quot;Pod&quot;, &quot;apiVersion&quot;: &quot;v1&quot;, &quot;metadata&quot;: {&quot;resourceVersion&quot;: &quot;10596&quot;, ...}, ...}
}
...
{
  &quot;type&quot;: &quot;BOOKMARK&quot;,
  &quot;object&quot;: {&quot;kind&quot;: &quot;Pod&quot;, &quot;apiVersion&quot;: &quot;v1&quot;, &quot;metadata&quot;: {&quot;resourceVersion&quot;: &quot;12746&quot;} }
}
</code></pre><p>As a client, you can request <code>BOOKMARK</code> events by setting the
<code>allowWatchBookmarks=true</code> query parameter to a <strong>watch</strong> request, but you shouldn't
assume bookmarks are returned at any specific interval, nor can clients assume that
the API server will send any <code>BOOKMARK</code> event even when requested.</p>
<h2 id=retrieving-large-results-sets-in-chunks>Retrieving large results sets in chunks</h2>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.9 [beta]</code>
</div>
<p>On large clusters, retrieving the collection of some resource types may result in
very large responses that can impact the server and client. For instance, a cluster
may have tens of thousands of Pods, each of which is equivalent to roughly 2 KiB of
encoded JSON. Retrieving all pods across all namespaces may result in a very large
response (10-20MB) and consume a large amount of server resources.</p>
<p>Provided that you don't explicitly disable the <code>APIListChunking</code>
<a href=/docs/reference/command-line-tools-reference/feature-gates/>feature gate</a>, the
Kubernetes API server supports the ability to break a single large collection request
into many smaller chunks while preserving the consistency of the total request. Each
chunk can be returned sequentially which reduces both the total size of the request and
allows user-oriented clients to display results incrementally to improve responsiveness.</p>
<p>You can request that the API server handles a <strong>list</strong> by serving single collection
using pages (which Kubernetes calls <em>chunks</em>). To retrieve a single collection in
chunks, two query parameters <code>limit</code> and <code>continue</code> are supported on requests against
collections, and a response field <code>continue</code> is returned from all <strong>list</strong> operations
in the collection's <code>metadata</code> field. A client should specify the maximum results they
wish to receive in each chunk with <code>limit</code> and the server will return up to <code>limit</code>
resources in the result and include a <code>continue</code> value if there are more resources
in the collection.</p>
<p>As an API client, you can then pass this <code>continue</code> value to the API server on the
next request, to instruct the server to return the next page (<em>chunk</em>) of results. By
continuing until the server returns an empty <code>continue</code> value, you can retrieve the
entire collection.</p>
<p>Like a <strong>watch</strong> operation, a <code>continue</code> token will expire after a short amount
of time (by default 5 minutes) and return a <code>410 Gone</code> if more results cannot be
returned. In this case, the client will need to start from the beginning or omit the
<code>limit</code> parameter.</p>
<p>For example, if there are 1,253 pods on the cluster and you wants to receive chunks
of 500 pods at a time, request those chunks as follows:</p>
<ol>
<li>
<p>List all of the pods on a cluster, retrieving up to 500 pods each time.</p>
<pre><code class=language-console data-lang=console>GET /api/v1/pods?limit=500
---
200 OK
Content-Type: application/json

{
  &quot;kind&quot;: &quot;PodList&quot;,
  &quot;apiVersion&quot;: &quot;v1&quot;,
  &quot;metadata&quot;: {
    &quot;resourceVersion&quot;:&quot;10245&quot;,
    &quot;continue&quot;: &quot;ENCODED_CONTINUE_TOKEN&quot;,
    ...
  },
  &quot;items&quot;: [...] // returns pods 1-500
}
</code></pre></li>
<li>
<p>Continue the previous call, retrieving the next set of 500 pods.</p>
<pre><code class=language-console data-lang=console>GET /api/v1/pods?limit=500&amp;continue=ENCODED_CONTINUE_TOKEN
---
200 OK
Content-Type: application/json

{
  &quot;kind&quot;: &quot;PodList&quot;,
  &quot;apiVersion&quot;: &quot;v1&quot;,
  &quot;metadata&quot;: {
    &quot;resourceVersion&quot;:&quot;10245&quot;,
    &quot;continue&quot;: &quot;ENCODED_CONTINUE_TOKEN_2&quot;,
    ...
  },
  &quot;items&quot;: [...] // returns pods 501-1000
}
</code></pre></li>
<li>
<p>Continue the previous call, retrieving the last 253 pods.</p>
<pre><code class=language-console data-lang=console>GET /api/v1/pods?limit=500&amp;continue=ENCODED_CONTINUE_TOKEN_2
---
200 OK
Content-Type: application/json

{
  &quot;kind&quot;: &quot;PodList&quot;,
  &quot;apiVersion&quot;: &quot;v1&quot;,
  &quot;metadata&quot;: {
    &quot;resourceVersion&quot;:&quot;10245&quot;,
    &quot;continue&quot;: &quot;&quot;, // continue token is empty because we have reached the end of the list
    ...
  },
  &quot;items&quot;: [...] // returns pods 1001-1253
}
</code></pre></li>
</ol>
<p>Notice that the <code>resourceVersion</code> of the collection remains constant across each request,
indicating the server is showing you a consistent snapshot of the pods. Pods that
are created, updated, or deleted after version <code>10245</code> would not be shown unless
you make a separate <strong>list</strong> request without the <code>continue</code> token. This allows you
to break large requests into smaller chunks and then perform a <strong>watch</strong> operation
on the full set without missing any updates.</p>
<p><code>remainingItemCount</code> is the number of subsequent items in the collection that are not
included in this response. If the <strong>list</strong> request contained label or field
<a class=glossary-tooltip title="Allows users to filter a list of resources based on labels." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels/ target=_blank aria-label=selectors>selectors</a> then the number of
remaining items is unknown and the API server does not include a <code>remainingItemCount</code>
field in its response.
If the <strong>list</strong> is complete (either because it is not chunking, or because this is the
last chunk), then there are no more remaining items and the API server does not include a
<code>remainingItemCount</code> field in its response. The intended use of the <code>remainingItemCount</code>
is estimating the size of a collection.</p>
<h2 id=collections>Collections</h2>
<p>In Kubernetes terminology, the response you get from a <strong>list</strong> is
a <em>collection</em>. However, Kubernetes defines concrete kinds for
collections of different types of resource. Collections have a kind
named for the resource kind, with <code>List</code> appended.</p>
<p>When you query the API for a particular type, all items returned by that query are
of that type.
For example, when you <strong>list</strong> Services, the collection response
has <code>kind</code> set to
<a href=/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceList><code>ServiceList</code></a>; each item in that collection represents a single Service. For example:</p>
<pre><code>GET /api/v1/services
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;ServiceList&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;metadata&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;resourceVersion&#34;: </span><span style=color:#b44>&#34;2947301&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>},<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;items&#34;: </span>[<span style=color:#bbb>
</span><span style=color:#bbb>    </span>{<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;metadata&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;name&#34;: </span><span style=color:#b44>&#34;kubernetes&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;namespace&#34;: </span><span style=color:#b44>&#34;default&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;metadata&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;name&#34;: </span><span style=color:#b44>&#34;kube-dns&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;namespace&#34;: </span><span style=color:#b44>&#34;kube-system&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div><p>There are dozens of collection types (such as <code>PodList</code>, <code>ServiceList</code>,
and <code>NodeList</code>) defined in the Kubernetes API.
You can get more information about each collection type from the
<a href=/docs/reference/kubernetes-api/>Kubernetes API</a> documentation.</p>
<p>Some tools, such as <code>kubectl</code>, represent the Kubernetes collection
mechanism slightly differently from the Kubernetes API itself.
Because the output of <code>kubectl</code> might include the response from
multiple <strong>list</strong> operations at the API level, <code>kubectl</code> represents
a list of items using <code>kind: List</code>. For example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get services -A -o yaml
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>List<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceVersion</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>selfLink</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>items</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Service<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>creationTimestamp</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2021-06-03T14:54:12Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>component</span>:<span style=color:#bbb> </span>apiserver<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>provider</span>:<span style=color:#bbb> </span>kubernetes<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>kubernetes<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Service<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>prometheus.io/port</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;9153&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>prometheus.io/scrape</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>creationTimestamp</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2021-06-03T14:54:14Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>k8s-app</span>:<span style=color:#bbb> </span>kube-dns<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>kubernetes.io/cluster-service</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>kubernetes.io/name</span>:<span style=color:#bbb> </span>CoreDNS<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>kube-dns<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>kube-system<span style=color:#bbb>
</span></code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>Keep in mind that the Kubernetes API does not have a <code>kind</code> named <code>List</code>.</p>
<p><code>kind: List</code> is a client-side, internal implementation detail for processing
collections that might be of different kinds of object. Avoid depending on
<code>kind: List</code> in automation or other code.</p>
</div>
<h2 id=receiving-resources-as-tables>Receiving resources as Tables</h2>
<p>When you run <code>kubectl get</code>, the default output format is a simple tabular
representation of one or more instances of a particular resource type. In the past,
clients were required to reproduce the tabular and describe output implemented in
<code>kubectl</code> to perform simple lists of objects.
A few limitations of that approach include non-trivial logic when dealing with
certain objects. Additionally, types provided by API aggregation or third party
resources are not known at compile time. This means that generic implementations
had to be in place for types unrecognized by a client.</p>
<p>In order to avoid potential limitations as described above, clients may request
the Table representation of objects, delegating specific details of printing to the
server. The Kubernetes API implements standard HTTP content type negotiation: passing
an <code>Accept</code> header containing a value of <code>application/json;as=Table;g=meta.k8s.io;v=v1</code>
with a <code>GET</code> call will request that the server return objects in the Table content
type.</p>
<p>For example, list all of the pods on a cluster in the Table format.</p>
<pre><code class=language-console data-lang=console>GET /api/v1/pods
Accept: application/json;as=Table;g=meta.k8s.io;v=v1
---
200 OK
Content-Type: application/json

{
    &quot;kind&quot;: &quot;Table&quot;,
    &quot;apiVersion&quot;: &quot;meta.k8s.io/v1&quot;,
    ...
    &quot;columnDefinitions&quot;: [
        ...
    ]
}
</code></pre><p>For API resource types that do not have a custom Table definition known to the control
plane, the API server returns a default Table response that consists of the resource's
<code>name</code> and <code>creationTimestamp</code> fields.</p>
<pre><code class=language-console data-lang=console>GET /apis/crd.example.com/v1alpha1/namespaces/default/resources
---
200 OK
Content-Type: application/json
...

{
    &quot;kind&quot;: &quot;Table&quot;,
    &quot;apiVersion&quot;: &quot;meta.k8s.io/v1&quot;,
    ...
    &quot;columnDefinitions&quot;: [
        {
            &quot;name&quot;: &quot;Name&quot;,
            &quot;type&quot;: &quot;string&quot;,
            ...
        },
        {
            &quot;name&quot;: &quot;Created At&quot;,
            &quot;type&quot;: &quot;date&quot;,
            ...
        }
    ]
}
</code></pre><p>Not all API resource types support a Table response; for example, a
<a class=glossary-tooltip title="Custom code that defines a resource to add to your Kubernetes API server without building a complete custom server." data-toggle=tooltip data-placement=top href=/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/ target=_blank aria-label=CustomResourceDefinitions>CustomResourceDefinitions</a>
might not define field-to-table mappings, and an APIService that
<a href=/docs/concepts/extend-kubernetes/api-extension/apiserver-aggregation/>extends the core Kubernetes API</a>
might not serve Table responses at all. If you are implementing a client that
uses the Table information and must work against all resource types, including
extensions, you should make requests that specify multiple content types in the
<code>Accept</code> header. For example:</p>
<pre><code class=language-console data-lang=console>Accept: application/json;as=Table;g=meta.k8s.io;v=v1, application/json
</code></pre><h2 id=alternate-representations-of-resources>Alternate representations of resources</h2>
<p>By default, Kubernetes returns objects serialized to JSON with content type
<code>application/json</code>. This is the default serialization format for the API. However,
clients may request the more efficient
<a href=#protobuf-encoding>Protobuf representation</a> of these objects for better performance at scale.
The Kubernetes API implements standard HTTP content type negotiation: passing an
<code>Accept</code> header with a <code>GET</code> call will request that the server tries to return
a response in your preferred media type, while sending an object in Protobuf to
the server for a <code>PUT</code> or <code>POST</code> call means that you must set the <code>Content-Type</code>
header appropriately.</p>
<p>The server will return a response with a <code>Content-Type</code> header if the requested
format is supported, or the <code>406 Not acceptable</code> error if none of the media types you
requested are supported. All built-in resource types support the <code>application/json</code>
media type.</p>
<p>See the Kubernetes <a href=/docs/reference/kubernetes-api/>API reference</a> for a list of
supported content types for each API.</p>
<p>For example:</p>
<ol>
<li>
<p>List all of the pods on a cluster in Protobuf format.</p>
<pre><code class=language-console data-lang=console>GET /api/v1/pods
Accept: application/vnd.kubernetes.protobuf
---
200 OK
Content-Type: application/vnd.kubernetes.protobuf

... binary encoded PodList object
</code></pre></li>
<li>
<p>Create a pod by sending Protobuf encoded data to the server, but request a response
in JSON.</p>
<pre><code class=language-console data-lang=console>POST /api/v1/namespaces/test/pods
Content-Type: application/vnd.kubernetes.protobuf
Accept: application/json
... binary encoded Pod object
---
200 OK
Content-Type: application/json

{
  &quot;kind&quot;: &quot;Pod&quot;,
  &quot;apiVersion&quot;: &quot;v1&quot;,
  ...
}
</code></pre></li>
</ol>
<p>Not all API resource types support Protobuf; specifically, Protobuf isn't available for
resources that are defined as
<a class=glossary-tooltip title="Custom code that defines a resource to add to your Kubernetes API server without building a complete custom server." data-toggle=tooltip data-placement=top href=/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/ target=_blank aria-label=CustomResourceDefinitions>CustomResourceDefinitions</a>
or are served via the
<a class=glossary-tooltip title="The aggregation layer lets you install additional Kubernetes-style APIs in your cluster." data-toggle=tooltip data-placement=top href=/docs/concepts/extend-kubernetes/api-extension/apiserver-aggregation/ target=_blank aria-label="aggregation layer">aggregation layer</a>.
As a client, if you might need to work with extension types you should specify multiple
content types in the request <code>Accept</code> header to support fallback to JSON.
For example:</p>
<pre><code class=language-console data-lang=console>Accept: application/vnd.kubernetes.protobuf, application/json
</code></pre><h3 id=protobuf-encoding>Kubernetes Protobuf encoding</h3>
<p>Kubernetes uses an envelope wrapper to encode Protobuf responses. That wrapper starts
with a 4 byte magic number to help identify content in disk or in etcd as Protobuf
(as opposed to JSON), and then is followed by a Protobuf encoded wrapper message, which
describes the encoding and type of the underlying object and then contains the object.</p>
<p>The wrapper format is:</p>
<pre><code class=language-console data-lang=console>A four byte magic number prefix:
  Bytes 0-3: &quot;k8s\x00&quot; [0x6b, 0x38, 0x73, 0x00]

An encoded Protobuf message with the following IDL:
  message Unknown {
    // typeMeta should have the string values for &quot;kind&quot; and &quot;apiVersion&quot; as set on the JSON object
    optional TypeMeta typeMeta = 1;

    // raw will hold the complete serialized object in protobuf. See the protobuf definitions in the client libraries for a given kind.
    optional bytes raw = 2;

    // contentEncoding is encoding used for the raw data. Unspecified means no encoding.
    optional string contentEncoding = 3;

    // contentType is the serialization method used to serialize 'raw'. Unspecified means application/vnd.kubernetes.protobuf and is usually
    // omitted.
    optional string contentType = 4;
  }

  message TypeMeta {
    // apiVersion is the group/version for this type
    optional string apiVersion = 1;
    // kind is the name of the object schema. A protobuf definition should exist for this object.
    optional string kind = 2;
  }
</code></pre><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Clients that receive a response in <code>application/vnd.kubernetes.protobuf</code> that does
not match the expected prefix should reject the response, as future versions may need
to alter the serialization format in an incompatible way and will do so by changing
the prefix.
</div>
<h2 id=resource-deletion>Resource deletion</h2>
<p>When you <strong>delete</strong> a resource this takes place in two phases.</p>
<ol>
<li><em>finalization</em></li>
<li>removal</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;ConfigMap&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;metadata&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;finalizers&#34;: </span>{<span style=color:#b44>&#34;url.io/neat-finalization&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;other-url.io/my-finalizer&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;deletionTimestamp&#34;: </span>nil,<span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><p>When a client first sends a <strong>delete</strong> to request removal of a resource, the <code>.metadata.deletionTimestamp</code> is set to the current time.
Once the <code>.metadata.deletionTimestamp</code> is set, external controllers that act on finalizers
may start performing their cleanup work at any time, in any order.</p>
<p>Order is <strong>not</strong> enforced between finalizers because it would introduce significant
risk of stuck <code>.metadata.finalizers</code>.</p>
<p>The <code>.metadata.finalizers</code> field is shared: any actor with permission can reorder it.
If the finalizer list were processed in order, then this might lead to a situation
in which the component responsible for the first finalizer in the list is
waiting for some signal (field value, external system, or other) produced by a
component responsible for a finalizer later in the list, resulting in a deadlock.</p>
<p>Without enforced ordering, finalizers are free to order amongst themselves and are
not vulnerable to ordering changes in the list.</p>
<p>Once the last finalizer is removed, the resource is actually removed from etcd.</p>
<h2 id=single-resource-api>Single resource API</h2>
<p>The Kubernetes API verbs <strong>get</strong>, <strong>create</strong>, <strong>apply</strong>, <strong>update</strong>, <strong>patch</strong>,
<strong>delete</strong> and <strong>proxy</strong> support single resources only.
These verbs with single resource support have no support for submitting multiple
resources together in an ordered or unordered list or transaction.</p>
<p>When clients (including kubectl) act on a set of resources, the client makes a series
of single-resource API requests, then aggregates the responses if needed.</p>
<p>By contrast, the Kubernetes API verbs <strong>list</strong> and <strong>watch</strong> allow getting multiple
resources, and <strong>deletecollection</strong> allows deleting multiple resources.</p>
<h2 id=dry-run>Dry-run</h2>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.18 [stable]</code>
</div>
<p>When you use HTTP verbs that can modify resources (<code>POST</code>, <code>PUT</code>, <code>PATCH</code>, and
<code>DELETE</code>), you can submit your request in a <em>dry run</em> mode. Dry run mode helps to
evaluate a request through the typical request stages (admission chain, validation,
merge conflicts) up until persisting objects to storage. The response body for the
request is as close as possible to a non-dry-run response. Kubernetes guarantees that
dry-run requests will not be persisted in storage or have any other side effects.</p>
<h3 id=make-a-dry-run-request>Make a dry-run request</h3>
<p>Dry-run is triggered by setting the <code>dryRun</code> query parameter. This parameter is a
string, working as an enum, and the only accepted values are:</p>
<dl>
<dt>[no value set]</dt>
<dd>Allow side effects. You request this with a query string such as <code>?dryRun</code>
or <code>?dryRun&pretty=true</code>. The response is the final object that would have been
persisted, or an error if the request could not be fulfilled.</dd>
<dt><code>All</code></dt>
<dd>Every stage runs as normal, except for the final storage stage where side effects
are prevented.</dd>
</dl>
<p>When you set <code>?dryRun=All</code>, any relevant
<a class=glossary-tooltip title="A piece of code that intercepts requests to the Kubernetes API server prior to persistence of the object." data-toggle=tooltip data-placement=top href=/docs/reference/access-authn-authz/admission-controllers/ target=_blank aria-label="admission controllers">admission controllers</a>
are run, validating admission controllers check the request post-mutation, merge is
performed on <code>PATCH</code>, fields are defaulted, and schema validation occurs. The changes
are not persisted to the underlying storage, but the final object which would have
been persisted is still returned to the user, along with the normal status code.</p>
<p>If the non-dry-run version of a request would trigger an admission controller that has
side effects, the request will be failed rather than risk an unwanted side effect. All
built in admission control plugins support dry-run. Additionally, admission webhooks can
declare in their
<a href=/docs/reference/generated/kubernetes-api/v1.22/#webhook-v1beta1-admissionregistration-k8s-io>configuration object</a>
that they do not have side effects, by setting their <code>sideEffects</code> field to <code>None</code>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> If a webhook actually does have side effects, then the <code>sideEffects</code> field should be
set to "NoneOnDryRun". That change is appropriate provided that the webhook is also
be modified to understand the <code>DryRun</code> field in AdmissionReview, and to prevent side
effects on any request marked as dry runs.
</div>
<p>Here is an example dry-run request that uses <code>?dryRun=All</code>:</p>
<pre><code class=language-console data-lang=console>POST /api/v1/namespaces/test/pods?dryRun=All
Content-Type: application/json
Accept: application/json
</code></pre><p>The response would look the same as for non-dry-run request, but the values of some
generated fields may differ.</p>
<h3 id=generated-values>Generated values</h3>
<p>Some values of an object are typically generated before the object is persisted. It
is important not to rely upon the values of these fields set by a dry-run request,
since these values will likely be different in dry-run mode from when the real
request is made. Some of these fields are:</p>
<ul>
<li><code>name</code>: if <code>generateName</code> is set, <code>name</code> will have a unique random name</li>
<li><code>creationTimestamp</code> / <code>deletionTimestamp</code>: records the time of creation/deletion</li>
<li><code>UID</code>: <a href=/docs/concepts/overview/working-with-objects/names/#uids>uniquely identifies</a> the object and is randomly generated (non-deterministic)</li>
<li><code>resourceVersion</code>: tracks the persisted version of the object</li>
<li>Any field set by a mutating admission controller</li>
<li>For the <code>Service</code> resource: Ports or IP addresses that the kube-apiserver assigns to Service objects</li>
</ul>
<h3 id=dry-run-authorization>Dry-run authorization</h3>
<p>Authorization for dry-run and non-dry-run requests is identical. Thus, to make
a dry-run request, you must be authorized to make the non-dry-run request.</p>
<p>For example, to run a dry-run <strong>patch</strong> for a Deployment, you must be authorized
to perform that <strong>patch</strong>. Here is an example of a rule for Kubernetes
<a class=glossary-tooltip title="Manages authorization decisions, allowing admins to dynamically configure access policies through the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/reference/access-authn-authz/rbac/ target=_blank aria-label=RBAC>RBAC</a> that allows patching
Deployments:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;apps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;deployments&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;patch&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>See <a href=/docs/reference/access-authn-authz/authorization/>Authorization Overview</a>.</p>
<h2 id=server-side-apply>Server Side Apply</h2>
<p>Kubernetes' <a href=/docs/reference/using-api/server-side-apply/>Server Side Apply</a>
feature allows the control plane to track managed fields for newly created objects.
Server Side Apply provides a clear pattern for managing field conflicts,
offers server-side <code>Apply</code> and <code>Update</code> operations, and replaces the
client-side functionality of <code>kubectl apply</code>.</p>
<p>The API verb for Server-Side Apply is <strong>apply</strong>.
See <a href=/docs/reference/using-api/server-side-apply/>Server Side Apply</a> for more details.</p>
<h2 id=resource-versions>Resource versions</h2>
<p>Resource versions are strings that identify the server's internal version of an
object. Resource versions can be used by clients to determine when objects have
changed, or to express data consistency requirements when getting, listing and
watching resources. Resource versions must be treated as opaque by clients and passed
unmodified back to the server.</p>
<p>You must not assume resource versions are numeric or collatable. API clients may
only compare two resource versions for equality (this means that you must not compare
resource versions for greater-than or less-than relationships).</p>
<h3 id=resourceversion-in-metadata><code>resourceVersion</code> fields in metadata</h3>
<p>Clients find resource versions in resources, including the resources from the response
stream for a <strong>watch</strong>, or when using <strong>list</strong> to enumerate resources.</p>
<p><a href=/docs/reference/generated/kubernetes-api/v1.22/#objectmeta-v1-meta>v1.meta/ObjectMeta</a> - The <code>metadata.resourceVersion</code> of a resource instance identifies the resource version the instance was last modified at.</p>
<p><a href=/docs/reference/generated/kubernetes-api/v1.22/#listmeta-v1-meta>v1.meta/ListMeta</a> - The <code>metadata.resourceVersion</code> of a resource collection (the response to a <strong>list</strong>) identifies the resource version at which the collection was constructed.</p>
<h3 id=the-resourceversion-parameter><code>resourceVersion</code> parameters in query strings</h3>
<p>The <strong>get</strong>, <strong>list</strong>, and <strong>watch</strong> operations support the <code>resourceVersion</code> parameter.
From version v1.19, Kubernetes API servers also support the <code>resourceVersionMatch</code>
parameter on <em>list</em> requests.</p>
<p>The API server interprets the <code>resourceVersion</code> parameter differently depending
on the operation you request, and on the value of <code>resourceVersion</code>. If you set
<code>resourceVersionMatch</code> then this also affects the way matching happens.</p>
<h3 id=semantics-for-get-and-list>Semantics for <strong>get</strong> and <strong>list</strong></h3>
<p>For <strong>get</strong> and <strong>list</strong>, the semantics of <code>resourceVersion</code> are:</p>
<p><strong>get:</strong></p>
<table>
<thead>
<tr>
<th>resourceVersion unset</th>
<th>resourceVersion="0"</th>
<th>resourceVersion="{value other than 0}"</th>
</tr>
</thead>
<tbody>
<tr>
<td>Most Recent</td>
<td>Any</td>
<td>Not older than</td>
</tr>
</tbody>
</table>
<p><strong>list:</strong></p>
<p>From version v1.19, Kubernetes API servers support the <code>resourceVersionMatch</code> parameter
on <em>list</em> requests. If you set both <code>resourceVersion</code> and <code>resourceVersionMatch</code>, the
<code>resourceVersionMatch</code> parameter determines how the API server interprets
<code>resourceVersion</code>.</p>
<p>You should always set the <code>resourceVersionMatch</code> parameter when setting
<code>resourceVersion</code> on a <strong>list</strong> request. However, be prepared to handle the case
where the API server that responds is unaware of <code>resourceVersionMatch</code>
and ignores it.</p>
<p>Unless you have strong consistency requirements, using <code>resourceVersionMatch=NotOlderThan</code> and
a known <code>resourceVersion</code> is preferable since it can achieve better performance and scalability
of your cluster than leaving <code>resourceVersion</code> and <code>resourceVersionMatch</code> unset, which requires
quorum read to be served.</p>
<p>Setting the <code>resourceVersionMatch</code> parameter without setting <code>resourceVersion</code> is not valid.</p>
<p>This table explains the behavior of <strong>list</strong> requests with various combinations of
<code>resourceVersion</code> and <code>resourceVersionMatch</code>:</p>
<table><caption style=display:none>resourceVersionMatch and paging parameters for list</caption>
<thead>
<tr>
<th>resourceVersionMatch param</th>
<th>paging params</th>
<th>resourceVersion not set</th>
<th>resourceVersion="0"</th>
<th>resourceVersion="{value other than 0}"</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>unset</em></td>
<td><em>limit unset</em></td>
<td>Most Recent</td>
<td>Any</td>
<td>Not older than</td>
</tr>
<tr>
<td><em>unset</em></td>
<td>limit=&lt;n>, <em>continue unset</em></td>
<td>Most Recent</td>
<td>Any</td>
<td>Exact</td>
</tr>
<tr>
<td><em>unset</em></td>
<td>limit=&lt;n>, continue=&lt;token></td>
<td>Continue Token, Exact</td>
<td>Invalid, treated as Continue Token, Exact</td>
<td>Invalid, HTTP <code>400 Bad Request</code></td>
</tr>
<tr>
<td><code>resourceVersionMatch=Exact</code></td>
<td><em>limit unset</em></td>
<td>Invalid</td>
<td>Invalid</td>
<td>Exact</td>
</tr>
<tr>
<td><code>resourceVersionMatch=Exact</code></td>
<td>limit=&lt;n>, <em>continue unset</em></td>
<td>Invalid</td>
<td>Invalid</td>
<td>Exact</td>
</tr>
<tr>
<td><code>resourceVersionMatch=NotOlderThan</code></td>
<td><em>limit unset</em></td>
<td>Invalid</td>
<td>Any</td>
<td>Not older than</td>
</tr>
<tr>
<td><code>resourceVersionMatch=NotOlderThan</code></td>
<td>limit=&lt;n>, <em>continue unset</em></td>
<td>Invalid</td>
<td>Any</td>
<td>Not older than</td>
</tr>
</tbody>
</table>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> If your cluster's API server does not honor the <code>resourceVersionMatch</code> parameter,
the behavior is the same as if you did not set it.
</div>
<p>The meaning of the <strong>get</strong> and <strong>list</strong> semantics are:</p>
<dl>
<dt>Any</dt>
<dd>Return data at any resource version. The newest available resource version is preferred,
but strong consistency is not required; data at any resource version may be served. It is possible
for the request to return data at a much older resource version that the client has previously
observed, particularly in high availability configurations, due to partitions or stale
caches. Clients that cannot tolerate this should not use this semantic.</dd>
<dt>Most recent</dt>
<dd>Return data at the most recent resource version. The returned data must be
consistent (in detail: served from etcd via a quorum read).</dd>
<dt>Not older than</dt>
<dd>Return data at least as new as the provided <code>resourceVersion</code>. The newest
available data is preferred, but any data not older than the provided <code>resourceVersion</code> may be
served. For <strong>list</strong> requests to servers that honor the <code>resourceVersionMatch</code> parameter, this
guarantees that the collection's <code>.metadata.resourceVersion</code> is not older than the requested
<code>resourceVersion</code>, but does not make any guarantee about the <code>.metadata.resourceVersion</code> of any
of the items in that collection.</dd>
<dt>Exact</dt>
<dd>Return data at the exact resource version provided. If the provided <code>resourceVersion</code> is
unavailable, the server responds with HTTP 410 "Gone". For <strong>list</strong> requests to servers that honor the
<code>resourceVersionMatch</code> parameter, this guarantees that the collection's <code>.metadata.resourceVersion</code>
is the same as the <code>resourceVersion</code> you requested in the query string. That guarantee does
not apply to the <code>.metadata.resourceVersion</code> of any items within that collection.</dd>
<dt>Continue Token, Exact</dt>
<dd>Return data at the resource version of the initial paginated <strong>list</strong> call. The returned <em>continue
tokens</em> are responsible for keeping track of the initially provided resource version for all paginated
<strong>list</strong> calls after the initial paginated <strong>list</strong>.</dd>
</dl>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> When you <strong>list</strong> resources and receive a collection response, the response includes the
<a href=/docs/reference/generated/kubernetes-api/v1.21/#listmeta-v1-meta>metadata</a> of the collection as
well as <a href=/docs/reference/generated/kubernetes-api/v1.21/#listmeta-v1-meta>object metadata</a>
for each item in that collection. For individual objects found within a collection response,
<code>.metadata.resourceVersion</code> tracks when that object was last updated, and not how up-to-date
the object is when served.
</div>
<p>When using <code>resourceVersionMatch=NotOlderThan</code> and limit is set, clients must
handle HTTP 410 "Gone" responses. For example, the client might retry with a
newer <code>resourceVersion</code> or fall back to <code>resourceVersion=""</code>.</p>
<p>When using <code>resourceVersionMatch=Exact</code> and <code>limit</code> is unset, clients must
verify that the collection's <code>.metadata.resourceVersion</code> matches
the requested <code>resourceVersion</code>, and handle the case where it does not. For
example, the client might fall back to a request with <code>limit</code> set.</p>
<h3 id=semantics-for-watch>Semantics for <strong>watch</strong></h3>
<p>For <strong>watch</strong>, the semantics of resource version are:</p>
<p><strong>watch:</strong></p>
<table><caption style=display:none>resourceVersion for watch</caption>
<thead>
<tr>
<th>resourceVersion unset</th>
<th>resourceVersion="0"</th>
<th>resourceVersion="{value other than 0}"</th>
</tr>
</thead>
<tbody>
<tr>
<td>Get State and Start at Most Recent</td>
<td>Get State and Start at Any</td>
<td>Start at Exact</td>
</tr>
</tbody>
</table>
<p>The meaning of those <strong>watch</strong> semantics are:</p>
<dl>
<dt>Get State and Start at Any</dt>
<dd><div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> Watches initialized this way may return arbitrarily stale
data. Please review this semantic before using it, and favor the other semantics
where possible.
</div>
Start a <strong>watch</strong> at any resource version; the most recent resource version
available is preferred, but not required. Any starting resource version is
allowed. It is possible for the <strong>watch</strong> to start at a much older resource
version that the client has previously observed, particularly in high availability
configurations, due to partitions or stale caches. Clients that cannot tolerate
this apparent rewinding should not start a <strong>watch</strong> with this semantic. To
establish initial state, the <strong>watch</strong> begins with synthetic "Added" events for
all resource instances that exist at the starting resource version. All following
watch events are for all changes that occurred after the resource version the
<strong>watch</strong> started at.</dd>
<dt>Get State and Start at Most Recent</dt>
<dd>Start a <strong>watch</strong> at the most recent resource version, which must be consistent
(in detail: served from etcd via a quorum read). To establish initial state,
the <strong>watch</strong> begins with synthetic "Added" events of all resources instances
that exist at the starting resource version. All following watch events are for
all changes that occurred after the resource version the <strong>watch</strong> started at.</dd>
<dt>Start at Exact</dt>
<dd>Start a <strong>watch</strong> at an exact resource version. The watch events are for all changes
after the provided resource version. Unlike "Get State and Start at Most Recent"
and "Get State and Start at Any", the <strong>watch</strong> is not started with synthetic
"Added" events for the provided resource version. The client is assumed to already
have the initial state at the starting resource version since the client provided
the resource version.</dd>
</dl>
<h3 id=410-gone-responses>"410 Gone" responses</h3>
<p>Servers are not required to serve all older resource versions and may return a HTTP
<code>410 (Gone)</code> status code if a client requests a <code>resourceVersion</code> older than the
server has retained. Clients must be able to tolerate <code>410 (Gone)</code> responses. See
<a href=#efficient-detection-of-changes>Efficient detection of changes</a> for details on
how to handle <code>410 (Gone)</code> responses when watching resources.</p>
<p>If you request a <code>resourceVersion</code> outside the applicable limit then, depending
on whether a request is served from cache or not, the API server may reply with a
<code>410 Gone</code> HTTP response.</p>
<h3 id=unavailable-resource-versions>Unavailable resource versions</h3>
<p>Servers are not required to serve unrecognized resource versions. If you request
<strong>list</strong> or <strong>get</strong> for a resource version that the API server does not recognize,
then the API server may either:</p>
<ul>
<li>wait briefly for the resource version to become available, then timeout with a
<code>504 (Gateway Timeout)</code> if the provided resource versions does not become available
in a reasonable amount of time;</li>
<li>respond with a <code>Retry-After</code> response header indicating how many seconds a client
should wait before retrying the request.</li>
</ul>
<p>If you request a resource version that an API server does not recognize, the
kube-apiserver additionally identifies its error responses with a "Too large resource
version" message.</p>
<p>If you make a <strong>watch</strong> request for an unrecognized resource version, the API server
may wait indefinitely (until the request timeout) for the resource version to become
available.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-040d9484db673074f1b8ba3465be9d91>2.2 - Server-Side Apply</h1>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [stable]</code>
</div>
<h2 id=introduction>Introduction</h2>
<p>Server Side Apply helps users and controllers manage their resources through
declarative configurations. Clients can create and modify their
<a href=/docs/concepts/overview/working-with-objects/kubernetes-objects/>objects</a>
declaratively by sending their fully specified intent.</p>
<p>A fully specified intent is a partial object that only includes the fields and
values for which the user has an opinion. That intent either creates a new
object or is <a href=#merge-strategy>combined</a>, by the server, with the existing object.</p>
<p>The system supports multiple appliers collaborating on a single object.</p>
<p>Changes to an object's fields are tracked through a "<a href=#field-management>field management</a>"
mechanism. When a field's value changes, ownership moves from its current
manager to the manager making the change. When trying to apply an object,
fields that have a different value and are owned by another manager will
result in a <a href=#conflicts>conflict</a>. This is done in order to signal that the
operation might undo another collaborator's changes. Conflicts can be forced,
in which case the value will be overridden, and the ownership will be
transferred.</p>
<p>If you remove a field from a configuration and apply the configuration, server
side apply checks if there are any other field managers that also own the
field. If the field is not owned by any other field managers, it is either
deleted from the live object or reset to its default value, if it has one. The
same rule applies to associative list or map items.</p>
<p>Server side apply is meant both as a replacement for the original <code>kubectl apply</code> and as a simpler mechanism for controllers to enact their changes.</p>
<p>If you have Server Side Apply enabled, the control plane tracks managed fields
for all newly created objects.</p>
<h2 id=field-management>Field Management</h2>
<p>Compared to the <code>last-applied</code> annotation managed by <code>kubectl</code>, Server Side
Apply uses a more declarative approach, which tracks a user's field management,
rather than a user's last applied state. This means that as a side effect of
using Server Side Apply, information about which field manager manages each
field in an object also becomes available.</p>
<p>For a user to manage a field, in the Server Side Apply sense, means that the
user relies on and expects the value of the field not to change. The user who
last made an assertion about the value of a field will be recorded as the
current field manager. This can be done either by changing the value with
<code>POST</code>, <code>PUT</code>, or non-apply <code>PATCH</code>, or by including the field in a config sent
to the Server Side Apply endpoint. When using Server-Side Apply, trying to
change a field which is managed by someone else will result in a rejected
request (if not forced, see <a href=#conflicts>Conflicts</a>).</p>
<p>When two or more appliers set a field to the same value, they share ownership of
that field. Any subsequent attempt to change the value of the shared field, by any of
the appliers, results in a conflict. Shared field owners may give up ownership
of a field by removing it from their configuration.</p>
<p>Field management is stored in a<code>managedFields</code> field that is part of an object's
<a href=/docs/reference/generated/kubernetes-api/v1.22/#objectmeta-v1-meta><code>metadata</code></a>.</p>
<p>A simple example of an object created by Server Side Apply could look like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ConfigMap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>test-cm<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>test-label</span>:<span style=color:#bbb> </span>test<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>managedFields</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>manager</span>:<span style=color:#bbb> </span>kubectl<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>operation</span>:<span style=color:#bbb> </span>Apply<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>time</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2010-10-10T0:00:00Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>fieldsType</span>:<span style=color:#bbb> </span>FieldsV1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>fieldsV1</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>f:metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>f:labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>f:test-label</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>f:data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>f:key</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>some value<span style=color:#bbb>
</span></code></pre></div><p>The above object contains a single manager in <code>metadata.managedFields</code>. The
manager consists of basic information about the managing entity itself, like
operation type, API version, and the fields managed by it.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> This field is managed by the API server and should not be changed by
the user.
</div>
<p>Nevertheless it is possible to change <code>metadata.managedFields</code> through an
<code>Update</code> operation. Doing so is highly discouraged, but might be a reasonable
option to try if, for example, the <code>managedFields</code> get into an inconsistent
state (which clearly should not happen).</p>
<p>The format of the <code>managedFields</code> is described in the
<a href=/docs/reference/generated/kubernetes-api/v1.22/#fieldsv1-v1-meta>API</a>.</p>
<h2 id=conflicts>Conflicts</h2>
<p>A conflict is a special status error that occurs when an <code>Apply</code> operation tries
to change a field, which another user also claims to manage. This prevents an
applier from unintentionally overwriting the value set by another user. When
this occurs, the applier has 3 options to resolve the conflicts:</p>
<ul>
<li>
<p><strong>Overwrite value, become sole manager:</strong> If overwriting the value was
intentional (or if the applier is an automated process like a controller) the
applier should set the <code>force</code> query parameter to true and make the request
again. This forces the operation to succeed, changes the value of the field,
and removes the field from all other managers' entries in managedFields.</p>
</li>
<li>
<p><strong>Don't overwrite value, give up management claim:</strong> If the applier doesn't
care about the value of the field anymore, they can remove it from their
config and make the request again. This leaves the value unchanged, and causes
the field to be removed from the applier's entry in managedFields.</p>
</li>
<li>
<p><strong>Don't overwrite value, become shared manager:</strong> If the applier still cares
about the value of the field, but doesn't want to overwrite it, they can
change the value of the field in their config to match the value of the object
on the server, and make the request again. This leaves the value unchanged,
and causes the field's management to be shared by the applier and all other
field managers that already claimed to manage it.</p>
</li>
</ul>
<h2 id=managers>Managers</h2>
<p>Managers identify distinct workflows that are modifying the object (especially
useful on conflicts!), and can be specified through the <code>fieldManager</code> query
parameter as part of a modifying request. It is required for the apply endpoint,
though kubectl will default it to <code>kubectl</code>. For other updates, its default is
computed from the user-agent.</p>
<h2 id=apply-and-update>Apply and Update</h2>
<p>The two operation types considered by this feature are <code>Apply</code> (<code>PATCH</code> with
content type <code>application/apply-patch+yaml</code>) and <code>Update</code> (all other operations
which modify the object). Both operations update the <code>managedFields</code>, but behave
a little differently.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>Whether you are submitting JSON data or YAML data, use
<code>application/apply-patch+yaml</code> as the <code>Content-Type</code> header value.</p>
<p>All JSON documents are valid YAML.</p>
</div>
<p>For instance, only the apply operation fails on conflicts while update does
not. Also, apply operations are required to identify themselves by providing a
<code>fieldManager</code> query parameter, while the query parameter is optional for update
operations. Finally, when using the apply operation you cannot have
<code>managedFields</code> in the object that is being applied.</p>
<p>An example object with multiple managers could look like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ConfigMap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>test-cm<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>test-label</span>:<span style=color:#bbb> </span>test<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>managedFields</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>manager</span>:<span style=color:#bbb> </span>kubectl<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>operation</span>:<span style=color:#bbb> </span>Apply<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>fields</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>f:metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>f:labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>f:test-label</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>manager</span>:<span style=color:#bbb> </span>kube-controller-manager<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>operation</span>:<span style=color:#bbb> </span>Update<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>time</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;2019-03-30T16:00:00.000Z&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>fields</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>f:data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>f:key</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>new value<span style=color:#bbb>
</span></code></pre></div><p>In this example, a second operation was run as an <code>Update</code> by the manager called
<code>kube-controller-manager</code>. The update changed a value in the data field which
caused the field's management to change to the <code>kube-controller-manager</code>.</p>
<p>If this update would have been an <code>Apply</code> operation, the operation
would have failed due to conflicting ownership.</p>
<h2 id=merge-strategy>Merge strategy</h2>
<p>The merging strategy, implemented with Server Side Apply, provides a generally
more stable object lifecycle. Server Side Apply tries to merge fields based on
the actor who manages them instead of overruling based on values. This way
multiple actors can update the same object without causing unexpected interference.</p>
<p>When a user sends a "fully-specified intent" object to the Server Side Apply
endpoint, the server merges it with the live object favoring the value in the
applied config if it is specified in both places. If the set of items present in
the applied config is not a superset of the items applied by the same user last
time, each missing item not managed by any other appliers is removed. For
more information about how an object's schema is used to make decisions when
merging, see
<a href=https://sigs.k8s.io/structured-merge-diff>sigs.k8s.io/structured-merge-diff</a>.</p>
<p>A number of markers were added in Kubernetes 1.16 and 1.17, to allow API
developers to describe the merge strategy supported by lists, maps, and
structs. These markers can be applied to objects of the respective type,
in Go files or in the OpenAPI schema definition of the
<a href=/docs/reference/generated/kubernetes-api/v1.22#jsonschemaprops-v1-apiextensions-k8s-io>CRD</a>:</p>
<table>
<thead>
<tr>
<th>Golang marker</th>
<th>OpenAPI extension</th>
<th>Accepted values</th>
<th>Description</th>
<th>Introduced in</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>//+listType</code></td>
<td><code>x-kubernetes-list-type</code></td>
<td><code>atomic</code>/<code>set</code>/<code>map</code></td>
<td>Applicable to lists. <code>set</code> applies to lists that include only scalar elements. These elements must be unique. <code>map</code> applies to lists of nested types only. The key values (see <code>listMapKey</code>) must be unique in the list. <code>atomic</code> can apply to any list. If configured as <code>atomic</code>, the entire list is replaced during merge. At any point in time, a single manager owns the list. If <code>set</code> or <code>map</code>, different managers can manage entries separately.</td>
<td>1.16</td>
</tr>
<tr>
<td><code>//+listMapKey</code></td>
<td><code>x-kubernetes-list-map-keys</code></td>
<td>List of field names, e.g. <code>["port", "protocol"]</code></td>
<td>Only applicable when <code>+listType=map</code>. A list of field names whose values uniquely identify entries in the list. While there can be multiple keys, <code>listMapKey</code> is singular because keys need to be specified individually in the Go type. The key fields must be scalars.</td>
<td>1.16</td>
</tr>
<tr>
<td><code>//+mapType</code></td>
<td><code>x-kubernetes-map-type</code></td>
<td><code>atomic</code>/<code>granular</code></td>
<td>Applicable to maps. <code>atomic</code> means that the map can only be entirely replaced by a single manager. <code>granular</code> means that the map supports separate managers updating individual fields.</td>
<td>1.17</td>
</tr>
<tr>
<td><code>//+structType</code></td>
<td><code>x-kubernetes-map-type</code></td>
<td><code>atomic</code>/<code>granular</code></td>
<td>Applicable to structs; otherwise same usage and OpenAPI annotation as <code>//+mapType</code>.</td>
<td>1.17</td>
</tr>
</tbody>
</table>
<p>If <code>listType</code> is missing, the API server interprets a
<code>patchMergeStrategy=merge</code> marker as a <code>listType=map</code> and the
corresponding <code>patchMergeKey</code> marker as a <code>listMapKey</code>.</p>
<p>The <code>atomic</code> list type is recursive.</p>
<p>These markers are specified as comments and don't have to be repeated as
field tags.</p>
<h3 id=compatibility-across-topology-changes>Compatibility across topology changes</h3>
<p>On rare occurrences, a CRD or built-in type author may want to change the
specific topology of a field in their resource without incrementing its
version. Changing the topology of types, by upgrading the cluster or
updating the CRD, has different consequences when updating existing
objects. There are two categories of changes: when a field goes from
<code>map</code>/<code>set</code>/<code>granular</code> to <code>atomic</code> and the other way around.</p>
<p>When the <code>listType</code>, <code>mapType</code>, or <code>structType</code> changes from
<code>map</code>/<code>set</code>/<code>granular</code> to <code>atomic</code>, the whole list, map, or struct of
existing objects will end-up being owned by actors who owned an element
of these types. This means that any further change to these objects
would cause a conflict.</p>
<p>When a list, map, or struct changes from <code>atomic</code> to
<code>map</code>/<code>set</code>/<code>granular</code>, the API server won't be able to infer the new
ownership of these fields. Because of that, no conflict will be produced
when objects have these fields updated. For that reason, it is not
recommended to change a type from <code>atomic</code> to <code>map</code>/<code>set</code>/<code>granular</code>.</p>
<p>Take for example, the custom resource:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>example.com/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Foo<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>foo-sample<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>managedFields</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>manager</span>:<span style=color:#bbb> </span>manager-one<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>operation</span>:<span style=color:#bbb> </span>Apply<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>example.com/v1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>fields</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>f:spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>f:data</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>key1</span>:<span style=color:#bbb> </span>val1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>key2</span>:<span style=color:#bbb> </span>val2<span style=color:#bbb>
</span></code></pre></div><p>Before <code>spec.data</code> gets changed from <code>atomic</code> to <code>granular</code>,
<code>manager-one</code> owns the field <code>spec.data</code>, and all the fields within it
(<code>key1</code> and <code>key2</code>). When the CRD gets changed to make <code>spec.data</code>
<code>granular</code>, <code>manager-one</code> continues to own the top-level field
<code>spec.data</code> (meaning no other managers can delete the map called <code>data</code>
without a conflict), but it no longer owns <code>key1</code> and <code>key2</code>, so another
manager can then modify or delete those fields without conflict.</p>
<h2 id=custom-resources>Custom Resources</h2>
<p>By default, Server Side Apply treats custom resources as unstructured data. All
keys are treated the same as struct fields, and all lists are considered atomic.</p>
<p>If the Custom Resource Definition defines a
<a href=/docs/reference/generated/kubernetes-api/v1.22#jsonschemaprops-v1-apiextensions-k8s-io>schema</a>
that contains annotations as defined in the previous "Merge Strategy"
section, these annotations will be used when merging objects of this
type.</p>
<h2 id=using-server-side-apply-in-a-controller>Using Server-Side Apply in a controller</h2>
<p>As a developer of a controller, you can use server-side apply as a way to
simplify the update logic of your controller. The main differences with a
read-modify-write and/or patch are the following:</p>
<ul>
<li>the applied object must contain all the fields that the controller cares about.</li>
<li>there is no way to remove fields that haven't been applied by the controller
before (controller can still send a PATCH/UPDATE for these use-cases).</li>
<li>the object doesn't have to be read beforehand, <code>resourceVersion</code> doesn't have
to be specified.</li>
</ul>
<p>It is strongly recommended for controllers to always "force" conflicts, since they
might not be able to resolve or act on these conflicts.</p>
<h2 id=transferring-ownership>Transferring Ownership</h2>
<p>In addition to the concurrency controls provided by <a href=#conflicts>conflict resolution</a>,
Server Side Apply provides ways to perform coordinated
field ownership transfers from users to controllers.</p>
<p>This is best explained by example. Let's look at how to safely transfer
ownership of the <code>replicas</code> field from a user to a controller while enabling
automatic horizontal scaling for a Deployment, using the HorizontalPodAutoscaler
resource and its accompanying controller.</p>
<p>Say a user has defined deployment with <code>replicas</code> set to the desired value:</p>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/application/ssa/nginx-deployment.yaml download=application/ssa/nginx-deployment.yaml><code>application/ssa/nginx-deployment.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('application-ssa-nginx-deployment-yaml')" title="Copy application/ssa/nginx-deployment.yaml to clipboard">
</img>
</div>
<div class=includecode id=application-ssa-nginx-deployment-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apps/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Deployment<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx-deployment<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>replicas</span>:<span style=color:#bbb> </span><span style=color:#666>3</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>selector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchLabels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>template</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>containers</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>image</span>:<span style=color:#bbb> </span>nginx:1.14.2<span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<p>And the user has created the deployment using server side apply like so:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl apply -f https://k8s.io/examples/application/ssa/nginx-deployment.yaml --server-side
</code></pre></div><p>Then later, HPA is enabled for the deployment, e.g.:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl autoscale deployment nginx-deployment --cpu-percent<span style=color:#666>=</span><span style=color:#666>50</span> --min<span style=color:#666>=</span><span style=color:#666>1</span> --max<span style=color:#666>=</span><span style=color:#666>10</span>
</code></pre></div><p>Now, the user would like to remove <code>replicas</code> from their configuration, so they
don't accidentally fight with the HPA controller. However, there is a race: it
might take some time before HPA feels the need to adjust <code>replicas</code>, and if
the user removes <code>replicas</code> before the HPA writes to the field and becomes
its owner, then apiserver will set <code>replicas</code> to 1, its default value. This
is not what the user wants to happen, even temporarily.</p>
<p>There are two solutions:</p>
<ul>
<li>
<p>(basic) Leave <code>replicas</code> in the configuration; when HPA eventually writes to that
field, the system gives the user a conflict over it. At that point, it is safe
to remove from the configuration.</p>
</li>
<li>
<p>(more advanced) If, however, the user doesn't want to wait, for example
because they want to keep the cluster legible to coworkers, then they can take
the following steps to make it safe to remove <code>replicas</code> from their
configuration:</p>
</li>
</ul>
<p>First, the user defines a new configuration containing only the <code>replicas</code> field:</p>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/application/ssa/nginx-deployment-replicas-only.yaml download=application/ssa/nginx-deployment-replicas-only.yaml><code>application/ssa/nginx-deployment-replicas-only.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('application-ssa-nginx-deployment-replicas-only-yaml')" title="Copy application/ssa/nginx-deployment-replicas-only.yaml to clipboard">
</img>
</div>
<div class=includecode id=application-ssa-nginx-deployment-replicas-only-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apps/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Deployment<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx-deployment<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>replicas</span>:<span style=color:#bbb> </span><span style=color:#666>3</span><span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<p>The user applies that configuration using the field manager name <code>handover-to-hpa</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl apply -f https://k8s.io/examples/application/ssa/nginx-deployment-replicas-only.yaml <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --server-side --field-manager<span style=color:#666>=</span>handover-to-hpa <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --validate<span style=color:#666>=</span><span style=color:#a2f>false</span>
</code></pre></div><p>If the apply results in a conflict with the HPA controller, then do nothing. The
conflict indicates the controller has claimed the field earlier in the
process than it sometimes does.</p>
<p>At this point the user may remove the <code>replicas</code> field from their configuration.</p>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/application/ssa/nginx-deployment-no-replicas.yaml download=application/ssa/nginx-deployment-no-replicas.yaml><code>application/ssa/nginx-deployment-no-replicas.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('application-ssa-nginx-deployment-no-replicas-yaml')" title="Copy application/ssa/nginx-deployment-no-replicas.yaml to clipboard">
</img>
</div>
<div class=includecode id=application-ssa-nginx-deployment-no-replicas-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apps/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Deployment<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx-deployment<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>selector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchLabels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>template</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>app</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>containers</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>image</span>:<span style=color:#bbb> </span>nginx:1.14.2<span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<p>Note that whenever the HPA controller sets the <code>replicas</code> field to a new value,
the temporary field manager will no longer own any fields and will be
automatically deleted. No clean up is required.</p>
<h3 id=transferring-ownership-between-users>Transferring Ownership Between Users</h3>
<p>Users can transfer ownership of a field between each other by setting the field
to the same value in both of their applied configs, causing them to share
ownership of the field. Once the users share ownership of the field, one of them
can remove the field from their applied configuration to give up ownership and
complete the transfer to the other user.</p>
<h2 id=comparison-with-client-side-apply>Comparison with Client Side Apply</h2>
<p>A consequence of the conflict detection and resolution implemented by Server
Side Apply is that an applier always has up to date field values in their local
state. If they don't, they get a conflict the next time they apply. Any of the
three options to resolve conflicts results in the applied configuration being an
up to date subset of the object on the server's fields.</p>
<p>This is different from Client Side Apply, where outdated values which have been
overwritten by other users are left in an applier's local config. These values
only become accurate when the user updates that specific field, if ever, and an
applier has no way of knowing whether their next apply will overwrite other
users' changes.</p>
<p>Another difference is that an applier using Client Side Apply is unable to
change the API version they are using, but Server Side Apply supports this use
case.</p>
<h2 id=upgrading-from-client-side-apply-to-server-side-apply>Upgrading from client-side apply to server-side apply</h2>
<p>Client-side apply users who manage a resource with <code>kubectl apply</code> can start
using server-side apply with the following flag.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl apply --server-side <span style=color:#666>[</span>--dry-run<span style=color:#666>=</span>server<span style=color:#666>]</span>
</code></pre></div><p>By default, field management of the object transfers from client-side apply to
kubectl server-side apply without encountering conflicts.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> <p>Keep the <code>last-applied-configuration</code> annotation up to date.
The annotation infers client-side apply's managed fields.
Any fields not managed by client-side apply raise conflicts.</p>
<p>For example, if you used <code>kubectl scale</code> to update the replicas field after
client-side apply, then this field is not owned by client-side apply and
creates conflicts on <code>kubectl apply --server-side</code>.</p>
</div>
<p>This behavior applies to server-side apply with the <code>kubectl</code> field manager.
As an exception, you can opt-out of this behavior by specifying a different,
non-default field manager, as seen in the following example. The default field
manager for kubectl server-side apply is <code>kubectl</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl apply --server-side --field-manager<span style=color:#666>=</span>my-manager <span style=color:#666>[</span>--dry-run<span style=color:#666>=</span>server<span style=color:#666>]</span>
</code></pre></div><h2 id=downgrading-from-server-side-apply-to-client-side-apply>Downgrading from server-side apply to client-side apply</h2>
<p>If you manage a resource with <code>kubectl apply --server-side</code>,
you can downgrade to client-side apply directly with <code>kubectl apply</code>.</p>
<p>Downgrading works because kubectl server-side apply keeps the
<code>last-applied-configuration</code> annotation up-to-date if you use
<code>kubectl apply</code>.</p>
<p>This behavior applies to server-side apply with the <code>kubectl</code> field manager.
As an exception, you can opt-out of this behavior by specifying a different,
non-default field manager, as seen in the following example. The default field
manager for kubectl server-side apply is <code>kubectl</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl apply --server-side --field-manager<span style=color:#666>=</span>my-manager <span style=color:#666>[</span>--dry-run<span style=color:#666>=</span>server<span style=color:#666>]</span>
</code></pre></div><h2 id=api-endpoint>API Endpoint</h2>
<p>With the Server Side Apply feature enabled, the <code>PATCH</code> endpoint accepts the
additional <code>application/apply-patch+yaml</code> content type. Users of Server Side
Apply can send partially specified objects as YAML to this endpoint. When
applying a configuration, one should always include all the fields that they
have an opinion about.</p>
<h2 id=clearing-managedfields>Clearing ManagedFields</h2>
<p>It is possible to strip all managedFields from an object by overwriting them
using <code>MergePatch</code>, <code>StrategicMergePatch</code>, <code>JSONPatch</code>, or <code>Update</code>, so every
non-apply operation. This can be done by overwriting the managedFields field
with an empty entry. Two examples are:</p>
<pre><code class=language-console data-lang=console>PATCH /api/v1/namespaces/default/configmaps/example-cm
Content-Type: application/merge-patch+json
Accept: application/json
Data: {&quot;metadata&quot;:{&quot;managedFields&quot;: [{}]}}
</code></pre><pre><code class=language-console data-lang=console>PATCH /api/v1/namespaces/default/configmaps/example-cm
Content-Type: application/json-patch+json
Accept: application/json
Data: [{&quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/metadata/managedFields&quot;, &quot;value&quot;: [{}]}]
</code></pre><p>This will overwrite the managedFields with a list containing a single empty
entry that then results in the managedFields being stripped entirely from the
object. Note that setting the managedFields to an empty list will not
reset the field. This is on purpose, so managedFields never get stripped by
clients not aware of the field.</p>
<p>In cases where the reset operation is combined with changes to other fields
than the managedFields, this will result in the managedFields being reset
first and the other changes being processed afterwards. As a result the
applier takes ownership of any fields updated in the same request.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> Server Side Apply does not correctly track ownership on
sub-resources that don't receive the resource object type. If you are
using Server Side Apply with such a sub-resource, the changed fields
won't be tracked.
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-79880efc25dc8cb3b6962ad78a964319>2.3 - Client Libraries</h1>
<p>This page contains an overview of the client libraries for using the Kubernetes
API from various programming languages.</p>
<p>To write applications using the <a href=/docs/reference/using-api/>Kubernetes REST API</a>,
you do not need to implement the API calls and request/response types yourself.
You can use a client library for the programming language you are using.</p>
<p>Client libraries often handle common tasks such as authentication for you.
Most client libraries can discover and use the Kubernetes Service Account to
authenticate if the API client is running inside the Kubernetes cluster, or can
understand the <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubeconfig file</a>
format to read the credentials and the API Server address.</p>
<h2 id=officially-supported-kubernetes-client-libraries>Officially-supported Kubernetes client libraries</h2>
<p>The following client libraries are officially maintained by
<a href=https://github.com/kubernetes/community/tree/master/sig-api-machinery>Kubernetes SIG API Machinery</a>.</p>
<table>
<thead>
<tr>
<th>Language</th>
<th>Client Library</th>
<th>Sample Programs</th>
</tr>
</thead>
<tbody>
<tr>
<td>dotnet</td>
<td><a href=https://github.com/kubernetes-client/csharp>github.com/kubernetes-client/csharp</a></td>
<td><a href=https://github.com/kubernetes-client/csharp/tree/master/examples/simple>browse</a></td>
</tr>
<tr>
<td>Go</td>
<td><a href=https://github.com/kubernetes/client-go/>github.com/kubernetes/client-go/</a></td>
<td><a href=https://github.com/kubernetes/client-go/tree/master/examples>browse</a></td>
</tr>
<tr>
<td>Haskell</td>
<td><a href=https://github.com/kubernetes-client/haskell>github.com/kubernetes-client/haskell</a></td>
<td><a href=https://github.com/kubernetes-client/haskell/tree/master/kubernetes-client/example>browse</a></td>
</tr>
<tr>
<td>Java</td>
<td><a href=https://github.com/kubernetes-client/java/>github.com/kubernetes-client/java</a></td>
<td><a href=https://github.com/kubernetes-client/java#installation>browse</a></td>
</tr>
<tr>
<td>JavaScript</td>
<td><a href=https://github.com/kubernetes-client/javascript>github.com/kubernetes-client/javascript</a></td>
<td><a href=https://github.com/kubernetes-client/javascript/tree/master/examples>browse</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href=https://github.com/kubernetes-client/python/>github.com/kubernetes-client/python/</a></td>
<td><a href=https://github.com/kubernetes-client/python/tree/master/examples>browse</a></td>
</tr>
</tbody>
</table>
<h2 id=community-maintained-client-libraries>Community-maintained client libraries</h2>
<div class="alert alert-secondary callout third-party-content" role=alert><strong>Note:</strong>
This section links to third party projects that provide functionality required by Kubernetes. The Kubernetes project authors aren't responsible for these projects, which are listed alphabetically. To add a project to this list, read the <a href=/docs/contribute/style/content-guide/#third-party-content>content guide</a> before submitting a change. <a href=#third-party-content-disclaimer>More information.</a></div>
<p>The following Kubernetes API client libraries are provided and maintained by
their authors, not the Kubernetes team.</p>
<table>
<thead>
<tr>
<th>Language</th>
<th>Client Library</th>
</tr>
</thead>
<tbody>
<tr>
<td>Clojure</td>
<td><a href=https://github.com/yanatan16/clj-kubernetes-api>github.com/yanatan16/clj-kubernetes-api</a></td>
</tr>
<tr>
<td>DotNet</td>
<td><a href=https://github.com/tonnyeremin/kubernetes_gen>github.com/tonnyeremin/kubernetes_gen</a></td>
</tr>
<tr>
<td>DotNet (RestSharp)</td>
<td><a href=https://github.com/masroorhasan/Kubernetes.DotNet>github.com/masroorhasan/Kubernetes.DotNet</a></td>
</tr>
<tr>
<td>Elixir</td>
<td><a href=https://github.com/obmarg/kazan/>github.com/obmarg/kazan</a></td>
</tr>
<tr>
<td>Elixir</td>
<td><a href=https://github.com/coryodaniel/k8s>github.com/coryodaniel/k8s</a></td>
</tr>
<tr>
<td>Go</td>
<td><a href=https://github.com/ericchiang/k8s>github.com/ericchiang/k8s</a></td>
</tr>
<tr>
<td>Java (OSGi)</td>
<td><a href=https://bitbucket.org/amdatulabs/amdatu-kubernetes>bitbucket.org/amdatulabs/amdatu-kubernetes</a></td>
</tr>
<tr>
<td>Java (Fabric8, OSGi)</td>
<td><a href=https://github.com/fabric8io/kubernetes-client>github.com/fabric8io/kubernetes-client</a></td>
</tr>
<tr>
<td>Java</td>
<td><a href=https://github.com/manusa/yakc>github.com/manusa/yakc</a></td>
</tr>
<tr>
<td>Lisp</td>
<td><a href=https://github.com/brendandburns/cl-k8s>github.com/brendandburns/cl-k8s</a></td>
</tr>
<tr>
<td>Lisp</td>
<td><a href=https://github.com/xh4/cube>github.com/xh4/cube</a></td>
</tr>
<tr>
<td>Node.js (TypeScript)</td>
<td><a href=https://github.com/Goyoo/node-k8s-client>github.com/Goyoo/node-k8s-client</a></td>
</tr>
<tr>
<td>Node.js</td>
<td><a href=https://github.com/ajpauwels/easy-k8s>github.com/ajpauwels/easy-k8s</a></td>
</tr>
<tr>
<td>Node.js</td>
<td><a href=https://github.com/godaddy/kubernetes-client>github.com/godaddy/kubernetes-client</a></td>
</tr>
<tr>
<td>Node.js</td>
<td><a href=https://github.com/tenxcloud/node-kubernetes-client>github.com/tenxcloud/node-kubernetes-client</a></td>
</tr>
<tr>
<td>Perl</td>
<td><a href=https://metacpan.org/pod/Net::Kubernetes>metacpan.org/pod/Net::Kubernetes</a></td>
</tr>
<tr>
<td>PHP</td>
<td><a href=https://github.com/allansun/kubernetes-php-client>github.com/allansun/kubernetes-php-client</a></td>
</tr>
<tr>
<td>PHP</td>
<td><a href=https://github.com/maclof/kubernetes-client>github.com/maclof/kubernetes-client</a></td>
</tr>
<tr>
<td>PHP</td>
<td><a href=https://github.com/travisghansen/kubernetes-client-php>github.com/travisghansen/kubernetes-client-php</a></td>
</tr>
<tr>
<td>PHP</td>
<td><a href=https://github.com/renoki-co/php-k8s>github.com/renoki-co/php-k8s</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href=https://github.com/fiaas/k8s>github.com/fiaas/k8s</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href=https://github.com/mnubo/kubernetes-py>github.com/mnubo/kubernetes-py</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href=https://github.com/tomplus/kubernetes_asyncio>github.com/tomplus/kubernetes_asyncio</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href=https://github.com/Frankkkkk/pykorm>github.com/Frankkkkk/pykorm</a></td>
</tr>
<tr>
<td>Ruby</td>
<td><a href=https://github.com/abonas/kubeclient>github.com/abonas/kubeclient</a></td>
</tr>
<tr>
<td>Ruby</td>
<td><a href=https://github.com/k8s-ruby/k8s-ruby>github.com/k8s-ruby/k8s-ruby</a></td>
</tr>
<tr>
<td>Ruby</td>
<td><a href=https://github.com/kontena/k8s-client>github.com/kontena/k8s-client</a></td>
</tr>
<tr>
<td>Rust</td>
<td><a href=https://github.com/clux/kube-rs>github.com/clux/kube-rs</a></td>
</tr>
<tr>
<td>Rust</td>
<td><a href=https://github.com/ynqa/kubernetes-rust>github.com/ynqa/kubernetes-rust</a></td>
</tr>
<tr>
<td>Scala</td>
<td><a href=https://github.com/hagay3/skuber>github.com/hagay3/skuber</a></td>
</tr>
<tr>
<td>Scala</td>
<td><a href=https://github.com/joan38/kubernetes-client>github.com/joan38/kubernetes-client</a></td>
</tr>
<tr>
<td>Swift</td>
<td><a href=https://github.com/swiftkube/client>github.com/swiftkube/client</a></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8d2ce3e7b2223cda0ccd428f4d5ea24b>2.4 - Kubernetes Deprecation Policy</h1>
<p>This document details the deprecation policy for various facets of the system.</p>
<p>Kubernetes is a large system with many components and many contributors. As
with any such software, the feature set naturally evolves over time, and
sometimes a feature may need to be removed. This could include an API, a flag,
or even an entire feature. To avoid breaking existing users, Kubernetes follows
a deprecation policy for aspects of the system that are slated to be removed.</p>
<h2 id=deprecating-parts-of-the-api>Deprecating parts of the API</h2>
<p>Since Kubernetes is an API-driven system, the API has evolved over time to
reflect the evolving understanding of the problem space. The Kubernetes API is
actually a set of APIs, called "API groups", and each API group is
independently versioned. <a href=/docs/reference/using-api/#api-versioning>API versions</a> fall
into 3 main tracks, each of which has different policies for deprecation:</p>
<table>
<thead>
<tr>
<th>Example</th>
<th>Track</th>
</tr>
</thead>
<tbody>
<tr>
<td>v1</td>
<td>GA (generally available, stable)</td>
</tr>
<tr>
<td>v1beta1</td>
<td>Beta (pre-release)</td>
</tr>
<tr>
<td>v1alpha1</td>
<td>Alpha (experimental)</td>
</tr>
</tbody>
</table>
<p>A given release of Kubernetes can support any number of API groups and any
number of versions of each.</p>
<p>The following rules govern the deprecation of elements of the API. This
includes:</p>
<ul>
<li>REST resources (aka API objects)</li>
<li>Fields of REST resources</li>
<li>Annotations on REST resources, including "beta" annotations but not
including "alpha" annotations.</li>
<li>Enumerated or constant values</li>
<li>Component config structures</li>
</ul>
<p>These rules are enforced between official releases, not between
arbitrary commits to master or release branches.</p>
<p><strong>Rule #1: API elements may only be removed by incrementing the version of the
API group.</strong></p>
<p>Once an API element has been added to an API group at a particular version, it
can not be removed from that version or have its behavior significantly
changed, regardless of track.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> For historical reasons, there are 2 "monolithic" API groups - "core" (no
group name) and "extensions". Resources will incrementally be moved from these
legacy API groups into more domain-specific API groups.
</div>
<p><strong>Rule #2: API objects must be able to round-trip between API versions in a given
release without information loss, with the exception of whole REST resources
that do not exist in some versions.</strong></p>
<p>For example, an object can be written as v1 and then read back as v2 and
converted to v1, and the resulting v1 resource will be identical to the
original. The representation in v2 might be different from v1, but the system
knows how to convert between them in both directions. Additionally, any new
field added in v2 must be able to round-trip to v1 and back, which means v1
might have to add an equivalent field or represent it as an annotation.</p>
<p><strong>Rule #3: An API version in a given track may not be deprecated until a new
API version at least as stable is released.</strong></p>
<p>GA API versions can replace GA API versions as well as beta and alpha API
versions. Beta API versions <em>may not</em> replace GA API versions.</p>
<p><strong>Rule #4a: Other than the most recent API versions in each track, older API
versions must be supported after their announced deprecation for a duration of
no less than:</strong></p>
<ul>
<li><strong>GA: 12 months or 3 releases (whichever is longer)</strong></li>
<li><strong>Beta: 9 months or 3 releases (whichever is longer)</strong></li>
<li><strong>Alpha: 0 releases</strong></li>
</ul>
<p>This covers the <a href=/docs/setup/release/version-skew-policy/>maximum supported version skew of 2 releases</a>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Until <a href=https://github.com/kubernetes/kubernetes/issues/52185>#52185</a> is
resolved, no API versions that have been persisted to storage may be removed.
Serving REST endpoints for those versions may be disabled (subject to the
deprecation timelines in this document), but the API server must remain capable
of decoding/converting previously persisted data from storage.
</div>
<p><strong>Rule #4b: The "preferred" API version and the "storage version" for a given
group may not advance until after a release has been made that supports both the
new version and the previous version</strong></p>
<p>Users must be able to upgrade to a new release of Kubernetes and then roll back
to a previous release, without converting anything to the new API version or
suffering breakages (unless they explicitly used features only available in the
newer version). This is particularly evident in the stored representation of
objects.</p>
<p>All of this is best illustrated by examples. Imagine a Kubernetes release,
version X, which introduces a new API group. A new Kubernetes release is made
every approximately 4 months (3 per year). The following table describes which
API versions are supported in a series of subsequent releases.</p>
<table>
<thead>
<tr>
<th>Release</th>
<th>API Versions</th>
<th>Preferred/Storage Version</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>X</td>
<td>v1alpha1</td>
<td>v1alpha1</td>
<td></td>
</tr>
<tr>
<td>X+1</td>
<td>v1alpha2</td>
<td>v1alpha2</td>
<td>
<ul>
<li>v1alpha1 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+2</td>
<td>v1beta1</td>
<td>v1beta1</td>
<td>
<ul>
<li>v1alpha2 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+3</td>
<td>v1beta2, v1beta1 (deprecated)</td>
<td>v1beta1</td>
<td>
<ul>
<li>v1beta1 is deprecated, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+4</td>
<td>v1beta2, v1beta1 (deprecated)</td>
<td>v1beta2</td>
<td></td>
</tr>
<tr>
<td>X+5</td>
<td>v1, v1beta1 (deprecated), v1beta2 (deprecated)</td>
<td>v1beta2</td>
<td>
<ul>
<li>v1beta2 is deprecated, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+6</td>
<td>v1, v1beta2 (deprecated)</td>
<td>v1</td>
<td>
<ul>
<li>v1beta1 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+7</td>
<td>v1, v1beta2 (deprecated)</td>
<td>v1</td>
<td></td>
</tr>
<tr>
<td>X+8</td>
<td>v2alpha1, v1</td>
<td>v1</td>
<td>
<ul>
<li>v1beta2 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+9</td>
<td>v2alpha2, v1</td>
<td>v1</td>
<td>
<ul>
<li>v2alpha1 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+10</td>
<td>v2beta1, v1</td>
<td>v1</td>
<td>
<ul>
<li>v2alpha2 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+11</td>
<td>v2beta2, v2beta1 (deprecated), v1</td>
<td>v1</td>
<td>
<ul>
<li>v2beta1 is deprecated, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+12</td>
<td>v2, v2beta2 (deprecated), v2beta1 (deprecated), v1 (deprecated)</td>
<td>v1</td>
<td>
<ul>
<li>v2beta2 is deprecated, "action required" relnote</li>
<li>v1 is deprecated, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+13</td>
<td>v2, v2beta1 (deprecated), v2beta2 (deprecated), v1 (deprecated)</td>
<td>v2</td>
<td></td>
</tr>
<tr>
<td>X+14</td>
<td>v2, v2beta2 (deprecated), v1 (deprecated)</td>
<td>v2</td>
<td>
<ul>
<li>v2beta1 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+15</td>
<td>v2, v1 (deprecated)</td>
<td>v2</td>
<td>
<ul>
<li>v2beta2 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
<tr>
<td>X+16</td>
<td>v2, v1 (deprecated)</td>
<td>v2</td>
<td></td>
</tr>
<tr>
<td>X+17</td>
<td>v2</td>
<td>v2</td>
<td>
<ul>
<li>v1 is removed, "action required" relnote</li>
</ul>
</td>
</tr>
</tbody>
</table>
<h3 id=rest-resources-aka-api-objects>REST resources (aka API objects)</h3>
<p>Consider a hypothetical REST resource named Widget, which was present in API v1
in the above timeline, and which needs to be deprecated. We document and
<a href=https://groups.google.com/forum/#!forum/kubernetes-announce>announce</a> the
deprecation in sync with release X+1. The Widget resource still exists in API
version v1 (deprecated) but not in v2alpha1. The Widget resource continues to
exist and function in releases up to and including X+8. Only in release X+9,
when API v1 has aged out, does the Widget resource cease to exist, and the
behavior get removed.</p>
<p>Starting in Kubernetes v1.19, making an API request to a deprecated REST API endpoint:</p>
<ol>
<li>
<p>Returns a <code>Warning</code> header (as defined in <a href=https://tools.ietf.org/html/rfc7234#section-5.5>RFC7234, Section 5.5</a>) in the API response.</p>
</li>
<li>
<p>Adds a <code>"k8s.io/deprecated":"true"</code> annotation to the <a href=/docs/tasks/debug-application-cluster/audit/>audit event</a> recorded for the request.</p>
</li>
<li>
<p>Sets an <code>apiserver_requested_deprecated_apis</code> gauge metric to <code>1</code> in the <code>kube-apiserver</code>
process. The metric has labels for <code>group</code>, <code>version</code>, <code>resource</code>, <code>subresource</code> that can be joined
to the <code>apiserver_request_total</code> metric, and a <code>removed_release</code> label that indicates the
Kubernetes release in which the API will no longer be served. The following Prometheus query
returns information about requests made to deprecated APIs which will be removed in v1.22:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-promql data-lang=promql><span style=color:#b8860b>apiserver_requested_deprecated_apis</span>{<span style=color:#a0a000>removed_release</span><span style=color:#666>=</span>&#34;<span style=color:#b44>1.22</span>&#34;}<span style=color:#bbb> </span><span style=color:#666>*</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>on</span><span style=color:#666>(</span><span style=color:#a2f;font-weight:700>group</span>,<span style=color:#b8860b>version</span>,<span style=color:#b8860b>resource</span>,<span style=color:#b8860b>subresource</span><span style=color:#666>)</span><span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>group_right</span><span style=color:#666>()</span><span style=color:#bbb> </span><span style=color:#b8860b>apiserver_request_total</span><span style=color:#bbb>
</span></code></pre></div></li>
</ol>
<h3 id=fields-of-rest-resources>Fields of REST resources</h3>
<p>As with whole REST resources, an individual field which was present in API v1
must exist and function until API v1 is removed. Unlike whole resources, the
v2 APIs may choose a different representation for the field, as long as it can
be round-tripped. For example a v1 field named "magnitude" which was
deprecated might be named "deprecatedMagnitude" in API v2. When v1 is
eventually removed, the deprecated field can be removed from v2.</p>
<h3 id=enumerated-or-constant-values>Enumerated or constant values</h3>
<p>As with whole REST resources and fields thereof, a constant value which was
supported in API v1 must exist and function until API v1 is removed.</p>
<h3 id=component-config-structures>Component config structures</h3>
<p>Component configs are versioned and managed similar to REST resources.</p>
<h3 id=future-work>Future work</h3>
<p>Over time, Kubernetes will introduce more fine-grained API versions, at which
point these rules will be adjusted as needed.</p>
<h2 id=deprecating-a-flag-or-cli>Deprecating a flag or CLI</h2>
<p>The Kubernetes system is comprised of several different programs cooperating.
Sometimes, a Kubernetes release might remove flags or CLI commands
(collectively "CLI elements") in these programs. The individual programs
naturally sort into two main groups - user-facing and admin-facing programs,
which vary slightly in their deprecation policies. Unless a flag is explicitly
prefixed or documented as "alpha" or "beta", it is considered GA.</p>
<p>CLI elements are effectively part of the API to the system, but since they are
not versioned in the same way as the REST API, the rules for deprecation are as
follows:</p>
<p><strong>Rule #5a: CLI elements of user-facing components (e.g. kubectl) must function
after their announced deprecation for no less than:</strong></p>
<ul>
<li><strong>GA: 12 months or 2 releases (whichever is longer)</strong></li>
<li><strong>Beta: 3 months or 1 release (whichever is longer)</strong></li>
<li><strong>Alpha: 0 releases</strong></li>
</ul>
<p><strong>Rule #5b: CLI elements of admin-facing components (e.g. kubelet) must function
after their announced deprecation for no less than:</strong></p>
<ul>
<li><strong>GA: 6 months or 1 release (whichever is longer)</strong></li>
<li><strong>Beta: 3 months or 1 release (whichever is longer)</strong></li>
<li><strong>Alpha: 0 releases</strong></li>
</ul>
<p><strong>Rule #6: Deprecated CLI elements must emit warnings (optionally disable)
when used.</strong></p>
<h2 id=deprecating-a-feature-or-behavior>Deprecating a feature or behavior</h2>
<p>Occasionally a Kubernetes release needs to deprecate some feature or behavior
of the system that is not controlled by the API or CLI. In this case, the
rules for deprecation are as follows:</p>
<p><strong>Rule #7: Deprecated behaviors must function for no less than 1 year after their
announced deprecation.</strong></p>
<p>This does not imply that all changes to the system are governed by this policy.
This applies only to significant, user-visible behaviors which impact the
correctness of applications running on Kubernetes or that impact the
administration of Kubernetes clusters, and which are being removed entirely.</p>
<p>An exception to the above rule is <em>feature gates</em>. Feature gates are key=value
pairs that allow for users to enable/disable experimental features.</p>
<p>Feature gates are intended to cover the development life cycle of a feature - they
are not intended to be long-term APIs. As such, they are expected to be deprecated
and removed after a feature becomes GA or is dropped.</p>
<p>As a feature moves through the stages, the associated feature gate evolves.
The feature life cycle matched to its corresponding feature gate is:</p>
<ul>
<li>Alpha: the feature gate is disabled by default and can be enabled by the user.</li>
<li>Beta: the feature gate is enabled by default and can be disabled by the user.</li>
<li>GA: the feature gate is deprecated (see <a href=#deprecation>"Deprecation"</a>) and becomes
non-operational.</li>
<li>GA, deprecation window complete: the feature gate is removed and calls to it are
no longer accepted.</li>
</ul>
<h3 id=deprecation>Deprecation</h3>
<p>Features can be removed at any point in the life cycle prior to GA. When features are
removed prior to GA, their associated feature gates are also deprecated.</p>
<p>When an invocation tries to disable a non-operational feature gate, the call fails in order
to avoid unsupported scenarios that might otherwise run silently.</p>
<p>In some cases, removing pre-GA features requires considerable time. Feature gates can remain
operational until their associated feature is fully removed, at which point the feature gate
itself can be deprecated.</p>
<p>When removing a feature gate for a GA feature also requires considerable time, calls to
feature gates may remain operational if the feature gate has no effect on the feature,
and if the feature gate causes no errors.</p>
<p>Features intended to be disabled by users should include a mechanism for disabling the
feature in the associated feature gate.</p>
<p>Versioning for feature gates is different from the previously discussed components,
therefore the rules for deprecation are as follows:</p>
<p><strong>Rule #8: Feature gates must be deprecated when the corresponding feature they control
transitions a lifecycle stage as follows. Feature gates must function for no less than:</strong></p>
<ul>
<li><strong>Beta feature to GA: 6 months or 2 releases (whichever is longer)</strong></li>
<li><strong>Beta feature to EOL: 3 months or 1 release (whichever is longer)</strong></li>
<li><strong>Alpha feature to EOL: 0 releases</strong></li>
</ul>
<p><strong>Rule #9: Deprecated feature gates must respond with a warning when used. When a feature gate
is deprecated it must be documented in both in the release notes and the corresponding CLI help.
Both warnings and documentation must indicate whether a feature gate is non-operational.</strong></p>
<h2 id=deprecating-a-metric>Deprecating a metric</h2>
<p>Each component of the Kubernetes control-plane exposes metrics (usually the
<code>/metrics</code> endpoint), which are typically ingested by cluster administrators.
Not all metrics are the same: some metrics are commonly used as SLIs or used
to determine SLOs, these tend to have greater import. Other metrics are more
experimental in nature or are used primarily in the Kubernetes development
process.</p>
<p>Accordingly, metrics fall under two stability classes (<code>ALPHA</code> and <code>STABLE</code>);
this impacts removal of a metric during a Kubernetes release. These classes
are determined by the perceived importance of the metric. The rules for
deprecating and removing a metric are as follows:</p>
<p><strong>Rule #9a: Metrics, for the corresponding stability class, must function for no less than:</strong></p>
<ul>
<li><strong>STABLE: 4 releases or 12 months (whichever is longer)</strong></li>
<li><strong>ALPHA: 0 releases</strong></li>
</ul>
<p><strong>Rule #9b: Metrics, after their <em>announced deprecation</em>, must function for no less than:</strong></p>
<ul>
<li><strong>STABLE: 3 releases or 9 months (whichever is longer)</strong></li>
<li><strong>ALPHA: 0 releases</strong></li>
</ul>
<p>Deprecated metrics will have their description text prefixed with a deprecation notice
string '(Deprecated from x.y)' and a warning log will be emitted during metric
registration. Like their stable undeprecated counterparts, deprecated metrics will
be automatically registered to the metrics endpoint and therefore visible.</p>
<p>On a subsequent release (when the metric's <code>deprecatedVersion</code> is equal to
<em>current_kubernetes_version - 3</em>)), a deprecated metric will become a <em>hidden</em> metric.
<strong><em>Unlike</em></strong> their deprecated counterparts, hidden metrics will <em>no longer</em> be
automatically registered to the metrics endpoint (hence hidden). However, they
can be explicitly enabled through a command line flag on the binary
(<code>--show-hidden-metrics-for-version=</code>). This provides cluster admins an
escape hatch to properly migrate off of a deprecated metric, if they were not
able to react to the earlier deprecation warnings. Hidden metrics should be
deleted after one release.</p>
<h2 id=exceptions>Exceptions</h2>
<p>No policy can cover every possible situation. This policy is a living
document, and will evolve over time. In practice, there will be situations
that do not fit neatly into this policy, or for which this policy becomes a
serious impediment. Such situations should be discussed with SIGs and project
leaders to find the best solutions for those specific cases, always bearing in
mind that Kubernetes is committed to being a stable system that, as much as
possible, never breaks users. Exceptions will always be announced in all
relevant release notes.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2479c39af50fd55b898a3bcfb5988077>2.5 - Deprecated API Migration Guide</h1>
<p>As the Kubernetes API evolves, APIs are periodically reorganized or upgraded.
When APIs evolve, the old API is deprecated and eventually removed.
This page contains information you need to know when migrating from
deprecated API versions to newer and more stable API versions.</p>
<h2 id=removed-apis-by-release>Removed APIs by release</h2>
<h3 id=v1-25>v1.25</h3>
<p>The <strong>v1.25</strong> release will stop serving the following deprecated API versions:</p>
<h4 id=cronjob-v125>CronJob</h4>
<p>The <strong>batch/v1beta1</strong> API version of CronJob will no longer be served in v1.25.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>batch/v1</strong> API version, available since v1.21.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>No notable changes</li>
</ul>
<h4 id=endpointslice-v125>EndpointSlice</h4>
<p>The <strong>discovery.k8s.io/v1beta1</strong> API version of EndpointSlice will no longer be served in v1.25.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>discovery.k8s.io/v1</strong> API version, available since v1.21.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes in <strong>discovery.k8s.io/v1</strong>:
<ul>
<li>use per Endpoint <code>nodeName</code> field instead of deprecated <code>topology["kubernetes.io/hostname"]</code> field</li>
<li>use per Endpoint <code>zone</code> field instead of deprecated <code>topology["topology.kubernetes.io/zone"]</code> field</li>
<li><code>topology</code> is replaced with the <code>deprecatedTopology</code> field which is not writable in v1</li>
</ul>
</li>
</ul>
<h4 id=event-v125>Event</h4>
<p>The <strong>events.k8s.io/v1beta1</strong> API version of Event will no longer be served in v1.25.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>events.k8s.io/v1</strong> API version, available since v1.19.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes in <strong>events.k8s.io/v1</strong>:
<ul>
<li><code>type</code> is limited to <code>Normal</code> and <code>Warning</code></li>
<li><code>involvedObject</code> is renamed to <code>regarding</code></li>
<li><code>action</code>, <code>reason</code>, <code>reportingController</code>, and <code>reportingInstance</code> are required when creating new <strong>events.k8s.io/v1</strong> Events</li>
<li>use <code>eventTime</code> instead of the deprecated <code>firstTimestamp</code> field (which is renamed to <code>deprecatedFirstTimestamp</code> and not permitted in new <strong>events.k8s.io/v1</strong> Events)</li>
<li>use <code>series.lastObservedTime</code> instead of the deprecated <code>lastTimestamp</code> field (which is renamed to <code>deprecatedLastTimestamp</code> and not permitted in new <strong>events.k8s.io/v1</strong> Events)</li>
<li>use <code>series.count</code> instead of the deprecated <code>count</code> field (which is renamed to <code>deprecatedCount</code> and not permitted in new <strong>events.k8s.io/v1</strong> Events)</li>
<li>use <code>reportingController</code> instead of the deprecated <code>source.component</code> field (which is renamed to <code>deprecatedSource.component</code> and not permitted in new <strong>events.k8s.io/v1</strong> Events)</li>
<li>use <code>reportingInstance</code> instead of the deprecated <code>source.host</code> field (which is renamed to <code>deprecatedSource.host</code> and not permitted in new <strong>events.k8s.io/v1</strong> Events)</li>
</ul>
</li>
</ul>
<h4 id=poddisruptionbudget-v125>PodDisruptionBudget</h4>
<p>The <strong>policy/v1beta1</strong> API version of PodDisruptionBudget will no longer be served in v1.25.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>policy/v1</strong> API version, available since v1.21.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes in <strong>policy/v1</strong>:
<ul>
<li>an empty <code>spec.selector</code> (<code>{}</code>) written to a <code>policy/v1</code> PodDisruptionBudget selects all pods in the namespace (in <code>policy/v1beta1</code> an empty <code>spec.selector</code> selected no pods). An unset <code>spec.selector</code> selects no pods in either API version.</li>
</ul>
</li>
</ul>
<h4 id=psp-v125>PodSecurityPolicy</h4>
<p>PodSecurityPolicy in the <strong>policy/v1beta1</strong> API version will no longer be served in v1.25, and the PodSecurityPolicy admission controller will be removed.</p>
<p>PodSecurityPolicy replacements are still under discussion, but current use can be migrated to
<a href=/docs/reference/access-authn-authz/extensible-admission-controllers/>3rd-party admission webhooks</a> now.</p>
<h4 id=runtimeclass-v125>RuntimeClass</h4>
<p>RuntimeClass in the <strong>node.k8s.io/v1beta1</strong> API version will no longer be served in v1.25.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>node.k8s.io/v1</strong> API version, available since v1.20.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>No notable changes</li>
</ul>
<h3 id=v1-22>v1.22</h3>
<p>The <strong>v1.22</strong> release stopped serving the following deprecated API versions:</p>
<h4 id=webhook-resources-v122>Webhook resources</h4>
<p>The <strong>admissionregistration.k8s.io/v1beta1</strong> API version of MutatingWebhookConfiguration and ValidatingWebhookConfiguration is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>admissionregistration.k8s.io/v1</strong> API version, available since v1.16.</li>
<li>All existing persisted objects are accessible via the new APIs</li>
<li>Notable changes:
<ul>
<li><code>webhooks[*].failurePolicy</code> default changed from <code>Ignore</code> to <code>Fail</code> for v1</li>
<li><code>webhooks[*].matchPolicy</code> default changed from <code>Exact</code> to <code>Equivalent</code> for v1</li>
<li><code>webhooks[*].timeoutSeconds</code> default changed from <code>30s</code> to <code>10s</code> for v1</li>
<li><code>webhooks[*].sideEffects</code> default value is removed, and the field made required, and only <code>None</code> and <code>NoneOnDryRun</code> are permitted for v1</li>
<li><code>webhooks[*].admissionReviewVersions</code> default value is removed and the field made required for v1 (supported versions for AdmissionReview are <code>v1</code> and <code>v1beta1</code>)</li>
<li><code>webhooks[*].name</code> must be unique in the list for objects created via <code>admissionregistration.k8s.io/v1</code></li>
</ul>
</li>
</ul>
<h4 id=customresourcedefinition-v122>CustomResourceDefinition</h4>
<p>The <strong>apiextensions.k8s.io/v1beta1</strong> API version of CustomResourceDefinition is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>apiextensions.k8s.io/v1</strong> API version, available since v1.16.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes:
<ul>
<li><code>spec.scope</code> is no longer defaulted to <code>Namespaced</code> and must be explicitly specified</li>
<li><code>spec.version</code> is removed in v1; use <code>spec.versions</code> instead</li>
<li><code>spec.validation</code> is removed in v1; use <code>spec.versions[*].schema</code> instead</li>
<li><code>spec.subresources</code> is removed in v1; use <code>spec.versions[*].subresources</code> instead</li>
<li><code>spec.additionalPrinterColumns</code> is removed in v1; use <code>spec.versions[*].additionalPrinterColumns</code> instead</li>
<li><code>spec.conversion.webhookClientConfig</code> is moved to <code>spec.conversion.webhook.clientConfig</code> in v1</li>
<li><code>spec.conversion.conversionReviewVersions</code> is moved to <code>spec.conversion.webhook.conversionReviewVersions</code> in v1</li>
<li><code>spec.versions[*].schema.openAPIV3Schema</code> is now required when creating v1 CustomResourceDefinition objects, and must be a <a href=/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#specifying-a-structural-schema>structural schema</a></li>
<li><code>spec.preserveUnknownFields: true</code> is disallowed when creating v1 CustomResourceDefinition objects; it must be specified within schema definitions as <code>x-kubernetes-preserve-unknown-fields: true</code></li>
<li>In <code>additionalPrinterColumns</code> items, the <code>JSONPath</code> field was renamed to <code>jsonPath</code> in v1 (fixes <a href=https://github.com/kubernetes/kubernetes/issues/66531>#66531</a>)</li>
</ul>
</li>
</ul>
<h4 id=apiservice-v122>APIService</h4>
<p>The <strong>apiregistration.k8s.io/v1beta1</strong> API version of APIService is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>apiregistration.k8s.io/v1</strong> API version, available since v1.10.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>No notable changes</li>
</ul>
<h4 id=tokenreview-v122>TokenReview</h4>
<p>The <strong>authentication.k8s.io/v1beta1</strong> API version of TokenReview is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>authentication.k8s.io/v1</strong> API version, available since v1.6.</li>
<li>No notable changes</li>
</ul>
<h4 id=subjectaccessreview-resources-v122>SubjectAccessReview resources</h4>
<p>The <strong>authorization.k8s.io/v1beta1</strong> API version of LocalSubjectAccessReview, SelfSubjectAccessReview, and SubjectAccessReview is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>authorization.k8s.io/v1</strong> API version, available since v1.6.</li>
<li>Notable changes:
<ul>
<li><code>spec.group</code> was renamed to <code>spec.groups</code> in v1 (fixes <a href=https://github.com/kubernetes/kubernetes/issues/32709>#32709</a>)</li>
</ul>
</li>
</ul>
<h4 id=certificatesigningrequest-v122>CertificateSigningRequest</h4>
<p>The <strong>certificates.k8s.io/v1beta1</strong> API version of CertificateSigningRequest is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>certificates.k8s.io/v1</strong> API version, available since v1.19.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes in <code>certificates.k8s.io/v1</code>:
<ul>
<li>For API clients requesting certificates:
<ul>
<li><code>spec.signerName</code> is now required (see <a href=/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers>known Kubernetes signers</a>), and requests for <code>kubernetes.io/legacy-unknown</code> are not allowed to be created via the <code>certificates.k8s.io/v1</code> API</li>
<li><code>spec.usages</code> is now required, may not contain duplicate values, and must only contain known usages</li>
</ul>
</li>
<li>For API clients approving or signing certificates:
<ul>
<li><code>status.conditions</code> may not contain duplicate types</li>
<li><code>status.conditions[*].status</code> is now required</li>
<li><code>status.certificate</code> must be PEM-encoded, and contain only <code>CERTIFICATE</code> blocks</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id=lease-v122>Lease</h4>
<p>The <strong>coordination.k8s.io/v1beta1</strong> API version of Lease is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>coordination.k8s.io/v1</strong> API version, available since v1.14.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>No notable changes</li>
</ul>
<h4 id=ingress-v122>Ingress</h4>
<p>The <strong>extensions/v1beta1</strong> and <strong>networking.k8s.io/v1beta1</strong> API versions of Ingress is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>networking.k8s.io/v1</strong> API version, available since v1.19.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes:
<ul>
<li><code>spec.backend</code> is renamed to <code>spec.defaultBackend</code></li>
<li>The backend <code>serviceName</code> field is renamed to <code>service.name</code></li>
<li>Numeric backend <code>servicePort</code> fields are renamed to <code>service.port.number</code></li>
<li>String backend <code>servicePort</code> fields are renamed to <code>service.port.name</code></li>
<li><code>pathType</code> is now required for each specified path. Options are <code>Prefix</code>, <code>Exact</code>, and <code>ImplementationSpecific</code>. To match the undefined <code>v1beta1</code> behavior, use <code>ImplementationSpecific</code>.</li>
</ul>
</li>
</ul>
<h4 id=ingressclass-v122>IngressClass</h4>
<p>The <strong>networking.k8s.io/v1beta1</strong> API version of IngressClass is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>networking.k8s.io/v1</strong> API version, available since v1.19.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>No notable changes</li>
</ul>
<h4 id=rbac-resources-v122>RBAC resources</h4>
<p>The <strong>rbac.authorization.k8s.io/v1beta1</strong> API version of ClusterRole, ClusterRoleBinding, Role, and RoleBinding is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>rbac.authorization.k8s.io/v1</strong> API version, available since v1.8.</li>
<li>All existing persisted objects are accessible via the new APIs</li>
<li>No notable changes</li>
</ul>
<h4 id=priorityclass-v122>PriorityClass</h4>
<p>The <strong>scheduling.k8s.io/v1beta1</strong> API version of PriorityClass is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>scheduling.k8s.io/v1</strong> API version, available since v1.14.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>No notable changes</li>
</ul>
<h4 id=storage-resources-v122>Storage resources</h4>
<p>The <strong>storage.k8s.io/v1beta1</strong> API version of CSIDriver, CSINode, StorageClass, and VolumeAttachment is no longer served as of v1.22.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>storage.k8s.io/v1</strong> API version
<ul>
<li>CSIDriver is available in <strong>storage.k8s.io/v1</strong> since v1.19.</li>
<li>CSINode is available in <strong>storage.k8s.io/v1</strong> since v1.17</li>
<li>StorageClass is available in <strong>storage.k8s.io/v1</strong> since v1.6</li>
<li>VolumeAttachment is available in <strong>storage.k8s.io/v1</strong> v1.13</li>
</ul>
</li>
<li>All existing persisted objects are accessible via the new APIs</li>
<li>No notable changes</li>
</ul>
<h3 id=v1-16>v1.16</h3>
<p>The <strong>v1.16</strong> release stopped serving the following deprecated API versions:</p>
<h4 id=networkpolicy-v116>NetworkPolicy</h4>
<p>The <strong>extensions/v1beta1</strong> API version of NetworkPolicy is no longer served as of v1.16.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>networking.k8s.io/v1</strong> API version, available since v1.8.</li>
<li>All existing persisted objects are accessible via the new API</li>
</ul>
<h4 id=daemonset-v116>DaemonSet</h4>
<p>The <strong>extensions/v1beta1</strong> and <strong>apps/v1beta2</strong> API versions of DaemonSet are no longer served as of v1.16.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>apps/v1</strong> API version, available since v1.9.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes:
<ul>
<li><code>spec.templateGeneration</code> is removed</li>
<li><code>spec.selector</code> is now required and immutable after creation; use the existing template labels as the selector for seamless upgrades</li>
<li><code>spec.updateStrategy.type</code> now defaults to <code>RollingUpdate</code> (the default in <code>extensions/v1beta1</code> was <code>OnDelete</code>)</li>
</ul>
</li>
</ul>
<h4 id=deployment-v116>Deployment</h4>
<p>The <strong>extensions/v1beta1</strong>, <strong>apps/v1beta1</strong>, and <strong>apps/v1beta2</strong> API versions of Deployment are no longer served as of v1.16.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>apps/v1</strong> API version, available since v1.9.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes:
<ul>
<li><code>spec.rollbackTo</code> is removed</li>
<li><code>spec.selector</code> is now required and immutable after creation; use the existing template labels as the selector for seamless upgrades</li>
<li><code>spec.progressDeadlineSeconds</code> now defaults to <code>600</code> seconds (the default in <code>extensions/v1beta1</code> was no deadline)</li>
<li><code>spec.revisionHistoryLimit</code> now defaults to <code>10</code> (the default in <code>apps/v1beta1</code> was <code>2</code>, the default in <code>extensions/v1beta1</code> was to retain all)</li>
<li><code>maxSurge</code> and <code>maxUnavailable</code> now default to <code>25%</code> (the default in <code>extensions/v1beta1</code> was <code>1</code>)</li>
</ul>
</li>
</ul>
<h4 id=statefulset-v116>StatefulSet</h4>
<p>The <strong>apps/v1beta1</strong> and <strong>apps/v1beta2</strong> API versions of StatefulSet are no longer served as of v1.16.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>apps/v1</strong> API version, available since v1.9.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes:
<ul>
<li><code>spec.selector</code> is now required and immutable after creation; use the existing template labels as the selector for seamless upgrades</li>
<li><code>spec.updateStrategy.type</code> now defaults to <code>RollingUpdate</code> (the default in <code>apps/v1beta1</code> was <code>OnDelete</code>)</li>
</ul>
</li>
</ul>
<h4 id=replicaset-v116>ReplicaSet</h4>
<p>The <strong>extensions/v1beta1</strong>, <strong>apps/v1beta1</strong>, and <strong>apps/v1beta2</strong> API versions of ReplicaSet are no longer served as of v1.16.</p>
<ul>
<li>Migrate manifests and API clients to use the <strong>apps/v1</strong> API version, available since v1.9.</li>
<li>All existing persisted objects are accessible via the new API</li>
<li>Notable changes:
<ul>
<li><code>spec.selector</code> is now required and immutable after creation; use the existing template labels as the selector for seamless upgrades</li>
</ul>
</li>
</ul>
<h4 id=psp-v116>PodSecurityPolicy</h4>
<p>The <strong>extensions/v1beta1</strong> API version of PodSecurityPolicy is no longer served as of v1.16.</p>
<ul>
<li>Migrate manifests and API client to use the <strong>policy/v1beta1</strong> API version, available since v1.10.</li>
<li>Note that the <strong>policy/v1beta1</strong> API version of PodSecurityPolicy will be removed in v1.25.</li>
</ul>
<h2 id=what-to-do>What to do</h2>
<h3 id=test-with-deprecated-apis-disabled>Test with deprecated APIs disabled</h3>
<p>You can test your clusters by starting an API server with specific API versions disabled
to simulate upcoming removals. Add the following flag to the API server startup arguments:</p>
<p><code>--runtime-config=&lt;group>/&lt;version>=false</code></p>
<p>For example:</p>
<p><code>--runtime-config=admissionregistration.k8s.io/v1beta1=false,apiextensions.k8s.io/v1beta1,...</code></p>
<h3 id=locate-use-of-deprecated-apis>Locate use of deprecated APIs</h3>
<p>Use <a href=https://kubernetes.io/blog/2020/09/03/warnings/#deprecation-warnings>client warnings, metrics, and audit information available in 1.19+</a>
to locate use of deprecated APIs.</p>
<h3 id=migrate-to-non-deprecated-apis>Migrate to non-deprecated APIs</h3>
<ul>
<li>
<p>Update custom integrations and controllers to call the non-deprecated APIs</p>
</li>
<li>
<p>Change YAML files to reference the non-deprecated APIs</p>
<p>You can use the <code>kubectl-convert</code> command (<code>kubectl convert</code> prior to v1.20)
to automatically convert an existing object:</p>
<p><code>kubectl-convert -f &lt;file> --output-version &lt;group>/&lt;version></code>.</p>
<p>For example, to convert an older Deployment to <code>apps/v1</code>, you can run:</p>
<p><code>kubectl-convert -f ./my-deployment.yaml --output-version apps/v1</code></p>
<p>Note that this may use non-ideal default values. To learn more about a specific
resource, check the Kubernetes <a href=/docs/reference/kubernetes-api/>API reference</a>.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e4dbb59f8f23854d7b7d574e169923c4>2.6 - Kubernetes API health endpoints</h1>
<p>The Kubernetes <a class=glossary-tooltip title="Control plane component that serves the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/components/#kube-apiserver target=_blank aria-label="API server">API server</a> provides API endpoints to indicate the current status of the API server.
This page describes these API endpoints and explains how you can use them.</p>
<h2 id=api-endpoints-for-health>API endpoints for health</h2>
<p>The Kubernetes API server provides 3 API endpoints (<code>healthz</code>, <code>livez</code> and <code>readyz</code>) to indicate the current status of the API server.
The <code>healthz</code> endpoint is deprecated (since Kubernetes v1.16), and you should use the more specific <code>livez</code> and <code>readyz</code> endpoints instead.
The <code>livez</code> endpoint can be used with the <code>--livez-grace-period</code> <a href=/docs/reference/command-line-tools-reference/kube-apiserver>flag</a> to specify the startup duration.
For a graceful shutdown you can specify the <code>--shutdown-delay-duration</code> <a href=/docs/reference/command-line-tools-reference/kube-apiserver>flag</a> with the <code>/readyz</code> endpoint.
Machines that check the <code>healthz</code>/<code>livez</code>/<code>readyz</code> of the API server should rely on the HTTP status code.
A status code <code>200</code> indicates the API server is <code>healthy</code>/<code>live</code>/<code>ready</code>, depending on the called endpoint.
The more verbose options shown below are intended to be used by human operators to debug their cluster or understand the state of the API server.</p>
<p>The following examples will show how you can interact with the health API endpoints.</p>
<p>For all endpoints, you can use the <code>verbose</code> parameter to print out the checks and their status.
This can be useful for a human operator to debug the current status of the API server, it is not intended to be consumed by a machine:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -k https://localhost:6443/livez?verbose
</code></pre></div><p>or from a remote host with authentication:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get --raw<span style=color:#666>=</span><span style=color:#b44>&#39;/readyz?verbose&#39;</span>
</code></pre></div><p>The output will look like this:</p>
<pre><code>[+]ping ok
[+]log ok
[+]etcd ok
[+]poststarthook/start-kube-apiserver-admission-initializer ok
[+]poststarthook/generic-apiserver-start-informers ok
[+]poststarthook/start-apiextensions-informers ok
[+]poststarthook/start-apiextensions-controllers ok
[+]poststarthook/crd-informer-synced ok
[+]poststarthook/bootstrap-controller ok
[+]poststarthook/rbac/bootstrap-roles ok
[+]poststarthook/scheduling/bootstrap-system-priority-classes ok
[+]poststarthook/start-cluster-authentication-info-controller ok
[+]poststarthook/start-kube-aggregator-informers ok
[+]poststarthook/apiservice-registration-controller ok
[+]poststarthook/apiservice-status-available-controller ok
[+]poststarthook/kube-apiserver-autoregistration ok
[+]autoregister-completion ok
[+]poststarthook/apiservice-openapi-controller ok
healthz check passed
</code></pre>
<p>The Kubernetes API server also supports to exclude specific checks.
The query parameters can also be combined like in this example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -k <span style=color:#b44>&#39;https://localhost:6443/readyz?verbose&amp;exclude=etcd&#39;</span>
</code></pre></div><p>The output show that the <code>etcd</code> check is excluded:</p>
<pre><code>[+]ping ok
[+]log ok
[+]etcd excluded: ok
[+]poststarthook/start-kube-apiserver-admission-initializer ok
[+]poststarthook/generic-apiserver-start-informers ok
[+]poststarthook/start-apiextensions-informers ok
[+]poststarthook/start-apiextensions-controllers ok
[+]poststarthook/crd-informer-synced ok
[+]poststarthook/bootstrap-controller ok
[+]poststarthook/rbac/bootstrap-roles ok
[+]poststarthook/scheduling/bootstrap-system-priority-classes ok
[+]poststarthook/start-cluster-authentication-info-controller ok
[+]poststarthook/start-kube-aggregator-informers ok
[+]poststarthook/apiservice-registration-controller ok
[+]poststarthook/apiservice-status-available-controller ok
[+]poststarthook/kube-apiserver-autoregistration ok
[+]autoregister-completion ok
[+]poststarthook/apiservice-openapi-controller ok
[+]shutdown ok
healthz check passed
</code></pre>
<h2 id=individual-health-checks>Individual health checks</h2>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [alpha]</code>
</div>
<p>Each individual health check exposes an HTTP endpoint and can be checked individually.
The schema for the individual health checks is <code>/livez/&lt;healthcheck-name></code> where <code>livez</code> and <code>readyz</code> and be used to indicate if you want to check the liveness or the readiness of the API server.
The <code>&lt;healthcheck-name></code> path can be discovered using the <code>verbose</code> flag from above and take the path between <code>[+]</code> and <code>ok</code>.
These individual health checks should not be consumed by machines but can be helpful for a human operator to debug a system:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>curl -k https://localhost:6443/livez/etcd
</code></pre></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-99b26586d8a33ec06996dcf7892a9683>3 - API Access Control</h1>
<p>For an introduction to how Kubernetes implements and controls API access,
read <a href=/docs/concepts/security/controlling-access/>Controlling Access to the Kubernetes API</a>.</p>
<p>Reference documentation:</p>
<ul>
<li><a href=/docs/reference/access-authn-authz/authentication/>Authenticating</a>
<ul>
<li><a href=/docs/reference/access-authn-authz/bootstrap-tokens/>Authenticating with Bootstrap Tokens</a></li>
</ul>
</li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/>Admission Controllers</a>
<ul>
<li><a href=/docs/reference/access-authn-authz/extensible-admission-controllers/>Dynamic Admission Control</a></li>
</ul>
</li>
<li><a href=/docs/reference/access-authn-authz/authorization/>Authorization</a>
<ul>
<li><a href=/docs/reference/access-authn-authz/rbac/>Role Based Access Control</a></li>
<li><a href=/docs/reference/access-authn-authz/abac/>Attribute Based Access Control</a></li>
<li><a href=/docs/reference/access-authn-authz/node/>Node Authorization</a></li>
<li><a href=/docs/reference/access-authn-authz/webhook/>Webhook Authorization</a></li>
</ul>
</li>
<li><a href=/docs/reference/access-authn-authz/certificate-signing-requests/>Certificate Signing Requests</a>
<ul>
<li>including <a href=/docs/reference/access-authn-authz/certificate-signing-requests/#approval-rejection>CSR approval</a>
and <a href=/docs/reference/access-authn-authz/certificate-signing-requests/#signing>certificate signing</a></li>
</ul>
</li>
<li>Service accounts
<ul>
<li><a href=/docs/tasks/configure-pod-container/configure-service-account/>Developer guide</a></li>
<li><a href=/docs/reference/access-authn-authz/service-accounts-admin/>Administration</a></li>
</ul>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a6264859a5ad6e2f4a6e4cff9ce4fa8b>3.1 - Authenticating</h1>
<p>This page provides an overview of authenticating.</p>
<h2 id=users-in-kubernetes>Users in Kubernetes</h2>
<p>All Kubernetes clusters have two categories of users: service accounts managed
by Kubernetes, and normal users.</p>
<p>It is assumed that a cluster-independent service manages normal users in the following ways:</p>
<ul>
<li>an administrator distributing private keys</li>
<li>a user store like Keystone or Google Accounts</li>
<li>a file with a list of usernames and passwords</li>
</ul>
<p>In this regard, <em>Kubernetes does not have objects which represent normal user
accounts.</em> Normal users cannot be added to a cluster through an API call.</p>
<p>Even though a normal user cannot be added via an API call, any user that
presents a valid certificate signed by the cluster's certificate authority
(CA) is considered authenticated. In this configuration, Kubernetes determines
the username from the common name field in the 'subject' of the cert (e.g.,
"/CN=bob"). From there, the role based access control (RBAC) sub-system would
determine whether the user is authorized to perform a specific operation on a
resource. For more details, refer to the normal users topic in
<a href=/docs/reference/access-authn-authz/certificate-signing-requests/#normal-user>certificate request</a>
for more details about this.</p>
<p>In contrast, service accounts are users managed by the Kubernetes API. They are
bound to specific namespaces, and created automatically by the API server or
manually through API calls. Service accounts are tied to a set of credentials
stored as <code>Secrets</code>, which are mounted into pods allowing in-cluster processes
to talk to the Kubernetes API.</p>
<p>API requests are tied to either a normal user or a service account, or are treated
as <a href=#anonymous-requests>anonymous requests</a>. This means every process inside or outside the cluster, from
a human user typing <code>kubectl</code> on a workstation, to <code>kubelets</code> on nodes, to members
of the control plane, must authenticate when making requests to the API server,
or be treated as an anonymous user.</p>
<h2 id=authentication-strategies>Authentication strategies</h2>
<p>Kubernetes uses client certificates, bearer tokens, or an authenticating proxy to
authenticate API requests through authentication plugins. As HTTP requests are
made to the API server, plugins attempt to associate the following attributes
with the request:</p>
<ul>
<li>Username: a string which identifies the end user. Common values might be <code>kube-admin</code> or <code>jane@example.com</code>.</li>
<li>UID: a string which identifies the end user and attempts to be more consistent and unique than username.</li>
<li>Groups: a set of strings, each of which indicates the user's membership in a named logical collection of users. Common values might be <code>system:masters</code> or <code>devops-team</code>.</li>
<li>Extra fields: a map of strings to list of strings which holds additional information authorizers may find useful.</li>
</ul>
<p>All values are opaque to the authentication system and only hold significance
when interpreted by an <a href=/docs/reference/access-authn-authz/authorization/>authorizer</a>.</p>
<p>You can enable multiple authentication methods at once. You should usually use at least two methods:</p>
<ul>
<li>service account tokens for service accounts</li>
<li>at least one other method for user authentication.</li>
</ul>
<p>When multiple authenticator modules are enabled, the first module
to successfully authenticate the request short-circuits evaluation.
The API server does not guarantee the order authenticators run in.</p>
<p>The <code>system:authenticated</code> group is included in the list of groups for all authenticated users.</p>
<p>Integrations with other authentication protocols (LDAP, SAML, Kerberos, alternate x509 schemes, etc)
can be accomplished using an <a href=#authenticating-proxy>authenticating proxy</a> or the
<a href=#webhook-token-authentication>authentication webhook</a>.</p>
<h3 id=x509-client-certs>X509 Client Certs</h3>
<p>Client certificate authentication is enabled by passing the <code>--client-ca-file=SOMEFILE</code>
option to API server. The referenced file must contain one or more certificate authorities
to use to validate client certificates presented to the API server. If a client certificate
is presented and verified, the common name of the subject is used as the user name for the
request. As of Kubernetes 1.4, client certificates can also indicate a user's group memberships
using the certificate's organization fields. To include multiple group memberships for a user,
include multiple organization fields in the certificate.</p>
<p>For example, using the <code>openssl</code> command line tool to generate a certificate signing request:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>openssl req -new -key jbeda.pem -out jbeda-csr.pem -subj <span style=color:#b44>&#34;/CN=jbeda/O=app1/O=app2&#34;</span>
</code></pre></div><p>This would create a CSR for the username "jbeda", belonging to two groups, "app1" and "app2".</p>
<p>See <a href=/docs/tasks/administer-cluster/certificates/>Managing Certificates</a> for how to generate a client cert.</p>
<h3 id=static-token-file>Static Token File</h3>
<p>The API server reads bearer tokens from a file when given the <code>--token-auth-file=SOMEFILE</code> option on the command line. Currently, tokens last indefinitely, and the token list cannot be
changed without restarting the API server.</p>
<p>The token file is a csv file with a minimum of 3 columns: token, user name, user uid,
followed by optional group names.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>If you have more than one group the column must be double quoted e.g.</p>
<pre><code class=language-conf data-lang=conf>token,user,uid,&quot;group1,group2,group3&quot;
</code></pre>
</div>
<h4 id=putting-a-bearer-token-in-a-request>Putting a Bearer Token in a Request</h4>
<p>When using bearer token authentication from an http client, the API
server expects an <code>Authorization</code> header with a value of <code>Bearer THETOKEN</code>. The bearer token must be a character sequence that can be
put in an HTTP header value using no more than the encoding and
quoting facilities of HTTP. For example: if the bearer token is
<code>31ada4fd-adec-460c-809a-9e56ceb75269</code> then it would appear in an HTTP
header as shown below.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span>Authorization: Bearer 31ada4fd-adec-460c-809a-9e56ceb75269
</span></code></pre></div><h3 id=bootstrap-tokens>Bootstrap Tokens</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.18 [stable]</code>
</div>
<p>To allow for streamlined bootstrapping for new clusters, Kubernetes includes a
dynamically-managed Bearer token type called a <em>Bootstrap Token</em>. These tokens
are stored as Secrets in the <code>kube-system</code> namespace, where they can be
dynamically managed and created. Controller Manager contains a TokenCleaner
controller that deletes bootstrap tokens as they expire.</p>
<p>The tokens are of the form <code>[a-z0-9]{6}.[a-z0-9]{16}</code>. The first component is a
Token ID and the second component is the Token Secret. You specify the token
in an HTTP header as follows:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span>Authorization: Bearer 781292.db7bc3a58fc5f07e
</span></code></pre></div><p>You must enable the Bootstrap Token Authenticator with the
<code>--enable-bootstrap-token-auth</code> flag on the API Server. You must enable
the TokenCleaner controller via the <code>--controllers</code> flag on the Controller
Manager. This is done with something like <code>--controllers=*,tokencleaner</code>.
<code>kubeadm</code> will do this for you if you are using it to bootstrap a cluster.</p>
<p>The authenticator authenticates as <code>system:bootstrap:&lt;Token ID></code>. It is
included in the <code>system:bootstrappers</code> group. The naming and groups are
intentionally limited to discourage users from using these tokens past
bootstrapping. The user names and group can be used (and are used by <code>kubeadm</code>)
to craft the appropriate authorization policies to support bootstrapping a
cluster.</p>
<p>Please see <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>Bootstrap Tokens</a> for in depth
documentation on the Bootstrap Token authenticator and controllers along with
how to manage these tokens with <code>kubeadm</code>.</p>
<h3 id=service-account-tokens>Service Account Tokens</h3>
<p>A service account is an automatically enabled authenticator that uses signed
bearer tokens to verify requests. The plugin takes two optional flags:</p>
<ul>
<li><code>--service-account-key-file</code> A file containing a PEM encoded key for signing bearer tokens.
If unspecified, the API server's TLS private key will be used.</li>
<li><code>--service-account-lookup</code> If enabled, tokens which are deleted from the API will be revoked.</li>
</ul>
<p>Service accounts are usually created automatically by the API server and
associated with pods running in the cluster through the <code>ServiceAccount</code>
<a href=/docs/reference/access-authn-authz/admission-controllers/>Admission Controller</a>. Bearer tokens are
mounted into pods at well-known locations, and allow in-cluster processes to
talk to the API server. Accounts may be explicitly associated with pods using the
<code>serviceAccountName</code> field of a <code>PodSpec</code>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>serviceAccountName</code> is usually omitted because this is done automatically.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apps/v1<span style=color:#bbb> </span><span style=color:#080;font-style:italic># this apiVersion is relevant as of Kubernetes 1.9</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Deployment<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx-deployment<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>replicas</span>:<span style=color:#bbb> </span><span style=color:#666>3</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>template</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># ...</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>serviceAccountName</span>:<span style=color:#bbb> </span>bob-the-bot<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>containers</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>nginx<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>image</span>:<span style=color:#bbb> </span>nginx:1.14.2<span style=color:#bbb>
</span></code></pre></div><p>Service account bearer tokens are perfectly valid to use outside the cluster and
can be used to create identities for long standing jobs that wish to talk to the
Kubernetes API. To manually create a service account, use the <code>kubectl create serviceaccount (NAME)</code> command. This creates a service account in the current
namespace and an associated secret.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl create serviceaccount jenkins
</code></pre></div><pre><code class=language-none data-lang=none>serviceaccount &quot;jenkins&quot; created
</code></pre><p>Check an associated secret:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl get serviceaccounts jenkins -o yaml
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ServiceAccount<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>secrets</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>jenkins-token-1yvwg<span style=color:#bbb>
</span></code></pre></div><p>The created secret holds the public CA of the API server and a signed JSON Web
Token (JWT).</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl get secret jenkins-token-1yvwg -o yaml
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>ca.crt</span>:<span style=color:#bbb> </span>(APISERVER&#39;S CA BASE64 ENCODED)<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>ZGVmYXVsdA==<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span>(BEARER TOKEN BASE64 ENCODED)<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Secret<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>kubernetes.io/service-account-token<span style=color:#bbb>
</span></code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Values are base64 encoded because secrets are always base64 encoded.
</div>
<p>The signed JWT can be used as a bearer token to authenticate as the given service
account. See <a href=#putting-a-bearer-token-in-a-request>above</a> for how the token is included
in a request. Normally these secrets are mounted into pods for in-cluster access to
the API server, but can be used from outside the cluster as well.</p>
<p>Service accounts authenticate with the username <code>system:serviceaccount:(NAMESPACE):(SERVICEACCOUNT)</code>,
and are assigned to the groups <code>system:serviceaccounts</code> and <code>system:serviceaccounts:(NAMESPACE)</code>.</p>
<p>WARNING: Because service account tokens are stored in secrets, any user with
read access to those secrets can authenticate as the service account. Be cautious
when granting permissions to service accounts and read capabilities for secrets.</p>
<h3 id=openid-connect-tokens>OpenID Connect Tokens</h3>
<p><a href=https://openid.net/connect/>OpenID Connect</a> is a flavor of OAuth2 supported by
some OAuth2 providers, notably Azure Active Directory, Salesforce, and Google.
The protocol's main extension of OAuth2 is an additional field returned with
the access token called an <a href=https://openid.net/specs/openid-connect-core-1_0.html#IDToken>ID Token</a>.
This token is a JSON Web Token (JWT) with well known fields, such as a user's
email, signed by the server.</p>
<p>To identify the user, the authenticator uses the <code>id_token</code> (not the <code>access_token</code>)
from the OAuth2 <a href=https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse>token response</a>
as a bearer token. See <a href=#putting-a-bearer-token-in-a-request>above</a> for how the token
is included in a request.</p>
<div class=mermaid>
sequenceDiagram
participant user as User
participant idp as Identity Provider
participant kube as Kubectl
participant api as API Server
user ->> idp: 1. Login to IdP
activate idp
idp -->> user: 2. Provide access_token,<br>id_token, and refresh_token
deactivate idp
activate user
user ->> kube: 3. Call Kubectl<br>with --token being the id_token<br>OR add tokens to .kube/config
deactivate user
activate kube
kube ->> api: 4. Authorization: Bearer...
deactivate kube
activate api
api ->> api: 5. Is JWT signature valid?
api ->> api: 6. Has the JWT expired? (iat+exp)
api ->> api: 7. User authorized?
api -->> kube: 8. Authorized: Perform<br>action and return result
deactivate api
activate kube
kube --x user: 9. Return result
deactivate kube
</div>
<noscript>
<style type=text/css>.mermaid{display:none}</style>
<h4>[JavaScript must be <a href=https://www.enable-javascript.com/>enabled</a> to view content]</h4>
</noscript>
<ol>
<li>Login to your identity provider</li>
<li>Your identity provider will provide you with an <code>access_token</code>, <code>id_token</code> and a <code>refresh_token</code></li>
<li>When using <code>kubectl</code>, use your <code>id_token</code> with the <code>--token</code> flag or add it directly to your <code>kubeconfig</code></li>
<li><code>kubectl</code> sends your <code>id_token</code> in a header called Authorization to the API server</li>
<li>The API server will make sure the JWT signature is valid by checking against the certificate named in the configuration</li>
<li>Check to make sure the <code>id_token</code> hasn't expired</li>
<li>Make sure the user is authorized</li>
<li>Once authorized the API server returns a response to <code>kubectl</code></li>
<li><code>kubectl</code> provides feedback to the user</li>
</ol>
<p>Since all of the data needed to validate who you are is in the <code>id_token</code>, Kubernetes doesn't need to
"phone home" to the identity provider. In a model where every request is stateless this provides a very scalable solution for authentication. It does offer a few challenges:</p>
<ol>
<li>Kubernetes has no "web interface" to trigger the authentication process. There is no browser or interface to collect credentials which is why you need to authenticate to your identity provider first.</li>
<li>The <code>id_token</code> can't be revoked, it's like a certificate so it should be short-lived (only a few minutes) so it can be very annoying to have to get a new token every few minutes.</li>
<li>To authenticate to the Kubernetes dashboard, you must use the <code>kubectl proxy</code> command or a reverse proxy that injects the <code>id_token</code>.</li>
</ol>
<h4 id=configuring-the-api-server>Configuring the API Server</h4>
<p>To enable the plugin, configure the following flags on the API server:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
<th>Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--oidc-issuer-url</code></td>
<td>URL of the provider which allows the API server to discover public signing keys. Only URLs which use the <code>https://</code> scheme are accepted. This is typically the provider's discovery URL without a path, for example "https://accounts.google.com" or "https://login.salesforce.com". This URL should point to the level below .well-known/openid-configuration</td>
<td>If the discovery URL is <code>https://accounts.google.com/.well-known/openid-configuration</code>, the value should be <code>https://accounts.google.com</code></td>
<td>Yes</td>
</tr>
<tr>
<td><code>--oidc-client-id</code></td>
<td>A client id that all tokens must be issued for.</td>
<td>kubernetes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>--oidc-username-claim</code></td>
<td>JWT claim to use as the user name. By default <code>sub</code>, which is expected to be a unique identifier of the end user. Admins can choose other claims, such as <code>email</code> or <code>name</code>, depending on their provider. However, claims other than <code>email</code> will be prefixed with the issuer URL to prevent naming clashes with other plugins.</td>
<td>sub</td>
<td>No</td>
</tr>
<tr>
<td><code>--oidc-username-prefix</code></td>
<td>Prefix prepended to username claims to prevent clashes with existing names (such as <code>system:</code> users). For example, the value <code>oidc:</code> will create usernames like <code>oidc:jane.doe</code>. If this flag isn't provided and <code>--oidc-username-claim</code> is a value other than <code>email</code> the prefix defaults to <code>( Issuer URL )#</code> where <code>( Issuer URL )</code> is the value of <code>--oidc-issuer-url</code>. The value <code>-</code> can be used to disable all prefixing.</td>
<td><code>oidc:</code></td>
<td>No</td>
</tr>
<tr>
<td><code>--oidc-groups-claim</code></td>
<td>JWT claim to use as the user's group. If the claim is present it must be an array of strings.</td>
<td>groups</td>
<td>No</td>
</tr>
<tr>
<td><code>--oidc-groups-prefix</code></td>
<td>Prefix prepended to group claims to prevent clashes with existing names (such as <code>system:</code> groups). For example, the value <code>oidc:</code> will create group names like <code>oidc:engineering</code> and <code>oidc:infra</code>.</td>
<td><code>oidc:</code></td>
<td>No</td>
</tr>
<tr>
<td><code>--oidc-required-claim</code></td>
<td>A key=value pair that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value. Repeat this flag to specify multiple claims.</td>
<td><code>claim=value</code></td>
<td>No</td>
</tr>
<tr>
<td><code>--oidc-ca-file</code></td>
<td>The path to the certificate for the CA that signed your identity provider's web certificate. Defaults to the host's root CAs.</td>
<td><code>/etc/kubernetes/ssl/kc-ca.pem</code></td>
<td>No</td>
</tr>
</tbody>
</table>
<p>Importantly, the API server is not an OAuth2 client, rather it can only be
configured to trust a single issuer. This allows the use of public providers,
such as Google, without trusting credentials issued to third parties. Admins who
wish to utilize multiple OAuth clients should explore providers which support the
<code>azp</code> (authorized party) claim, a mechanism for allowing one client to issue
tokens on behalf of another.</p>
<p>Kubernetes does not provide an OpenID Connect Identity Provider.
You can use an existing public OpenID Connect Identity Provider (such as Google, or
<a href=https://connect2id.com/products/nimbus-oauth-openid-connect-sdk/openid-connect-providers>others</a>).
Or, you can run your own Identity Provider, such as <a href=https://dexidp.io/>dex</a>,
<a href=https://github.com/keycloak/keycloak>Keycloak</a>,
CloudFoundry <a href=https://github.com/cloudfoundry/uaa>UAA</a>, or
Tremolo Security's <a href=https://openunison.github.io/>OpenUnison</a>.</p>
<p>For an identity provider to work with Kubernetes it must:</p>
<ol>
<li>Support <a href=https://openid.net/specs/openid-connect-discovery-1_0.html>OpenID connect discovery</a>; not all do.</li>
<li>Run in TLS with non-obsolete ciphers</li>
<li>Have a CA signed certificate (even if the CA is not a commercial CA or is self signed)</li>
</ol>
<p>A note about requirement #3 above, requiring a CA signed certificate. If you deploy your own identity provider (as opposed to one of the cloud providers like Google or Microsoft) you MUST have your identity provider's web server certificate signed by a certificate with the <code>CA</code> flag set to <code>TRUE</code>, even if it is self signed. This is due to GoLang's TLS client implementation being very strict to the standards around certificate validation. If you don't have a CA handy, you can use <a href=https://github.com/dexidp/dex/blob/master/examples/k8s/gencert.sh>this script</a> from the Dex team to create a simple CA and a signed certificate and key pair.
Or you can use <a href=https://raw.githubusercontent.com/TremoloSecurity/openunison-qs-kubernetes/master/src/main/bash/makessl.sh>this similar script</a> that generates SHA256 certs with a longer life and larger key size.</p>
<p>Setup instructions for specific systems:</p>
<ul>
<li><a href=https://docs.cloudfoundry.org/concepts/architecture/uaa.html>UAA</a></li>
<li><a href=https://dexidp.io/docs/kubernetes/>Dex</a></li>
<li><a href=https://www.tremolosecurity.com/orchestra-k8s/>OpenUnison</a></li>
</ul>
<h4 id=using-kubectl>Using kubectl</h4>
<h5 id=option-1-oidc-authenticator>Option 1 - OIDC Authenticator</h5>
<p>The first option is to use the kubectl <code>oidc</code> authenticator, which sets the <code>id_token</code> as a bearer token for all requests and refreshes the token once it expires. After you've logged into your provider, use kubectl to add your <code>id_token</code>, <code>refresh_token</code>, <code>client_id</code>, and <code>client_secret</code> to configure the plugin.</p>
<p>Providers that don't return an <code>id_token</code> as part of their refresh token response aren't supported by this plugin and should use "Option 2" below.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl config set-credentials USER_NAME <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider<span style=color:#666>=</span>oidc <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider-arg<span style=color:#666>=</span>idp-issuer-url<span style=color:#666>=(</span> issuer url <span style=color:#666>)</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider-arg<span style=color:#666>=</span>client-id<span style=color:#666>=(</span> your client id <span style=color:#666>)</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider-arg<span style=color:#666>=</span>client-secret<span style=color:#666>=(</span> your client secret <span style=color:#666>)</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider-arg<span style=color:#666>=</span>refresh-token<span style=color:#666>=(</span> your refresh token <span style=color:#666>)</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider-arg<span style=color:#666>=</span>idp-certificate-authority<span style=color:#666>=(</span> path to your ca certificate <span style=color:#666>)</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>   --auth-provider-arg<span style=color:#666>=</span>id-token<span style=color:#666>=(</span> your id_token <span style=color:#666>)</span>
</code></pre></div><p>As an example, running the below command after authenticating to your identity provider:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl config set-credentials mmosley  <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider<span style=color:#666>=</span>oidc  <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider-arg<span style=color:#666>=</span>idp-issuer-url<span style=color:#666>=</span>https://oidcidp.tremolo.lan:8443/auth/idp/OidcIdP  <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider-arg<span style=color:#666>=</span>client-id<span style=color:#666>=</span>kubernetes  <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider-arg<span style=color:#666>=</span>client-secret<span style=color:#666>=</span>1db158f6-177d-4d9c-8a8b-d36869918ec5  <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider-arg<span style=color:#666>=</span>refresh-token<span style=color:#666>=</span>q1bKLFOyUiosTfawzA93TzZIDzH2TNa2SMm0zEiPKTUwME6BkEo6Sql5yUWVBSWpKUGphaWpxSVAfekBOZbBhaEW+VlFUeVRGcluyVF5JT4+haZmPsluFoFu5XkpXk5BXqHega4GAXlF+ma+vmYpFcHe5eZR+slBFpZKtQA<span style=color:#666>=</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider-arg<span style=color:#666>=</span>idp-certificate-authority<span style=color:#666>=</span>/root/ca.pem <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>        --auth-provider-arg<span style=color:#666>=</span>id-token<span style=color:#666>=</span>eyJraWQiOiJDTj1vaWRjaWRwLnRyZW1vbG8ubGFuLCBPVT1EZW1vLCBPPVRybWVvbG8gU2VjdXJpdHksIEw9QXJsaW5ndG9uLCBTVD1WaXJnaW5pYSwgQz1VUy1DTj1rdWJlLWNhLTEyMDIxNDc5MjEwMzYwNzMyMTUyIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwczovL29pZGNpZHAudHJlbW9sby5sYW46ODQ0My9hdXRoL2lkcC9PaWRjSWRQIiwiYXVkIjoia3ViZXJuZXRlcyIsImV4cCI6MTQ4MzU0OTUxMSwianRpIjoiMm96US15TXdFcHV4WDlHZUhQdy1hZyIsImlhdCI6MTQ4MzU0OTQ1MSwibmJmIjoxNDgzNTQ5MzMxLCJzdWIiOiI0YWViMzdiYS1iNjQ1LTQ4ZmQtYWIzMC0xYTAxZWU0MWUyMTgifQ.w6p4J_6qQ1HzTG9nrEOrubxIMb9K5hzcMPxc9IxPx2K4xO9l-oFiUw93daH3m5pluP6K7eOE6txBuRVfEcpJSwlelsOsW8gb8VJcnzMS9EnZpeA0tW_p-mnkFc3VcfyXuhe5R3G7aa5d8uHv70yJ9Y3-UhjiN9EhpMdfPAoEB9fYKKkJRzF7utTTIPGrSaSU6d2pcpfYKaxIwePzEkT4DfcQthoZdy9ucNvvLoi1DIC-UocFD8HLs8LYKEqSxQvOcvnThbObJ9af71EwmuE21fO5KzMW20KtAeget1gnldOosPtz1G5EwvaQ401-RPQzPGMVBld0_zMCAwZttJ4knw
</code></pre></div><p>Which would produce the below configuration:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>mmosley<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>auth-provider</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>config</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>client-id</span>:<span style=color:#bbb> </span>kubernetes<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>client-secret</span>:<span style=color:#bbb> </span>1db158f6-177d-4d9c-8a8b-d36869918ec5<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>id-token</span>:<span style=color:#bbb> </span>eyJraWQiOiJDTj1vaWRjaWRwLnRyZW1vbG8ubGFuLCBPVT1EZW1vLCBPPVRybWVvbG8gU2VjdXJpdHksIEw9QXJsaW5ndG9uLCBTVD1WaXJnaW5pYSwgQz1VUy1DTj1rdWJlLWNhLTEyMDIxNDc5MjEwMzYwNzMyMTUyIiwiYWxnIjoiUlMyNTYifQ.eyJpc3MiOiJodHRwczovL29pZGNpZHAudHJlbW9sby5sYW46ODQ0My9hdXRoL2lkcC9PaWRjSWRQIiwiYXVkIjoia3ViZXJuZXRlcyIsImV4cCI6MTQ4MzU0OTUxMSwianRpIjoiMm96US15TXdFcHV4WDlHZUhQdy1hZyIsImlhdCI6MTQ4MzU0OTQ1MSwibmJmIjoxNDgzNTQ5MzMxLCJzdWIiOiI0YWViMzdiYS1iNjQ1LTQ4ZmQtYWIzMC0xYTAxZWU0MWUyMTgifQ.w6p4J_6qQ1HzTG9nrEOrubxIMb9K5hzcMPxc9IxPx2K4xO9l-oFiUw93daH3m5pluP6K7eOE6txBuRVfEcpJSwlelsOsW8gb8VJcnzMS9EnZpeA0tW_p-mnkFc3VcfyXuhe5R3G7aa5d8uHv70yJ9Y3-UhjiN9EhpMdfPAoEB9fYKKkJRzF7utTTIPGrSaSU6d2pcpfYKaxIwePzEkT4DfcQthoZdy9ucNvvLoi1DIC-UocFD8HLs8LYKEqSxQvOcvnThbObJ9af71EwmuE21fO5KzMW20KtAeget1gnldOosPtz1G5EwvaQ401-RPQzPGMVBld0_zMCAwZttJ4knw<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>idp-certificate-authority</span>:<span style=color:#bbb> </span>/root/ca.pem<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>idp-issuer-url</span>:<span style=color:#bbb> </span>https://oidcidp.tremolo.lan:8443/auth/idp/OidcIdP<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>refresh-token</span>:<span style=color:#bbb> </span>q1bKLFOyUiosTfawzA93TzZIDzH2TNa2SMm0zEiPKTUwME6BkEo6Sql5yUWVBSWpKUGphaWpxSVAfekBOZbBhaEW+VlFUeVRGcluyVF5JT4+haZmPsluFoFu5XkpXk5BXq<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>oidc<span style=color:#bbb>
</span></code></pre></div><p>Once your <code>id_token</code> expires, <code>kubectl</code> will attempt to refresh your <code>id_token</code> using your <code>refresh_token</code> and <code>client_secret</code> storing the new values for the <code>refresh_token</code> and <code>id_token</code> in your <code>.kube/config</code>.</p>
<h5 id=option-2-use-the-token-option>Option 2 - Use the <code>--token</code> Option</h5>
<p>The <code>kubectl</code> command lets you pass in a token using the <code>--token</code> option. Copy and paste the <code>id_token</code> into this option:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl --token<span style=color:#666>=</span>eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL21sYi50cmVtb2xvLmxhbjo4MDQzL2F1dGgvaWRwL29pZGMiLCJhdWQiOiJrdWJlcm5ldGVzIiwiZXhwIjoxNDc0NTk2NjY5LCJqdGkiOiI2RDUzNXoxUEpFNjJOR3QxaWVyYm9RIiwiaWF0IjoxNDc0NTk2MzY5LCJuYmYiOjE0NzQ1OTYyNDksInN1YiI6Im13aW5kdSIsInVzZXJfcm9sZSI6WyJ1c2VycyIsIm5ldy1uYW1lc3BhY2Utdmlld2VyIl0sImVtYWlsIjoibXdpbmR1QG5vbW9yZWplZGkuY29tIn0.f2As579n9VNoaKzoF-dOQGmXkFKf1FMyNV0-va_B63jn-_n9LGSCca_6IVMP8pO-Zb4KvRqGyTP0r3HkHxYy5c81AnIh8ijarruczl-TK_yF5akjSTHFZD-0gRzlevBDiH8Q79NAr-ky0P4iIXS8lY9Vnjch5MF74Zx0c3alKJHJUnnpjIACByfF2SCaYzbWFMUNat-K1PaUk5-ujMBG7yYnr95xD-63n8CO8teGUAAEMx6zRjzfhnhbzX-ajwZLGwGUBT4WqjMs70-6a7_8gZmLZb2az1cZynkFRj2BaCkVT3A2RrjeEwZEtGXlMqKJ1_I2ulrOVsYx01_yD35-rw get nodes
</code></pre></div><h3 id=webhook-token-authentication>Webhook Token Authentication</h3>
<p>Webhook authentication is a hook for verifying bearer tokens.</p>
<ul>
<li><code>--authentication-token-webhook-config-file</code> a configuration file describing how to access the remote webhook service.</li>
<li><code>--authentication-token-webhook-cache-ttl</code> how long to cache authentication decisions. Defaults to two minutes.</li>
<li><code>--authentication-token-webhook-version</code> determines whether to use <code>authentication.k8s.io/v1beta1</code> or <code>authentication.k8s.io/v1</code>
<code>TokenReview</code> objects to send/receive information from the webhook. Defaults to <code>v1beta1</code>.</li>
</ul>
<p>The configuration file uses the <a href=/docs/concepts/configuration/organize-cluster-access-kubeconfig/>kubeconfig</a>
file format. Within the file, <code>clusters</code> refers to the remote service and
<code>users</code> refers to the API server webhook. An example would be:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Kubernetes API version</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kind of the API object</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># clusters refers to the remote service.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>name-of-remote-authn-service<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span>/path/to/ca.pem        <span style=color:#bbb> </span><span style=color:#080;font-style:italic># CA for verifying the remote service.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span>https://authn.example.com/authenticate<span style=color:#bbb> </span><span style=color:#080;font-style:italic># URL of remote service to query. &#39;https&#39; recommended for production.</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># users refers to the API server&#39;s webhook configuration.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>name-of-api-server<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>client-certificate</span>:<span style=color:#bbb> </span>/path/to/cert.pem<span style=color:#bbb> </span><span style=color:#080;font-style:italic># cert for the webhook plugin to use</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>client-key</span>:<span style=color:#bbb> </span>/path/to/key.pem         <span style=color:#bbb> </span><span style=color:#080;font-style:italic># key matching the cert</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kubeconfig files require a context. Provide one for the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>current-context</span>:<span style=color:#bbb> </span>webhook<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>contexts</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>context</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb> </span>name-of-remote-authn-service<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb> </span>name-of-api-server<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>webhook<span style=color:#bbb>
</span></code></pre></div><p>When a client attempts to authenticate with the API server using a bearer token as discussed <a href=#putting-a-bearer-token-in-a-request>above</a>,
the authentication webhook POSTs a JSON-serialized <code>TokenReview</code> object containing the token to the remote service.</p>
<p>Note that webhook API objects are subject to the same <a href=/docs/concepts/overview/kubernetes-api/>versioning compatibility rules</a> as other Kubernetes API objects.
Implementers should check the <code>apiVersion</code> field of the request to ensure correct deserialization,
and <strong>must</strong> respond with a <code>TokenReview</code> object of the same version as the request.</p>
<ul class="nav nav-tabs" id=tokenreview-request role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tokenreview-request-0 role=tab aria-controls=tokenreview-request-0 aria-selected=true>authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tokenreview-request-1 role=tab aria-controls=tokenreview-request-1>authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=tokenreview-request><div id=tokenreview-request-0 class="tab-pane show active" role=tabpanel aria-labelledby=tokenreview-request-0>
<p><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The Kubernetes API server defaults to sending <code>authentication.k8s.io/v1beta1</code> token reviews for backwards compatibility.
To opt into receiving <code>authentication.k8s.io/v1</code> token reviews, the API server must be started with <code>--authentication-token-webhook-version=v1</code>.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;authentication.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;TokenReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;spec&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Opaque bearer token sent to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;token&#34;: </span><span style=color:#b44>&#34;014fbff9a07c...&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>   
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Optional list of the audience identifiers for the server the token was presented to.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Audience-aware token authenticators (for example, OIDC token authenticators) </span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># should verify the token was intended for at least one of the audiences in this list,</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># and return the intersection of this list and the valid audiences for the token in the response status.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This ensures the token is valid to authenticate to the server it was presented to.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># If no audiences are provided, the token should be validated to authenticate to the Kubernetes API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;audiences&#34;: </span>[<span style=color:#b44>&#34;https://myserver.example.com&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;https://myserver.internal.example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div>
<div id=tokenreview-request-1 class=tab-pane role=tabpanel aria-labelledby=tokenreview-request-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;authentication.k8s.io/v1beta1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;TokenReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;spec&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Opaque bearer token sent to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;token&#34;: </span><span style=color:#b44>&#34;014fbff9a07c...&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>   
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Optional list of the audience identifiers for the server the token was presented to.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Audience-aware token authenticators (for example, OIDC token authenticators) </span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># should verify the token was intended for at least one of the audiences in this list,</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># and return the intersection of this list and the valid audiences for the token in the response status.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This ensures the token is valid to authenticate to the server it was presented to.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># If no audiences are provided, the token should be validated to authenticate to the Kubernetes API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;audiences&#34;: </span>[<span style=color:#b44>&#34;https://myserver.example.com&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;https://myserver.internal.example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>The remote service is expected to fill the <code>status</code> field of the request to indicate the success of the login.
The response body's <code>spec</code> field is ignored and may be omitted.
The remote service must return a response using the same <code>TokenReview</code> API version that it received.
A successful validation of the bearer token would return:</p>
<ul class="nav nav-tabs" id=tokenreview-response-success role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tokenreview-response-success-0 role=tab aria-controls=tokenreview-response-success-0 aria-selected=true>authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tokenreview-response-success-1 role=tab aria-controls=tokenreview-response-success-1>authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=tokenreview-response-success><div id=tokenreview-response-success-0 class="tab-pane show active" role=tabpanel aria-labelledby=tokenreview-response-success-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;authentication.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;TokenReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;status&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;authenticated&#34;: </span><span style=color:#a2f;font-weight:700>true</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;user&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Required</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;username&#34;: </span><span style=color:#b44>&#34;janedoe@example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Optional</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;uid&#34;: </span><span style=color:#b44>&#34;42&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Optional group memberships</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;groups&#34;: </span>[<span style=color:#b44>&#34;developers&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;qa&#34;</span>],<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Optional additional information provided by the authenticator.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># This should not contain confidential data, as it can be recorded in logs</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># or API objects, and is made available to admission webhooks.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;extra&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;extrafield1&#34;: </span>[<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:#b44>&#34;extravalue1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:#b44>&#34;extravalue2&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>]<span style=color:#bbb>
</span><span style=color:#bbb>      </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Optional list audience-aware token authenticators can return,</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># containing the audiences from the `spec.audiences` list for which the provided token was valid.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># If this is omitted, the token is considered to be valid to authenticate to the Kubernetes API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;audiences&#34;: </span>[<span style=color:#b44>&#34;https://myserver.example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div>
<div id=tokenreview-response-success-1 class=tab-pane role=tabpanel aria-labelledby=tokenreview-response-success-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;authentication.k8s.io/v1beta1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;TokenReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;status&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;authenticated&#34;: </span><span style=color:#a2f;font-weight:700>true</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;user&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Required</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;username&#34;: </span><span style=color:#b44>&#34;janedoe@example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Optional</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;uid&#34;: </span><span style=color:#b44>&#34;42&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Optional group memberships</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;groups&#34;: </span>[<span style=color:#b44>&#34;developers&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;qa&#34;</span>],<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Optional additional information provided by the authenticator.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># This should not contain confidential data, as it can be recorded in logs</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># or API objects, and is made available to admission webhooks.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;extra&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;extrafield1&#34;: </span>[<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:#b44>&#34;extravalue1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:#b44>&#34;extravalue2&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>]<span style=color:#bbb>
</span><span style=color:#bbb>      </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Optional list audience-aware token authenticators can return,</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># containing the audiences from the `spec.audiences` list for which the provided token was valid.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># If this is omitted, the token is considered to be valid to authenticate to the Kubernetes API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;audiences&#34;: </span>[<span style=color:#b44>&#34;https://myserver.example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>An unsuccessful request would return:</p>
<ul class="nav nav-tabs" id=tokenreview-response-error role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tokenreview-response-error-0 role=tab aria-controls=tokenreview-response-error-0 aria-selected=true>authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tokenreview-response-error-1 role=tab aria-controls=tokenreview-response-error-1>authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=tokenreview-response-error><div id=tokenreview-response-error-0 class="tab-pane show active" role=tabpanel aria-labelledby=tokenreview-response-error-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;authentication.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;TokenReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;status&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;authenticated&#34;: </span><span style=color:#a2f;font-weight:700>false</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Optionally include details about why authentication failed.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># If no error is provided, the API will return a generic Unauthorized message.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># The error field is ignored when authenticated=true.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;error&#34;: </span><span style=color:#b44>&#34;Credentials are expired&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div>
<div id=tokenreview-response-error-1 class=tab-pane role=tabpanel aria-labelledby=tokenreview-response-error-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;authentication.k8s.io/v1beta1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;TokenReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;status&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;authenticated&#34;: </span><span style=color:#a2f;font-weight:700>false</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Optionally include details about why authentication failed.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># If no error is provided, the API will return a generic Unauthorized message.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># The error field is ignored when authenticated=true.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;error&#34;: </span><span style=color:#b44>&#34;Credentials are expired&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div></div>
<h3 id=authenticating-proxy>Authenticating Proxy</h3>
<p>The API server can be configured to identify users from request header values, such as <code>X-Remote-User</code>.
It is designed for use in combination with an authenticating proxy, which sets the request header value.</p>
<ul>
<li><code>--requestheader-username-headers</code> Required, case-insensitive. Header names to check, in order, for the user identity. The first header containing a value is used as the username.</li>
<li><code>--requestheader-group-headers</code> 1.6+. Optional, case-insensitive. "X-Remote-Group" is suggested. Header names to check, in order, for the user's groups. All values in all specified headers are used as group names.</li>
<li><code>--requestheader-extra-headers-prefix</code> 1.6+. Optional, case-insensitive. "X-Remote-Extra-" is suggested. Header prefixes to look for to determine extra information about the user (typically used by the configured authorization plugin). Any headers beginning with any of the specified prefixes have the prefix removed. The remainder of the header name is lowercased and <a href=https://tools.ietf.org/html/rfc3986#section-2.1>percent-decoded</a> and becomes the extra key, and the header value is the extra value.</li>
</ul>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Prior to 1.11.3 (and 1.10.7, 1.9.11), the extra key could only contain characters which were <a href=https://tools.ietf.org/html/rfc7230#section-3.2.6>legal in HTTP header labels</a>.
</div>
<p>For example, with this configuration:</p>
<pre><code>--requestheader-username-headers=X-Remote-User
--requestheader-group-headers=X-Remote-Group
--requestheader-extra-headers-prefix=X-Remote-Extra-
</code></pre><p>this request:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=color:#00a000>GET</span> <span style=color:#00f;font-weight:700>/</span> <span style=color:#a2f;font-weight:700>HTTP</span><span style=color:#666>/</span><span style=color:#666>1.1</span>
X-Remote-User<span style=color:#666>:</span> fido
X-Remote-Group<span style=color:#666>:</span> dogs
X-Remote-Group<span style=color:#666>:</span> dachshunds
X-Remote-Extra-Acme.com%2Fproject<span style=color:#666>:</span> some-project
X-Remote-Extra-Scopes<span style=color:#666>:</span> openid
X-Remote-Extra-Scopes<span style=color:#666>:</span> profile
</code></pre></div><p>would result in this user info:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>fido<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>groups</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- dogs<span style=color:#bbb>
</span><span style=color:#bbb></span>- dachshunds<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>extra</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>acme.com/project</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- some-project<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>scopes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- openid<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- profile<span style=color:#bbb>
</span></code></pre></div><p>In order to prevent header spoofing, the authenticating proxy is required to present a valid client
certificate to the API server for validation against the specified CA before the request headers are
checked. WARNING: do <strong>not</strong> reuse a CA that is used in a different context unless you understand
the risks and the mechanisms to protect the CA's usage.</p>
<ul>
<li><code>--requestheader-client-ca-file</code> Required. PEM-encoded certificate bundle. A valid client certificate must be presented and validated against the certificate authorities in the specified file before the request headers are checked for user names.</li>
<li><code>--requestheader-allowed-names</code> Optional. List of Common Name values (CNs). If set, a valid client certificate with a CN in the specified list must be presented before the request headers are checked for user names. If empty, any CN is allowed.</li>
</ul>
<h2 id=anonymous-requests>Anonymous requests</h2>
<p>When enabled, requests that are not rejected by other configured authentication methods are
treated as anonymous requests, and given a username of <code>system:anonymous</code> and a group of
<code>system:unauthenticated</code>.</p>
<p>For example, on a server with token authentication configured, and anonymous access enabled,
a request providing an invalid bearer token would receive a <code>401 Unauthorized</code> error.
A request providing no bearer token would be treated as an anonymous request.</p>
<p>In 1.5.1-1.5.x, anonymous access is disabled by default, and can be enabled by
passing the <code>--anonymous-auth=true</code> option to the API server.</p>
<p>In 1.6+, anonymous access is enabled by default if an authorization mode other than <code>AlwaysAllow</code>
is used, and can be disabled by passing the <code>--anonymous-auth=false</code> option to the API server.
Starting in 1.6, the ABAC and RBAC authorizers require explicit authorization of the
<code>system:anonymous</code> user or the <code>system:unauthenticated</code> group, so legacy policy rules
that grant access to the <code>*</code> user or <code>*</code> group do not include anonymous users.</p>
<h2 id=user-impersonation>User impersonation</h2>
<p>A user can act as another user through impersonation headers. These let requests
manually override the user info a request authenticates as. For example, an admin
could use this feature to debug an authorization policy by temporarily
impersonating another user and seeing if a request was denied.</p>
<p>Impersonation requests first authenticate as the requesting user, then switch
to the impersonated user info.</p>
<ul>
<li>A user makes an API call with their credentials <em>and</em> impersonation headers.</li>
<li>API server authenticates the user.</li>
<li>API server ensures the authenticated users have impersonation privileges.</li>
<li>Request user info is replaced with impersonation values.</li>
<li>Request is evaluated, authorization acts on impersonated user info.</li>
</ul>
<p>The following HTTP headers can be used to performing an impersonation request:</p>
<ul>
<li><code>Impersonate-User</code>: The username to act as.</li>
<li><code>Impersonate-Group</code>: A group name to act as. Can be provided multiple times to set multiple groups. Optional. Requires "Impersonate-User".</li>
<li><code>Impersonate-Extra-( extra name )</code>: A dynamic header used to associate extra fields with the user. Optional. Requires "Impersonate-User". In order to be preserved consistently, <code>( extra name )</code> should be lower-case, and any characters which aren't <a href=https://tools.ietf.org/html/rfc7230#section-3.2.6>legal in HTTP header labels</a> MUST be utf8 and <a href=https://tools.ietf.org/html/rfc3986#section-2.1>percent-encoded</a>.</li>
<li><code>Impersonate-Uid</code>: A unique identifier that represents the user being impersonated. Optional. Requires "Impersonate-User". Kubernetes does not impose any format requirements on this string.</li>
</ul>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Prior to 1.11.3 (and 1.10.7, 1.9.11), <code>( extra name )</code> could only contain characters which were <a href=https://tools.ietf.org/html/rfc7230#section-3.2.6>legal in HTTP header labels</a>.
</div>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>Impersonate-Uid</code> is only available in versions 1.22.0 and higher.
</div>
<p>An example of the impersonation headers used when impersonating a user with groups:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span>Impersonate-User: jane.doe@example.com
</span><span>Impersonate-Group: developers
</span><span>Impersonate-Group: admins
</span></code></pre></div><p>An example of the impersonation headers used when impersonating a user with a UID and
extra fields:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span>Impersonate-User: jane.doe@example.com
</span><span>Impersonate-Extra-dn: cn=jane,ou=engineers,dc=example,dc=com
</span><span>Impersonate-Extra-acme.com%2Fproject: some-project
</span><span>Impersonate-Extra-scopes: view
</span><span>Impersonate-Extra-scopes: development
</span><span>Impersonate-Uid: 06f6ce97-e2c5-4ab8-7ba5-7654dd08d52b
</span></code></pre></div><p>When using <code>kubectl</code> set the <code>--as</code> flag to configure the <code>Impersonate-User</code>
header, set the <code>--as-group</code> flag to configure the <code>Impersonate-Group</code> header.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl drain mynode
</code></pre></div><pre><code class=language-none data-lang=none>Error from server (Forbidden): User &quot;clark&quot; cannot get nodes at the cluster scope. (get nodes mynode)
</code></pre><p>Set the <code>--as</code> and <code>--as-group</code> flag:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl drain mynode --as<span style=color:#666>=</span>superman --as-group<span style=color:#666>=</span>system:masters
</code></pre></div><pre><code class=language-none data-lang=none>node/mynode cordoned
node/mynode drained
</code></pre><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>kubectl</code> cannot impersonate extra fields or UIDs.
</div>
<p>To impersonate a user, group, user identifier (UID) or extra fields, the impersonating user must
have the ability to perform the "impersonate" verb on the kind of attribute
being impersonated ("user", "group", "uid", etc.). For clusters that enable the RBAC
authorization plugin, the following ClusterRole encompasses the rules needed to
set user and group impersonation headers:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>impersonator<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;users&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;groups&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;serviceaccounts&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;impersonate&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>For impersonation, extra fields and impersonated UIDs are both under the "authentication.k8s.io" <code>apiGroup</code>.
Extra fields are evaluated as sub-resources of the resource "userextras". To
allow a user to use impersonation headers for the extra field "scopes" and
for UIDs, a user should be granted the following role:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>scopes-and-uid-impersonator<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Can set &#34;Impersonate-Extra-scopes&#34; header and the &#34;Impersonate-Uid&#34; header.</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;authentication.k8s.io&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;userextras/scopes&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;uids&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;impersonate&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>The values of impersonation headers can also be restricted by limiting the set
of <code>resourceNames</code> a resource can take.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>limited-impersonator<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Can impersonate the user &#34;jane.doe@example.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;users&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;impersonate&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;jane.doe@example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Can impersonate the groups &#34;developers&#34; and &#34;admins&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;groups&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;impersonate&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;developers&#34;</span>,<span style=color:#b44>&#34;admins&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Can impersonate the extras field &#34;scopes&#34; with the values &#34;view&#34; and &#34;development&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;authentication.k8s.io&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;userextras/scopes&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;impersonate&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;view&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;development&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Can impersonate the uid &#34;06f6ce97-e2c5-4ab8-7ba5-7654dd08d52b&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;authentication.k8s.io&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;uids&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;impersonate&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;06f6ce97-e2c5-4ab8-7ba5-7654dd08d52b&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><h2 id=client-go-credential-plugins>client-go credential plugins</h2>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [stable]</code>
</div>
<p><code>k8s.io/client-go</code> and tools using it such as <code>kubectl</code> and <code>kubelet</code> are able to execute an
external command to receive user credentials.</p>
<p>This feature is intended for client side integrations with authentication protocols not natively
supported by <code>k8s.io/client-go</code> (LDAP, Kerberos, OAuth2, SAML, etc.). The plugin implements the
protocol specific logic, then returns opaque credentials to use. Almost all credential plugin
use cases require a server side component with support for the <a href=#webhook-token-authentication>webhook token authenticator</a>
to interpret the credential format produced by the client plugin.</p>
<h3 id=example-use-case>Example use case</h3>
<p>In a hypothetical use case, an organization would run an external service that exchanges LDAP credentials
for user specific, signed tokens. The service would also be capable of responding to <a href=#webhook-token-authentication>webhook token
authenticator</a> requests to validate the tokens. Users would be required
to install a credential plugin on their workstation.</p>
<p>To authenticate against the API:</p>
<ul>
<li>The user issues a <code>kubectl</code> command.</li>
<li>Credential plugin prompts the user for LDAP credentials, exchanges credentials with external service for a token.</li>
<li>Credential plugin returns token to client-go, which uses it as a bearer token against the API server.</li>
<li>API server uses the <a href=#webhook-token-authentication>webhook token authenticator</a> to submit a <code>TokenReview</code> to the external service.</li>
<li>External service verifies the signature on the token and returns the user's username and groups.</li>
</ul>
<h3 id=configuration>Configuration</h3>
<p>Credential plugins are configured through <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubectl config files</a>
as part of the user fields.</p>
<ul class="nav nav-tabs" id=exec-plugin-kubeconfig-example-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#exec-plugin-kubeconfig-example-1-0 role=tab aria-controls=exec-plugin-kubeconfig-example-1-0 aria-selected=true>client.authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#exec-plugin-kubeconfig-example-1-1 role=tab aria-controls=exec-plugin-kubeconfig-example-1-1>client.authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=exec-plugin-kubeconfig-example-1><div id=exec-plugin-kubeconfig-example-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=exec-plugin-kubeconfig-example-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-user<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>exec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Command to execute. Required.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>command</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-client-go-exec-plugin&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># API version to use when decoding the ExecCredentials resource. Required.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># The API version returned by the plugin MUST match the version listed here.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># To integrate with tools that support multiple versions (such as client.authentication.k8s.io/v1alpha1),</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># set an environment variable, pass an argument to the tool that indicates which version the exec plugin expects,</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># or read the version from the ExecCredential object in the KUBERNETES_EXEC_INFO environment variable.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;client.authentication.k8s.io/v1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Environment variables to set when executing the plugin. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>env</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;FOO&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>value</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;bar&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Arguments to pass when executing the plugin. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>args</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;arg1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;arg2&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Text shown to the user when the executable doesn&#39;t seem to be present. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>installHint</span>:<span style=color:#bbb> </span>|<span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        example-client-go-exec-plugin is required to authenticate
</span><span style=color:#b44;font-style:italic>        to the current cluster.  It can be installed:
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        On macOS: brew install example-client-go-exec-plugin
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        On Ubuntu: apt-get install example-client-go-exec-plugin
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        On Fedora: dnf install example-client-go-exec-plugin
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        ...</span><span style=color:#bbb>        
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Whether or not to provide cluster information, which could potentially contain</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># very large CA data, to this exec plugin as a part of the KUBERNETES_EXEC_INFO</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># environment variable.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>provideClusterInfo</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># The contract between the exec plugin and the standard input I/O stream. If the</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># contract cannot be satisfied, this plugin will not be run and an error will be</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># returned. Valid values are &#34;Never&#34; (this exec plugin never uses standard input),</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># &#34;IfAvailable&#34; (this exec plugin wants to use standard input if it is available),</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># or &#34;Always&#34; (this exec plugin requires standard input to function). Required.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>interactiveMode</span>:<span style=color:#bbb> </span>Never<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;https://172.17.4.100:6443&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/kubernetes/ca.pem&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>extensions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>client.authentication.k8s.io/exec<span style=color:#bbb> </span><span style=color:#080;font-style:italic># reserved extension name for per cluster exec config</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>extension</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>arbitrary</span>:<span style=color:#bbb> </span>config<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>this</span>:<span style=color:#bbb> </span>can be provided via the KUBERNETES_EXEC_INFO environment variable upon setting provideClusterInfo<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>you</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;can&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;put&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;anything&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;here&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>contexts</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>context</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb> </span>my-user<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>current-context</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span></code></pre></div></div>
<div id=exec-plugin-kubeconfig-example-1-1 class=tab-pane role=tabpanel aria-labelledby=exec-plugin-kubeconfig-example-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-user<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>exec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Command to execute. Required.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>command</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-client-go-exec-plugin&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># API version to use when decoding the ExecCredentials resource. Required.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># The API version returned by the plugin MUST match the version listed here.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># To integrate with tools that support multiple versions (such as client.authentication.k8s.io/v1alpha1),</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># set an environment variable, pass an argument to the tool that indicates which version the exec plugin expects,</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># or read the version from the ExecCredential object in the KUBERNETES_EXEC_INFO environment variable.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;client.authentication.k8s.io/v1beta1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Environment variables to set when executing the plugin. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>env</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;FOO&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>value</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;bar&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Arguments to pass when executing the plugin. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>args</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;arg1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;arg2&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Text shown to the user when the executable doesn&#39;t seem to be present. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>installHint</span>:<span style=color:#bbb> </span>|<span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        example-client-go-exec-plugin is required to authenticate
</span><span style=color:#b44;font-style:italic>        to the current cluster.  It can be installed:
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        On macOS: brew install example-client-go-exec-plugin
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        On Ubuntu: apt-get install example-client-go-exec-plugin
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        On Fedora: dnf install example-client-go-exec-plugin
</span><span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>        ...</span><span style=color:#bbb>        
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Whether or not to provide cluster information, which could potentially contain</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># very large CA data, to this exec plugin as a part of the KUBERNETES_EXEC_INFO</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># environment variable.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>provideClusterInfo</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># The contract between the exec plugin and the standard input I/O stream. If the</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># contract cannot be satisfied, this plugin will not be run and an error will be</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># returned. Valid values are &#34;Never&#34; (this exec plugin never uses standard input),</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># &#34;IfAvailable&#34; (this exec plugin wants to use standard input if it is available),</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># or &#34;Always&#34; (this exec plugin requires standard input to function). Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Defaults to &#34;IfAvailable&#34;.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>interactiveMode</span>:<span style=color:#bbb> </span>Never<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;https://172.17.4.100:6443&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/kubernetes/ca.pem&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>extensions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>client.authentication.k8s.io/exec<span style=color:#bbb> </span><span style=color:#080;font-style:italic># reserved extension name for per cluster exec config</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>extension</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>arbitrary</span>:<span style=color:#bbb> </span>config<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>this</span>:<span style=color:#bbb> </span>can be provided via the KUBERNETES_EXEC_INFO environment variable upon setting provideClusterInfo<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>you</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;can&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;put&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;anything&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;here&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>contexts</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>context</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb> </span>my-user<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>current-context</span>:<span style=color:#bbb> </span>my-cluster<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>Relative command paths are interpreted as relative to the directory of the config file. If
KUBECONFIG is set to <code>/home/jane/kubeconfig</code> and the exec command is <code>./bin/example-client-go-exec-plugin</code>,
the binary <code>/home/jane/bin/example-client-go-exec-plugin</code> is executed.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-user<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>exec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Path relative to the directory of the kubeconfig</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>command</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;./bin/example-client-go-exec-plugin&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;client.authentication.k8s.io/v1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>interactiveMode</span>:<span style=color:#bbb> </span>Never<span style=color:#bbb>
</span></code></pre></div><h3 id=input-and-output-formats>Input and output formats</h3>
<p>The executed command prints an <code>ExecCredential</code> object to <code>stdout</code>. <code>k8s.io/client-go</code>
authenticates against the Kubernetes API using the returned credentials in the <code>status</code>.
The executed command is passed an <code>ExecCredential</code> object as input via the <code>KUBERNETES_EXEC_INFO</code>
environment variable. This input contains helpful information like the expected API version
of the returned <code>ExecCredential</code> object and whether or not the plugin can use <code>stdin</code> to interact
with the user.</p>
<p>When run from an interactive session (i.e., a terminal), <code>stdin</code> can be exposed directly
to the plugin. Plugins should use the <code>spec.interactive</code> field of the input
<code>ExecCredential</code> object from the <code>KUBERNETES_EXEC_INFO</code> environment variable in order to
determine if <code>stdin</code> has been provided. A plugin's <code>stdin</code> requirements (i.e., whether
<code>stdin</code> is optional, strictly required, or never used in order for the plugin
to run successfully) is declared via the <code>user.exec.interactiveMode</code> field in the
<a href=/docs/concepts/configuration/organize-cluster-access-kubeconfig/>kubeconfig</a> (see table
below for valid values). The <code>user.exec.interactiveMode</code> field is optional in <code>client.authentication.k8s.io/v1beta1</code>
and required in <code>client.authentication.k8s.io/v1</code>.</p>
<table><caption style=display:none>interactiveMode values</caption>
<thead>
<tr>
<th><code>interactiveMode</code> Value</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Never</code></td>
<td>This exec plugin never needs to use standard input, and therefore the exec plugin will be run regardless of whether standard input is available for user input.</td>
</tr>
<tr>
<td><code>IfAvailable</code></td>
<td>This exec plugin would like to use standard input if it is available, but can still operate if standard input is not available. Therefore, the exec plugin will be run regardless of whether stdin is available for user input. If standard input is available for user input, then it will be provided to this exec plugin.</td>
</tr>
<tr>
<td><code>Always</code></td>
<td>This exec plugin requires standard input in order to run, and therefore the exec plugin will only be run if standard input is available for user input. If standard input is not available for user input, then the exec plugin will not be run and an error will be returned by the exec plugin runner.</td>
</tr>
</tbody>
</table>
<p>To use bearer token credentials, the plugin returns a token in the status of the
<a href=/docs/reference/config-api/client-authentication.v1beta1/#client-authentication-k8s-io-v1beta1-ExecCredential><code>ExecCredential</code></a></p>
<ul class="nav nav-tabs" id=exec-plugin-execcredential-example-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#exec-plugin-execcredential-example-1-0 role=tab aria-controls=exec-plugin-execcredential-example-1-0 aria-selected=true>client.authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#exec-plugin-execcredential-example-1-1 role=tab aria-controls=exec-plugin-execcredential-example-1-1>client.authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=exec-plugin-execcredential-example-1><div id=exec-plugin-execcredential-example-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=exec-plugin-execcredential-example-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;token&#34;</span>: <span style=color:#b44>&#34;my-bearer-token&#34;</span>
  }
}
</code></pre></div></div>
<div id=exec-plugin-execcredential-example-1-1 class=tab-pane role=tabpanel aria-labelledby=exec-plugin-execcredential-example-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;token&#34;</span>: <span style=color:#b44>&#34;my-bearer-token&#34;</span>
  }
}
</code></pre></div></div></div>
<p>Alternatively, a PEM-encoded client certificate and key can be returned to use TLS client auth.
If the plugin returns a different certificate and key on a subsequent call, <code>k8s.io/client-go</code>
will close existing connections with the server to force a new TLS handshake.</p>
<p>If specified, <code>clientKeyData</code> and <code>clientCertificateData</code> must both must be present.</p>
<p><code>clientCertificateData</code> may contain additional intermediate certificates to send to the server.</p>
<ul class="nav nav-tabs" id=exec-plugin-execcredential-example-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#exec-plugin-execcredential-example-2-0 role=tab aria-controls=exec-plugin-execcredential-example-2-0 aria-selected=true>client.authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#exec-plugin-execcredential-example-2-1 role=tab aria-controls=exec-plugin-execcredential-example-2-1>client.authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=exec-plugin-execcredential-example-2><div id=exec-plugin-execcredential-example-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=exec-plugin-execcredential-example-2-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;clientCertificateData&#34;</span>: <span style=color:#b44>&#34;-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----&#34;</span>,
    <span style=color:green;font-weight:700>&#34;clientKeyData&#34;</span>: <span style=color:#b44>&#34;-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----&#34;</span>
  }
}
</code></pre></div></div>
<div id=exec-plugin-execcredential-example-2-1 class=tab-pane role=tabpanel aria-labelledby=exec-plugin-execcredential-example-2-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;clientCertificateData&#34;</span>: <span style=color:#b44>&#34;-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----&#34;</span>,
    <span style=color:green;font-weight:700>&#34;clientKeyData&#34;</span>: <span style=color:#b44>&#34;-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----&#34;</span>
  }
}
</code></pre></div></div></div>
<p>Optionally, the response can include the expiry of the credential formatted as a
RFC3339 timestamp. Presence or absence of an expiry has the following impact:</p>
<ul>
<li>If an expiry is included, the bearer token and TLS credentials are cached until
the expiry time is reached, or if the server responds with a 401 HTTP status code,
or when the process exits.</li>
<li>If an expiry is omitted, the bearer token and TLS credentials are cached until
the server responds with a 401 HTTP status code or until the process exits.</li>
</ul>
<ul class="nav nav-tabs" id=exec-plugin-execcredential-example-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#exec-plugin-execcredential-example-3-0 role=tab aria-controls=exec-plugin-execcredential-example-3-0 aria-selected=true>client.authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#exec-plugin-execcredential-example-3-1 role=tab aria-controls=exec-plugin-execcredential-example-3-1>client.authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=exec-plugin-execcredential-example-3><div id=exec-plugin-execcredential-example-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=exec-plugin-execcredential-example-3-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;token&#34;</span>: <span style=color:#b44>&#34;my-bearer-token&#34;</span>,
    <span style=color:green;font-weight:700>&#34;expirationTimestamp&#34;</span>: <span style=color:#b44>&#34;2018-03-05T17:30:20-08:00&#34;</span>
  }
}
</code></pre></div></div>
<div id=exec-plugin-execcredential-example-3-1 class=tab-pane role=tabpanel aria-labelledby=exec-plugin-execcredential-example-3-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;token&#34;</span>: <span style=color:#b44>&#34;my-bearer-token&#34;</span>,
    <span style=color:green;font-weight:700>&#34;expirationTimestamp&#34;</span>: <span style=color:#b44>&#34;2018-03-05T17:30:20-08:00&#34;</span>
  }
}
</code></pre></div></div></div>
<p>To enable the exec plugin to obtain cluster-specific information, set <code>provideClusterInfo</code> on the <code>user.exec</code>
field in the <a href=/docs/concepts/configuration/organize-cluster-access-kubeconfig/>kubeconfig</a>.
The plugin will then be supplied this cluster-specific information in the <code>KUBERNETES_EXEC_INFO</code> environment variable.
Information from this environment variable can be used to perform cluster-specific
credential acquisition logic.
The following <code>ExecCredential</code> manifest describes a cluster information sample.</p>
<ul class="nav nav-tabs" id=exec-plugin-execcredential-example-4 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#exec-plugin-execcredential-example-4-0 role=tab aria-controls=exec-plugin-execcredential-example-4-0 aria-selected=true>client.authentication.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#exec-plugin-execcredential-example-4-1 role=tab aria-controls=exec-plugin-execcredential-example-4-1>client.authentication.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=exec-plugin-execcredential-example-4><div id=exec-plugin-execcredential-example-4-0 class="tab-pane show active" role=tabpanel aria-labelledby=exec-plugin-execcredential-example-4-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;cluster&#34;</span>: {
      <span style=color:green;font-weight:700>&#34;server&#34;</span>: <span style=color:#b44>&#34;https://172.17.4.100:6443&#34;</span>,
      <span style=color:green;font-weight:700>&#34;certificate-authority-data&#34;</span>: <span style=color:#b44>&#34;LS0t...&#34;</span>,
      <span style=color:green;font-weight:700>&#34;config&#34;</span>: {
        <span style=color:green;font-weight:700>&#34;arbitrary&#34;</span>: <span style=color:#b44>&#34;config&#34;</span>,
        <span style=color:green;font-weight:700>&#34;this&#34;</span>: <span style=color:#b44>&#34;can be provided via the KUBERNETES_EXEC_INFO environment variable upon setting provideClusterInfo&#34;</span>,
        <span style=color:green;font-weight:700>&#34;you&#34;</span>: [<span style=color:#b44>&#34;can&#34;</span>, <span style=color:#b44>&#34;put&#34;</span>, <span style=color:#b44>&#34;anything&#34;</span>, <span style=color:#b44>&#34;here&#34;</span>]
      }
    },
    <span style=color:green;font-weight:700>&#34;interactive&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
  }
}
</code></pre></div></div>
<div id=exec-plugin-execcredential-example-4-1 class=tab-pane role=tabpanel aria-labelledby=exec-plugin-execcredential-example-4-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;client.authentication.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ExecCredential&#34;</span>,
  <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;cluster&#34;</span>: {
      <span style=color:green;font-weight:700>&#34;server&#34;</span>: <span style=color:#b44>&#34;https://172.17.4.100:6443&#34;</span>,
      <span style=color:green;font-weight:700>&#34;certificate-authority-data&#34;</span>: <span style=color:#b44>&#34;LS0t...&#34;</span>,
      <span style=color:green;font-weight:700>&#34;config&#34;</span>: {
        <span style=color:green;font-weight:700>&#34;arbitrary&#34;</span>: <span style=color:#b44>&#34;config&#34;</span>,
        <span style=color:green;font-weight:700>&#34;this&#34;</span>: <span style=color:#b44>&#34;can be provided via the KUBERNETES_EXEC_INFO environment variable upon setting provideClusterInfo&#34;</span>,
        <span style=color:green;font-weight:700>&#34;you&#34;</span>: [<span style=color:#b44>&#34;can&#34;</span>, <span style=color:#b44>&#34;put&#34;</span>, <span style=color:#b44>&#34;anything&#34;</span>, <span style=color:#b44>&#34;here&#34;</span>]
      }
    },
    <span style=color:green;font-weight:700>&#34;interactive&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
  }
}
</code></pre></div></div></div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>Read the <a href=/docs/reference/config-api/client-authentication.v1beta1/>client authentication reference (v1beta1)</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-de45b6ca7419a0e308044425b2ac52bb>3.2 - Authenticating with Bootstrap Tokens</h1>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.18 [stable]</code>
</div>
<p>Bootstrap tokens are a simple bearer token that is meant to be used when
creating new clusters or joining new nodes to an existing cluster. It was built
to support <a href=/docs/reference/setup-tools/kubeadm/>kubeadm</a>, but can be used in other contexts
for users that wish to start clusters without <code>kubeadm</code>. It is also built to
work, via RBAC policy, with the
<a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/>Kubelet TLS Bootstrapping</a> system.</p>
<h2 id=bootstrap-tokens-overview>Bootstrap Tokens Overview</h2>
<p>Bootstrap Tokens are defined with a specific type
(<code>bootstrap.kubernetes.io/token</code>) of secrets that lives in the <code>kube-system</code>
namespace. These Secrets are then read by the Bootstrap Authenticator in the
API Server. Expired tokens are removed with the TokenCleaner controller in the
Controller Manager. The tokens are also used to create a signature for a
specific ConfigMap used in a "discovery" process through a BootstrapSigner
controller.</p>
<h2 id=token-format>Token Format</h2>
<p>Bootstrap Tokens take the form of <code>abcdef.0123456789abcdef</code>. More formally,
they must match the regular expression <code>[a-z0-9]{6}\.[a-z0-9]{16}</code>.</p>
<p>The first part of the token is the "Token ID" and is considered public
information. It is used when referring to a token without leaking the secret
part used for authentication. The second part is the "Token Secret" and should
only be shared with trusted parties.</p>
<h2 id=enabling-bootstrap-token-authentication>Enabling Bootstrap Token Authentication</h2>
<p>The Bootstrap Token authenticator can be enabled using the following flag on the
API server:</p>
<pre><code>--enable-bootstrap-token-auth
</code></pre><p>When enabled, bootstrapping tokens can be used as bearer token credentials to
authenticate requests against the API server.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span>Authorization: Bearer 07401b.f395accd246ae52d
</span></code></pre></div><p>Tokens authenticate as the username <code>system:bootstrap:&lt;token id></code> and are members
of the group <code>system:bootstrappers</code>. Additional groups may be specified in the
token's Secret.</p>
<p>Expired tokens can be deleted automatically by enabling the <code>tokencleaner</code>
controller on the controller manager.</p>
<pre><code>--controllers=*,tokencleaner
</code></pre><h2 id=bootstrap-token-secret-format>Bootstrap Token Secret Format</h2>
<p>Each valid token is backed by a secret in the <code>kube-system</code> namespace. You can
find the full design doc
<a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/cluster-lifecycle/bootstrap-discovery.md>here</a>.</p>
<p>Here is what the secret looks like.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Secret<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Name MUST be of form &#34;bootstrap-token-&lt;token id&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>bootstrap-token-07401b<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>kube-system<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># Type MUST be &#39;bootstrap.kubernetes.io/token&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>bootstrap.kubernetes.io/token<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>stringData</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Human readable description. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>description</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;The default bootstrap token generated by &#39;kubeadm init&#39;.&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Token ID and secret. Required.</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>token-id</span>:<span style=color:#bbb> </span>07401b<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>token-secret</span>:<span style=color:#bbb> </span>f395accd246ae52d<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Expiration. Optional.</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>expiration</span>:<span style=color:#bbb> </span>2017-03-10T03:22:11Z<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Allowed usages.</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>usage-bootstrap-authentication</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>usage-bootstrap-signing</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Extra groups to authenticate the token as. Must start with &#34;system:bootstrappers:&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>auth-extra-groups</span>:<span style=color:#bbb> </span>system:bootstrappers:worker,system:bootstrappers:ingress<span style=color:#bbb>
</span></code></pre></div><p>The type of the secret must be <code>bootstrap.kubernetes.io/token</code> and the name must
be <code>bootstrap-token-&lt;token id></code>. It must also exist in the <code>kube-system</code>
namespace.</p>
<p>The <code>usage-bootstrap-*</code> members indicate what this secret is intended to be used
for. A value must be set to <code>true</code> to be enabled.</p>
<ul>
<li><code>usage-bootstrap-authentication</code> indicates that the token can be used to
authenticate to the API server as a bearer token.</li>
<li><code>usage-bootstrap-signing</code> indicates that the token may be used to sign the
<code>cluster-info</code> ConfigMap as described below.</li>
</ul>
<p>The <code>expiration</code> field controls the expiry of the token. Expired tokens are
rejected when used for authentication and ignored during ConfigMap signing.
The expiry value is encoded as an absolute UTC time using RFC3339. Enable the
<code>tokencleaner</code> controller to automatically delete expired tokens.</p>
<h2 id=token-management-with-kubeadm>Token Management with kubeadm</h2>
<p>You can use the <code>kubeadm</code> tool to manage tokens on a running cluster. See the
<a href=/docs/reference/setup-tools/kubeadm/kubeadm-token/>kubeadm token docs</a> for details.</p>
<h2 id=configmap-signing>ConfigMap Signing</h2>
<p>In addition to authentication, the tokens can be used to sign a ConfigMap. This
is used early in a cluster bootstrap process before the client trusts the API
server. The signed ConfigMap can be authenticated by the shared token.</p>
<p>Enable ConfigMap signing by enabling the <code>bootstrapsigner</code> controller on the
Controller Manager.</p>
<pre><code>--controllers=*,bootstrapsigner
</code></pre><p>The ConfigMap that is signed is <code>cluster-info</code> in the <code>kube-public</code> namespace.
The typical flow is that a client reads this ConfigMap while unauthenticated and
ignoring TLS errors. It then validates the payload of the ConfigMap by looking
at a signature embedded in the ConfigMap.</p>
<p>The ConfigMap may look like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ConfigMap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>cluster-info<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>kube-public<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>data</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>jws-kubeconfig-07401b</span>:<span style=color:#bbb> </span>eyJhbGciOiJIUzI1NiIsImtpZCI6IjA3NDAxYiJ9..tYEfbo6zDNo40MQE07aZcQX2m3EB2rO3NuXtxVMYm9U<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kubeconfig</span>:<span style=color:#bbb> </span>|<span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>    apiVersion: v1
</span><span style=color:#b44;font-style:italic>    clusters:
</span><span style=color:#b44;font-style:italic>    - cluster:
</span><span style=color:#b44;font-style:italic>        certificate-authority-data: &lt;really long certificate data&gt;
</span><span style=color:#b44;font-style:italic>        server: https://10.138.0.2:6443
</span><span style=color:#b44;font-style:italic>      name: &#34;&#34;
</span><span style=color:#b44;font-style:italic>    contexts: []
</span><span style=color:#b44;font-style:italic>    current-context: &#34;&#34;
</span><span style=color:#b44;font-style:italic>    kind: Config
</span><span style=color:#b44;font-style:italic>    preferences: {}
</span><span style=color:#b44;font-style:italic>    users: []</span><span style=color:#bbb>    
</span></code></pre></div><p>The <code>kubeconfig</code> member of the ConfigMap is a config file with only the cluster
information filled out. The key thing being communicated here is the
<code>certificate-authority-data</code>. This may be expanded in the future.</p>
<p>The signature is a JWS signature using the "detached" mode. To validate the
signature, the user should encode the <code>kubeconfig</code> payload according to JWS
rules (base64 encoded while discarding any trailing <code>=</code>). That encoded payload
is then used to form a whole JWS by inserting it between the 2 dots. You can
verify the JWS using the <code>HS256</code> scheme (HMAC-SHA256) with the full token (e.g.
<code>07401b.f395accd246ae52d</code>) as the shared secret. Users <em>must</em> verify that HS256
is used.</p>
<div class="alert alert-danger warning callout" role=alert>
<strong>Warning:</strong> Any party with a bootstrapping token can create a valid signature for that
token. When using ConfigMap signing it's discouraged to share the same token with
many clients, since a compromised client can potentially man-in-the middle another
client relying on the signature to bootstrap TLS trust.
</div>
<p>Consult the <a href=/docs/reference/setup-tools/kubeadm/implementation-details/>kubeadm implementation details</a>
section for more information.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3d0c14d1e3cfade38febc343cd044c73>3.3 - Certificate Signing Requests</h1>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.19 [stable]</code>
</div>
<p>The Certificates API enables automation of
<a href=https://www.itu.int/rec/T-REC-X.509>X.509</a> credential provisioning by providing
a programmatic interface for clients of the Kubernetes API to request and obtain
X.509 <a class=glossary-tooltip title="A cryptographically secure file used to validate access to the Kubernetes cluster." data-toggle=tooltip data-placement=top href=/docs/tasks/tls/managing-tls-in-a-cluster/ target=_blank aria-label=certificates>certificates</a> from a Certificate Authority (CA).</p>
<p>A CertificateSigningRequest (CSR) resource is used to request that a certificate be signed
by a denoted signer, after which the request may be approved or denied before
finally being signed.</p>
<h2 id=request-signing-process>Request signing process</h2>
<p>The CertificateSigningRequest resource type allows a client to ask for an X.509 certificate
be issued, based on a signing request.
The CertificateSigningRequest object includes a PEM-encoded PKCS#10 signing request in
the <code>spec.request</code> field. The CertificateSigningRequest denotes the signer (the
recipient that the request is being made to) using the <code>spec.signerName</code> field.
Note that <code>spec.signerName</code> is a required key after API version <code>certificates.k8s.io/v1</code>.
In Kubernetes v1.22 and later, clients may optionally set the <code>spec.expirationSeconds</code>
field to request a particular lifetime for the issued certificate. The minimum valid
value for this field is <code>600</code>, i.e. ten minutes.</p>
<p>Once created, a CertificateSigningRequest must be approved before it can be signed.
Depending on the signer selected, a CertificateSigningRequest may be automatically approved
by a <a class=glossary-tooltip title="A control loop that watches the shared state of the cluster through the apiserver and makes changes attempting to move the current state towards the desired state." data-toggle=tooltip data-placement=top href=/docs/concepts/architecture/controller/ target=_blank aria-label=controller>controller</a>.
Otherwise, a CertificateSigningRequest must be manually approved either via the REST API (or client-go)
or by running <code>kubectl certificate approve</code>. Likewise, a CertificateSigningRequest may also be denied,
which tells the configured signer that it must not sign the request.</p>
<p>For certificates that have been approved, the next step is signing. The relevant signing controller
first validates that the signing conditions are met and then creates a certificate.
The signing controller then updates the CertificateSigningRequest, storing the new certificate into
the <code>status.certificate</code> field of the existing CertificateSigningRequest object. The
<code>status.certificate</code> field is either empty or contains a X.509 certificate, encoded in PEM format.
The CertificateSigningRequest <code>status.certificate</code> field is empty until the signer does this.</p>
<p>Once the <code>status.certificate</code> field has been populated, the request has been completed and clients can now
fetch the signed certificate PEM data from the CertificateSigningRequest resource.
The signers can instead deny certificate signing if the approval conditions are not met.</p>
<p>In order to reduce the number of old CertificateSigningRequest resources left in a cluster, a garbage collection
controller runs periodically. The garbage collection removes CertificateSigningRequests that have not changed
state for some duration:</p>
<ul>
<li>Approved requests: automatically deleted after 1 hour</li>
<li>Denied requests: automatically deleted after 1 hour</li>
<li>Failed requests: automatically deleted after 1 hour</li>
<li>Pending requests: automatically deleted after 24 hours</li>
<li>All requests: automatically deleted after the issued certificate has expired</li>
</ul>
<h2 id=signers>Signers</h2>
<p>Custom signerNames can also be specified. All signers should provide information about how they work so that clients can predict what will happen to their CSRs.
This includes:</p>
<ol>
<li><strong>Trust distribution</strong>: how trust (CA bundles) are distributed.</li>
<li><strong>Permitted subjects</strong>: any restrictions on and behavior when a disallowed subject is requested.</li>
<li><strong>Permitted x509 extensions</strong>: including IP subjectAltNames, DNS subjectAltNames, Email subjectAltNames, URI subjectAltNames etc, and behavior when a disallowed extension is requested.</li>
<li><strong>Permitted key usages / extended key usages</strong>: any restrictions on and behavior when usages different than the signer-determined usages are specified in the CSR.</li>
<li><strong>Expiration/certificate lifetime</strong>: whether it is fixed by the signer, configurable by the admin, determined by the CSR <code>spec.expirationSeconds</code> field, etc
and the behavior when the signer-determined expiration is different from the CSR <code>spec.expirationSeconds</code> field.</li>
<li><strong>CA bit allowed/disallowed</strong>: and behavior if a CSR contains a request a for a CA certificate when the signer does not permit it.</li>
</ol>
<p>Commonly, the <code>status.certificate</code> field contains a single PEM-encoded X.509
certificate once the CSR is approved and the certificate is issued. Some
signers store multiple certificates into the <code>status.certificate</code> field. In
that case, the documentation for the signer should specify the meaning of
additional certificates; for example, this might be the certificate plus
intermediates to be presented during TLS handshakes.</p>
<p>The PKCS#10 signing request format does not have a standard mechanism to specify a
certificate expiration or lifetime. The expiration or lifetime therefore has to be set
through the <code>spec.expirationSeconds</code> field of the CSR object. The built-in signers
use the <code>ClusterSigningDuration</code> configuration option, which defaults to 1 year,
(the <code>--cluster-signing-duration</code> command-line flag of the kube-controller-manager)
as the default when no <code>spec.expirationSeconds</code> is specified. When <code>spec.expirationSeconds</code>
is specified, the minimum of <code>spec.expirationSeconds</code> and <code>ClusterSigningDuration</code> is
used.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The <code>spec.expirationSeconds</code> field was added in Kubernetes v1.22. Earlier versions of Kubernetes do not honor this field.
Kubernetes API servers prior to v1.22 will silently drop this field when the object is created.
</div>
<h3 id=kubernetes-signers>Kubernetes signers</h3>
<p>Kubernetes provides built-in signers that each have a well-known <code>signerName</code>:</p>
<ol>
<li>
<p><code>kubernetes.io/kube-apiserver-client</code>: signs certificates that will be honored as client certificates by the API server.
Never auto-approved by <a class=glossary-tooltip title="Control Plane component that runs controller processes." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-controller-manager/ target=_blank aria-label=kube-controller-manager>kube-controller-manager</a>.</p>
<ol>
<li>Trust distribution: signed certificates must be honored as client certificates by the API server. The CA bundle is not distributed by any other means.</li>
<li>Permitted subjects - no subject restrictions, but approvers and signers may choose not to approve or sign.
Certain subjects like cluster-admin level users or groups vary between distributions and installations,
but deserve additional scrutiny before approval and signing.
The <code>CertificateSubjectRestriction</code> admission plugin is enabled by default to restrict <code>system:masters</code>,
but it is often not the only cluster-admin subject in a cluster.</li>
<li>Permitted x509 extensions - honors subjectAltName and key usage extensions and discards other extensions.</li>
<li>Permitted key usages - must include <code>["client auth"]</code>. Must not include key usages beyond <code>["digital signature", "key encipherment", "client auth"]</code>.</li>
<li>Expiration/certificate lifetime - for the kube-controller-manager implementation of this signer, set to the minimum
of the <code>--cluster-signing-duration</code> option or, if specified, the <code>spec.expirationSeconds</code> field of the CSR object.</li>
<li>CA bit allowed/disallowed - not allowed.</li>
</ol>
</li>
<li>
<p><code>kubernetes.io/kube-apiserver-client-kubelet</code>: signs client certificates that will be honored as client certificates by the
API server.
May be auto-approved by <a class=glossary-tooltip title="Control Plane component that runs controller processes." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-controller-manager/ target=_blank aria-label=kube-controller-manager>kube-controller-manager</a>.</p>
<ol>
<li>Trust distribution: signed certificates must be honored as client certificates by the API server. The CA bundle
is not distributed by any other means.</li>
<li>Permitted subjects - organizations are exactly <code>["system:nodes"]</code>, common name starts with "<code>system:node:</code>".</li>
<li>Permitted x509 extensions - honors key usage extensions, forbids subjectAltName extensions and drops other extensions.</li>
<li>Permitted key usages - exactly <code>["key encipherment", "digital signature", "client auth"]</code>.</li>
<li>Expiration/certificate lifetime - for the kube-controller-manager implementation of this signer, set to the minimum
of the <code>--cluster-signing-duration</code> option or, if specified, the <code>spec.expirationSeconds</code> field of the CSR object.</li>
<li>CA bit allowed/disallowed - not allowed.</li>
</ol>
</li>
<li>
<p><code>kubernetes.io/kubelet-serving</code>: signs serving certificates that are honored as a valid kubelet serving certificate
by the API server, but has no other guarantees.
Never auto-approved by <a class=glossary-tooltip title="Control Plane component that runs controller processes." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-controller-manager/ target=_blank aria-label=kube-controller-manager>kube-controller-manager</a>.</p>
<ol>
<li>Trust distribution: signed certificates must be honored by the API server as valid to terminate connections to a kubelet.
The CA bundle is not distributed by any other means.</li>
<li>Permitted subjects - organizations are exactly <code>["system:nodes"]</code>, common name starts with "<code>system:node:</code>".</li>
<li>Permitted x509 extensions - honors key usage and DNSName/IPAddress subjectAltName extensions, forbids EmailAddress and
URI subjectAltName extensions, drops other extensions. At least one DNS or IP subjectAltName must be present.</li>
<li>Permitted key usages - exactly <code>["key encipherment", "digital signature", "server auth"]</code>.</li>
<li>Expiration/certificate lifetime - for the kube-controller-manager implementation of this signer, set to the minimum
of the <code>--cluster-signing-duration</code> option or, if specified, the <code>spec.expirationSeconds</code> field of the CSR object.</li>
<li>CA bit allowed/disallowed - not allowed.</li>
</ol>
</li>
<li>
<p><code>kubernetes.io/legacy-unknown</code>: has no guarantees for trust at all. Some third-party distributions of Kubernetes
may honor client certificates signed by it. The stable CertificateSigningRequest API (version <code>certificates.k8s.io/v1</code> and later)
does not allow to set the <code>signerName</code> as <code>kubernetes.io/legacy-unknown</code>.
Never auto-approved by <a class=glossary-tooltip title="Control Plane component that runs controller processes." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-controller-manager/ target=_blank aria-label=kube-controller-manager>kube-controller-manager</a>.</p>
<ol>
<li>Trust distribution: None. There is no standard trust or distribution for this signer in a Kubernetes cluster.</li>
<li>Permitted subjects - any</li>
<li>Permitted x509 extensions - honors subjectAltName and key usage extensions and discards other extensions.</li>
<li>Permitted key usages - any</li>
<li>Expiration/certificate lifetime - for the kube-controller-manager implementation of this signer, set to the minimum
of the <code>--cluster-signing-duration</code> option or, if specified, the <code>spec.expirationSeconds</code> field of the CSR object.</li>
<li>CA bit allowed/disallowed - not allowed.</li>
</ol>
</li>
</ol>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Failures for all of these are only reported in kube-controller-manager logs.
</div>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The <code>spec.expirationSeconds</code> field was added in Kubernetes v1.22. Earlier versions of Kubernetes do not honor this field.
Kubernetes API servers prior to v1.22 will silently drop this field when the object is created.
</div>
<p>Distribution of trust happens out of band for these signers. Any trust outside of those described above are strictly
coincidental. For instance, some distributions may honor <code>kubernetes.io/legacy-unknown</code> as client certificates for the
kube-apiserver, but this is not a standard.
None of these usages are related to ServiceAccount token secrets <code>.data[ca.crt]</code> in any way. That CA bundle is only
guaranteed to verify a connection to the API server using the default service (<code>kubernetes.default.svc</code>).</p>
<h2 id=authorization>Authorization</h2>
<p>To allow creating a CertificateSigningRequest and retrieving any CertificateSigningRequest:</p>
<ul>
<li>Verbs: <code>create</code>, <code>get</code>, <code>list</code>, <code>watch</code>, group: <code>certificates.k8s.io</code>, resource: <code>certificatesigningrequests</code></li>
</ul>
<p>For example:</p>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/access/certificate-signing-request/clusterrole-create.yaml download=access/certificate-signing-request/clusterrole-create.yaml><code>access/certificate-signing-request/clusterrole-create.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('access-certificate-signing-request-clusterrole-create-yaml')" title="Copy access/certificate-signing-request/clusterrole-create.yaml to clipboard">
</img>
</div>
<div class=includecode id=access-certificate-signing-request-clusterrole-create-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>csr-creator<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificatesigningrequests<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- create<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- get<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- list<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- watch<span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<p>To allow approving a CertificateSigningRequest:</p>
<ul>
<li>Verbs: <code>get</code>, <code>list</code>, <code>watch</code>, group: <code>certificates.k8s.io</code>, resource: <code>certificatesigningrequests</code></li>
<li>Verbs: <code>update</code>, group: <code>certificates.k8s.io</code>, resource: <code>certificatesigningrequests/approval</code></li>
<li>Verbs: <code>approve</code>, group: <code>certificates.k8s.io</code>, resource: <code>signers</code>, resourceName: <code>&lt;signerNameDomain>/&lt;signerNamePath></code> or <code>&lt;signerNameDomain>/*</code></li>
</ul>
<p>For example:</p>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/access/certificate-signing-request/clusterrole-approve.yaml download=access/certificate-signing-request/clusterrole-approve.yaml><code>access/certificate-signing-request/clusterrole-approve.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('access-certificate-signing-request-clusterrole-approve-yaml')" title="Copy access/certificate-signing-request/clusterrole-approve.yaml to clipboard">
</img>
</div>
<div class=includecode id=access-certificate-signing-request-clusterrole-approve-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>csr-approver<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificatesigningrequests<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- get<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- list<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- watch<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificatesigningrequests/approval<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- update<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- signers<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- example.com/my-signer-name<span style=color:#bbb> </span><span style=color:#080;font-style:italic># example.com/* can be used to authorize for all signers in the &#39;example.com&#39; domain</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- approve<span style=color:#bbb>
</span><span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<p>To allow signing a CertificateSigningRequest:</p>
<ul>
<li>Verbs: <code>get</code>, <code>list</code>, <code>watch</code>, group: <code>certificates.k8s.io</code>, resource: <code>certificatesigningrequests</code></li>
<li>Verbs: <code>update</code>, group: <code>certificates.k8s.io</code>, resource: <code>certificatesigningrequests/status</code></li>
<li>Verbs: <code>sign</code>, group: <code>certificates.k8s.io</code>, resource: <code>signers</code>, resourceName: <code>&lt;signerNameDomain>/&lt;signerNamePath></code> or <code>&lt;signerNameDomain>/*</code></li>
</ul>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/access/certificate-signing-request/clusterrole-sign.yaml download=access/certificate-signing-request/clusterrole-sign.yaml><code>access/certificate-signing-request/clusterrole-sign.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('access-certificate-signing-request-clusterrole-sign-yaml')" title="Copy access/certificate-signing-request/clusterrole-sign.yaml to clipboard">
</img>
</div>
<div class=includecode id=access-certificate-signing-request-clusterrole-sign-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>csr-signer<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificatesigningrequests<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- get<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- list<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- watch<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificatesigningrequests/status<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- update<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- certificates.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- signers<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- example.com/my-signer-name<span style=color:#bbb> </span><span style=color:#080;font-style:italic># example.com/* can be used to authorize for all signers in the &#39;example.com&#39; domain</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- sign<span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<h2 id=normal-user>Normal user</h2>
<p>A few steps are required in order to get a normal user to be able to
authenticate and invoke an API. First, this user must have a certificate issued
by the Kubernetes cluster, and then present that certificate to the Kubernetes API.</p>
<h3 id=create-private-key>Create private key</h3>
<p>The following scripts show how to generate PKI private key and CSR. It is
important to set CN and O attribute of the CSR. CN is the name of the user and
O is the group that this user will belong to. You can refer to
<a href=/docs/reference/access-authn-authz/rbac/>RBAC</a> for standard groups.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>openssl genrsa -out myuser.key <span style=color:#666>2048</span>
openssl req -new -key myuser.key -out myuser.csr
</code></pre></div><h3 id=create-certificatesigningrequest>Create CertificateSigningRequest</h3>
<p>Create a CertificateSigningRequest and submit it to a Kubernetes Cluster via kubectl. Below is a script to generate the CertificateSigningRequest.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cat <span style=color:#b44>&lt;&lt;EOF | kubectl apply -f -
</span><span style=color:#b44>apiVersion: certificates.k8s.io/v1
</span><span style=color:#b44>kind: CertificateSigningRequest
</span><span style=color:#b44>metadata:
</span><span style=color:#b44>  name: myuser
</span><span style=color:#b44>spec:
</span><span style=color:#b44>  request: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0KTUlJQ1ZqQ0NBVDRDQVFBd0VURVBNQTBHQTFVRUF3d0dZVzVuWld4aE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRgpBQU9DQVE4QU1JSUJDZ0tDQVFFQTByczhJTHRHdTYxakx2dHhWTTJSVlRWMDNHWlJTWWw0dWluVWo4RElaWjBOCnR2MUZtRVFSd3VoaUZsOFEzcWl0Qm0wMUFSMkNJVXBGd2ZzSjZ4MXF3ckJzVkhZbGlBNVhwRVpZM3ExcGswSDQKM3Z3aGJlK1o2MVNrVHF5SVBYUUwrTWM5T1Nsbm0xb0R2N0NtSkZNMUlMRVI3QTVGZnZKOEdFRjJ6dHBoaUlFMwpub1dtdHNZb3JuT2wzc2lHQ2ZGZzR4Zmd4eW8ybmlneFNVekl1bXNnVm9PM2ttT0x1RVF6cXpkakJ3TFJXbWlECklmMXBMWnoyalVnald4UkhCM1gyWnVVV1d1T09PZnpXM01LaE8ybHEvZi9DdS8wYk83c0x0MCt3U2ZMSU91TFcKcW90blZtRmxMMytqTy82WDNDKzBERHk5aUtwbXJjVDBnWGZLemE1dHJRSURBUUFCb0FBd0RRWUpLb1pJaHZjTgpBUUVMQlFBRGdnRUJBR05WdmVIOGR4ZzNvK21VeVRkbmFjVmQ1N24zSkExdnZEU1JWREkyQTZ1eXN3ZFp1L1BVCkkwZXpZWFV0RVNnSk1IRmQycVVNMjNuNVJsSXJ3R0xuUXFISUh5VStWWHhsdnZsRnpNOVpEWllSTmU3QlJvYXgKQVlEdUI5STZXT3FYbkFvczFqRmxNUG5NbFpqdU5kSGxpT1BjTU1oNndLaTZzZFhpVStHYTJ2RUVLY01jSVUyRgpvU2djUWdMYTk0aEpacGk3ZnNMdm1OQUxoT045UHdNMGM1dVJVejV4T0dGMUtCbWRSeEgvbUNOS2JKYjFRQm1HCkkwYitEUEdaTktXTU0xMzhIQXdoV0tkNjVoVHdYOWl4V3ZHMkh4TG1WQzg0L1BHT0tWQW9FNkpsYWFHdTlQVmkKdjlOSjVaZlZrcXdCd0hKbzZXdk9xVlA3SVFjZmg3d0drWm89Ci0tLS0tRU5EIENFUlRJRklDQVRFIFJFUVVFU1QtLS0tLQo=
</span><span style=color:#b44>  signerName: kubernetes.io/kube-apiserver-client
</span><span style=color:#b44>  expirationSeconds: 86400  # one day
</span><span style=color:#b44>  usages:
</span><span style=color:#b44>  - client auth
</span><span style=color:#b44>EOF</span>
</code></pre></div><p>Some points to note:</p>
<ul>
<li><code>usages</code> has to be '<code>client auth</code>'</li>
<li><code>expirationSeconds</code> could be made longer (i.e. <code>864000</code> for ten days) or shorter (i.e. <code>3600</code> for one hour)</li>
<li><code>request</code> is the base64 encoded value of the CSR file content.
You can get the content using this command: <code>cat myuser.csr | base64 | tr -d "\n"</code></li>
</ul>
<h3 id=approve-certificate-signing-request>Approve certificate signing request</h3>
<p>Use kubectl to create a CSR and approve it.</p>
<p>Get the list of CSRs:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get csr
</code></pre></div><p>Approve the CSR:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl certificate approve myuser
</code></pre></div><h3 id=get-the-certificate>Get the certificate</h3>
<p>Retrieve the certificate from the CSR:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get csr/myuser -o yaml
</code></pre></div><p>The certificate value is in Base64-encoded format under <code>status.certificate</code>.</p>
<p>Export the issued certificate from the CertificateSigningRequest.</p>
<pre><code>kubectl get csr myuser -o jsonpath='{.status.certificate}'| base64 -d &gt; myuser.crt
</code></pre><h3 id=create-role-and-rolebinding>Create Role and RoleBinding</h3>
<p>With the certificate created it is time to define the Role and RoleBinding for
this user to access Kubernetes cluster resources.</p>
<p>This is a sample command to create a Role for this new user:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create role developer --verb<span style=color:#666>=</span>create --verb<span style=color:#666>=</span>get --verb<span style=color:#666>=</span>list --verb<span style=color:#666>=</span>update --verb<span style=color:#666>=</span>delete --resource<span style=color:#666>=</span>pods
</code></pre></div><p>This is a sample command to create a RoleBinding for this new user:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding developer-binding-myuser --role<span style=color:#666>=</span>developer --user<span style=color:#666>=</span>myuser
</code></pre></div><h3 id=add-to-kubeconfig>Add to kubeconfig</h3>
<p>The last step is to add this user into the kubeconfig file.</p>
<p>First, you need to add new credentials:</p>
<pre><code>kubectl config set-credentials myuser --client-key=myuser.key --client-certificate=myuser.crt --embed-certs=true

</code></pre><p>Then, you need to add the context:</p>
<pre><code>kubectl config set-context myuser --cluster=kubernetes --user=myuser
</code></pre><p>To test it, change the context to <code>myuser</code>:</p>
<pre><code>kubectl config use-context myuser
</code></pre><h2 id=approval-rejection>Approval or rejection </h2>
<h3 id=approval-rejection-control-plane>Control plane automated approval</h3>
<p>The kube-controller-manager ships with a built-in approver for certificates with
a signerName of <code>kubernetes.io/kube-apiserver-client-kubelet</code> that delegates various
permissions on CSRs for node credentials to authorization.
The kube-controller-manager POSTs SubjectAccessReview resources to the API server
in order to check authorization for certificate approval.</p>
<h3 id=approval-rejection-kubectl>Approval or rejection using <code>kubectl</code></h3>
<p>A Kubernetes administrator (with appropriate permissions) can manually approve
(or deny) CertificateSigningRequests by using the <code>kubectl certificate approve</code> and <code>kubectl certificate deny</code> commands.</p>
<p>To approve a CSR with kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl certificate approve &lt;certificate-signing-request-name&gt;
</code></pre></div><p>Likewise, to deny a CSR:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl certificate deny &lt;certificate-signing-request-name&gt;
</code></pre></div><h3 id=approval-rejection-api-client>Approval or rejection using the Kubernetes API</h3>
<p>Users of the REST API can approve CSRs by submitting an UPDATE request to the <code>approval</code>
subresource of the CSR to be approved. For example, you could write an
<a class=glossary-tooltip title="A specialized controller used to manage a custom resource" data-toggle=tooltip data-placement=top href=/docs/concepts/extend-kubernetes/operator/ target=_blank aria-label=operator>operator</a> that watches for a particular
kind of CSR and then sends an UPDATE to approve them.</p>
<p>When you make an approval or rejection request, set either the <code>Approved</code> or <code>Denied</code>
status condition based on the state you determine:</p>
<p>For <code>Approved</code> CSRs:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>certificates.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>CertificateSigningRequest<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>status</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>conditions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>lastUpdateTime</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2020-02-08T11:37:35Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>lastTransitionTime</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2020-02-08T11:37:35Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>message</span>:<span style=color:#bbb> </span>Approved by my custom approver controller<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>reason</span>:<span style=color:#bbb> </span>ApprovedByMyPolicy<span style=color:#bbb> </span><span style=color:#080;font-style:italic># You can set this to any string</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>Approved<span style=color:#bbb>
</span></code></pre></div><p>For <code>Denied</code> CSRs:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>certificates.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>CertificateSigningRequest<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>status</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>conditions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>lastUpdateTime</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2020-02-08T11:37:35Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>lastTransitionTime</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;2020-02-08T11:37:35Z&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>message</span>:<span style=color:#bbb> </span>Denied by my custom approver controller<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>reason</span>:<span style=color:#bbb> </span>DeniedByMyPolicy<span style=color:#bbb> </span><span style=color:#080;font-style:italic># You can set this to any string</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>Denied<span style=color:#bbb>
</span></code></pre></div><p>It's usual to set <code>status.conditions.reason</code> to a machine-friendly reason
code using TitleCase; this is a convention but you can set it to anything
you like. If you want to add a note for human consumption, use the
<code>status.conditions.message</code> field.</p>
<h2 id=signing>Signing</h2>
<h3 id=signer-control-plane>Control plane signer</h3>
<p>The Kubernetes control plane implements each of the
<a href=/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers>Kubernetes signers</a>,
as part of the kube-controller-manager.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Prior to Kubernetes v1.18, the kube-controller-manager would sign any CSRs that
were marked as approved.
</div>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The <code>spec.expirationSeconds</code> field was added in Kubernetes v1.22. Earlier versions of Kubernetes do not honor this field.
Kubernetes API servers prior to v1.22 will silently drop this field when the object is created.
</div>
<h3 id=signer-api>API-based signers</h3>
<p>Users of the REST API can sign CSRs by submitting an UPDATE request to the <code>status</code>
subresource of the CSR to be signed.</p>
<p>As part of this request, the <code>status.certificate</code> field should be set to contain the
signed certificate. This field contains one or more PEM-encoded certificates.</p>
<p>All PEM blocks must have the "CERTIFICATE" label, contain no headers,
and the encoded data must be a BER-encoded ASN.1 Certificate structure
as described in <a href=https://tools.ietf.org/html/rfc5280#section-4.1>section 4 of RFC5280</a>.</p>
<p>Example certificate content:</p>
<pre><code>-----BEGIN CERTIFICATE-----
MIIDgjCCAmqgAwIBAgIUC1N1EJ4Qnsd322BhDPRwmg3b/oAwDQYJKoZIhvcNAQEL
BQAwXDELMAkGA1UEBhMCeHgxCjAIBgNVBAgMAXgxCjAIBgNVBAcMAXgxCjAIBgNV
BAoMAXgxCjAIBgNVBAsMAXgxCzAJBgNVBAMMAmNhMRAwDgYJKoZIhvcNAQkBFgF4
MB4XDTIwMDcwNjIyMDcwMFoXDTI1MDcwNTIyMDcwMFowNzEVMBMGA1UEChMMc3lz
dGVtOm5vZGVzMR4wHAYDVQQDExVzeXN0ZW06bm9kZToxMjcuMC4wLjEwggEiMA0G
CSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDne5X2eQ1JcLZkKvhzCR4Hxl9+ZmU3
+e1zfOywLdoQxrPi+o4hVsUH3q0y52BMa7u1yehHDRSaq9u62cmi5ekgXhXHzGmm
kmW5n0itRECv3SFsSm2DSghRKf0mm6iTYHWDHzUXKdm9lPPWoSOxoR5oqOsm3JEh
Q7Et13wrvTJqBMJo1GTwQuF+HYOku0NF/DLqbZIcpI08yQKyrBgYz2uO51/oNp8a
sTCsV4OUfyHhx2BBLUo4g4SptHFySTBwlpRWBnSjZPOhmN74JcpTLB4J5f4iEeA7
2QytZfADckG4wVkhH3C2EJUmRtFIBVirwDn39GXkSGlnvnMgF3uLZ6zNAgMBAAGj
YTBfMA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDAjAMBgNVHRMB
Af8EAjAAMB0GA1UdDgQWBBTREl2hW54lkQBDeVCcd2f2VSlB1DALBgNVHREEBDAC
ggAwDQYJKoZIhvcNAQELBQADggEBABpZjuIKTq8pCaX8dMEGPWtAykgLsTcD2jYr
L0/TCrqmuaaliUa42jQTt2OVsVP/L8ofFunj/KjpQU0bvKJPLMRKtmxbhXuQCQi1
qCRkp8o93mHvEz3mTUN+D1cfQ2fpsBENLnpS0F4G/JyY2Vrh19/X8+mImMEK5eOy
o0BMby7byUj98WmcUvNCiXbC6F45QTmkwEhMqWns0JZQY+/XeDhEcg+lJvz9Eyo2
aGgPsye1o3DpyXnyfJWAWMhOz7cikS5X2adesbgI86PhEHBXPIJ1v13ZdfCExmdd
M1fLPhLyR54fGaY+7/X8P9AZzPefAkwizeXwe9ii6/a08vWoiE4=
-----END CERTIFICATE-----
</code></pre><p>Non-PEM content may appear before or after the CERTIFICATE PEM blocks and is unvalidated,
to allow for explanatory text as described in section 5.2 of RFC7468.</p>
<p>When encoded in JSON or YAML, this field is base-64 encoded.
A CertificateSigningRequest containing the example certificate above would look like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>certificates.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>CertificateSigningRequest<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>status</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>certificate</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JS...&#34;</span><span style=color:#bbb>
</span></code></pre></div><h2 id=what-s-next>What's next</h2>
<ul>
<li>Read <a href=/docs/tasks/tls/managing-tls-in-a-cluster/>Manage TLS Certificates in a Cluster</a></li>
<li>View the source code for the kube-controller-manager built in <a href=https://github.com/kubernetes/kubernetes/blob/32ec6c212ec9415f604ffc1f4c1f29b782968ff1/pkg/controller/certificates/signer/cfssl_signer.go>signer</a></li>
<li>View the source code for the kube-controller-manager built in <a href=https://github.com/kubernetes/kubernetes/blob/32ec6c212ec9415f604ffc1f4c1f29b782968ff1/pkg/controller/certificates/approver/sarapprove.go>approver</a></li>
<li>For details of X.509 itself, refer to <a href=https://tools.ietf.org/html/rfc5280#section-3.1>RFC 5280</a> section 3.1</li>
<li>For information on the syntax of PKCS#10 certificate signing requests, refer to <a href=https://tools.ietf.org/html/rfc2986>RFC 2986</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-518807b9b00bda46d7c7e6e0b17c18f8>3.4 - Using Admission Controllers</h1>
<p>This page provides an overview of Admission Controllers.</p>
<h2 id=what-are-they>What are they?</h2>
<p>An admission controller is a piece of code that intercepts requests to the
Kubernetes API server prior to persistence of the object, but after the request
is authenticated and authorized. The controllers consist of the
<a href=#what-does-each-admission-controller-do>list</a> below, are compiled into the
<code>kube-apiserver</code> binary, and may only be configured by the cluster
administrator. In that list, there are two special controllers:
MutatingAdmissionWebhook and ValidatingAdmissionWebhook. These execute the
mutating and validating (respectively)
<a href=/docs/reference/access-authn-authz/extensible-admission-controllers/#admission-webhooks>admission control webhooks</a>
which are configured in the API.</p>
<p>Admission controllers may be "validating", "mutating", or both. Mutating
controllers may modify related objects to the requests they admit; validating controllers may not.</p>
<p>Admission controllers limit requests to create, delete, modify objects or connect to proxy. They do not limit requests to read objects.</p>
<p>The admission control process proceeds in two phases. In the first phase,
mutating admission controllers are run. In the second phase, validating
admission controllers are run. Note again that some of the controllers are
both.</p>
<p>If any of the controllers in either phase reject the request, the entire
request is rejected immediately and an error is returned to the end-user.</p>
<p>Finally, in addition to sometimes mutating the object in question, admission
controllers may sometimes have side effects, that is, mutate related
resources as part of request processing. Incrementing quota usage is the
canonical example of why this is necessary. Any such side-effect needs a
corresponding reclamation or reconciliation process, as a given admission
controller does not know for sure that a given request will pass all of the
other admission controllers.</p>
<h2 id=why-do-i-need-them>Why do I need them?</h2>
<p>Many advanced features in Kubernetes require an admission controller to be enabled in order
to properly support the feature. As a result, a Kubernetes API server that is not properly
configured with the right set of admission controllers is an incomplete server and will not
support all the features you expect.</p>
<h2 id=how-do-i-turn-on-an-admission-controller>How do I turn on an admission controller?</h2>
<p>The Kubernetes API server flag <code>enable-admission-plugins</code> takes a comma-delimited list of admission control plugins to invoke prior to modifying objects in the cluster.
For example, the following command line enables the <code>NamespaceLifecycle</code> and the <code>LimitRanger</code>
admission control plugins:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kube-apiserver --enable-admission-plugins<span style=color:#666>=</span>NamespaceLifecycle,LimitRanger ...
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Depending on the way your Kubernetes cluster is deployed and how the API server is
started, you may need to apply the settings in different ways. For example, you may
have to modify the systemd unit file if the API server is deployed as a systemd
service, you may modify the manifest file for the API server if Kubernetes is deployed
in a self-hosted way.
</div>
<h2 id=how-do-i-turn-off-an-admission-controller>How do I turn off an admission controller?</h2>
<p>The Kubernetes API server flag <code>disable-admission-plugins</code> takes a comma-delimited list of admission control plugins to be disabled, even if they are in the list of plugins enabled by default.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kube-apiserver --disable-admission-plugins<span style=color:#666>=</span>PodNodeSelector,AlwaysDeny ...
</code></pre></div><h2 id=which-plugins-are-enabled-by-default>Which plugins are enabled by default?</h2>
<p>To see which admission plugins are enabled:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kube-apiserver -h | grep enable-admission-plugins
</code></pre></div><p>In the current version, the default ones are:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, DefaultStorageClass, DefaultTolerationSeconds, LimitRanger, MutatingAdmissionWebhook, NamespaceLifecycle, PersistentVolumeClaimResize, Priority, ResourceQuota, RuntimeClass, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook
</code></pre></div><h2 id=what-does-each-admission-controller-do>What does each admission controller do?</h2>
<h3 id=alwaysadmit>AlwaysAdmit</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.13 [deprecated]</code>
</div>
<p>This admission controller allows all pods into the cluster. It is deprecated because its behavior is the same as if there were no admission controller at all.</p>
<h3 id=alwaysdeny>AlwaysDeny</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.13 [deprecated]</code>
</div>
<p>Rejects all requests. AlwaysDeny is DEPRECATED as it has no real meaning.</p>
<h3 id=alwayspullimages>AlwaysPullImages</h3>
<p>This admission controller modifies every new Pod to force the image pull policy to Always. This is useful in a
multitenant cluster so that users can be assured that their private images can only be used by those
who have the credentials to pull them. Without this admission controller, once an image has been pulled to a
node, any pod from any user can use it by knowing the image's name (assuming the Pod is
scheduled onto the right node), without any authorization check against the image. When this admission controller
is enabled, images are always pulled prior to starting containers, which means valid credentials are
required.</p>
<h3 id=certificateapproval>CertificateApproval</h3>
<p>This admission controller observes requests to 'approve' CertificateSigningRequest resources and performs additional
authorization checks to ensure the approving user has permission to <code>approve</code> certificate requests with the
<code>spec.signerName</code> requested on the CertificateSigningRequest resource.</p>
<p>See <a href=/docs/reference/access-authn-authz/certificate-signing-requests/>Certificate Signing Requests</a> for more
information on the permissions required to perform different actions on CertificateSigningRequest resources.</p>
<h3 id=certificatesigning>CertificateSigning</h3>
<p>This admission controller observes updates to the <code>status.certificate</code> field of CertificateSigningRequest resources
and performs an additional authorization checks to ensure the signing user has permission to <code>sign</code> certificate
requests with the <code>spec.signerName</code> requested on the CertificateSigningRequest resource.</p>
<p>See <a href=/docs/reference/access-authn-authz/certificate-signing-requests/>Certificate Signing Requests</a> for more
information on the permissions required to perform different actions on CertificateSigningRequest resources.</p>
<h3 id=certificatesubjectrestrictions>CertificateSubjectRestrictions</h3>
<p>This admission controller observes creation of CertificateSigningRequest resources that have a <code>spec.signerName</code>
of <code>kubernetes.io/kube-apiserver-client</code>. It rejects any request that specifies a 'group' (or 'organization attribute')
of <code>system:masters</code>.</p>
<h3 id=defaultingressclass>DefaultIngressClass</h3>
<p>This admission controller observes creation of <code>Ingress</code> objects that do not request any specific
ingress class and automatically adds a default ingress class to them. This way, users that do not
request any special ingress class do not need to care about them at all and they will get the
default one.</p>
<p>This admission controller does not do anything when no default ingress class is configured. When more than one ingress
class is marked as default, it rejects any creation of <code>Ingress</code> with an error and an administrator
must revisit their <code>IngressClass</code> objects and mark only one as default (with the annotation
"ingressclass.kubernetes.io/is-default-class"). This admission controller ignores any <code>Ingress</code>
updates; it acts only on creation.</p>
<p>See the <a href=/docs/concepts/services-networking/ingress/>ingress</a> documentation for more about ingress
classes and how to mark one as default.</p>
<h3 id=defaultstorageclass>DefaultStorageClass</h3>
<p>This admission controller observes creation of <code>PersistentVolumeClaim</code> objects that do not request any specific storage class
and automatically adds a default storage class to them.
This way, users that do not request any special storage class do not need to care about them at all and they
will get the default one.</p>
<p>This admission controller does not do anything when no default storage class is configured. When more than one storage
class is marked as default, it rejects any creation of <code>PersistentVolumeClaim</code> with an error and an administrator
must revisit their <code>StorageClass</code> objects and mark only one as default.
This admission controller ignores any <code>PersistentVolumeClaim</code> updates; it acts only on creation.</p>
<p>See <a href=/docs/concepts/storage/persistent-volumes/>persistent volume</a> documentation about persistent volume claims and
storage classes and how to mark a storage class as default.</p>
<h3 id=defaulttolerationseconds>DefaultTolerationSeconds</h3>
<p>This admission controller sets the default forgiveness toleration for pods to tolerate
the taints <code>notready:NoExecute</code> and <code>unreachable:NoExecute</code> based on the k8s-apiserver input parameters
<code>default-not-ready-toleration-seconds</code> and <code>default-unreachable-toleration-seconds</code> if the pods don't already
have toleration for taints <code>node.kubernetes.io/not-ready:NoExecute</code> or
<code>node.kubernetes.io/unreachable:NoExecute</code>.
The default value for <code>default-not-ready-toleration-seconds</code> and <code>default-unreachable-toleration-seconds</code> is 5 minutes.</p>
<h3 id=denyescalatingexec>DenyEscalatingExec</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.13 [deprecated]</code>
</div>
<p>This admission controller will deny exec and attach commands to pods that run with escalated privileges that
allow host access. This includes pods that run as privileged, have access to the host IPC namespace, and
have access to the host PID namespace.</p>
<p>The DenyEscalatingExec admission plugin is deprecated.</p>
<p>Use of a policy-based admission plugin (like <a href=#podsecuritypolicy>PodSecurityPolicy</a> or a custom admission plugin)
which can be targeted at specific users or Namespaces and also protects against creation of overly privileged Pods
is recommended instead.</p>
<h3 id=denyexeconprivileged>DenyExecOnPrivileged</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.13 [deprecated]</code>
</div>
<p>This admission controller will intercept all requests to exec a command in a pod if that pod has a privileged container.</p>
<p>This functionality has been merged into <a href=#denyescalatingexec>DenyEscalatingExec</a>.
The DenyExecOnPrivileged admission plugin is deprecated.</p>
<p>Use of a policy-based admission plugin (like <a href=#podsecuritypolicy>PodSecurityPolicy</a> or a custom admission plugin)
which can be targeted at specific users or Namespaces and also protects against creation of overly privileged Pods
is recommended instead.</p>
<h3 id=denyserviceexternalips>DenyServiceExternalIPs</h3>
<p>This admission controller rejects all net-new usage of the <code>Service</code> field <code>externalIPs</code>. This
feature is very powerful (allows network traffic interception) and not well
controlled by policy. When enabled, users of the cluster may not create new
Services which use <code>externalIPs</code> and may not add new values to <code>externalIPs</code> on
existing <code>Service</code> objects. Existing uses of <code>externalIPs</code> are not affected,
and users may remove values from <code>externalIPs</code> on existing <code>Service</code> objects.</p>
<p>Most users do not need this feature at all, and cluster admins should consider disabling it.
Clusters that do need to use this feature should consider using some custom policy to manage usage
of it.</p>
<h3 id=eventratelimit>EventRateLimit</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.13 [alpha]</code>
</div>
<p>This admission controller mitigates the problem where the API server gets flooded by
event requests. The cluster admin can specify event rate limits by:</p>
<ul>
<li>Enabling the <code>EventRateLimit</code> admission controller;</li>
<li>Referencing an <code>EventRateLimit</code> configuration file from the file provided to the API
server's command line flag <code>--admission-control-config-file</code>:</li>
</ul>
<ul class="nav nav-tabs" id=eventratelimit-example role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#eventratelimit-example-0 role=tab aria-controls=eventratelimit-example-0 aria-selected=true>apiserver.config.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#eventratelimit-example-1 role=tab aria-controls=eventratelimit-example-1>apiserver.k8s.io/v1alpha1</a></li></ul>
<div class=tab-content id=eventratelimit-example><div id=eventratelimit-example-0 class="tab-pane show active" role=tabpanel aria-labelledby=eventratelimit-example-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>EventRateLimit<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>eventconfig.yaml<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></div>
<div id=eventratelimit-example-1 class=tab-pane role=tabpanel aria-labelledby=eventratelimit-example-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>EventRateLimit<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>eventconfig.yaml<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></div></div>
<p>There are four types of limits that can be specified in the configuration:</p>
<ul>
<li><code>Server</code>: All event requests received by the API server share a single bucket.</li>
<li><code>Namespace</code>: Each namespace has a dedicated bucket.</li>
<li><code>User</code>: Each user is allocated a bucket.</li>
<li><code>SourceAndObject</code>: A bucket is assigned by each combination of source and
involved object of the event.</li>
</ul>
<p>Below is a sample <code>eventconfig.yaml</code> for such a configuration:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>eventratelimit.admission.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Configuration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>limits</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>Namespace<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>qps</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>burst</span>:<span style=color:#bbb> </span><span style=color:#666>100</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>cacheSize</span>:<span style=color:#bbb> </span><span style=color:#666>2000</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>User<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>qps</span>:<span style=color:#bbb> </span><span style=color:#666>10</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>burst</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span></code></pre></div><p>See the <a href=https://git.k8s.io/community/contributors/design-proposals/api-machinery/admission_control_event_rate_limit.md>EventRateLimit proposal</a>
for more details.</p>
<h3 id=extendedresourcetoleration>ExtendedResourceToleration</h3>
<p>This plug-in facilitates creation of dedicated nodes with extended resources.
If operators want to create dedicated nodes with extended resources (like GPUs, FPGAs etc.), they are expected to
<a href=/docs/concepts/scheduling-eviction/taint-and-toleration/#example-use-cases>taint the node</a> with the extended resource
name as the key. This admission controller, if enabled, automatically
adds tolerations for such taints to pods requesting extended resources, so users don't have to manually
add these tolerations.</p>
<h3 id=imagepolicywebhook>ImagePolicyWebhook</h3>
<p>The ImagePolicyWebhook admission controller allows a backend webhook to make admission decisions.</p>
<h4 id=configuration-file-format>Configuration File Format</h4>
<p>ImagePolicyWebhook uses a configuration file to set options for the behavior of the backend.
This file may be json or yaml and has the following format:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>imagePolicy</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span>/path/to/kubeconfig/for/backend<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># time in s to cache approval</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>allowTTL</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># time in s to cache denial</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>denyTTL</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># time in ms to wait between retries</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>retryBackoff</span>:<span style=color:#bbb> </span><span style=color:#666>500</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># determines behavior if the webhook backend fails</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>defaultAllow</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></code></pre></div><p>Reference the ImagePolicyWebhook configuration file from the file provided to the API server's command line flag <code>--admission-control-config-file</code>:</p>
<ul class="nav nav-tabs" id=imagepolicywebhook-example1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#imagepolicywebhook-example1-0 role=tab aria-controls=imagepolicywebhook-example1-0 aria-selected=true>apiserver.config.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#imagepolicywebhook-example1-1 role=tab aria-controls=imagepolicywebhook-example1-1>apiserver.k8s.io/v1alpha1</a></li></ul>
<div class=tab-content id=imagepolicywebhook-example1><div id=imagepolicywebhook-example1-0 class="tab-pane show active" role=tabpanel aria-labelledby=imagepolicywebhook-example1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>ImagePolicyWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>imagepolicyconfig.yaml<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></div>
<div id=imagepolicywebhook-example1-1 class=tab-pane role=tabpanel aria-labelledby=imagepolicywebhook-example1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>ImagePolicyWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>imagepolicyconfig.yaml<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></div></div>
<p>Alternatively, you can embed the configuration directly in the file:</p>
<ul class="nav nav-tabs" id=imagepolicywebhook-example2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#imagepolicywebhook-example2-0 role=tab aria-controls=imagepolicywebhook-example2-0 aria-selected=true>apiserver.config.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#imagepolicywebhook-example2-1 role=tab aria-controls=imagepolicywebhook-example2-1>apiserver.k8s.io/v1alpha1</a></li></ul>
<div class=tab-content id=imagepolicywebhook-example2><div id=imagepolicywebhook-example2-0 class="tab-pane show active" role=tabpanel aria-labelledby=imagepolicywebhook-example2-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>ImagePolicyWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>imagePolicy</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span>&lt;path-to-kubeconfig-file&gt;<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>allowTTL</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>denyTTL</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>retryBackoff</span>:<span style=color:#bbb> </span><span style=color:#666>500</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>defaultAllow</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></code></pre></div></div>
<div id=imagepolicywebhook-example2-1 class=tab-pane role=tabpanel aria-labelledby=imagepolicywebhook-example2-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>ImagePolicyWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>imagePolicy</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span>&lt;path-to-kubeconfig-file&gt;<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>allowTTL</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>denyTTL</span>:<span style=color:#bbb> </span><span style=color:#666>50</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>retryBackoff</span>:<span style=color:#bbb> </span><span style=color:#666>500</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>defaultAllow</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></code></pre></div></div></div>
<p>The ImagePolicyWebhook config file must reference a
<a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubeconfig</a>
formatted file which sets up the connection to the backend.
It is required that the backend communicate over TLS.</p>
<p>The kubeconfig file's cluster field must point to the remote service, and the user field must contain the returned authorizer.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># clusters refers to the remote service.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>name-of-remote-imagepolicy-service<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span>/path/to/ca.pem   <span style=color:#bbb> </span><span style=color:#080;font-style:italic># CA for verifying the remote service.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span>https://images.example.com/policy<span style=color:#bbb> </span><span style=color:#080;font-style:italic># URL of remote service to query. Must use &#39;https&#39;.</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># users refers to the API server&#39;s webhook configuration.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>name-of-api-server<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>client-certificate</span>:<span style=color:#bbb> </span>/path/to/cert.pem<span style=color:#bbb> </span><span style=color:#080;font-style:italic># cert for the webhook admission controller to use</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>client-key</span>:<span style=color:#bbb> </span>/path/to/key.pem         <span style=color:#bbb> </span><span style=color:#080;font-style:italic># key matching the cert</span><span style=color:#bbb>
</span></code></pre></div><p>For additional HTTP configuration, refer to the
<a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubeconfig</a> documentation.</p>
<h4 id=request-payloads>Request Payloads</h4>
<p>When faced with an admission decision, the API Server POSTs a JSON serialized <code>imagepolicy.k8s.io/v1alpha1</code> <code>ImageReview</code> object describing the action. This object contains fields describing the containers being admitted, as well as any pod annotations that match <code>*.image-policy.k8s.io/*</code>.</p>
<p>Note that webhook API objects are subject to the same versioning compatibility rules as other Kubernetes API objects. Implementers should be aware of looser compatibility promises for alpha objects and check the "apiVersion" field of the request to ensure correct deserialization. Additionally, the API Server must enable the imagepolicy.k8s.io/v1alpha1 API extensions group (<code>--runtime-config=imagepolicy.k8s.io/v1alpha1=true</code>).</p>
<p>An example request body:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;imagepolicy.k8s.io/v1alpha1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>:<span style=color:#b44>&#34;ImageReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;spec&#34;</span>:{
    <span style=color:green;font-weight:700>&#34;containers&#34;</span>:[
      {
        <span style=color:green;font-weight:700>&#34;image&#34;</span>:<span style=color:#b44>&#34;myrepo/myimage:v1&#34;</span>
      },
      {
        <span style=color:green;font-weight:700>&#34;image&#34;</span>:<span style=color:#b44>&#34;myrepo/myimage@sha256:beb6bd6a68f114c1dc2ea4b28db81bdf91de202a9014972bec5e4d9171d90ed&#34;</span>
      }
    ],
    <span style=color:green;font-weight:700>&#34;annotations&#34;</span>:{
      <span style=color:green;font-weight:700>&#34;mycluster.image-policy.k8s.io/ticket-1234&#34;</span>: <span style=color:#b44>&#34;break-glass&#34;</span>
    },
    <span style=color:green;font-weight:700>&#34;namespace&#34;</span>:<span style=color:#b44>&#34;mynamespace&#34;</span>
  }
}
</code></pre></div><p>The remote service is expected to fill the <code>ImageReviewStatus</code> field of the request and respond to either allow or disallow access. The response body's "spec" field is ignored and may be omitted. A permissive response would return:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;imagepolicy.k8s.io/v1alpha1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ImageReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
  }
}
</code></pre></div><p>To disallow access, the service would return:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;imagepolicy.k8s.io/v1alpha1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;ImageReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>,
    <span style=color:green;font-weight:700>&#34;reason&#34;</span>: <span style=color:#b44>&#34;image currently blacklisted&#34;</span>
  }
}
</code></pre></div><p>For further documentation refer to the <code>imagepolicy.v1alpha1</code> API objects and <code>plugin/pkg/admission/imagepolicy/admission.go</code>.</p>
<h4 id=extending-with-annotations>Extending with Annotations</h4>
<p>All annotations on a Pod that match <code>*.image-policy.k8s.io/*</code> are sent to the webhook. Sending annotations allows users who are aware of the image policy backend to send extra information to it, and for different backends implementations to accept different information.</p>
<p>Examples of information you might put here are:</p>
<ul>
<li>request to "break glass" to override a policy, in case of emergency.</li>
<li>a ticket number from a ticket system that documents the break-glass request</li>
<li>provide a hint to the policy server as to the imageID of the image being provided, to save it a lookup</li>
</ul>
<p>In any case, the annotations are provided by the user and are not validated by Kubernetes in any way. In the future, if an annotation is determined to be widely useful, it may be promoted to a named field of <code>ImageReviewSpec</code>.</p>
<h3 id=limitpodhardantiaffinitytopology>LimitPodHardAntiAffinityTopology</h3>
<p>This admission controller denies any pod that defines <code>AntiAffinity</code> topology key other than
<code>kubernetes.io/hostname</code> in <code>requiredDuringSchedulingRequiredDuringExecution</code>.</p>
<h3 id=limitranger>LimitRanger</h3>
<p>This admission controller will observe the incoming request and ensure that it does not violate any of the constraints
enumerated in the <code>LimitRange</code> object in a <code>Namespace</code>. If you are using <code>LimitRange</code> objects in
your Kubernetes deployment, you MUST use this admission controller to enforce those constraints. LimitRanger can also
be used to apply default resource requests to Pods that don't specify any; currently, the default LimitRanger
applies a 0.1 CPU requirement to all Pods in the <code>default</code> namespace.</p>
<p>See the <a href=https://git.k8s.io/community/contributors/design-proposals/resource-management/admission_control_limit_range.md>limitRange design doc</a>
and the <a href=/docs/tasks/administer-cluster/manage-resources/memory-default-namespace/>example of Limit Range</a> for more details.</p>
<h3 id=mutatingadmissionwebhook>MutatingAdmissionWebhook</h3>
<p>This admission controller calls any mutating webhooks which match the request. Matching
webhooks are called in serial; each one may modify the object if it desires.</p>
<p>This admission controller (as implied by the name) only runs in the mutating phase.</p>
<p>If a webhook called by this has side effects (for example, decrementing quota) it
<em>must</em> have a reconciliation system, as it is not guaranteed that subsequent
webhooks or validating admission controllers will permit the request to finish.</p>
<p>If you disable the MutatingAdmissionWebhook, you must also disable the
<code>MutatingWebhookConfiguration</code> object in the <code>admissionregistration.k8s.io/v1</code>
group/version via the <code>--runtime-config</code> flag (both are on by default in
versions >= 1.9).</p>
<h4 id=use-caution-when-authoring-and-installing-mutating-webhooks>Use caution when authoring and installing mutating webhooks</h4>
<ul>
<li>Users may be confused when the objects they try to create are different from
what they get back.</li>
<li>Built in control loops may break when the objects they try to create are
different when read back.
<ul>
<li>Setting originally unset fields is less likely to cause problems than
overwriting fields set in the original request. Avoid doing the latter.</li>
</ul>
</li>
<li>Future changes to control loops for built-in resources or third-party resources
may break webhooks that work well today. Even when the webhook installation API
is finalized, not all possible webhook behaviors will be guaranteed to be supported
indefinitely.</li>
</ul>
<h3 id=namespaceautoprovision>NamespaceAutoProvision</h3>
<p>This admission controller examines all incoming requests on namespaced resources and checks
if the referenced namespace does exist.
It creates a namespace if it cannot be found.
This admission controller is useful in deployments that do not want to restrict creation of
a namespace prior to its usage.</p>
<h3 id=namespaceexists>NamespaceExists</h3>
<p>This admission controller checks all requests on namespaced resources other than <code>Namespace</code> itself.
If the namespace referenced from a request doesn't exist, the request is rejected.</p>
<h3 id=namespacelifecycle>NamespaceLifecycle</h3>
<p>This admission controller enforces that a <code>Namespace</code> that is undergoing termination cannot have new objects created in it,
and ensures that requests in a non-existent <code>Namespace</code> are rejected. This admission controller also prevents deletion of
three system reserved namespaces <code>default</code>, <code>kube-system</code>, <code>kube-public</code>.</p>
<p>A <code>Namespace</code> deletion kicks off a sequence of operations that remove all objects (pods, services, etc.) in that
namespace. In order to enforce integrity of that process, we strongly recommend running this admission controller.</p>
<h3 id=noderestriction>NodeRestriction</h3>
<p>This admission controller limits the <code>Node</code> and <code>Pod</code> objects a kubelet can modify. In order to be limited by this admission controller,
kubelets must use credentials in the <code>system:nodes</code> group, with a username in the form <code>system:node:&lt;nodeName></code>.
Such kubelets will only be allowed to modify their own <code>Node</code> API object, and only modify <code>Pod</code> API objects that are bound to their node.
In Kubernetes 1.11+, kubelets are not allowed to update or remove taints from their <code>Node</code> API object.</p>
<p>In Kubernetes 1.13+, the <code>NodeRestriction</code> admission plugin prevents kubelets from deleting their <code>Node</code> API object,
and enforces kubelet modification of labels under the <code>kubernetes.io/</code> or <code>k8s.io/</code> prefixes as follows:</p>
<ul>
<li><strong>Prevents</strong> kubelets from adding/removing/updating labels with a <code>node-restriction.kubernetes.io/</code> prefix.
This label prefix is reserved for administrators to label their <code>Node</code> objects for workload isolation purposes,
and kubelets will not be allowed to modify labels with that prefix.</li>
<li><strong>Allows</strong> kubelets to add/remove/update these labels and label prefixes:
<ul>
<li><code>kubernetes.io/hostname</code></li>
<li><code>kubernetes.io/arch</code></li>
<li><code>kubernetes.io/os</code></li>
<li><code>beta.kubernetes.io/instance-type</code></li>
<li><code>node.kubernetes.io/instance-type</code></li>
<li><code>failure-domain.beta.kubernetes.io/region</code> (deprecated)</li>
<li><code>failure-domain.beta.kubernetes.io/zone</code> (deprecated)</li>
<li><code>topology.kubernetes.io/region</code></li>
<li><code>topology.kubernetes.io/zone</code></li>
<li><code>kubelet.kubernetes.io/</code>-prefixed labels</li>
<li><code>node.kubernetes.io/</code>-prefixed labels</li>
</ul>
</li>
</ul>
<p>Use of any other labels under the <code>kubernetes.io</code> or <code>k8s.io</code> prefixes by kubelets is reserved, and may be disallowed or allowed by the <code>NodeRestriction</code> admission plugin in the future.</p>
<p>Future versions may add additional restrictions to ensure kubelets have the minimal set of permissions required to operate correctly.</p>
<h3 id=ownerreferencespermissionenforcement>OwnerReferencesPermissionEnforcement</h3>
<p>This admission controller protects the access to the <code>metadata.ownerReferences</code> of an object
so that only users with "delete" permission to the object can change it.
This admission controller also protects the access to <code>metadata.ownerReferences[x].blockOwnerDeletion</code>
of an object, so that only users with "update" permission to the <code>finalizers</code>
subresource of the referenced <em>owner</em> can change it.</p>
<h3 id=persistentvolumeclaimresize>PersistentVolumeClaimResize</h3>
<p>This admission controller implements additional validations for checking incoming <code>PersistentVolumeClaim</code> resize requests.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Support for volume resizing is available as an alpha feature. Admins must set the feature gate <code>ExpandPersistentVolumes</code>
to <code>true</code> to enable resizing.
</div>
<p>After enabling the <code>ExpandPersistentVolumes</code> feature gate, enabling the <code>PersistentVolumeClaimResize</code> admission
controller is recommended, too. This admission controller prevents resizing of all claims by default unless a claim's <code>StorageClass</code>
explicitly enables resizing by setting <code>allowVolumeExpansion</code> to <code>true</code>.</p>
<p>For example: all <code>PersistentVolumeClaim</code>s created from the following <code>StorageClass</code> support volume expansion:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>storage.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>StorageClass<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>gluster-vol-default<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>provisioner</span>:<span style=color:#bbb> </span>kubernetes.io/glusterfs<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>parameters</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resturl</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;http://192.168.10.100:8080&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>restuser</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>secretNamespace</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>secretName</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>allowVolumeExpansion</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span></code></pre></div><p>For more information about persistent volume claims, see <a href=/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims>PersistentVolumeClaims</a>.</p>
<h3 id=persistentvolumelabel>PersistentVolumeLabel</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.13 [deprecated]</code>
</div>
<p>This admission controller automatically attaches region or zone labels to PersistentVolumes
as defined by the cloud provider (for example, GCE or AWS).
It helps ensure the Pods and the PersistentVolumes mounted are in the same
region and/or zone.
If the admission controller doesn't support automatic labelling your PersistentVolumes, you
may need to add the labels manually to prevent pods from mounting volumes from
a different zone. PersistentVolumeLabel is DEPRECATED and labeling persistent volumes has been taken over by
the <a class=glossary-tooltip title="Control plane component that integrates Kubernetes with third-party cloud providers." data-toggle=tooltip data-placement=top href=/docs/concepts/architecture/cloud-controller/ target=_blank aria-label=cloud-controller-manager>cloud-controller-manager</a>.
Starting from 1.11, this admission controller is disabled by default.</p>
<h3 id=podnodeselector>PodNodeSelector</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.5 [alpha]</code>
</div>
<p>This admission controller defaults and limits what node selectors may be used within a namespace by reading a namespace annotation and a global configuration.</p>
<h4 id=configuration-file-format-1>Configuration File Format</h4>
<p><code>PodNodeSelector</code> uses a configuration file to set options for the behavior of the backend.
Note that the configuration file format will move to a versioned file in a future release.
This file may be json or yaml and has the following format:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>podNodeSelectorPluginConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>clusterDefaultNodeSelector</span>:<span style=color:#bbb> </span>name-of-node-selector<span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>namespace1</span>:<span style=color:#bbb> </span>name-of-node-selector<span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>namespace2</span>:<span style=color:#bbb> </span>name-of-node-selector<span style=color:#bbb>
</span></code></pre></div><p>Reference the <code>PodNodeSelector</code> configuration file from the file provided to the API server's command line flag <code>--admission-control-config-file</code>:</p>
<ul class="nav nav-tabs" id=podnodeselector-example1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#podnodeselector-example1-0 role=tab aria-controls=podnodeselector-example1-0 aria-selected=true>apiserver.config.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#podnodeselector-example1-1 role=tab aria-controls=podnodeselector-example1-1>apiserver.k8s.io/v1alpha1</a></li></ul>
<div class=tab-content id=podnodeselector-example1><div id=podnodeselector-example1-0 class="tab-pane show active" role=tabpanel aria-labelledby=podnodeselector-example1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>PodNodeSelector<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>podnodeselector.yaml<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></div>
<div id=podnodeselector-example1-1 class=tab-pane role=tabpanel aria-labelledby=podnodeselector-example1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>PodNodeSelector<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>podnodeselector.yaml<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></div></div>
<h4 id=configuration-annotation-format>Configuration Annotation Format</h4>
<p><code>PodNodeSelector</code> uses the annotation key <code>scheduler.alpha.kubernetes.io/node-selector</code> to assign node selectors to namespaces.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Namespace<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scheduler.alpha.kubernetes.io/node-selector</span>:<span style=color:#bbb> </span>name-of-node-selector<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>namespace3<span style=color:#bbb>
</span></code></pre></div><h4 id=internal-behavior>Internal Behavior</h4>
<p>This admission controller has the following behavior:</p>
<ol>
<li>If the <code>Namespace</code> has an annotation with a key <code>scheduler.alpha.kubernetes.io/node-selector</code>, use its value as the
node selector.</li>
<li>If the namespace lacks such an annotation, use the <code>clusterDefaultNodeSelector</code> defined in the <code>PodNodeSelector</code>
plugin configuration file as the node selector.</li>
<li>Evaluate the pod's node selector against the namespace node selector for conflicts. Conflicts result in rejection.</li>
<li>Evaluate the pod's node selector against the namespace-specific allowed selector defined the plugin configuration file.
Conflicts result in rejection.</li>
</ol>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> PodNodeSelector allows forcing pods to run on specifically labeled nodes. Also see the PodTolerationRestriction
admission plugin, which allows preventing pods from running on specifically tainted nodes.
</div>
<h3 id=podsecurity>PodSecurity</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [alpha]</code>
</div>
<p>This is the replacement for the deprecated <a href=#podsecuritypolicy>PodSecurityPolicy</a> admission controller
defined in the next section. This admission controller acts on creation and modification of the pod and
determines if it should be admitted based on the requested security context and the
<a href=/docs/concepts/security/pod-security-standards/>Pod Security Standards</a>.</p>
<p>See the <a href=/docs/concepts/security/pod-security-admission/>Pod Security Admission documentation</a>
for more information.</p>
<h3 id=podsecuritypolicy>PodSecurityPolicy</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.21 [deprecated]</code>
</div>
<p>This admission controller acts on creation and modification of the pod and determines if it should be admitted
based on the requested security context and the available Pod Security Policies.</p>
<p>See also <a href=/docs/concepts/policy/pod-security-policy/>Pod Security Policy documentation</a>
for more information.</p>
<h3 id=podtolerationrestriction>PodTolerationRestriction</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.7 [alpha]</code>
</div>
<p>The PodTolerationRestriction admission controller verifies any conflict between tolerations of a pod and the tolerations of its namespace.
It rejects the pod request if there is a conflict.
It then merges the tolerations annotated on the namespace into the tolerations of the pod.
The resulting tolerations are checked against a list of allowed tolerations annotated to the namespace.
If the check succeeds, the pod request is admitted otherwise it is rejected.</p>
<p>If the namespace of the pod does not have any associated default tolerations or allowed
tolerations annotated, the cluster-level default tolerations or cluster-level list of allowed tolerations are used
instead if they are specified.</p>
<p>Tolerations to a namespace are assigned via the <code>scheduler.alpha.kubernetes.io/defaultTolerations</code> annotation key.
The list of allowed tolerations can be added via the <code>scheduler.alpha.kubernetes.io/tolerationsWhitelist</code> annotation key.</p>
<p>Example for namespace annotations:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Namespace<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>apps-that-need-nodes-exclusively<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scheduler.alpha.kubernetes.io/defaultTolerations</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;[{&#34;operator&#34;: &#34;Exists&#34;, &#34;effect&#34;: &#34;NoSchedule&#34;, &#34;key&#34;: &#34;dedicated-node&#34;}]&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scheduler.alpha.kubernetes.io/tolerationsWhitelist</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;[{&#34;operator&#34;: &#34;Exists&#34;, &#34;effect&#34;: &#34;NoSchedule&#34;, &#34;key&#34;: &#34;dedicated-node&#34;}]&#39;</span><span style=color:#bbb>
</span></code></pre></div><h3 id=priority>Priority</h3>
<p>The priority admission controller uses the <code>priorityClassName</code> field and populates the integer value of the priority. If the priority class is not found, the Pod is rejected.</p>
<h3 id=resourcequota>ResourceQuota</h3>
<p>This admission controller will observe the incoming request and ensure that it does not violate any of the constraints
enumerated in the <code>ResourceQuota</code> object in a <code>Namespace</code>. If you are using <code>ResourceQuota</code>
objects in your Kubernetes deployment, you MUST use this admission controller to enforce quota constraints.</p>
<p>See the <a href=https://git.k8s.io/community/contributors/design-proposals/resource-management/admission_control_resource_quota.md>resourceQuota design doc</a> and the <a href=/docs/concepts/policy/resource-quotas/>example of Resource Quota</a> for more details.</p>
<h3 id=runtimeclass>RuntimeClass</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.20 [stable]</code>
</div>
<p>If you enable the <code>PodOverhead</code> <a href=/docs/reference/command-line-tools-reference/feature-gates/>feature gate</a>, and define a RuntimeClass with <a href=/docs/concepts/scheduling-eviction/pod-overhead/>Pod overhead</a> configured, this admission controller checks incoming
Pods. When enabled, this admission controller rejects any Pod create requests that have the overhead already set.
For Pods that have a RuntimeClass is configured and selected in their <code>.spec</code>, this admission controller sets <code>.spec.overhead</code> in the Pod based on the value defined in the corresponding RuntimeClass.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The <code>.spec.overhead</code> field for Pod and the <code>.overhead</code> field for RuntimeClass are both in beta. If you do not enable the <code>PodOverhead</code> feature gate, all Pods are treated as if <code>.spec.overhead</code> is unset.
</div>
<p>See also <a href=/docs/concepts/scheduling-eviction/pod-overhead/>Pod Overhead</a>
for more information.</p>
<h3 id=securitycontextdeny>SecurityContextDeny</h3>
<p>This admission controller will deny any pod that attempts to set certain escalating
<a href=/docs/reference/generated/kubernetes-api/v1.22/#securitycontext-v1-core>SecurityContext</a>
fields, as shown in the
<a href=/docs/tasks/configure-pod-container/security-context/>Configure a Security Context for a Pod or Container</a>
task.
This should be enabled if a cluster doesn't utilize
<a href=/docs/concepts/policy/pod-security-policy/>pod security policies</a>
to restrict the set of values a security context can take.</p>
<h3 id=serviceaccount>ServiceAccount</h3>
<p>This admission controller implements automation for
<a href=/docs/tasks/configure-pod-container/configure-service-account/>serviceAccounts</a>.
We strongly recommend using this admission controller if you intend to make use of Kubernetes <code>ServiceAccount</code> objects.</p>
<h3 id=storageobjectinuseprotection>StorageObjectInUseProtection</h3>
<p>The <code>StorageObjectInUseProtection</code> plugin adds the <code>kubernetes.io/pvc-protection</code> or <code>kubernetes.io/pv-protection</code>
finalizers to newly created Persistent Volume Claims (PVCs) or Persistent Volumes (PV).
In case a user deletes a PVC or PV the PVC or PV is not removed until the finalizer is removed
from the PVC or PV by PVC or PV Protection Controller.
Refer to the
<a href=/docs/concepts/storage/persistent-volumes/#storage-object-in-use-protection>Storage Object in Use Protection</a>
for more detailed information.</p>
<h3 id=taintnodesbycondition>TaintNodesByCondition</h3>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.17 [stable]</code>
</div>
<p>This admission controller <a class=glossary-tooltip title="A core object consisting of three required properties: key, value, and effect. Taints prevent the scheduling of pods on nodes or node groups." data-toggle=tooltip data-placement=top href=/docs/concepts/scheduling-eviction/taint-and-toleration/ target=_blank aria-label=taints>taints</a> newly created Nodes as <code>NotReady</code> and <code>NoSchedule</code>. That tainting avoids a race condition that could cause Pods to be scheduled on new Nodes before their taints were updated to accurately reflect their reported conditions.</p>
<h3 id=validatingadmissionwebhook>ValidatingAdmissionWebhook</h3>
<p>This admission controller calls any validating webhooks which match the request. Matching
webhooks are called in parallel; if any of them rejects the request, the request
fails. This admission controller only runs in the validation phase; the webhooks it calls may not
mutate the object, as opposed to the webhooks called by the <code>MutatingAdmissionWebhook</code> admission controller.</p>
<p>If a webhook called by this has side effects (for example, decrementing quota) it
<em>must</em> have a reconciliation system, as it is not guaranteed that subsequent
webhooks or other validating admission controllers will permit the request to finish.</p>
<p>If you disable the ValidatingAdmissionWebhook, you must also disable the
<code>ValidatingWebhookConfiguration</code> object in the <code>admissionregistration.k8s.io/v1</code>
group/version via the <code>--runtime-config</code> flag (both are on by default in
versions 1.9 and later).</p>
<h2 id=is-there-a-recommended-set-of-admission-controllers-to-use>Is there a recommended set of admission controllers to use?</h2>
<p>Yes. The recommended admission controllers are enabled by default (shown <a href=/docs/reference/command-line-tools-reference/kube-apiserver/#options>here</a>), so you do not need to explicitly specify them. You can enable additional admission controllers beyond the default set using the <code>--enable-admission-plugins</code> flag (<strong>order doesn't matter</strong>).</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>--admission-control</code> was deprecated in 1.10 and replaced with <code>--enable-admission-plugins</code>.
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d04751f776f1faa6a82bbb7f0a200950>3.5 - Dynamic Admission Control</h1>
<p>In addition to <a href=/docs/reference/access-authn-authz/admission-controllers/>compiled-in admission plugins</a>,
admission plugins can be developed as extensions and run as webhooks configured at runtime.
This page describes how to build, configure, use, and monitor admission webhooks.</p>
<h2 id=what-are-admission-webhooks>What are admission webhooks?</h2>
<p>Admission webhooks are HTTP callbacks that receive admission requests and do
something with them. You can define two types of admission webhooks,
<a href=/docs/reference/access-authn-authz/admission-controllers/#validatingadmissionwebhook>validating admission webhook</a>
and
<a href=/docs/reference/access-authn-authz/admission-controllers/#mutatingadmissionwebhook>mutating admission webhook</a>.
Mutating admission webhooks are invoked first, and can modify objects sent to the API server to enforce custom defaults.
After all object modifications are complete, and after the incoming object is validated by the API server,
validating admission webhooks are invoked and can reject requests to enforce custom policies.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Admission webhooks that need to guarantee they see the final state of the object in order to enforce policy
should use a validating admission webhook, since objects can be modified after being seen by mutating webhooks.
</div>
<h2 id=experimenting-with-admission-webhooks>Experimenting with admission webhooks</h2>
<p>Admission webhooks are essentially part of the cluster control-plane. You should
write and deploy them with great caution. Please read the <a href=/docs/reference/access-authn-authz/extensible-admission-controllers/#write-an-admission-webhook-server>user
guides</a> for
instructions if you intend to write/deploy production-grade admission webhooks.
In the following, we describe how to quickly experiment with admission webhooks.</p>
<h3 id=prerequisites>Prerequisites</h3>
<ul>
<li>
<p>Ensure that the Kubernetes cluster is at least as new as v1.16 (to use <code>admissionregistration.k8s.io/v1</code>),
or v1.9 (to use <code>admissionregistration.k8s.io/v1beta1</code>).</p>
</li>
<li>
<p>Ensure that MutatingAdmissionWebhook and ValidatingAdmissionWebhook
admission controllers are enabled.
<a href=/docs/reference/access-authn-authz/admission-controllers/#is-there-a-recommended-set-of-admission-controllers-to-use>Here</a>
is a recommended set of admission controllers to enable in general.</p>
</li>
<li>
<p>Ensure that the <code>admissionregistration.k8s.io/v1</code> or <code>admissionregistration.k8s.io/v1beta1</code> API is enabled.</p>
</li>
</ul>
<h3 id=write-an-admission-webhook-server>Write an admission webhook server</h3>
<p>Please refer to the implementation of the <a href=https://github.com/kubernetes/kubernetes/blob/release-1.21/test/images/agnhost/webhook/main.go>admission webhook
server</a>
that is validated in a Kubernetes e2e test. The webhook handles the
<code>AdmissionReview</code> request sent by the apiservers, and sends back its decision
as an <code>AdmissionReview</code> object in the same version it received.</p>
<p>See the <a href=#request>webhook request</a> section for details on the data sent to webhooks.</p>
<p>See the <a href=#response>webhook response</a> section for the data expected from webhooks.</p>
<p>The example admission webhook server leaves the <code>ClientAuth</code> field
<a href=https://github.com/kubernetes/kubernetes/blob/v1.22.0/test/images/agnhost/webhook/config.go#L38-L39>empty</a>,
which defaults to <code>NoClientCert</code>. This means that the webhook server does not
authenticate the identity of the clients, supposedly apiservers. If you need
mutual TLS or other ways to authenticate the clients, see
how to <a href=#authenticate-apiservers>authenticate apiservers</a>.</p>
<h3 id=deploy-the-admission-webhook-service>Deploy the admission webhook service</h3>
<p>The webhook server in the e2e test is deployed in the Kubernetes cluster, via
the <a href=/docs/reference/generated/kubernetes-api/v1.22/#deployment-v1-apps>deployment API</a>.
The test also creates a <a href=/docs/reference/generated/kubernetes-api/v1.22/#service-v1-core>service</a>
as the front-end of the webhook server. See
<a href=https://github.com/kubernetes/kubernetes/blob/v1.22.0/test/e2e/apimachinery/webhook.go#L748>code</a>.</p>
<p>You may also deploy your webhooks outside of the cluster. You will need to update
your webhook configurations accordingly.</p>
<h3 id=configure-admission-webhooks-on-the-fly>Configure admission webhooks on the fly</h3>
<p>You can dynamically configure what resources are subject to what admission
webhooks via
<a href=/docs/reference/generated/kubernetes-api/v1.22/#validatingwebhookconfiguration-v1-admissionregistration-k8s-io>ValidatingWebhookConfiguration</a>
or
<a href=/docs/reference/generated/kubernetes-api/v1.22/#mutatingwebhookconfiguration-v1-admissionregistration-k8s-io>MutatingWebhookConfiguration</a>.</p>
<p>The following is an example <code>ValidatingWebhookConfiguration</code>, a mutating webhook configuration is similar.
See the <a href=#webhook-configuration>webhook configuration</a> section for details about each config field.</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-example-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-example-1-0 role=tab aria-controls=validatingwebhookconfiguration-example-1-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-example-1-1 role=tab aria-controls=validatingwebhookconfiguration-example-1-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-example-1><div id=validatingwebhookconfiguration-example-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-example-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;pod-policy.example.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;pod-policy.example.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>   </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb>  </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>   </span>[<span style=color:#b44>&#34;pods&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb>       </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clientConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>service</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-namespace&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-service&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>caBundle</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Ci0tLS0tQk...&lt;`caBundle` is a PEM encoded CA bundle which will be used to validate the webhook&#39;s server certificate.&gt;...tLS0K&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>admissionReviewVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;v1beta1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>sideEffects</span>:<span style=color:#bbb> </span>None<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>timeoutSeconds</span>:<span style=color:#bbb> </span><span style=color:#666>5</span><span style=color:#bbb>
</span></code></pre></div></div>
<div id=validatingwebhookconfiguration-example-1-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-example-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;pod-policy.example.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;pod-policy.example.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb>   </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb>  </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>   </span>[<span style=color:#b44>&#34;pods&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb>       </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clientConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>service</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-namespace&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-service&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>caBundle</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Ci0tLS0tQk...&lt;`caBundle` is a PEM encoded CA bundle which will be used to validate the webhook&#39;s server certificate&gt;...tLS0K&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>admissionReviewVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1beta1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>timeoutSeconds</span>:<span style=color:#bbb> </span><span style=color:#666>5</span><span style=color:#bbb>
</span></code></pre></div></div></div>
<p>The scope field specifies if only cluster-scoped resources ("Cluster") or namespace-scoped
resources ("Namespaced") will match this rule. "∗" means that there are no scope restrictions.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> When using <code>clientConfig.service</code>, the server cert must be valid for
<code>&lt;svc_name>.&lt;svc_namespace>.svc</code>.
</div>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Default timeout for a webhook call is 10 seconds for webhooks registered created using <code>admissionregistration.k8s.io/v1</code>,
and 30 seconds for webhooks created using <code>admissionregistration.k8s.io/v1beta1</code>. Starting in kubernetes 1.14 you
can set the timeout and it is encouraged to use a small timeout for webhooks.
If the webhook call times out, the request is handled according to the webhook's
failure policy.
</div>
<p>When an apiserver receives a request that matches one of the <code>rules</code>, the
apiserver sends an <code>admissionReview</code> request to webhook as specified in the
<code>clientConfig</code>.</p>
<p>After you create the webhook configuration, the system will take a few seconds
to honor the new configuration.</p>
<h3 id=authenticate-apiservers>Authenticate apiservers</h3>
<p>If your admission webhooks require authentication, you can configure the
apiservers to use basic auth, bearer token, or a cert to authenticate itself to
the webhooks. There are three steps to complete the configuration.</p>
<ul>
<li>
<p>When starting the apiserver, specify the location of the admission control
configuration file via the <code>--admission-control-config-file</code> flag.</p>
</li>
<li>
<p>In the admission control configuration file, specify where the
MutatingAdmissionWebhook controller and ValidatingAdmissionWebhook controller
should read the credentials. The credentials are stored in kubeConfig files
(yes, the same schema that's used by kubectl), so the field name is
<code>kubeConfigFile</code>. Here is an example admission control configuration file:</p>
</li>
</ul>
<ul class="nav nav-tabs" id=admissionconfiguration-example1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionconfiguration-example1-0 role=tab aria-controls=admissionconfiguration-example1-0 aria-selected=true>apiserver.config.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionconfiguration-example1-1 role=tab aria-controls=admissionconfiguration-example1-1>apiserver.k8s.io/v1alpha1</a></li></ul>
<div class=tab-content id=admissionconfiguration-example1><div id=admissionconfiguration-example1-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionconfiguration-example1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>ValidatingAdmissionWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>WebhookAdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;path-to-kubeconfig-file&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>MutatingAdmissionWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>WebhookAdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;path-to-kubeconfig-file&gt;&#34;</span><span style=color:#bbb>
</span></code></pre></div></div>
<div id=admissionconfiguration-example1-1 class=tab-pane role=tabpanel aria-labelledby=admissionconfiguration-example1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>AdmissionConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>ValidatingAdmissionWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1, kind=WebhookAdmissionConfiguration</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>WebhookAdmission<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;path-to-kubeconfig-file&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>MutatingAdmissionWebhook<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>configuration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Deprecated in v1.17 in favor of apiserver.config.k8s.io/v1, kind=WebhookAdmissionConfiguration</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>apiserver.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>WebhookAdmission<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kubeConfigFile</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;path-to-kubeconfig-file&gt;&#34;</span><span style=color:#bbb>
</span></code></pre></div></div></div>
<p>For more information about <code>AdmissionConfiguration</code>, see the
<a href=/docs/reference/config-api/apiserver-webhookadmission.v1/>AdmissionConfiguration (v1) reference</a>.
See the <a href=#webhook-configuration>webhook configuration</a> section for details about each config field.</p>
<ul>
<li>
<p>In the kubeConfig file, provide the credentials:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># name should be set to the DNS name of the service or the host (including port) of the URL the webhook is configured to speak to.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># If a non-443 port is used for services, it must be included in the name when configuring 1.16+ API servers.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># For a webhook configured to speak to a service on the default port (443), specify the DNS name of the service:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># - name: webhook1.ns1.svc</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   user: ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># For a webhook configured to speak to a service on non-default port (e.g. 8443), specify the DNS name and port of the service in 1.16+:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># - name: webhook1.ns1.svc:8443</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   user: ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># and optionally create a second stanza using only the DNS name of the service for compatibility with 1.15 API servers:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># - name: webhook1.ns1.svc</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   user: ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># For webhooks configured to speak to a URL, match the host (and port) specified in the webhook&#39;s URL. Examples:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># A webhook with `url: https://www.example.com`:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># - name: www.example.com</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   user: ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># A webhook with `url: https://www.example.com:443`:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># - name: www.example.com:443</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   user: ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># A webhook with `url: https://www.example.com:8443`:</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># - name: www.example.com:8443</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#   user: ...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;webhook1.ns1.svc&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>client-certificate-data</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;pem encoded certificate&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>client-key-data</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;pem encoded key&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># The `name` supports using * to wildcard-match prefixing segments.</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;*.webhook-company.org&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>password</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;password&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>username</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;name&gt;&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># &#39;*&#39; is the default match.</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;&lt;token&gt;&#34;</span><span style=color:#bbb>
</span></code></pre></div></li>
</ul>
<p>Of course you need to set up the webhook server to handle these authentications.</p>
<h2 id=webhook-request-and-response>Webhook request and response</h2>
<h3 id=request>Request</h3>
<p>Webhooks are sent as POST requests, with <code>Content-Type: application/json</code>,
with an <code>AdmissionReview</code> API object in the <code>admission.k8s.io</code> API group
serialized to JSON as the body.</p>
<p>Webhooks can specify what versions of <code>AdmissionReview</code> objects they accept
with the <code>admissionReviewVersions</code> field in their configuration:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-admissionreviewversions role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-admissionreviewversions-0 role=tab aria-controls=validatingwebhookconfiguration-admissionreviewversions-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-admissionreviewversions-1 role=tab aria-controls=validatingwebhookconfiguration-admissionreviewversions-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-admissionreviewversions><div id=validatingwebhookconfiguration-admissionreviewversions-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-admissionreviewversions-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>admissionReviewVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;v1beta1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p><code>admissionReviewVersions</code> is a required field when creating
<code>admissionregistration.k8s.io/v1</code> webhook configurations.
Webhooks are required to support at least one <code>AdmissionReview</code>
version understood by the current and previous API server.</p>
</div>
<div id=validatingwebhookconfiguration-admissionreviewversions-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-admissionreviewversions-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>admissionReviewVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1beta1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>If no <code>admissionReviewVersions</code> are specified, the default when creating
<code>admissionregistration.k8s.io/v1beta1</code> webhook configurations is <code>v1beta1</code>.</p>
</div></div>
<p>API servers send the first <code>AdmissionReview</code> version in the <code>admissionReviewVersions</code> list they support.
If none of the versions in the list are supported by the API server, the configuration will not be allowed to be created.
If an API server encounters a webhook configuration that was previously created and does not support any of the <code>AdmissionReview</code>
versions the API server knows how to send, attempts to call to the webhook will fail and be subject to the <a href=#failure-policy>failure policy</a>.</p>
<p>This example shows the data contained in an <code>AdmissionReview</code> object
for a request to update the <code>scale</code> subresource of an <code>apps/v1</code> <code>Deployment</code>:</p>
<ul class="nav nav-tabs" id=admissionreview-request role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionreview-request-0 role=tab aria-controls=admissionreview-request-0 aria-selected=true>admission.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionreview-request-1 role=tab aria-controls=admissionreview-request-1>admission.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=admissionreview-request><div id=admissionreview-request-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionreview-request-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;AdmissionReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;request&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Random uid uniquely identifying this admission call</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;uid&#34;: </span><span style=color:#b44>&#34;705ab4f5-6393-11e8-b7cc-42010a800002&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the incoming object</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;autoscaling&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the resource being modified</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;resource&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;apps&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;resource&#34;</span>:<span style=color:#b44>&#34;deployments&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># subresource, if the request is to a subresource</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;subResource&#34;: </span><span style=color:#b44>&#34;scale&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the incoming object in the original request to the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This only differs from `kind` if the webhook specified `matchPolicy: Equivalent` and the</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># original request to the API server was converted to a version the webhook registered for.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;requestKind&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;autoscaling&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the resource being modified in the original request to the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This only differs from `resource` if the webhook specified `matchPolicy: Equivalent` and the</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># original request to the API server was converted to a version the webhook registered for.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;requestResource&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;apps&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;resource&#34;</span>:<span style=color:#b44>&#34;deployments&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># subresource, if the request is to a subresource</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This only differs from `subResource` if the webhook specified `matchPolicy: Equivalent` and the</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># original request to the API server was converted to a version the webhook registered for.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;requestSubResource&#34;: </span><span style=color:#b44>&#34;scale&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Name of the resource being modified</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;name&#34;: </span><span style=color:#b44>&#34;my-deployment&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Namespace of the resource being modified, if the resource is namespaced (or is a Namespace object)</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;namespace&#34;: </span><span style=color:#b44>&#34;my-namespace&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># operation can be CREATE, UPDATE, DELETE, or CONNECT</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;operation&#34;: </span><span style=color:#b44>&#34;UPDATE&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;userInfo&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Username of the authenticated user making the request to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;username&#34;: </span><span style=color:#b44>&#34;admin&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># UID of the authenticated user making the request to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;uid&#34;: </span><span style=color:#b44>&#34;014fbff9a07c&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Group memberships of the authenticated user making the request to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;groups&#34;: </span>[<span style=color:#b44>&#34;system:authenticated&#34;</span>,<span style=color:#b44>&#34;my-admin-group&#34;</span>],<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Arbitrary extra info associated with the user making the request to the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># This is populated by the API server authentication layer and should be included</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># if any SubjectAccessReview checks are performed by the webhook.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;extra&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#b44>&#34;some-key&#34;</span>:[<span style=color:#b44>&#34;some-value1&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;some-value2&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>      </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span>},<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># object is the new object being admitted.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># It is null for DELETE operations.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;object&#34;: </span>{<span style=color:#b44>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;autoscaling/v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>,...},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># oldObject is the existing object.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># It is null for CREATE and CONNECT operations.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;oldObject&#34;: </span>{<span style=color:#b44>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;autoscaling/v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>,...},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># options contains the options for the operation being admitted, like meta.k8s.io/v1 CreateOptions, UpdateOptions, or DeleteOptions.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># It is null for CONNECT operations.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;options&#34;: </span>{<span style=color:#b44>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;meta.k8s.io/v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;UpdateOptions&#34;</span>,...},<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># dryRun indicates the API request is running in dry run mode and will not be persisted.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Webhooks with side effects should avoid actuating those side effects when dryRun is true.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># See http://k8s.io/docs/reference/using-api/api-concepts/#make-a-dry-run-request for more details.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;dryRun&#34;: </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div>
<div id=admissionreview-request-1 class=tab-pane role=tabpanel aria-labelledby=admissionreview-request-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>{<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admission.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;admission.k8s.io/v1beta1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;AdmissionReview&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>&#34;request&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Random uid uniquely identifying this admission call</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;uid&#34;: </span><span style=color:#b44>&#34;705ab4f5-6393-11e8-b7cc-42010a800002&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the incoming object</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;autoscaling&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the resource being modified</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;resource&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;apps&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;resource&#34;</span>:<span style=color:#b44>&#34;deployments&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># subresource, if the request is to a subresource</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;subResource&#34;: </span><span style=color:#b44>&#34;scale&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the incoming object in the original request to the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This only differs from `kind` if the webhook specified `matchPolicy: Equivalent` and the</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># original request to the API server was converted to a version the webhook registered for.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Only sent by v1.15+ API servers.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;requestKind&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;autoscaling&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Fully-qualified group/version/kind of the resource being modified in the original request to the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This only differs from `resource` if the webhook specified `matchPolicy: Equivalent` and the</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># original request to the API server was converted to a version the webhook registered for.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Only sent by v1.15+ API servers.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;requestResource&#34;: </span>{<span style=color:#b44>&#34;group&#34;</span>:<span style=color:#b44>&#34;apps&#34;</span>,<span style=color:#b44>&#34;version&#34;</span>:<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#b44>&#34;resource&#34;</span>:<span style=color:#b44>&#34;deployments&#34;</span>},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># subresource, if the request is to a subresource</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># This only differs from `subResource` if the webhook specified `matchPolicy: Equivalent` and the</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># original request to the API server was converted to a version the webhook registered for.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Only sent by v1.15+ API servers.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;requestSubResource&#34;: </span><span style=color:#b44>&#34;scale&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Name of the resource being modified</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;name&#34;: </span><span style=color:#b44>&#34;my-deployment&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Namespace of the resource being modified, if the resource is namespaced (or is a Namespace object)</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;namespace&#34;: </span><span style=color:#b44>&#34;my-namespace&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># operation can be CREATE, UPDATE, DELETE, or CONNECT</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;operation&#34;: </span><span style=color:#b44>&#34;UPDATE&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;userInfo&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Username of the authenticated user making the request to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;username&#34;: </span><span style=color:#b44>&#34;admin&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># UID of the authenticated user making the request to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;uid&#34;: </span><span style=color:#b44>&#34;014fbff9a07c&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Group memberships of the authenticated user making the request to the API server</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;groups&#34;: </span>[<span style=color:#b44>&#34;system:authenticated&#34;</span>,<span style=color:#b44>&#34;my-admin-group&#34;</span>],<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># Arbitrary extra info associated with the user making the request to the API server.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># This is populated by the API server authentication layer and should be included</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># if any SubjectAccessReview checks are performed by the webhook.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>&#34;extra&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#b44>&#34;some-key&#34;</span>:[<span style=color:#b44>&#34;some-value1&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;some-value2&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>      </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span>},<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># object is the new object being admitted.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># It is null for DELETE operations.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;object&#34;: </span>{<span style=color:#b44>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;autoscaling/v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>,...},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># oldObject is the existing object.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># It is null for CREATE and CONNECT operations (and for DELETE operations in API servers prior to v1.15.0)</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;oldObject&#34;: </span>{<span style=color:#b44>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;autoscaling/v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Scale&#34;</span>,...},<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># options contains the options for the operation being admitted, like meta.k8s.io/v1 CreateOptions, UpdateOptions, or DeleteOptions.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># It is null for CONNECT operations.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Only sent by v1.15+ API servers.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;options&#34;: </span>{<span style=color:#b44>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;meta.k8s.io/v1&#34;</span>,<span style=color:#b44>&#34;kind&#34;</span>:<span style=color:#b44>&#34;UpdateOptions&#34;</span>,...},<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># dryRun indicates the API request is running in dry run mode and will not be persisted.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Webhooks with side effects should avoid actuating those side effects when dryRun is true.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># See http://k8s.io/docs/reference/using-api/api-concepts/#make-a-dry-run-request for more details.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;dryRun&#34;: </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>}<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div></div></div>
<h3 id=response>Response</h3>
<p>Webhooks respond with a 200 HTTP status code, <code>Content-Type: application/json</code>,
and a body containing an <code>AdmissionReview</code> object (in the same version they were sent),
with the <code>response</code> stanza populated, serialized to JSON.</p>
<p>At a minimum, the <code>response</code> stanza must contain the following fields:</p>
<ul>
<li><code>uid</code>, copied from the <code>request.uid</code> sent to the webhook</li>
<li><code>allowed</code>, either set to <code>true</code> or <code>false</code></li>
</ul>
<p>Example of a minimal response from a webhook to allow a request:
<ul class="nav nav-tabs" id=admissionreview-response-allow role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionreview-response-allow-0 role=tab aria-controls=admissionreview-response-allow-0 aria-selected=true>admission.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionreview-response-allow-1 role=tab aria-controls=admissionreview-response-allow-1>admission.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=admissionreview-response-allow><div id=admissionreview-response-allow-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionreview-response-allow-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
  }
}
</code></pre></div></div>
<div id=admissionreview-response-allow-1 class=tab-pane role=tabpanel aria-labelledby=admissionreview-response-allow-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
  }
}
</code></pre></div></div></div>
</p>
<p>Example of a minimal response from a webhook to forbid a request:
<ul class="nav nav-tabs" id=admissionreview-response-forbid-minimal role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionreview-response-forbid-minimal-0 role=tab aria-controls=admissionreview-response-forbid-minimal-0 aria-selected=true>admission.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionreview-response-forbid-minimal-1 role=tab aria-controls=admissionreview-response-forbid-minimal-1>admission.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=admissionreview-response-forbid-minimal><div id=admissionreview-response-forbid-minimal-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionreview-response-forbid-minimal-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>
  }
}
</code></pre></div></div>
<div id=admissionreview-response-forbid-minimal-1 class=tab-pane role=tabpanel aria-labelledby=admissionreview-response-forbid-minimal-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>
  }
}
</code></pre></div></div></div>
</p>
<p>When rejecting a request, the webhook can customize the http code and message returned to the user using the <code>status</code> field.
The specified status object is returned to the user.
See the <a href=/docs/reference/generated/kubernetes-api/v1.22/#status-v1-meta>API documentation</a> for details about the status type.
Example of a response to forbid a request, customizing the HTTP status code and message presented to the user:
<ul class="nav nav-tabs" id=admissionreview-response-forbid-details role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionreview-response-forbid-details-0 role=tab aria-controls=admissionreview-response-forbid-details-0 aria-selected=true>admission.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionreview-response-forbid-details-1 role=tab aria-controls=admissionreview-response-forbid-details-1>admission.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=admissionreview-response-forbid-details><div id=admissionreview-response-forbid-details-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionreview-response-forbid-details-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>,
    <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
      <span style=color:green;font-weight:700>&#34;code&#34;</span>: <span style=color:#666>403</span>,
      <span style=color:green;font-weight:700>&#34;message&#34;</span>: <span style=color:#b44>&#34;You cannot do this because it is Tuesday and your name starts with A&#34;</span>
    }
  }
}
</code></pre></div></div>
<div id=admissionreview-response-forbid-details-1 class=tab-pane role=tabpanel aria-labelledby=admissionreview-response-forbid-details-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>,
    <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
      <span style=color:green;font-weight:700>&#34;code&#34;</span>: <span style=color:#666>403</span>,
      <span style=color:green;font-weight:700>&#34;message&#34;</span>: <span style=color:#b44>&#34;You cannot do this because it is Tuesday and your name starts with A&#34;</span>
    }
  }
}
</code></pre></div></div></div>
</p>
<p>When allowing a request, a mutating admission webhook may optionally modify the incoming object as well.
This is done using the <code>patch</code> and <code>patchType</code> fields in the response.
The only currently supported <code>patchType</code> is <code>JSONPatch</code>.
See <a href=https://jsonpatch.com/>JSON patch</a> documentation for more details.
For <code>patchType: JSONPatch</code>, the <code>patch</code> field contains a base64-encoded array of JSON patch operations.</p>
<p>As an example, a single patch operation that would set <code>spec.replicas</code> would be <code>[{"op": "add", "path": "/spec/replicas", "value": 3}]</code></p>
<p>Base64-encoded, this would be <code>W3sib3AiOiAiYWRkIiwgInBhdGgiOiAiL3NwZWMvcmVwbGljYXMiLCAidmFsdWUiOiAzfV0=</code></p>
<p>So a webhook response to add that label would be:
<ul class="nav nav-tabs" id=admissionreview-response-modify role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionreview-response-modify-0 role=tab aria-controls=admissionreview-response-modify-0 aria-selected=true>admission.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionreview-response-modify-1 role=tab aria-controls=admissionreview-response-modify-1>admission.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=admissionreview-response-modify><div id=admissionreview-response-modify-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionreview-response-modify-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>,
    <span style=color:green;font-weight:700>&#34;patchType&#34;</span>: <span style=color:#b44>&#34;JSONPatch&#34;</span>,
    <span style=color:green;font-weight:700>&#34;patch&#34;</span>: <span style=color:#b44>&#34;W3sib3AiOiAiYWRkIiwgInBhdGgiOiAiL3NwZWMvcmVwbGljYXMiLCAidmFsdWUiOiAzfV0=&#34;</span>
  }
}
</code></pre></div></div>
<div id=admissionreview-response-modify-1 class=tab-pane role=tabpanel aria-labelledby=admissionreview-response-modify-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>,
    <span style=color:green;font-weight:700>&#34;patchType&#34;</span>: <span style=color:#b44>&#34;JSONPatch&#34;</span>,
    <span style=color:green;font-weight:700>&#34;patch&#34;</span>: <span style=color:#b44>&#34;W3sib3AiOiAiYWRkIiwgInBhdGgiOiAiL3NwZWMvcmVwbGljYXMiLCAidmFsdWUiOiAzfV0=&#34;</span>
  }
}
</code></pre></div></div></div>
</p>
<p>Starting in v1.19, admission webhooks can optionally return warning messages that are returned to the requesting client
in HTTP <code>Warning</code> headers with a warning code of 299. Warnings can be sent with allowed or rejected admission responses.</p>
<p>If you're implementing a webhook that returns a warning:</p>
<ul>
<li>Don't include a "Warning:" prefix in the message</li>
<li>Use warning messages to describe problems the client making the API request should correct or be aware of</li>
<li>Limit warnings to 120 characters if possible</li>
</ul>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> Individual warning messages over 256 characters may be truncated by the API server before being returned to clients.
If more than 4096 characters of warning messages are added (from all sources), additional warning messages are ignored.
</div>
<ul class="nav nav-tabs" id=admissionreview-response-warning role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#admissionreview-response-warning-0 role=tab aria-controls=admissionreview-response-warning-0 aria-selected=true>admission.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#admissionreview-response-warning-1 role=tab aria-controls=admissionreview-response-warning-1>admission.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=admissionreview-response-warning><div id=admissionreview-response-warning-0 class="tab-pane show active" role=tabpanel aria-labelledby=admissionreview-response-warning-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>,
    <span style=color:green;font-weight:700>&#34;warnings&#34;</span>: [
      <span style=color:#b44>&#34;duplicate envvar entries specified with name MY_ENV&#34;</span>,
      <span style=color:#b44>&#34;memory request less than 4MB specified for container mycontainer, which will not start successfully&#34;</span>
    ]
  }
}
</code></pre></div></div>
<div id=admissionreview-response-warning-1 class=tab-pane role=tabpanel aria-labelledby=admissionreview-response-warning-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;admission.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;AdmissionReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;response&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;uid&#34;</span>: <span style=color:#b44>&#34;&lt;value from request.uid&gt;&#34;</span>,
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>,
    <span style=color:green;font-weight:700>&#34;warnings&#34;</span>: [
      <span style=color:#b44>&#34;duplicate envvar entries specified with name MY_ENV&#34;</span>,
      <span style=color:#b44>&#34;memory request less than 4MB specified for container mycontainer, which will not start successfully&#34;</span>
    ]
  }
}
</code></pre></div></div></div>
<h2 id=webhook-configuration>Webhook configuration</h2>
<p>To register admission webhooks, create <code>MutatingWebhookConfiguration</code> or <code>ValidatingWebhookConfiguration</code> API objects.
The name of a <code>MutatingWebhookConfiguration</code> or a <code>ValidatingWebhookConfiguration</code> object must be a valid
<a href=/docs/concepts/overview/working-with-objects/names#dns-subdomain-names>DNS subdomain name</a>.</p>
<p>Each configuration can contain one or more webhooks.
If multiple webhooks are specified in a single configuration, each should be given a unique name.
This is required in <code>admissionregistration.k8s.io/v1</code>, but strongly recommended when using <code>admissionregistration.k8s.io/v1beta1</code>,
in order to make resulting audit logs and metrics easier to match up to active configurations.</p>
<p>Each webhook defines the following things.</p>
<h3 id=matching-requests-rules>Matching requests: rules</h3>
<p>Each webhook must specify a list of rules used to determine if a request to the API server should be sent to the webhook.
Each rule specifies one or more operations, apiGroups, apiVersions, and resources, and a resource scope:</p>
<ul>
<li><code>operations</code> lists one or more operations to match. Can be <code>"CREATE"</code>, <code>"UPDATE"</code>, <code>"DELETE"</code>, <code>"CONNECT"</code>, or <code>"*"</code> to match all.</li>
<li><code>apiGroups</code> lists one or more API groups to match. <code>""</code> is the core API group. <code>"*"</code> matches all API groups.</li>
<li><code>apiVersions</code> lists one or more API versions to match. <code>"*"</code> matches all API versions.</li>
<li><code>resources</code> lists one or more resources to match.
<ul>
<li><code>"*"</code> matches all resources, but not subresources.</li>
<li><code>"*/*"</code> matches all resources and subresources.</li>
<li><code>"pods/*"</code> matches all subresources of pods.</li>
<li><code>"*/status"</code> matches all status subresources.</li>
</ul>
</li>
<li><code>scope</code> specifies a scope to match. Valid values are <code>"Cluster"</code>, <code>"Namespaced"</code>, and <code>"*"</code>. Subresources match the scope of their parent resource. Supported in v1.14+. Default is <code>"*"</code>, matching pre-1.14 behavior.
<ul>
<li><code>"Cluster"</code> means that only cluster-scoped resources will match this rule (Namespace API objects are cluster-scoped).</li>
<li><code>"Namespaced"</code> means that only namespaced resources will match this rule.</li>
<li><code>"*"</code> means that there are no scope restrictions.</li>
</ul>
</li>
</ul>
<p>If an incoming request matches one of the specified operations, groups, versions, resources, and scope for any of a webhook's rules, the request is sent to the webhook.</p>
<p>Here are other examples of rules that could be used to specify which resources should be intercepted.</p>
<p>Match <code>CREATE</code> or <code>UPDATE</code> requests to <code>apps/v1</code> and <code>apps/v1beta1</code> <code>deployments</code> and <code>replicasets</code>:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-rules-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-rules-1-0 role=tab aria-controls=validatingwebhookconfiguration-rules-1-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-rules-1-1 role=tab aria-controls=validatingwebhookconfiguration-rules-1-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-rules-1><div id=validatingwebhookconfiguration-rules-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-rules-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;UPDATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;apps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;v1beta1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;deployments&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;replicasets&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=validatingwebhookconfiguration-rules-1-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-rules-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;UPDATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;apps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;v1beta1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;deployments&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;replicasets&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>Match create requests for all resources (but not subresources) in all API groups and versions:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-rules-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-rules-2-0 role=tab aria-controls=validatingwebhookconfiguration-rules-2-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-rules-2-1 role=tab aria-controls=validatingwebhookconfiguration-rules-2-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-rules-2><div id=validatingwebhookconfiguration-rules-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-rules-2-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;*&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=validatingwebhookconfiguration-rules-2-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-rules-2-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;*&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>Match update requests for all <code>status</code> subresources in all API groups and versions:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-rules-3 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-rules-3-0 role=tab aria-controls=validatingwebhookconfiguration-rules-3-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-rules-3-1 role=tab aria-controls=validatingwebhookconfiguration-rules-3-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-rules-3><div id=validatingwebhookconfiguration-rules-3-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-rules-3-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;UPDATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*/status&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;*&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=validatingwebhookconfiguration-rules-3-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-rules-3-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;UPDATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*/status&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;*&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<h3 id=matching-requests-objectselector>Matching requests: objectSelector</h3>
<p>In v1.15+, webhooks may optionally limit which requests are intercepted based on the labels of the
objects they would be sent, by specifying an <code>objectSelector</code>. If specified, the objectSelector
is evaluated against both the object and oldObject that would be sent to the webhook,
and is considered to match if either object matches the selector.</p>
<p>A null object (oldObject in the case of create, or newObject in the case of delete),
or an object that cannot have labels (like a <code>DeploymentRollback</code> or a <code>PodProxyOptions</code> object)
is not considered to match.</p>
<p>Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels.</p>
<p>This example shows a mutating webhook that would match a <code>CREATE</code> of any resource with the label <code>foo: bar</code>:</p>
<ul class="nav nav-tabs" id=objectselector-example role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#objectselector-example-0 role=tab aria-controls=objectselector-example-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#objectselector-example-1 role=tab aria-controls=objectselector-example-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=objectselector-example><div id=objectselector-example-0 class="tab-pane show active" role=tabpanel aria-labelledby=objectselector-example-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>objectSelector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchLabels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>foo</span>:<span style=color:#bbb> </span>bar<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;*&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=objectselector-example-1 class=tab-pane role=tabpanel aria-labelledby=objectselector-example-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>objectSelector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchLabels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>foo</span>:<span style=color:#bbb> </span>bar<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;*&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>See <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels</a> for more examples of label selectors.</p>
<h3 id=matching-requests-namespaceselector>Matching requests: namespaceSelector</h3>
<p>Webhooks may optionally limit which requests for namespaced resources are intercepted,
based on the labels of the containing namespace, by specifying a <code>namespaceSelector</code>.</p>
<p>The <code>namespaceSelector</code> decides whether to run the webhook on a request for a namespaced resource
(or a Namespace object), based on whether the namespace's labels match the selector.
If the object itself is a namespace, the matching is performed on object.metadata.labels.
If the object is a cluster scoped resource other than a Namespace, <code>namespaceSelector</code> has no effect.</p>
<p>This example shows a mutating webhook that matches a <code>CREATE</code> of any namespaced resource inside a namespace
that does not have a "runlevel" label of "0" or "1":</p>
<ul class="nav nav-tabs" id=mutatingwebhookconfiguration-namespaceselector-1 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#mutatingwebhookconfiguration-namespaceselector-1-0 role=tab aria-controls=mutatingwebhookconfiguration-namespaceselector-1-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#mutatingwebhookconfiguration-namespaceselector-1-1 role=tab aria-controls=mutatingwebhookconfiguration-namespaceselector-1-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=mutatingwebhookconfiguration-namespaceselector-1><div id=mutatingwebhookconfiguration-namespaceselector-1-0 class="tab-pane show active" role=tabpanel aria-labelledby=mutatingwebhookconfiguration-namespaceselector-1-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespaceSelector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>runlevel<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>NotIn<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;0&#34;</span>,<span style=color:#b44>&#34;1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=mutatingwebhookconfiguration-namespaceselector-1-1 class=tab-pane role=tabpanel aria-labelledby=mutatingwebhookconfiguration-namespaceselector-1-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespaceSelector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>runlevel<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>NotIn<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;0&#34;</span>,<span style=color:#b44>&#34;1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>This example shows a validating webhook that matches a <code>CREATE</code> of any namespaced resource inside a namespace
that is associated with the "environment" of "prod" or "staging":</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-namespaceselector-2 role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-namespaceselector-2-0 role=tab aria-controls=validatingwebhookconfiguration-namespaceselector-2-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-namespaceselector-2-1 role=tab aria-controls=validatingwebhookconfiguration-namespaceselector-2-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-namespaceselector-2><div id=validatingwebhookconfiguration-namespaceselector-2-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-namespaceselector-2-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespaceSelector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>environment<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;prod&#34;</span>,<span style=color:#b44>&#34;staging&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=validatingwebhookconfiguration-namespaceselector-2-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-namespaceselector-2-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespaceSelector</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>matchExpressions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>environment<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>operator</span>:<span style=color:#bbb> </span>In<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>values</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;prod&#34;</span>,<span style=color:#b44>&#34;staging&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;*&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>See <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels</a> for more examples of label selectors.</p>
<h3 id=matching-requests-matchpolicy>Matching requests: matchPolicy</h3>
<p>API servers can make objects available via multiple API groups or versions.
For example, the Kubernetes API server may allow creating and modifying <code>Deployment</code> objects
via <code>extensions/v1beta1</code>, <code>apps/v1beta1</code>, <code>apps/v1beta2</code>, and <code>apps/v1</code> APIs.</p>
<p>For example, if a webhook only specified a rule for some API groups/versions (like <code>apiGroups:["apps"], apiVersions:["v1","v1beta1"]</code>),
and a request was made to modify the resource via another API group/version (like <code>extensions/v1beta1</code>),
the request would not be sent to the webhook.</p>
<p>In v1.15+, <code>matchPolicy</code> lets a webhook define how its <code>rules</code> are used to match incoming requests.
Allowed values are <code>Exact</code> or <code>Equivalent</code>.</p>
<ul>
<li><code>Exact</code> means a request should be intercepted only if it exactly matches a specified rule.</li>
<li><code>Equivalent</code> means a request should be intercepted if modifies a resource listed in <code>rules</code>, even via another API group or version.</li>
</ul>
<p>In the example given above, the webhook that only registered for <code>apps/v1</code> could use <code>matchPolicy</code>:</p>
<ul>
<li><code>matchPolicy: Exact</code> would mean the <code>extensions/v1beta1</code> request would not be sent to the webhook</li>
<li><code>matchPolicy: Equivalent</code> means the <code>extensions/v1beta1</code> request would be sent to the webhook (with the objects converted to a version the webhook had specified: <code>apps/v1</code>)</li>
</ul>
<p>Specifying <code>Equivalent</code> is recommended, and ensures that webhooks continue to intercept the
resources they expect when upgrades enable new versions of the resource in the API server.</p>
<p>When a resource stops being served by the API server, it is no longer considered equivalent to other versions of that resource that are still served.
For example, <code>extensions/v1beta1</code> deployments were first deprecated and then removed (in Kubernetes v1.16).</p>
<p>Since that removal, a webhook with a <code>apiGroups:["extensions"], apiVersions:["v1beta1"], resources:["deployments"]</code> rule
does not intercept deployments created via <code>apps/v1</code> APIs. For that reason, webhooks should prefer registering
for stable versions of resources.</p>
<p>This example shows a validating webhook that intercepts modifications to deployments (no matter the API group or version),
and is always sent an <code>apps/v1</code> <code>Deployment</code> object:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-matchpolicy role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-matchpolicy-0 role=tab aria-controls=validatingwebhookconfiguration-matchpolicy-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-matchpolicy-1 role=tab aria-controls=validatingwebhookconfiguration-matchpolicy-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-matchpolicy><div id=validatingwebhookconfiguration-matchpolicy-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-matchpolicy-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>matchPolicy</span>:<span style=color:#bbb> </span>Equivalent<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>,<span style=color:#b44>&#34;UPDATE&#34;</span>,<span style=color:#b44>&#34;DELETE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;apps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;deployments&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>Admission webhooks created using <code>admissionregistration.k8s.io/v1</code> default to <code>Equivalent</code>.</p>
</div>
<div id=validatingwebhookconfiguration-matchpolicy-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-matchpolicy-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>matchPolicy</span>:<span style=color:#bbb> </span>Equivalent<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>operations</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;CREATE&#34;</span>,<span style=color:#b44>&#34;UPDATE&#34;</span>,<span style=color:#b44>&#34;DELETE&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;apps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>apiVersions</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;v1&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;deployments&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>scope</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Namespaced&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>Admission webhooks created using <code>admissionregistration.k8s.io/v1beta1</code> default to <code>Exact</code>.</p>
</div></div>
<h3 id=contacting-the-webhook>Contacting the webhook</h3>
<p>Once the API server has determined a request should be sent to a webhook,
it needs to know how to contact the webhook. This is specified in the <code>clientConfig</code>
stanza of the webhook configuration.</p>
<p>Webhooks can either be called via a URL or a service reference,
and can optionally include a custom CA bundle to use to verify the TLS connection.</p>
<h4 id=url>URL</h4>
<p><code>url</code> gives the location of the webhook, in standard URL form
(<code>scheme://host:port/path</code>).</p>
<p>The <code>host</code> should not refer to a service running in the cluster; use
a service reference by specifying the <code>service</code> field instead.
The host might be resolved via external DNS in some apiservers
(e.g., <code>kube-apiserver</code> cannot resolve in-cluster DNS as that would
be a layering violation). <code>host</code> may also be an IP address.</p>
<p>Please note that using <code>localhost</code> or <code>127.0.0.1</code> as a <code>host</code> is
risky unless you take great care to run this webhook on all hosts
which run an apiserver which might need to make calls to this
webhook. Such installations are likely to be non-portable or not readily
run in a new cluster.</p>
<p>The scheme must be "https"; the URL must begin with "https://".</p>
<p>Attempting to use a user or basic auth (for example "user:password@") is not allowed.
Fragments ("#...") and query parameters ("?...") are also not allowed.</p>
<p>Here is an example of a mutating webhook configured to call a URL
(and expects the TLS certificate to be verified using system trust roots, so does not specify a caBundle):</p>
<ul class="nav nav-tabs" id=mutatingwebhookconfiguration-url role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#mutatingwebhookconfiguration-url-0 role=tab aria-controls=mutatingwebhookconfiguration-url-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#mutatingwebhookconfiguration-url-1 role=tab aria-controls=mutatingwebhookconfiguration-url-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=mutatingwebhookconfiguration-url><div id=mutatingwebhookconfiguration-url-0 class="tab-pane show active" role=tabpanel aria-labelledby=mutatingwebhookconfiguration-url-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clientConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>url</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;https://my-webhook.example.com:9443/my-webhook-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=mutatingwebhookconfiguration-url-1 class=tab-pane role=tabpanel aria-labelledby=mutatingwebhookconfiguration-url-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clientConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>url</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;https://my-webhook.example.com:9443/my-webhook-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<h4 id=service-reference>Service reference</h4>
<p>The <code>service</code> stanza inside <code>clientConfig</code> is a reference to the service for this webhook.
If the webhook is running within the cluster, then you should use <code>service</code> instead of <code>url</code>.
The service namespace and name are required. The port is optional and defaults to 443.
The path is optional and defaults to "/".</p>
<p>Here is an example of a mutating webhook configured to call a service on port "1234"
at the subpath "/my-path", and to verify the TLS connection against the ServerName
<code>my-service-name.my-service-namespace.svc</code> using a custom CA bundle:</p>
<ul class="nav nav-tabs" id=mutatingwebhookconfiguration-service role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#mutatingwebhookconfiguration-service-0 role=tab aria-controls=mutatingwebhookconfiguration-service-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#mutatingwebhookconfiguration-service-1 role=tab aria-controls=mutatingwebhookconfiguration-service-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=mutatingwebhookconfiguration-service><div id=mutatingwebhookconfiguration-service-0 class="tab-pane show active" role=tabpanel aria-labelledby=mutatingwebhookconfiguration-service-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clientConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>caBundle</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Ci0tLS0tQk...&lt;base64-encoded PEM bundle containing the CA that signed the webhook&#39;s serving certificate&gt;...tLS0K&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>service</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>my-service-namespace<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-service-name<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>/my-path<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>port</span>:<span style=color:#bbb> </span><span style=color:#666>1234</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=mutatingwebhookconfiguration-service-1 class=tab-pane role=tabpanel aria-labelledby=mutatingwebhookconfiguration-service-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clientConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>caBundle</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Ci0tLS0tQk...&lt;`caBundle` is a PEM encoded CA bundle which will be used to validate the webhook&#39;s server certificate&gt;...tLS0K&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>service</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>my-service-namespace<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-service-name<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>/my-path<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>port</span>:<span style=color:#bbb> </span><span style=color:#666>1234</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<h3 id=side-effects>Side effects</h3>
<p>Webhooks typically operate only on the content of the <code>AdmissionReview</code> sent to them.
Some webhooks, however, make out-of-band changes as part of processing admission requests.</p>
<p>Webhooks that make out-of-band changes ("side effects") must also have a reconciliation mechanism
(like a controller) that periodically determines the actual state of the world, and adjusts
the out-of-band data modified by the admission webhook to reflect reality.
This is because a call to an admission webhook does not guarantee the admitted object will be persisted as is, or at all.
Later webhooks can modify the content of the object, a conflict could be encountered while writing to storage,
or the server could power off before persisting the object.</p>
<p>Additionally, webhooks with side effects must skip those side-effects when <code>dryRun: true</code> admission requests are handled.
A webhook must explicitly indicate that it will not have side-effects when run with <code>dryRun</code>,
or the dry-run request will not be sent to the webhook and the API request will fail instead.</p>
<p>Webhooks indicate whether they have side effects using the <code>sideEffects</code> field in the webhook configuration:</p>
<ul>
<li><code>Unknown</code>: no information is known about the side effects of calling the webhook.
If a request with <code>dryRun: true</code> would trigger a call to this webhook, the request will instead fail, and the webhook will not be called.</li>
<li><code>None</code>: calling the webhook will have no side effects.</li>
<li><code>Some</code>: calling the webhook will possibly have side effects.
If a request with the dry-run attribute would trigger a call to this webhook, the request will instead fail, and the webhook will not be called.</li>
<li><code>NoneOnDryRun</code>: calling the webhook will possibly have side effects,
but if a request with <code>dryRun: true</code> is sent to the webhook, the webhook will suppress the side effects (the webhook is <code>dryRun</code>-aware).</li>
</ul>
<p>Allowed values:</p>
<ul>
<li>In <code>admissionregistration.k8s.io/v1beta1</code>, <code>sideEffects</code> may be set to <code>Unknown</code>, <code>None</code>, <code>Some</code>, or <code>NoneOnDryRun</code>, and defaults to <code>Unknown</code>.</li>
<li>In <code>admissionregistration.k8s.io/v1</code>, <code>sideEffects</code> must be set to <code>None</code> or <code>NoneOnDryRun</code>.</li>
</ul>
<p>Here is an example of a validating webhook indicating it has no side effects on <code>dryRun: true</code> requests:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-sideeffects role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-sideeffects-0 role=tab aria-controls=validatingwebhookconfiguration-sideeffects-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-sideeffects-1 role=tab aria-controls=validatingwebhookconfiguration-sideeffects-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-sideeffects><div id=validatingwebhookconfiguration-sideeffects-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-sideeffects-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>sideEffects</span>:<span style=color:#bbb> </span>NoneOnDryRun<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=validatingwebhookconfiguration-sideeffects-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-sideeffects-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>sideEffects</span>:<span style=color:#bbb> </span>NoneOnDryRun<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<h3 id=timeouts>Timeouts</h3>
<p>Because webhooks add to API request latency, they should evaluate as quickly as possible.
<code>timeoutSeconds</code> allows configuring how long the API server should wait for a webhook to respond
before treating the call as a failure.</p>
<p>If the timeout expires before the webhook responds, the webhook call will be ignored or
the API call will be rejected based on the <a href=#failure-policy>failure policy</a>.</p>
<p>The timeout value must be between 1 and 30 seconds.</p>
<p>Here is an example of a validating webhook with a custom timeout of 2 seconds:</p>
<ul class="nav nav-tabs" id=validatingwebhookconfiguration-timeoutseconds role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#validatingwebhookconfiguration-timeoutseconds-0 role=tab aria-controls=validatingwebhookconfiguration-timeoutseconds-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#validatingwebhookconfiguration-timeoutseconds-1 role=tab aria-controls=validatingwebhookconfiguration-timeoutseconds-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=validatingwebhookconfiguration-timeoutseconds><div id=validatingwebhookconfiguration-timeoutseconds-0 class="tab-pane show active" role=tabpanel aria-labelledby=validatingwebhookconfiguration-timeoutseconds-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>timeoutSeconds</span>:<span style=color:#bbb> </span><span style=color:#666>2</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>Admission webhooks created using <code>admissionregistration.k8s.io/v1</code> default timeouts to 10 seconds.</p>
</div>
<div id=validatingwebhookconfiguration-timeoutseconds-1 class=tab-pane role=tabpanel aria-labelledby=validatingwebhookconfiguration-timeoutseconds-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ValidatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>timeoutSeconds</span>:<span style=color:#bbb> </span><span style=color:#666>2</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>Admission webhooks created using <code>admissionregistration.k8s.io/v1</code> default timeouts to 30 seconds.</p>
</div></div>
<h3 id=reinvocation-policy>Reinvocation policy</h3>
<p>A single ordering of mutating admissions plugins (including webhooks) does not work for all cases
(see <a href=https://issue.k8s.io/64333>https://issue.k8s.io/64333</a> as an example). A mutating webhook can add a new sub-structure
to the object (like adding a <code>container</code> to a <code>pod</code>), and other mutating plugins which have already
run may have opinions on those new structures (like setting an <code>imagePullPolicy</code> on all containers).</p>
<p>In v1.15+, to allow mutating admission plugins to observe changes made by other plugins,
built-in mutating admission plugins are re-run if a mutating webhook modifies an object,
and mutating webhooks can specify a <code>reinvocationPolicy</code> to control whether they are reinvoked as well.</p>
<p><code>reinvocationPolicy</code> may be set to <code>Never</code> or <code>IfNeeded</code>. It defaults to <code>Never</code>.</p>
<ul>
<li><code>Never</code>: the webhook must not be called more than once in a single admission evaluation</li>
<li><code>IfNeeded</code>: the webhook may be called again as part of the admission evaluation if the object
being admitted is modified by other admission plugins after the initial webhook call.</li>
</ul>
<p>The important elements to note are:</p>
<ul>
<li>The number of additional invocations is not guaranteed to be exactly one.</li>
<li>If additional invocations result in further modifications to the object, webhooks are not guaranteed to be invoked again.</li>
<li>Webhooks that use this option may be reordered to minimize the number of additional invocations.</li>
<li>To validate an object after all mutations are guaranteed complete, use a validating admission webhook instead (recommended for webhooks with side-effects).</li>
</ul>
<p>Here is an example of a mutating webhook opting into being re-invoked if later admission plugins modify the object:</p>
<ul class="nav nav-tabs" id=mutatingwebhookconfiguration-reinvocationpolicy role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#mutatingwebhookconfiguration-reinvocationpolicy-0 role=tab aria-controls=mutatingwebhookconfiguration-reinvocationpolicy-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#mutatingwebhookconfiguration-reinvocationpolicy-1 role=tab aria-controls=mutatingwebhookconfiguration-reinvocationpolicy-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=mutatingwebhookconfiguration-reinvocationpolicy><div id=mutatingwebhookconfiguration-reinvocationpolicy-0 class="tab-pane show active" role=tabpanel aria-labelledby=mutatingwebhookconfiguration-reinvocationpolicy-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>reinvocationPolicy</span>:<span style=color:#bbb> </span>IfNeeded<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div>
<div id=mutatingwebhookconfiguration-reinvocationpolicy-1 class=tab-pane role=tabpanel aria-labelledby=mutatingwebhookconfiguration-reinvocationpolicy-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>reinvocationPolicy</span>:<span style=color:#bbb> </span>IfNeeded<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></div></div>
<p>Mutating webhooks must be <a href=#idempotence>idempotent</a>, able to successfully process an object they have already admitted
and potentially modified. This is true for all mutating admission webhooks, since any change they can make
in an object could already exist in the user-provided object, but it is essential for webhooks that opt into reinvocation.</p>
<h3 id=failure-policy>Failure policy</h3>
<p><code>failurePolicy</code> defines how unrecognized errors and timeout errors from the admission webhook
are handled. Allowed values are <code>Ignore</code> or <code>Fail</code>.</p>
<ul>
<li><code>Ignore</code> means that an error calling the webhook is ignored and the API request is allowed to continue.</li>
<li><code>Fail</code> means that an error calling the webhook causes the admission to fail and the API request to be rejected.</li>
</ul>
<p>Here is a mutating webhook configured to reject an API request if errors are encountered calling the admission webhook:</p>
<ul class="nav nav-tabs" id=mutatingwebhookconfiguration-failurepolicy role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#mutatingwebhookconfiguration-failurepolicy-0 role=tab aria-controls=mutatingwebhookconfiguration-failurepolicy-0 aria-selected=true>admissionregistration.k8s.io/v1</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#mutatingwebhookconfiguration-failurepolicy-1 role=tab aria-controls=mutatingwebhookconfiguration-failurepolicy-1>admissionregistration.k8s.io/v1beta1</a></li></ul>
<div class=tab-content id=mutatingwebhookconfiguration-failurepolicy><div id=mutatingwebhookconfiguration-failurepolicy-0 class="tab-pane show active" role=tabpanel aria-labelledby=mutatingwebhookconfiguration-failurepolicy-0>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>failurePolicy</span>:<span style=color:#bbb> </span>Fail<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>Admission webhooks created using <code>admissionregistration.k8s.io/v1</code> default <code>failurePolicy</code> to <code>Fail</code>.</p>
</div>
<div id=mutatingwebhookconfiguration-failurepolicy-1 class=tab-pane role=tabpanel aria-labelledby=mutatingwebhookconfiguration-failurepolicy-1>
<p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Deprecated in v1.16 in favor of admissionregistration.k8s.io/v1</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>admissionregistration.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>MutatingWebhookConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>webhooks</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>my-webhook.example.com<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>failurePolicy</span>:<span style=color:#bbb> </span>Fail<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>Admission webhooks created using <code>admissionregistration.k8s.io/v1beta1</code> default <code>failurePolicy</code> to <code>Ignore</code>.</p>
</div></div>
<h2 id=monitoring-admission-webhooks>Monitoring admission webhooks</h2>
<p>The API server provides ways to monitor admission webhook behaviors. These
monitoring mechanisms help cluster admins to answer questions like:</p>
<ol>
<li>
<p>Which mutating webhook mutated the object in a API request?</p>
</li>
<li>
<p>What change did the mutating webhook applied to the object?</p>
</li>
<li>
<p>Which webhooks are frequently rejecting API requests? What's the reason for a
rejection?</p>
</li>
</ol>
<h3 id=mutating-webhook-auditing-annotations>Mutating webhook auditing annotations</h3>
<p>Sometimes it's useful to know which mutating webhook mutated the object in a API request, and what change did the
webhook apply.</p>
<p>In v1.16+, kube-apiserver performs <a href=/docs/tasks/debug-application-cluster/audit/>auditing</a> on each mutating webhook
invocation. Each invocation generates an auditing annotation
capturing if a request object is mutated by the invocation, and optionally generates an annotation capturing the applied
patch from the webhook admission response. The annotations are set in the audit event for given request on given stage of
its execution, which is then pre-processed according to a certain policy and written to a backend.</p>
<p>The audit level of a event determines which annotations get recorded:</p>
<ul>
<li>At <code>Metadata</code> audit level or higher, an annotation with key
<code>mutation.webhook.admission.k8s.io/round_{round idx}_index_{order idx}</code> gets logged with JSON payload indicating
a webhook gets invoked for given request and whether it mutated the object or not.</li>
</ul>
<p>For example, the following annotation gets recorded for a webhook being reinvoked. The webhook is ordered the third in the
mutating webhook chain, and didn't mutated the request object during the invocation.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># the audit event recorded</span><span style=color:#bbb>
</span><span style=color:#bbb></span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;Event&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;audit.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;annotations&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;mutation.webhook.admission.k8s.io/round_1_index_2&#34;: &#34;{\&#34;configuration\&#34;:\&#34;my-mutating-webhook-configuration.example.com\&#34;,\&#34;webhook\&#34;:\&#34;my-webhook.example.com\&#34;,\&#34;mutated\&#34;: </span><span style=color:#a2f;font-weight:700>false</span>}&#34;<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#080;font-style:italic># other annotations</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>...<span style=color:#bbb>
</span><span style=color:#bbb>    </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># other fields</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># the annotation value deserialized</span><span style=color:#bbb>
</span><span style=color:#bbb></span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;configuration&#34;: </span><span style=color:#b44>&#34;my-mutating-webhook-configuration.example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;webhook&#34;: </span><span style=color:#b44>&#34;my-webhook.example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;mutated&#34;: </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><p>The following annotation gets recorded for a webhook being invoked in the first round. The webhook is ordered the first in<br>
the mutating webhook chain, and mutated the request object during the invocation.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># the audit event recorded</span><span style=color:#bbb>
</span><span style=color:#bbb></span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;Event&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;audit.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;annotations&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;mutation.webhook.admission.k8s.io/round_0_index_0&#34;: &#34;{\&#34;configuration\&#34;:\&#34;my-mutating-webhook-configuration.example.com\&#34;,\&#34;webhook\&#34;:\&#34;my-webhook-always-mutate.example.com\&#34;,\&#34;mutated\&#34;: </span><span style=color:#a2f;font-weight:700>true</span>}&#34;<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#080;font-style:italic># other annotations</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>...<span style=color:#bbb>
</span><span style=color:#bbb>    </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># other fields</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># the annotation value deserialized</span><span style=color:#bbb>
</span><span style=color:#bbb></span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;configuration&#34;: </span><span style=color:#b44>&#34;my-mutating-webhook-configuration.example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;webhook&#34;: </span><span style=color:#b44>&#34;my-webhook-always-mutate.example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;mutated&#34;: </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><ul>
<li>At <code>Request</code> audit level or higher, an annotation with key
<code>patch.webhook.admission.k8s.io/round_{round idx}_index_{order idx}</code> gets logged with JSON payload indicating
a webhook gets invoked for given request and what patch gets applied to the request object.</li>
</ul>
<p>For example, the following annotation gets recorded for a webhook being reinvoked. The webhook is ordered the fourth in the
mutating webhook chain, and responded with a JSON patch which got applied to the request object.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># the audit event recorded</span><span style=color:#bbb>
</span><span style=color:#bbb></span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;kind&#34;: </span><span style=color:#b44>&#34;Event&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;apiVersion&#34;: </span><span style=color:#b44>&#34;audit.k8s.io/v1&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;annotations&#34;: </span>{<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>&#34;patch.webhook.admission.k8s.io/round_1_index_3&#34;: </span><span style=color:#b44>&#34;{\&#34;configuration\&#34;:\&#34;my-other-mutating-webhook-configuration.example.com\&#34;,\&#34;webhook\&#34;:\&#34;my-webhook-always-mutate.example.com\&#34;,\&#34;patch\&#34;:[{\&#34;op\&#34;:\&#34;add\&#34;,\&#34;path\&#34;:\&#34;/data/mutation-stage\&#34;,\&#34;value\&#34;:\&#34;yes\&#34;}],\&#34;patchType\&#34;:\&#34;JSONPatch\&#34;}&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:#080;font-style:italic># other annotations</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>...<span style=color:#bbb>
</span><span style=color:#bbb>    </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># other fields</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># the annotation value deserialized</span><span style=color:#bbb>
</span><span style=color:#bbb></span>{<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;configuration&#34;: </span><span style=color:#b44>&#34;my-other-mutating-webhook-configuration.example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;webhook&#34;: </span><span style=color:#b44>&#34;my-webhook-always-mutate.example.com&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;patchType&#34;: </span><span style=color:#b44>&#34;JSONPatch&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;patch&#34;: </span>[<span style=color:#bbb>
</span><span style=color:#bbb>        </span>{<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:green;font-weight:700>&#34;op&#34;: </span><span style=color:#b44>&#34;add&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:green;font-weight:700>&#34;path&#34;: </span><span style=color:#b44>&#34;/data/mutation-stage&#34;</span>,<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:green;font-weight:700>&#34;value&#34;: </span><span style=color:#b44>&#34;yes&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>}<span style=color:#bbb>
</span><span style=color:#bbb>    </span>]<span style=color:#bbb>
</span><span style=color:#bbb></span>}<span style=color:#bbb>
</span></code></pre></div><h3 id=admission-webhook-metrics>Admission webhook metrics</h3>
<p>Kube-apiserver exposes Prometheus metrics from the <code>/metrics</code> endpoint, which can be used for monitoring and
diagnosing API server status. The following metrics record status related to admission webhooks.</p>
<h4 id=api-server-admission-webhook-rejection-count>API server admission webhook rejection count</h4>
<p>Sometimes it's useful to know which admission webhooks are frequently rejecting API requests, and the
reason for a rejection.</p>
<p>In v1.16+, kube-apiserver exposes a Prometheus counter metric recording admission webhook rejections. The
metrics are labelled to identify the causes of webhook rejection(s):</p>
<ul>
<li><code>name</code>: the name of the webhook that rejected a request.</li>
<li><code>operation</code>: the operation type of the request, can be one of <code>CREATE</code>,
<code>UPDATE</code>, <code>DELETE</code> and <code>CONNECT</code>.</li>
<li><code>type</code>: the admission webhook type, can be one of <code>admit</code> and <code>validating</code>.</li>
<li><code>error_type</code>: identifies if an error occurred during the webhook invocation
that caused the rejection. Its value can be one of:
<ul>
<li><code>calling_webhook_error</code>: unrecognized errors or timeout errors from the admission webhook happened and the
webhook's <a href=#failure-policy>Failure policy</a> is set to <code>Fail</code>.</li>
<li><code>no_error</code>: no error occurred. The webhook rejected the request with <code>allowed: false</code> in the admission
response. The metrics label <code>rejection_code</code> records the <code>.status.code</code> set in the admission response.</li>
<li><code>apiserver_internal_error</code>: an API server internal error happened.</li>
</ul>
</li>
<li><code>rejection_code</code>: the HTTP status code set in the admission response when a
webhook rejected a request.</li>
</ul>
<p>Example of the rejection count metrics:</p>
<pre><code># HELP apiserver_admission_webhook_rejection_count [ALPHA] Admission webhook rejection count, identified by name and broken out for each admission type (validating or admit) and operation. Additional labels specify an error type (calling_webhook_error or apiserver_internal_error if an error occurred; no_error otherwise) and optionally a non-zero rejection code if the webhook rejects the request with an HTTP status code (honored by the apiserver when the code is greater or equal to 400). Codes greater than 600 are truncated to 600, to keep the metrics cardinality bounded.
# TYPE apiserver_admission_webhook_rejection_count counter
apiserver_admission_webhook_rejection_count{error_type=&quot;calling_webhook_error&quot;,name=&quot;always-timeout-webhook.example.com&quot;,operation=&quot;CREATE&quot;,rejection_code=&quot;0&quot;,type=&quot;validating&quot;} 1
apiserver_admission_webhook_rejection_count{error_type=&quot;calling_webhook_error&quot;,name=&quot;invalid-admission-response-webhook.example.com&quot;,operation=&quot;CREATE&quot;,rejection_code=&quot;0&quot;,type=&quot;validating&quot;} 1
apiserver_admission_webhook_rejection_count{error_type=&quot;no_error&quot;,name=&quot;deny-unwanted-configmap-data.example.com&quot;,operation=&quot;CREATE&quot;,rejection_code=&quot;400&quot;,type=&quot;validating&quot;} 13
</code></pre><h2 id=best-practices-and-warnings>Best practices and warnings</h2>
<h3 id=idempotence>Idempotence</h3>
<p>An idempotent mutating admission webhook is able to successfully process an object it has already admitted
and potentially modified. The admission can be applied multiple times without changing the result beyond
the initial application.</p>
<h4 id=example-of-idempotent-mutating-admission-webhooks>Example of idempotent mutating admission webhooks:</h4>
<ol>
<li>
<p>For a <code>CREATE</code> pod request, set the field <code>.spec.securityContext.runAsNonRoot</code> of the
pod to true, to enforce security best practices.</p>
</li>
<li>
<p>For a <code>CREATE</code> pod request, if the field <code>.spec.containers[].resources.limits</code>
of a container is not set, set default resource limits.</p>
</li>
<li>
<p>For a <code>CREATE</code> pod request, inject a sidecar container with name <code>foo-sidecar</code> if no container with the name <code>foo-sidecar</code> already exists.</p>
</li>
</ol>
<p>In the cases above, the webhook can be safely reinvoked, or admit an object that already has the fields set.</p>
<h4 id=example-of-non-idempotent-mutating-admission-webhooks>Example of non-idempotent mutating admission webhooks:</h4>
<ol>
<li>
<p>For a <code>CREATE</code> pod request, inject a sidecar container with name <code>foo-sidecar</code>
suffixed with the current timestamp (e.g. <code>foo-sidecar-19700101-000000</code>).</p>
</li>
<li>
<p>For a <code>CREATE</code>/<code>UPDATE</code> pod request, reject if the pod has label <code>"env"</code> set,
otherwise add an <code>"env": "prod"</code> label to the pod.</p>
</li>
<li>
<p>For a <code>CREATE</code> pod request, blindly append a sidecar container named
<code>foo-sidecar</code> without looking to see if there is already a <code>foo-sidecar</code>
container in the pod.</p>
</li>
</ol>
<p>In the first case above, reinvoking the webhook can result in the same sidecar being injected multiple times to a pod, each time
with a different container name. Similarly the webhook can inject duplicated containers if the sidecar already exists in
a user-provided pod.</p>
<p>In the second case above, reinvoking the webhook will result in the webhook failing on its own output.</p>
<p>In the third case above, reinvoking the webhook will result in duplicated containers in the pod spec, which makes
the request invalid and rejected by the API server.</p>
<h3 id=intercepting-all-versions-of-an-object>Intercepting all versions of an object</h3>
<p>It is recommended that admission webhooks should always intercept all versions of an object by setting <code>.webhooks[].matchPolicy</code>
to <code>Equivalent</code>. It is also recommended that admission webhooks should prefer registering for stable versions of resources.
Failure to intercept all versions of an object can result in admission policies not being enforced for requests in certain
versions. See <a href=#matching-requests-matchpolicy>Matching requests: matchPolicy</a> for examples.</p>
<h3 id=availability>Availability</h3>
<p>It is recommended that admission webhooks should evaluate as quickly as possible (typically in milliseconds), since they add to API request latency.
It is encouraged to use a small timeout for webhooks. See <a href=#timeouts>Timeouts</a> for more detail.</p>
<p>It is recommended that admission webhooks should leverage some format of load-balancing, to provide high availability and
performance benefits. If a webhook is running within the cluster, you can run multiple webhook backends behind a service
to leverage the load-balancing that service supports.</p>
<h3 id=guaranteeing-the-final-state-of-the-object-is-seen>Guaranteeing the final state of the object is seen</h3>
<p>Admission webhooks that need to guarantee they see the final state of the object in order to enforce policy
should use a validating admission webhook, since objects can be modified after being seen by mutating webhooks.</p>
<p>For example, a mutating admission webhook is configured to inject a sidecar container with name "foo-sidecar" on every
<code>CREATE</code> pod request. If the sidecar <em>must</em> be present, a validating admisson webhook should also be configured to intercept <code>CREATE</code> pod requests, and validate
that a container with name "foo-sidecar" with the expected configuration exists in the to-be-created object.</p>
<h3 id=avoiding-deadlocks-in-self-hosted-webhooks>Avoiding deadlocks in self-hosted webhooks</h3>
<p>A webhook running inside the cluster might cause deadlocks for its own deployment if it is configured
to intercept resources required to start its own pods.</p>
<p>For example, a mutating admission webhook is configured to admit <code>CREATE</code> pod requests only if a certain label is set in the
pod (e.g. <code>"env": "prod"</code>). The webhook server runs in a deployment which doesn't set the <code>"env"</code> label.
When a node that runs the webhook server pods
becomes unhealthy, the webhook deployment will try to reschedule the pods to another node. However the requests will
get rejected by the existing webhook server since the <code>"env"</code> label is unset, and the migration cannot happen.</p>
<p>It is recommended to exclude the namespace where your webhook is running with a <a href=#matching-requests-namespaceselector>namespaceSelector</a>.</p>
<h3 id=side-effects-1>Side effects</h3>
<p>It is recommended that admission webhooks should avoid side effects if possible, which means the webhooks operate only on the
content of the <code>AdmissionReview</code> sent to them, and do not make out-of-band changes. The <code>.webhooks[].sideEffects</code> field should
be set to <code>None</code> if a webhook doesn't have any side effect.</p>
<p>If side effects are required during the admission evaluation, they must be suppressed when processing an
<code>AdmissionReview</code> object with <code>dryRun</code> set to <code>true</code>, and the <code>.webhooks[].sideEffects</code> field should be
set to <code>NoneOnDryRun</code>. See <a href=#side-effects>Side effects</a> for more detail.</p>
<h3 id=avoiding-operating-on-the-kube-system-namespace>Avoiding operating on the kube-system namespace</h3>
<p>The <code>kube-system</code> namespace contains objects created by the Kubernetes system,
e.g. service accounts for the control plane components, pods like <code>kube-dns</code>.
Accidentally mutating or rejecting requests in the <code>kube-system</code> namespace may
cause the control plane components to stop functioning or introduce unknown behavior.
If your admission webhooks don't intend to modify the behavior of the Kubernetes control
plane, exclude the <code>kube-system</code> namespace from being intercepted using a
<a href=#matching-requests-namespaceselector><code>namespaceSelector</code></a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bea207258f3576b8ec7444a20d498e1d>3.6 - Managing Service Accounts</h1>
<p>This is a Cluster Administrator guide to service accounts. You should be familiar with
<a href=/docs/tasks/configure-pod-container/configure-service-account/>configuring Kubernetes service accounts</a>.</p>
<p>Support for authorization and user accounts is planned but incomplete. Sometimes
incomplete features are referred to in order to better describe service accounts.</p>
<h2 id=user-accounts-versus-service-accounts>User accounts versus service accounts</h2>
<p>Kubernetes distinguishes between the concept of a user account and a service account
for a number of reasons:</p>
<ul>
<li>User accounts are for humans. Service accounts are for processes, which run
in pods.</li>
<li>User accounts are intended to be global. Names must be unique across all
namespaces of a cluster. Service accounts are namespaced.</li>
<li>Typically, a cluster's user accounts might be synced from a corporate
database, where new user account creation requires special privileges and is
tied to complex business processes. Service account creation is intended to be
more lightweight, allowing cluster users to create service accounts for
specific tasks by following the principle of least privilege.</li>
<li>Auditing considerations for humans and service accounts may differ.</li>
<li>A config bundle for a complex system may include definition of various service
accounts for components of that system. Because service accounts can be created
without many constraints and have namespaced names, such config is portable.</li>
</ul>
<h2 id=service-account-automation>Service account automation</h2>
<p>Three separate components cooperate to implement the automation around service accounts:</p>
<ul>
<li>A <code>ServiceAccount</code> admission controller</li>
<li>A Token controller</li>
<li>A <code>ServiceAccount</code> controller</li>
</ul>
<h3 id=serviceaccount-admission-controller>ServiceAccount Admission Controller</h3>
<p>The modification of pods is implemented via a plugin
called an <a href=/docs/reference/access-authn-authz/admission-controllers/>Admission Controller</a>.
It is part of the API server.
It acts synchronously to modify pods as they are created or updated. When this plugin is active
(and it is by default on most distributions), then it does the following when a pod is created or modified:</p>
<ol>
<li>If the pod does not have a <code>ServiceAccount</code> set, it sets the <code>ServiceAccount</code> to <code>default</code>.</li>
<li>It ensures that the <code>ServiceAccount</code> referenced by the pod exists, and otherwise rejects it.</li>
<li>It adds a <code>volume</code> to the pod which contains a token for API access if neither the ServiceAccount <code>automountServiceAccountToken</code> nor the Pod's <code>automountServiceAccountToken</code> is set to <code>false</code>.</li>
<li>It adds a <code>volumeSource</code> to each container of the pod mounted at <code>/var/run/secrets/kubernetes.io/serviceaccount</code>, if the previous step has created a volume for ServiceAccount token.</li>
<li>If the pod does not contain any <code>imagePullSecrets</code>, then <code>imagePullSecrets</code> of the <code>ServiceAccount</code> are added to the pod.</li>
</ol>
<h4 id=bound-service-account-token-volume>Bound Service Account Token Volume</h4>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [stable]</code>
</div>
<p>The ServiceAccount admission controller will add the following projected volume instead of a Secret-based volume for the non-expiring service account token created by Token Controller.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>kube-api-access-&lt;random-suffix&gt;<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>projected</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>defaultMode</span>:<span style=color:#bbb> </span><span style=color:#666>420</span><span style=color:#bbb> </span><span style=color:#080;font-style:italic># 0644</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>sources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>serviceAccountToken</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>expirationSeconds</span>:<span style=color:#bbb> </span><span style=color:#666>3607</span><span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>token<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>configMap</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>items</span>:<span style=color:#bbb>
</span><span style=color:#bbb>            </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span>ca.crt<span style=color:#bbb>
</span><span style=color:#bbb>              </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>ca.crt<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>kube-root-ca.crt<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:green;font-weight:700>downwardAPI</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>items</span>:<span style=color:#bbb>
</span><span style=color:#bbb>            </span>- <span style=color:green;font-weight:700>fieldRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>                </span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb>                </span><span style=color:green;font-weight:700>fieldPath</span>:<span style=color:#bbb> </span>metadata.namespace<span style=color:#bbb>
</span><span style=color:#bbb>              </span><span style=color:green;font-weight:700>path</span>:<span style=color:#bbb> </span>namespace<span style=color:#bbb>
</span></code></pre></div><p>This projected volume consists of three sources:</p>
<ol>
<li>A ServiceAccountToken acquired from kube-apiserver via TokenRequest API. It will expire after 1 hour by default or when the pod is deleted. It is bound to the pod and has kube-apiserver as the audience.</li>
<li>A ConfigMap containing a CA bundle used for verifying connections to the kube-apiserver. This feature depends on the <code>RootCAConfigMap</code> feature gate, which publishes a "kube-root-ca.crt" ConfigMap to every namespace. <code>RootCAConfigMap</code> feature gate is graduated to GA in 1.21 and default to true. (This flag will be removed from --feature-gate arg in 1.22)</li>
<li>A DownwardAPI that references the namespace of the pod.</li>
</ol>
<p>See more details about <a href=/docs/tasks/configure-pod-container/configure-projected-volume-storage/>projected volumes</a>.</p>
<h3 id=token-controller>Token Controller</h3>
<p>TokenController runs as part of <code>kube-controller-manager</code>. It acts asynchronously. It:</p>
<ul>
<li>watches ServiceAccount creation and creates a corresponding
ServiceAccount token Secret to allow API access.</li>
<li>watches ServiceAccount deletion and deletes all corresponding ServiceAccount
token Secrets.</li>
<li>watches ServiceAccount token Secret addition, and ensures the referenced
ServiceAccount exists, and adds a token to the Secret if needed.</li>
<li>watches Secret deletion and removes a reference from the corresponding
ServiceAccount if needed.</li>
</ul>
<p>You must pass a service account private key file to the token controller in
the <code>kube-controller-manager</code> using the <code>--service-account-private-key-file</code>
flag. The private key is used to sign generated service account tokens.
Similarly, you must pass the corresponding public key to the <code>kube-apiserver</code>
using the <code>--service-account-key-file</code> flag. The public key will be used to
verify the tokens during authentication.</p>
<h4 id=to-create-additional-api-tokens>To create additional API tokens</h4>
<p>A controller loop ensures a Secret with an API token exists for each
ServiceAccount. To create additional API tokens for a ServiceAccount, create a
Secret of type <code>kubernetes.io/service-account-token</code> with an annotation
referencing the ServiceAccount, and the controller will update it with a
generated token:</p>
<p>Below is a sample configuration for such a Secret:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Secret<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>mysecretname<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kubernetes.io/service-account.name</span>:<span style=color:#bbb> </span>myserviceaccount<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>kubernetes.io/service-account-token<span style=color:#bbb>
</span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create -f ./secret.yaml
kubectl describe secret mysecretname
</code></pre></div><h4 id=to-delete-invalidate-a-serviceaccount-token-secret>To delete/invalidate a ServiceAccount token Secret</h4>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl delete secret mysecretname
</code></pre></div><h3 id=serviceaccount-controller>ServiceAccount controller</h3>
<p>A ServiceAccount controller manages the ServiceAccounts inside namespaces, and
ensures a ServiceAccount named "default" exists in every active namespace.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-342be69d36f174f762c36f4fe11fcb20>3.7 - Authorization Overview</h1>
<p>Learn more about Kubernetes authorization, including details about creating
policies using the supported authorization modules.</p>
<p>In Kubernetes, you must be authenticated (logged in) before your request can be
authorized (granted permission to access). For information about authentication,
see <a href=/docs/concepts/security/controlling-access/>Controlling Access to the Kubernetes API</a>.</p>
<p>Kubernetes expects attributes that are common to REST API requests. This means
that Kubernetes authorization works with existing organization-wide or
cloud-provider-wide access control systems which may handle other APIs besides
the Kubernetes API.</p>
<h2 id=determine-whether-a-request-is-allowed-or-denied>Determine Whether a Request is Allowed or Denied</h2>
<p>Kubernetes authorizes API requests using the API server. It evaluates all of the
request attributes against all policies and allows or denies the request. All
parts of an API request must be allowed by some policy in order to proceed. This
means that permissions are denied by default.</p>
<p>(Although Kubernetes uses the API server, access controls and policies that
depend on specific fields of specific kinds of objects are handled by Admission
Controllers.)</p>
<p>When multiple authorization modules are configured, each is checked in sequence.
If any authorizer approves or denies a request, that decision is immediately
returned and no other authorizer is consulted. If all modules have no opinion on
the request, then the request is denied. A deny returns an HTTP status code 403.</p>
<h2 id=review-your-request-attributes>Review Your Request Attributes</h2>
<p>Kubernetes reviews only the following API request attributes:</p>
<ul>
<li><strong>user</strong> - The <code>user</code> string provided during authentication.</li>
<li><strong>group</strong> - The list of group names to which the authenticated user belongs.</li>
<li><strong>extra</strong> - A map of arbitrary string keys to string values, provided by the authentication layer.</li>
<li><strong>API</strong> - Indicates whether the request is for an API resource.</li>
<li><strong>Request path</strong> - Path to miscellaneous non-resource endpoints like <code>/api</code> or <code>/healthz</code>.</li>
<li><strong>API request verb</strong> - API verbs like <code>get</code>, <code>list</code>, <code>create</code>, <code>update</code>, <code>patch</code>, <code>watch</code>, <code>delete</code>, and <code>deletecollection</code> are used for resource requests. To determine the request verb for a resource API endpoint, see <a href=/docs/reference/access-authn-authz/authorization/#determine-the-request-verb>Determine the request verb</a>.</li>
<li><strong>HTTP request verb</strong> - Lowercased HTTP methods like <code>get</code>, <code>post</code>, <code>put</code>, and <code>delete</code> are used for non-resource requests.</li>
<li><strong>Resource</strong> - The ID or name of the resource that is being accessed (for resource requests only) -- For resource requests using <code>get</code>, <code>update</code>, <code>patch</code>, and <code>delete</code> verbs, you must provide the resource name.</li>
<li><strong>Subresource</strong> - The subresource that is being accessed (for resource requests only).</li>
<li><strong>Namespace</strong> - The namespace of the object that is being accessed (for namespaced resource requests only).</li>
<li><strong>API group</strong> - The <a class=glossary-tooltip title="A set of related paths in the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/kubernetes-api/#api-groups-and-versioning target=_blank aria-label="API Group">API Group</a> being accessed (for resource requests only). An empty string designates the <em>core</em> <a href=/docs/reference/using-api/#api-groups>API group</a>.</li>
</ul>
<h2 id=determine-the-request-verb>Determine the Request Verb</h2>
<p><strong>Non-resource requests</strong>
Requests to endpoints other than <code>/api/v1/...</code> or <code>/apis/&lt;group>/&lt;version>/...</code>
are considered "non-resource requests", and use the lower-cased HTTP method of the request as the verb.
For example, a <code>GET</code> request to endpoints like <code>/api</code> or <code>/healthz</code> would use <code>get</code> as the verb.</p>
<p><strong>Resource requests</strong>
To determine the request verb for a resource API endpoint, review the HTTP verb
used and whether or not the request acts on an individual resource or a
collection of resources:</p>
<table>
<thead>
<tr>
<th>HTTP verb</th>
<th>request verb</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>create</td>
</tr>
<tr>
<td>GET, HEAD</td>
<td>get (for individual resources), list (for collections, including full object content), watch (for watching an individual resource or collection of resources)</td>
</tr>
<tr>
<td>PUT</td>
<td>update</td>
</tr>
<tr>
<td>PATCH</td>
<td>patch</td>
</tr>
<tr>
<td>DELETE</td>
<td>delete (for individual resources), deletecollection (for collections)</td>
</tr>
</tbody>
</table>
<p>Kubernetes sometimes checks authorization for additional permissions using specialized verbs. For example:</p>
<ul>
<li><a href=/docs/concepts/policy/pod-security-policy/>PodSecurityPolicy</a>
<ul>
<li><code>use</code> verb on <code>podsecuritypolicies</code> resources in the <code>policy</code> API group.</li>
</ul>
</li>
<li><a href=/docs/reference/access-authn-authz/rbac/#privilege-escalation-prevention-and-bootstrapping>RBAC</a>
<ul>
<li><code>bind</code> and <code>escalate</code> verbs on <code>roles</code> and <code>clusterroles</code> resources in the <code>rbac.authorization.k8s.io</code> API group.</li>
</ul>
</li>
<li><a href=/docs/reference/access-authn-authz/authentication/>Authentication</a>
<ul>
<li><code>impersonate</code> verb on <code>users</code>, <code>groups</code>, and <code>serviceaccounts</code> in the core API group, and the <code>userextras</code> in the <code>authentication.k8s.io</code> API group.</li>
</ul>
</li>
</ul>
<h2 id=authorization-modules>Authorization Modes</h2>
<p>The Kubernetes API server may authorize a request using one of several authorization modes:</p>
<ul>
<li><strong>Node</strong> - A special-purpose authorization mode that grants permissions to kubelets based on the pods they are scheduled to run. To learn more about using the Node authorization mode, see <a href=/docs/reference/access-authn-authz/node/>Node Authorization</a>.</li>
<li><strong>ABAC</strong> - Attribute-based access control (ABAC) defines an access control paradigm whereby access rights are granted to users through the use of policies which combine attributes together. The policies can use any type of attributes (user attributes, resource attributes, object, environment attributes, etc). To learn more about using the ABAC mode, see <a href=/docs/reference/access-authn-authz/abac/>ABAC Mode</a>.</li>
<li><strong>RBAC</strong> - Role-based access control (RBAC) is a method of regulating access to computer or network resources based on the roles of individual users within an enterprise. In this context, access is the ability of an individual user to perform a specific task, such as view, create, or modify a file. To learn more about using the RBAC mode, see <a href=/docs/reference/access-authn-authz/rbac/>RBAC Mode</a>
<ul>
<li>When specified RBAC (Role-Based Access Control) uses the <code>rbac.authorization.k8s.io</code> API group to drive authorization decisions, allowing admins to dynamically configure permission policies through the Kubernetes API.</li>
<li>To enable RBAC, start the apiserver with <code>--authorization-mode=RBAC</code>.</li>
</ul>
</li>
<li><strong>Webhook</strong> - A WebHook is an HTTP callback: an HTTP POST that occurs when something happens; a simple event-notification via HTTP POST. A web application implementing WebHooks will POST a message to a URL when certain things happen. To learn more about using the Webhook mode, see <a href=/docs/reference/access-authn-authz/webhook/>Webhook Mode</a>.</li>
</ul>
<h4 id=checking-api-access>Checking API Access</h4>
<p><code>kubectl</code> provides the <code>auth can-i</code> subcommand for quickly querying the API authorization layer.
The command uses the <code>SelfSubjectAccessReview</code> API to determine if the current user can perform
a given action, and works regardless of the authorization mode used.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl auth can-i create deployments --namespace dev
</code></pre></div><p>The output is similar to this:</p>
<pre><code>yes
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl auth can-i create deployments --namespace prod
</code></pre></div><p>The output is similar to this:</p>
<pre><code>no
</code></pre><p>Administrators can combine this with <a href=/docs/reference/access-authn-authz/authentication/#user-impersonation>user impersonation</a>
to determine what action other users can perform.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl auth can-i list secrets --namespace dev --as dave
</code></pre></div><p>The output is similar to this:</p>
<pre><code>no
</code></pre><p>Similarly, to check whether a ServiceAccount named <code>dev-sa</code> in Namespace <code>dev</code>
can list Pods in the Namespace <code>target</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl auth can-i list pods <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>	--namespace target <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>	--as system:serviceaccount:dev:dev-sa
</code></pre></div><p>The output is similar to this:</p>
<pre><code>yes
</code></pre><p><code>SelfSubjectAccessReview</code> is part of the <code>authorization.k8s.io</code> API group, which
exposes the API server authorization to external services. Other resources in
this group include:</p>
<ul>
<li><code>SubjectAccessReview</code> - Access review for any user, not only the current one. Useful for delegating authorization decisions to the API server. For example, the kubelet and extension API servers use this to determine user access to their own APIs.</li>
<li><code>LocalSubjectAccessReview</code> - Like <code>SubjectAccessReview</code> but restricted to a specific namespace.</li>
<li><code>SelfSubjectRulesReview</code> - A review which returns the set of actions a user can perform within a namespace. Useful for users to quickly summarize their own access, or for UIs to hide/show actions.</li>
</ul>
<p>These APIs can be queried by creating normal Kubernetes resources, where the response "status"
field of the returned object is the result of the query.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl create -f - -o yaml <span style=color:#b44>&lt;&lt; EOF
</span><span style=color:#b44>apiVersion: authorization.k8s.io/v1
</span><span style=color:#b44>kind: SelfSubjectAccessReview
</span><span style=color:#b44>spec:
</span><span style=color:#b44>  resourceAttributes:
</span><span style=color:#b44>    group: apps
</span><span style=color:#b44>    resource: deployments
</span><span style=color:#b44>    verb: create
</span><span style=color:#b44>    namespace: dev
</span><span style=color:#b44>EOF</span>
</code></pre></div><p>The generated <code>SelfSubjectAccessReview</code> is:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>SelfSubjectAccessReview<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>creationTimestamp</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>null</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>spec</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceAttributes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>group</span>:<span style=color:#bbb> </span>apps<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resource</span>:<span style=color:#bbb> </span>deployments<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>dev<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>verb</span>:<span style=color:#bbb> </span>create<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>status</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>allowed</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>denied</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span></code></pre></div><h2 id=using-flags-for-your-authorization-module>Using Flags for Your Authorization Module</h2>
<p>You must include a flag in your policy to indicate which authorization module
your policies include:</p>
<p>The following flags can be used:</p>
<ul>
<li><code>--authorization-mode=ABAC</code> Attribute-Based Access Control (ABAC) mode allows you to configure policies using local files.</li>
<li><code>--authorization-mode=RBAC</code> Role-based access control (RBAC) mode allows you to create and store policies using the Kubernetes API.</li>
<li><code>--authorization-mode=Webhook</code> WebHook is an HTTP callback mode that allows you to manage authorization using a remote REST endpoint.</li>
<li><code>--authorization-mode=Node</code> Node authorization is a special-purpose authorization mode that specifically authorizes API requests made by kubelets.</li>
<li><code>--authorization-mode=AlwaysDeny</code> This flag blocks all requests. Use this flag only for testing.</li>
<li><code>--authorization-mode=AlwaysAllow</code> This flag allows all requests. Use this flag only if you do not require authorization for your API requests.</li>
</ul>
<p>You can choose more than one authorization module. Modules are checked in order
so an earlier module has higher priority to allow or deny a request.</p>
<h2 id=privilege-escalation-via-pod-creation>Privilege escalation via workload creation or edits</h2>
<p>Users who can create/edit pods in a namespace, either directly or through a <a href=/docs/concepts/architecture/controller/>controller</a>
such as an operator, could escalate their privileges in that namespace.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> System administrators, use care when granting access to create or edit workloads.
Details of how these can be misused are documented in <a href=/docs/reference/access-authn-authz/authorization/#escalation-paths>escalation paths</a>
</div>
<h3 id=escalation-paths>Escalation paths</h3>
<ul>
<li>Mounting arbitrary secrets in that namespace
<ul>
<li>Can be used to access secrets meant for other workloads</li>
<li>Can be used to obtain a more privileged service account's service account token</li>
</ul>
</li>
<li>Using arbitrary Service Accounts in that namespace
<ul>
<li>Can perform Kubernetes API actions as another workload (impersonation)</li>
<li>Can perform any privileged actions that Service Account has</li>
</ul>
</li>
<li>Mounting configmaps meant for other workloads in that namespace
<ul>
<li>Can be used to obtain information meant for other workloads, such as DB host names.</li>
</ul>
</li>
<li>Mounting volumes meant for other workloads in that namespace
<ul>
<li>Can be used to obtain information meant for other workloads, and change it.</li>
</ul>
</li>
</ul>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> System administrators should be cautious when deploying CRDs that
change the above areas. These may open privilege escalations paths.
This should be considered when deciding on your RBAC controls.
</div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>To learn more about Authentication, see <strong>Authentication</strong> in <a href=/docs/concepts/security/controlling-access/>Controlling Access to the Kubernetes API</a>.</li>
<li>To learn more about Admission Control, see <a href=/docs/reference/access-authn-authz/admission-controllers/>Using Admission Controllers</a>.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-954776b47f2d90515f375623a0ce98e1>3.8 - Using RBAC Authorization</h1>
<p>Role-based access control (RBAC) is a method of regulating access to computer or
network resources based on the roles of individual users within your organization.</p>
<p>RBAC authorization uses the <code>rbac.authorization.k8s.io</code>
<a class=glossary-tooltip title="A set of related paths in the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/kubernetes-api/#api-groups-and-versioning target=_blank aria-label="API group">API group</a> to drive authorization
decisions, allowing you to dynamically configure policies through the Kubernetes API.</p>
<p>To enable RBAC, start the <a class=glossary-tooltip title="Control plane component that serves the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/components/#kube-apiserver target=_blank aria-label="API server">API server</a>
with the <code>--authorization-mode</code> flag set to a comma-separated list that includes <code>RBAC</code>;
for example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kube-apiserver --authorization-mode<span style=color:#666>=</span>Example,RBAC --other-options --more-options
</code></pre></div><h2 id=api-overview>API objects</h2>
<p>The RBAC API declares four kinds of Kubernetes object: <em>Role</em>, <em>ClusterRole</em>,
<em>RoleBinding</em> and <em>ClusterRoleBinding</em>. You can
<a href=/docs/concepts/overview/working-with-objects/kubernetes-objects/#understanding-kubernetes-objects>describe objects</a>,
or amend them, using tools such as <code>kubectl,</code> just like any other Kubernetes object.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> These objects, by design, impose access restrictions. If you are making changes
to a cluster as you learn, see
<a href=#privilege-escalation-prevention-and-bootstrapping>privilege escalation prevention and bootstrapping</a>
to understand how those restrictions can prevent you making some changes.
</div>
<h3 id=role-and-clusterrole>Role and ClusterRole</h3>
<p>An RBAC <em>Role</em> or <em>ClusterRole</em> contains rules that represent a set of permissions.
Permissions are purely additive (there are no "deny" rules).</p>
<p>A Role always sets permissions within a particular <a class=glossary-tooltip title="An abstraction used by Kubernetes to support multiple virtual clusters on the same physical cluster." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/namespaces target=_blank aria-label=namespace>namespace</a>;
when you create a Role, you have to specify the namespace it belongs in.</p>
<p>ClusterRole, by contrast, is a non-namespaced resource. The resources have different names (Role
and ClusterRole) because a Kubernetes object always has to be either namespaced or not namespaced;
it can't be both.</p>
<p>ClusterRoles have several uses. You can use a ClusterRole to:</p>
<ol>
<li>define permissions on namespaced resources and be granted within individual namespace(s)</li>
<li>define permissions on namespaced resources and be granted across all namespaces</li>
<li>define permissions on cluster-scoped resources</li>
</ol>
<p>If you want to define a role within a namespace, use a Role; if you want to define
a role cluster-wide, use a ClusterRole.</p>
<h4 id=role-example>Role example</h4>
<p>Here's an example Role in the "default" namespace that can be used to grant read access to
<a class=glossary-tooltip title="A Pod represents a set of running containers in your cluster." data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/pods/ target=_blank aria-label=pods>pods</a>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Role<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>pod-reader<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb> </span><span style=color:#080;font-style:italic># &#34;&#34; indicates the core API group</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;pods&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><h4 id=clusterrole-example>ClusterRole example</h4>
<p>A ClusterRole can be used to grant the same permissions as a Role.
Because ClusterRoles are cluster-scoped, you can also use them to grant access to:</p>
<ul>
<li>
<p>cluster-scoped resources (like <a class=glossary-tooltip title="A node is a worker machine in Kubernetes." data-toggle=tooltip data-placement=top href=/docs/concepts/architecture/nodes/ target=_blank aria-label=nodes>nodes</a>)</p>
</li>
<li>
<p>non-resource endpoints (like <code>/healthz</code>)</p>
</li>
<li>
<p>namespaced resources (like Pods), across all namespaces</p>
<p>For example: you can use a ClusterRole to allow a particular user to run
<code>kubectl get pods --all-namespaces</code></p>
</li>
</ul>
<p>Here is an example of a ClusterRole that can be used to grant read access to
<a class=glossary-tooltip title="Stores sensitive information, such as passwords, OAuth tokens, and ssh keys." data-toggle=tooltip data-placement=top href=/docs/concepts/configuration/secret/ target=_blank aria-label=secrets>secrets</a> in any particular namespace,
or across all namespaces (depending on how it is <a href=#rolebinding-and-clusterrolebinding>bound</a>):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># &#34;namespace&#34; omitted since ClusterRoles are not namespaced</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>secret-reader<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing Secret</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;secrets&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;secrets&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>The name of a Role or a ClusterRole object must be a valid
<a href=/docs/concepts/overview/working-with-objects/names#path-segment-names>path segment name</a>.</p>
<h3 id=rolebinding-and-clusterrolebinding>RoleBinding and ClusterRoleBinding</h3>
<p>A role binding grants the permissions defined in a role to a user or set of users.
It holds a list of <em>subjects</em> (users, groups, or service accounts), and a reference to the
role being granted.
A RoleBinding grants permissions within a specific namespace whereas a ClusterRoleBinding
grants that access cluster-wide.</p>
<p>A RoleBinding may reference any Role in the same namespace. Alternatively, a RoleBinding
can reference a ClusterRole and bind that ClusterRole to the namespace of the RoleBinding.
If you want to bind a ClusterRole to all the namespaces in your cluster, you use a
ClusterRoleBinding.</p>
<p>The name of a RoleBinding or ClusterRoleBinding object must be a valid
<a href=/docs/concepts/overview/working-with-objects/names#path-segment-names>path segment name</a>.</p>
<h4 id=rolebinding-example>RoleBinding examples</h4>
<p>Here is an example of a RoleBinding that grants the "pod-reader" Role to the user "jane"
within the "default" namespace.
This allows "jane" to read pods in the "default" namespace.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># This role binding allows &#34;jane&#34; to read pods in the &#34;default&#34; namespace.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># You need to already have a Role named &#34;pod-reader&#34; in that namespace.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>RoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>read-pods<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># You can specify more than one &#34;subject&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>User<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>jane<span style=color:#bbb> </span><span style=color:#080;font-style:italic># &#34;name&#34; is case sensitive</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># &#34;roleRef&#34; specifies the binding to a Role / ClusterRole</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Role<span style=color:#bbb> </span><span style=color:#080;font-style:italic>#this must be Role or ClusterRole</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>pod-reader<span style=color:#bbb> </span><span style=color:#080;font-style:italic># this must match the name of the Role or ClusterRole you wish to bind to</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>A RoleBinding can also reference a ClusterRole to grant the permissions defined in that
ClusterRole to resources inside the RoleBinding's namespace. This kind of reference
lets you define a set of common roles across your cluster, then reuse them within
multiple namespaces.</p>
<p>For instance, even though the following RoleBinding refers to a ClusterRole,
"dave" (the subject, case sensitive) will only be able to read Secrets in the "development"
namespace, because the RoleBinding's namespace (in its metadata) is "development".</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># This role binding allows &#34;dave&#34; to read secrets in the &#34;development&#34; namespace.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># You need to already have a ClusterRole named &#34;secret-reader&#34;.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>RoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>read-secrets<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># The namespace of the RoleBinding determines where the permissions are granted.</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># This only grants permissions within the &#34;development&#34; namespace.</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>development<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>User<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>dave<span style=color:#bbb> </span><span style=color:#080;font-style:italic># Name is case sensitive</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>secret-reader<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><h4 id=clusterrolebinding-example>ClusterRoleBinding example</h4>
<p>To grant permissions across a whole cluster, you can use a ClusterRoleBinding.
The following ClusterRoleBinding allows any user in the group "manager" to read
secrets in any namespace.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># This cluster role binding allows anyone in the &#34;manager&#34; group to read secrets in any namespace.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>read-secrets-global<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>manager<span style=color:#bbb> </span><span style=color:#080;font-style:italic># Name is case sensitive</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>secret-reader<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>After you create a binding, you cannot change the Role or ClusterRole that it refers to.
If you try to change a binding's <code>roleRef</code>, you get a validation error. If you do want
to change the <code>roleRef</code> for a binding, you need to remove the binding object and create
a replacement.</p>
<p>There are two reasons for this restriction:</p>
<ol>
<li>Making <code>roleRef</code> immutable allows granting someone <code>update</code> permission on an existing binding
object, so that they can manage the list of subjects, without being able to change
the role that is granted to those subjects.</li>
<li>A binding to a different role is a fundamentally different binding.
Requiring a binding to be deleted/recreated in order to change the <code>roleRef</code>
ensures the full list of subjects in the binding is intended to be granted
the new role (as opposed to enabling or accidentally modifying only the roleRef
without verifying all of the existing subjects should be given the new role's
permissions).</li>
</ol>
<p>The <code>kubectl auth reconcile</code> command-line utility creates or updates a manifest file containing RBAC objects,
and handles deleting and recreating binding objects if required to change the role they refer to.
See <a href=#kubectl-auth-reconcile>command usage and examples</a> for more information.</p>
<h3 id=referring-to-resources>Referring to resources</h3>
<p>In the Kubernetes API, most resources are represented and accessed using a string representation of
their object name, such as <code>pods</code> for a Pod. RBAC refers to resources using exactly the same
name that appears in the URL for the relevant API endpoint.
Some Kubernetes APIs involve a
<em>subresource</em>, such as the logs for a Pod. A request for a Pod's logs looks like:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span>GET /api/v1/namespaces/{namespace}/pods/{name}/log
</span></code></pre></div><p>In this case, <code>pods</code> is the namespaced resource for Pod resources, and <code>log</code> is a
subresource of <code>pods</code>. To represent this in an RBAC role, use a slash (<code>/</code>) to
delimit the resource and subresource. To allow a subject to read <code>pods</code> and
also access the <code>log</code> subresource for each of those Pods, you write:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Role<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>pod-and-pod-logs-reader<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;pods&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;pods/log&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>You can also refer to resources by name for certain requests through the <code>resourceNames</code> list.
When specified, requests can be restricted to individual instances of a resource.
Here is an example that restricts its subject to only <code>get</code> or <code>update</code> a
<a class=glossary-tooltip title="An API object used to store non-confidential data in key-value pairs. Can be consumed as environment variables, command-line arguments, or configuration files in a volume." data-toggle=tooltip data-placement=top href=/docs/concepts/configuration/configmap/ target=_blank aria-label=ConfigMap>ConfigMap</a> named <code>my-configmap</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Role<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>configmap-updater<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing ConfigMap</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;configmaps&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;configmaps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;my-configmap&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;update&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;get&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> You cannot restrict <code>create</code> or <code>deletecollection</code> requests by their resource name.
For <code>create</code>, this limitation is because the name of the new object may not be known at authorization time.
If you restrict <code>list</code> or <code>watch</code> by resourceName, clients must include a <code>metadata.name</code> field selector in their <code>list</code> or <code>watch</code> request that matches the specified resourceName in order to be authorized.
For example, <code>kubectl get configmaps --field-selector=metadata.name=my-configmap</code>
</div>
<h3 id=aggregated-clusterroles>Aggregated ClusterRoles</h3>
<p>You can <em>aggregate</em> several ClusterRoles into one combined ClusterRole.
A controller, running as part of the cluster control plane, watches for ClusterRole
objects with an <code>aggregationRule</code> set. The <code>aggregationRule</code> defines a label
<a class=glossary-tooltip title="Allows users to filter a list of resources based on labels." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels/ target=_blank aria-label=selector>selector</a> that the controller
uses to match other ClusterRole objects that should be combined into the <code>rules</code>
field of this one.</p>
<p>Here is an example aggregated ClusterRole:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>monitoring<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>aggregationRule</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>clusterRoleSelectors</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>matchLabels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>rbac.example.com/aggregate-to-monitoring</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb> </span>[]<span style=color:#bbb> </span><span style=color:#080;font-style:italic># The control plane automatically fills in the rules</span><span style=color:#bbb>
</span></code></pre></div><p>If you create a new ClusterRole that matches the label selector of an existing aggregated ClusterRole,
that change triggers adding the new rules into the aggregated ClusterRole.
Here is an example that adds rules to the "monitoring" ClusterRole, by creating another
ClusterRole labeled <code>rbac.example.com/aggregate-to-monitoring: true</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>monitoring-endpoints<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.example.com/aggregate-to-monitoring</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># When you create the &#34;monitoring-endpoints&#34; ClusterRole,</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># the rules below will be added to the &#34;monitoring&#34; ClusterRole.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;services&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;endpoints&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;pods&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>The <a href=#default-roles-and-role-bindings>default user-facing roles</a> use ClusterRole aggregation. This lets you,
as a cluster administrator, include rules for custom resources, such as those served by
<a class=glossary-tooltip title="Custom code that defines a resource to add to your Kubernetes API server without building a complete custom server." data-toggle=tooltip data-placement=top href=/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/ target=_blank aria-label=CustomResourceDefinitions>CustomResourceDefinitions</a>
or aggregated API servers, to extend the default roles.</p>
<p>For example: the following ClusterRoles let the "admin" and "edit" default roles manage the custom resource
named CronTab, whereas the "view" role can perform only read actions on CronTab resources.
You can assume that CronTab objects are named <code>"crontabs"</code> in URLs as seen by the API server.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>aggregate-cron-tabs-edit<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Add these permissions to the &#34;admin&#34; and &#34;edit&#34; default roles.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-admin</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-edit</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;stable.example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;crontabs&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;create&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;update&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;patch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;delete&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>aggregate-cron-tabs-view<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># Add these permissions to the &#34;view&#34; default role.</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-view</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;stable.example.com&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;crontabs&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><h4 id=role-examples>Role examples</h4>
<p>The following examples are excerpts from Role or ClusterRole objects, showing only
the <code>rules</code> section.</p>
<p>Allow reading <code>"pods"</code> resources in the core
<a class=glossary-tooltip title="A set of related paths in the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/kubernetes-api/#api-groups-and-versioning target=_blank aria-label="API Group">API Group</a>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing Pod</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;pods&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;pods&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>Allow reading/writing Deployments (at the HTTP level: objects with <code>"deployments"</code>
in the resource part of their URL) in both the <code>"extensions"</code> and <code>"apps"</code> API groups:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;extensions&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;apps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing Deployment</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;deployments&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;deployments&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;create&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;update&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;patch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;delete&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>Allow reading Pods in the core API group, as well as reading or writing Job
resources in the <code>"batch"</code> or <code>"extensions"</code> API groups:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing Pod</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;pods&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;pods&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;batch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;extensions&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing Job</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;jobs&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;jobs&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;create&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;update&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;patch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;delete&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>Allow reading a ConfigMap named "my-config" (must be bound with a
RoleBinding to limit to a single ConfigMap in a single namespace):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing ConfigMap</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;configmaps&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;configmaps&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;my-config&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>Allow reading the resource <code>"nodes"</code> in the core group (because a
Node is cluster-scoped, this must be in a ClusterRole bound with a
ClusterRoleBinding to be effective):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic>#</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># at the HTTP level, the name of the resource for accessing Node</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># objects is &#34;nodes&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;nodes&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;list&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;watch&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><p>Allow GET and POST requests to the non-resource endpoint <code>/healthz</code> and
all subpaths (must be in a ClusterRole bound with a ClusterRoleBinding
to be effective):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>nonResourceURLs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;/healthz&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;/healthz/*&#34;</span>]<span style=color:#bbb> </span><span style=color:#080;font-style:italic># &#39;*&#39; in a nonResourceURL is a suffix glob match</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;get&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;post&#34;</span>]<span style=color:#bbb>
</span></code></pre></div><h3 id=referring-to-subjects>Referring to subjects</h3>
<p>A RoleBinding or ClusterRoleBinding binds a role to subjects.
Subjects can be groups, users or
<a class=glossary-tooltip title="Provides an identity for processes that run in a Pod." data-toggle=tooltip data-placement=top href=/docs/tasks/configure-pod-container/configure-service-account/ target=_blank aria-label=ServiceAccounts>ServiceAccounts</a>.</p>
<p>Kubernetes represents usernames as strings.
These can be: plain names, such as "alice"; email-style names, like "bob@example.com";
or numeric user IDs represented as a string. It is up to you as a cluster administrator
to configure the <a href=/docs/reference/access-authn-authz/authentication/>authentication modules</a>
so that authentication produces usernames in the format you want.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> The prefix <code>system:</code> is reserved for Kubernetes system use, so you should ensure
that you don't have users or groups with names that start with <code>system:</code> by
accident.
Other than this special prefix, the RBAC authorization system does not require any format
for usernames.
</div>
<p>In Kubernetes, Authenticator modules provide group information.
Groups, like users, are represented as strings, and that string has no format requirements,
other than that the prefix <code>system:</code> is reserved.</p>
<p><a href=/docs/tasks/configure-pod-container/configure-service-account/>ServiceAccounts</a> have names prefixed
with <code>system:serviceaccount:</code>, and belong to groups that have names prefixed with <code>system:serviceaccounts:</code>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <ul>
<li><code>system:serviceaccount:</code> (singular) is the prefix for service account usernames.</li>
<li><code>system:serviceaccounts:</code> (plural) is the prefix for service account groups.</li>
</ul>
</div>
<h4 id=role-binding-examples>RoleBinding examples</h4>
<p>The following examples are <code>RoleBinding</code> excerpts that only
show the <code>subjects</code> section.</p>
<p>For a user named <code>alice@example.com</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>User<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;alice@example.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>For a group named <code>frontend-admins</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;frontend-admins&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>For the default service account in the "kube-system" namespace:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ServiceAccount<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>default<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>kube-system<span style=color:#bbb>
</span></code></pre></div><p>For all service accounts in the "qa" group in any namespace:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:serviceaccounts:qa<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>For all service accounts in the "dev" group in the "development" namespace:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:serviceaccounts:dev<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>development<span style=color:#bbb>
</span></code></pre></div><p>For all service accounts in any namespace:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:serviceaccounts<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>For all authenticated users:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:authenticated<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>For all unauthenticated users:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:unauthenticated<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>For all users:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:authenticated<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:unauthenticated<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><h2 id=default-roles-and-role-bindings>Default roles and role bindings</h2>
<p>API servers create a set of default ClusterRole and ClusterRoleBinding objects.
Many of these are <code>system:</code> prefixed, which indicates that the resource is directly
managed by the cluster control plane.
All of the default ClusterRoles and ClusterRoleBindings are labeled with <code>kubernetes.io/bootstrapping=rbac-defaults</code>.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> Take care when modifying ClusterRoles and ClusterRoleBindings with names
that have a <code>system:</code> prefix.
Modifications to these resources can result in non-functional clusters.
</div>
<h3 id=auto-reconciliation>Auto-reconciliation</h3>
<p>At each start-up, the API server updates default cluster roles with any missing permissions,
and updates default cluster role bindings with any missing subjects.
This allows the cluster to repair accidental modifications, and helps to keep roles and role bindings
up-to-date as permissions and subjects change in new Kubernetes releases.</p>
<p>To opt out of this reconciliation, set the <code>rbac.authorization.kubernetes.io/autoupdate</code>
annotation on a default cluster role or rolebinding to <code>false</code>.
Be aware that missing default permissions and subjects can result in non-functional clusters.</p>
<p>Auto-reconciliation is enabled by default if the RBAC authorizer is active.</p>
<h3 id=discovery-roles>API discovery roles</h3>
<p>Default role bindings authorize unauthenticated and authenticated users to read API information that is deemed safe to be publicly accessible (including CustomResourceDefinitions). To disable anonymous unauthenticated access, add <code>--anonymous-auth=false</code> to the API server configuration.</p>
<p>To view the configuration of these roles via <code>kubectl</code> run:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get clusterroles system:discovery -o yaml
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> If you edit that ClusterRole, your changes will be overwritten on API server restart
via <a href=#auto-reconciliation>auto-reconciliation</a>. To avoid that overwriting,
either do not manually edit the role, or disable auto-reconciliation.
</div>
<table>
<caption>Kubernetes RBAC API discovery roles</caption>
<col style=width:25%><col style=width:25%><col>
<thead>
<tr>
<th>Default ClusterRole</th>
<th>Default ClusterRoleBinding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><b>system:basic-user</b></td>
<td><b>system:authenticated</b> group</td>
<td>Allows a user read-only access to basic information about themselves. Prior to v1.14, this role was also bound to <tt>system:unauthenticated</tt> by default.</td>
</tr>
<tr>
<td><b>system:discovery</b></td>
<td><b>system:authenticated</b> group</td>
<td>Allows read-only access to API discovery endpoints needed to discover and negotiate an API level. Prior to v1.14, this role was also bound to <tt>system:unauthenticated</tt> by default.</td>
</tr>
<tr>
<td><b>system:public-info-viewer</b></td>
<td><b>system:authenticated</b> and <b>system:unauthenticated</b> groups</td>
<td>Allows read-only access to non-sensitive information about the cluster. Introduced in Kubernetes v1.14.</td>
</tr>
</tbody>
</table>
<h3 id=user-facing-roles>User-facing roles</h3>
<p>Some of the default ClusterRoles are not <code>system:</code> prefixed. These are intended to be user-facing roles.
They include super-user roles (<code>cluster-admin</code>), roles intended to be granted cluster-wide
using ClusterRoleBindings, and roles intended to be granted within particular
namespaces using RoleBindings (<code>admin</code>, <code>edit</code>, <code>view</code>).</p>
<p>User-facing ClusterRoles use <a href=#aggregated-clusterroles>ClusterRole aggregation</a> to allow admins to include
rules for custom resources on these ClusterRoles. To add rules to the <code>admin</code>, <code>edit</code>, or <code>view</code> roles, create
a ClusterRole with one or more of the following labels:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-admin</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-edit</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-view</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span></code></pre></div><table>
<col style=width:25%><col style=width:25%><col>
<thead>
<tr>
<th>Default ClusterRole</th>
<th>Default ClusterRoleBinding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><b>cluster-admin</b></td>
<td><b>system:masters</b> group</td>
<td>Allows super-user access to perform any action on any resource.
When used in a <b>ClusterRoleBinding</b>, it gives full control over every resource in the cluster and in all namespaces.
When used in a <b>RoleBinding</b>, it gives full control over every resource in the role binding's namespace, including the namespace itself.</td>
</tr>
<tr>
<td><b>admin</b></td>
<td>None</td>
<td>Allows admin access, intended to be granted within a namespace using a <b>RoleBinding</b>.
<p>If used in a <b>RoleBinding</b>, allows read/write access to most resources in a namespace,
including the ability to create roles and role bindings within the namespace.
This role does not allow write access to resource quota or to the namespace itself.
This role also does not allow write access to Endpoints in clusters created
using Kubernetes v1.22+. More information is available in the
<a href=#write-access-for-endpoints>"Write Access for Endpoints" section</a>.</td></p>
</tr>
<tr>
<td><b>edit</b></td>
<td>None</td>
<td>Allows read/write access to most objects in a namespace.
<p>This role does not allow viewing or modifying roles or role bindings.
However, this role allows accessing Secrets and running Pods as any ServiceAccount in
the namespace, so it can be used to gain the API access levels of any ServiceAccount in
the namespace. This role also does not allow write access to Endpoints in
clusters created using Kubernetes v1.22+. More information is available in the
<a href=#write-access-for-endpoints>"Write Access for Endpoints" section</a>.</td></p>
</tr>
<tr>
<td><b>view</b></td>
<td>None</td>
<td>Allows read-only access to see most objects in a namespace.
It does not allow viewing roles or role bindings.
<p>This role does not allow viewing Secrets, since reading
the contents of Secrets enables access to ServiceAccount credentials
in the namespace, which would allow API access as any ServiceAccount
in the namespace (a form of privilege escalation).</td></p>
</tr>
</tbody>
</table>
<h3 id=core-component-roles>Core component roles</h3>
<table>
<col style=width:25%><col style=width:25%><col>
<thead>
<tr>
<th>Default ClusterRole</th>
<th>Default ClusterRoleBinding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><b>system:kube-scheduler</b></td>
<td><b>system:kube-scheduler</b> user</td>
<td>Allows access to the resources required by the <a class=glossary-tooltip title="Control plane component that watches for newly created pods with no assigned node, and selects a node for them to run on." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-scheduler/ target=_blank aria-label=scheduler>scheduler</a> component.</td>
</tr>
<tr>
<td><b>system:volume-scheduler</b></td>
<td><b>system:kube-scheduler</b> user</td>
<td>Allows access to the volume resources required by the kube-scheduler component.</td>
</tr>
<tr>
<td><b>system:kube-controller-manager</b></td>
<td><b>system:kube-controller-manager</b> user</td>
<td>Allows access to the resources required by the <a class=glossary-tooltip title="Control Plane component that runs controller processes." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-controller-manager/ target=_blank aria-label="controller manager">controller manager</a> component.
The permissions required by individual controllers are detailed in the <a href=#controller-roles>controller roles</a>.</td>
</tr>
<tr>
<td><b>system:node</b></td>
<td>None</td>
<td>Allows access to resources required by the kubelet, <b>including read access to all secrets, and write access to all pod status objects</b>.
<p>You should use the <a href=/docs/reference/access-authn-authz/node/>Node authorizer</a> and <a href=/docs/reference/access-authn-authz/admission-controllers/#noderestriction>NodeRestriction admission plugin</a> instead of the <tt>system:node</tt> role, and allow granting API access to kubelets based on the Pods scheduled to run on them.</p>
<p>The <tt>system:node</tt> role only exists for compatibility with Kubernetes clusters upgraded from versions prior to v1.8.</p>
</td>
</tr>
<tr>
<td><b>system:node-proxier</b></td>
<td><b>system:kube-proxy</b> user</td>
<td>Allows access to the resources required by the <a class=glossary-tooltip title="kube-proxy is a network proxy that runs on each node in the cluster." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-proxy/ target=_blank aria-label=kube-proxy>kube-proxy</a> component.</td>
</tr>
</tbody>
</table>
<h3 id=other-component-roles>Other component roles</h3>
<table>
<col style=width:25%><col style=width:25%><col>
<thead>
<tr>
<th>Default ClusterRole</th>
<th>Default ClusterRoleBinding</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><b>system:auth-delegator</b></td>
<td>None</td>
<td>Allows delegated authentication and authorization checks.
This is commonly used by add-on API servers for unified authentication and authorization.</td>
</tr>
<tr>
<td><b>system:heapster</b></td>
<td>None</td>
<td>Role for the <a href=https://github.com/kubernetes/heapster>Heapster</a> component (deprecated).</td>
</tr>
<tr>
<td><b>system:kube-aggregator</b></td>
<td>None</td>
<td>Role for the <a href=https://github.com/kubernetes/kube-aggregator>kube-aggregator</a> component.</td>
</tr>
<tr>
<td><b>system:kube-dns</b></td>
<td><b>kube-dns</b> service account in the <b>kube-system</b> namespace</td>
<td>Role for the <a href=/docs/concepts/services-networking/dns-pod-service/>kube-dns</a> component.</td>
</tr>
<tr>
<td><b>system:kubelet-api-admin</b></td>
<td>None</td>
<td>Allows full access to the kubelet API.</td>
</tr>
<tr>
<td><b>system:node-bootstrapper</b></td>
<td>None</td>
<td>Allows access to the resources required to perform
<a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/>kubelet TLS bootstrapping</a>.</td>
</tr>
<tr>
<td><b>system:node-problem-detector</b></td>
<td>None</td>
<td>Role for the <a href=https://github.com/kubernetes/node-problem-detector>node-problem-detector</a> component.</td>
</tr>
<tr>
<td><b>system:persistent-volume-provisioner</b></td>
<td>None</td>
<td>Allows access to the resources required by most <a href=/docs/concepts/storage/persistent-volumes/#dynamic>dynamic volume provisioners</a>.</td>
</tr>
<tr>
<td><b>system:monitoring</b></td>
<td><b>system:monitoring</b> group</td>
<td>Allows read access to control-plane monitoring endpoints (i.e. <a class=glossary-tooltip title="Control plane component that serves the Kubernetes API." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/components/#kube-apiserver target=_blank aria-label=kube-apiserver>kube-apiserver</a> liveness and readiness endpoints (<tt>/healthz</tt>, <tt>/livez</tt>, <tt>/readyz</tt>), the individual health-check endpoints (<tt>/healthz/*</tt>, <tt>/livez/*</tt>, <tt>/readyz/*</tt>), and <tt>/metrics</tt>). Note that individual health check endpoints and the metric endpoint may expose sensitive information.</td>
</tr>
</tbody>
</table>
<h3 id=controller-roles>Roles for built-in controllers</h3>
<p>The Kubernetes <a class=glossary-tooltip title="Control Plane component that runs controller processes." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-controller-manager/ target=_blank aria-label="controller manager">controller manager</a> runs
<a class=glossary-tooltip title="A control loop that watches the shared state of the cluster through the apiserver and makes changes attempting to move the current state towards the desired state." data-toggle=tooltip data-placement=top href=/docs/concepts/architecture/controller/ target=_blank aria-label=controllers>controllers</a> that are built in to the Kubernetes
control plane.
When invoked with <code>--use-service-account-credentials</code>, kube-controller-manager starts each controller
using a separate service account.
Corresponding roles exist for each built-in controller, prefixed with <code>system:controller:</code>.
If the controller manager is not started with <code>--use-service-account-credentials</code>, it runs all control loops
using its own credential, which must be granted all the relevant roles.
These roles include:</p>
<ul>
<li><code>system:controller:attachdetach-controller</code></li>
<li><code>system:controller:certificate-controller</code></li>
<li><code>system:controller:clusterrole-aggregation-controller</code></li>
<li><code>system:controller:cronjob-controller</code></li>
<li><code>system:controller:daemon-set-controller</code></li>
<li><code>system:controller:deployment-controller</code></li>
<li><code>system:controller:disruption-controller</code></li>
<li><code>system:controller:endpoint-controller</code></li>
<li><code>system:controller:expand-controller</code></li>
<li><code>system:controller:generic-garbage-collector</code></li>
<li><code>system:controller:horizontal-pod-autoscaler</code></li>
<li><code>system:controller:job-controller</code></li>
<li><code>system:controller:namespace-controller</code></li>
<li><code>system:controller:node-controller</code></li>
<li><code>system:controller:persistent-volume-binder</code></li>
<li><code>system:controller:pod-garbage-collector</code></li>
<li><code>system:controller:pv-protection-controller</code></li>
<li><code>system:controller:pvc-protection-controller</code></li>
<li><code>system:controller:replicaset-controller</code></li>
<li><code>system:controller:replication-controller</code></li>
<li><code>system:controller:resourcequota-controller</code></li>
<li><code>system:controller:root-ca-cert-publisher</code></li>
<li><code>system:controller:route-controller</code></li>
<li><code>system:controller:service-account-controller</code></li>
<li><code>system:controller:service-controller</code></li>
<li><code>system:controller:statefulset-controller</code></li>
<li><code>system:controller:ttl-controller</code></li>
</ul>
<h2 id=privilege-escalation-prevention-and-bootstrapping>Privilege escalation prevention and bootstrapping</h2>
<p>The RBAC API prevents users from escalating privileges by editing roles or role bindings.
Because this is enforced at the API level, it applies even when the RBAC authorizer is not in use.</p>
<h3 id=restrictions-on-role-creation-or-update>Restrictions on role creation or update</h3>
<p>You can only create/update a role if at least one of the following things is true:</p>
<ol>
<li>You already have all the permissions contained in the role, at the same scope as the object being modified
(cluster-wide for a ClusterRole, within the same namespace or cluster-wide for a Role).</li>
<li>You are granted explicit permission to perform the <code>escalate</code> verb on the <code>roles</code> or <code>clusterroles</code> resource in the <code>rbac.authorization.k8s.io</code> API group.</li>
</ol>
<p>For example, if <code>user-1</code> does not have the ability to list Secrets cluster-wide, they cannot create a ClusterRole
containing that permission. To allow a user to create/update roles:</p>
<ol>
<li>Grant them a role that allows them to create/update Role or ClusterRole objects, as desired.</li>
<li>Grant them permission to include specific permissions in the roles they create/update:
<ul>
<li>implicitly, by giving them those permissions (if they attempt to create or modify a Role or ClusterRole with permissions they themselves have not been granted, the API request will be forbidden)</li>
<li>or explicitly allow specifying any permission in a <code>Role</code> or <code>ClusterRole</code> by giving them permission to perform the <code>escalate</code> verb on <code>roles</code> or <code>clusterroles</code> resources in the <code>rbac.authorization.k8s.io</code> API group</li>
</ul>
</li>
</ol>
<h3 id=restrictions-on-role-binding-creation-or-update>Restrictions on role binding creation or update</h3>
<p>You can only create/update a role binding if you already have all the permissions contained in the referenced role
(at the same scope as the role binding) <em>or</em> if you have been authorized to perform the <code>bind</code> verb on the referenced role.
For example, if <code>user-1</code> does not have the ability to list Secrets cluster-wide, they cannot create a ClusterRoleBinding
to a role that grants that permission. To allow a user to create/update role bindings:</p>
<ol>
<li>Grant them a role that allows them to create/update RoleBinding or ClusterRoleBinding objects, as desired.</li>
<li>Grant them permissions needed to bind a particular role:
<ul>
<li>implicitly, by giving them the permissions contained in the role.</li>
<li>explicitly, by giving them permission to perform the <code>bind</code> verb on the particular Role (or ClusterRole).</li>
</ul>
</li>
</ol>
<p>For example, this ClusterRole and RoleBinding would allow <code>user-1</code> to grant other users the <code>admin</code>, <code>edit</code>, and <code>view</code> roles in the namespace <code>user-1-namespace</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>role-grantor<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;rbac.authorization.k8s.io&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;rolebindings&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;create&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;rbac.authorization.k8s.io&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;clusterroles&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;bind&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># omit resourceNames to allow binding any ClusterRole</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>resourceNames</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;admin&#34;</span>,<span style=color:#b44>&#34;edit&#34;</span>,<span style=color:#b44>&#34;view&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>RoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>role-grantor-binding<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>namespace</span>:<span style=color:#bbb> </span>user-1-namespace<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>role-grantor<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>User<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>user-1<span style=color:#bbb>
</span></code></pre></div><p>When bootstrapping the first roles and role bindings, it is necessary for the initial user to grant permissions they do not yet have.
To bootstrap initial roles and role bindings:</p>
<ul>
<li>Use a credential with the "system:masters" group, which is bound to the "cluster-admin" super-user role by the default bindings.</li>
<li>If your API server runs with the insecure port enabled (<code>--insecure-port</code>), you can also make API calls via that port, which does not enforce authentication or authorization.</li>
</ul>
<h2 id=command-line-utilities>Command-line utilities</h2>
<h3 id=kubectl-create-role><code>kubectl create role</code></h3>
<p>Creates a Role object defining permissions within a single namespace. Examples:</p>
<ul>
<li>
<p>Create a Role named "pod-reader" that allows users to perform <code>get</code>, <code>watch</code> and <code>list</code> on pods:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create role pod-reader --verb<span style=color:#666>=</span>get --verb<span style=color:#666>=</span>list --verb<span style=color:#666>=</span>watch --resource<span style=color:#666>=</span>pods
</code></pre></div></li>
<li>
<p>Create a Role named "pod-reader" with resourceNames specified:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create role pod-reader --verb<span style=color:#666>=</span>get --resource<span style=color:#666>=</span>pods --resource-name<span style=color:#666>=</span>readablepod --resource-name<span style=color:#666>=</span>anotherpod
</code></pre></div></li>
<li>
<p>Create a Role named "foo" with apiGroups specified:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create role foo --verb<span style=color:#666>=</span>get,list,watch --resource<span style=color:#666>=</span>replicasets.apps
</code></pre></div></li>
<li>
<p>Create a Role named "foo" with subresource permissions:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create role foo --verb<span style=color:#666>=</span>get,list,watch --resource<span style=color:#666>=</span>pods,pods/status
</code></pre></div></li>
<li>
<p>Create a Role named "my-component-lease-holder" with permissions to get/update a resource with a specific name:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create role my-component-lease-holder --verb<span style=color:#666>=</span>get,list,watch,update --resource<span style=color:#666>=</span>lease --resource-name<span style=color:#666>=</span>my-component
</code></pre></div></li>
</ul>
<h3 id=kubectl-create-clusterrole><code>kubectl create clusterrole</code></h3>
<p>Creates a ClusterRole. Examples:</p>
<ul>
<li>
<p>Create a ClusterRole named "pod-reader" that allows user to perform <code>get</code>, <code>watch</code> and <code>list</code> on pods:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrole pod-reader --verb<span style=color:#666>=</span>get,list,watch --resource<span style=color:#666>=</span>pods
</code></pre></div></li>
<li>
<p>Create a ClusterRole named "pod-reader" with resourceNames specified:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrole pod-reader --verb<span style=color:#666>=</span>get --resource<span style=color:#666>=</span>pods --resource-name<span style=color:#666>=</span>readablepod --resource-name<span style=color:#666>=</span>anotherpod
</code></pre></div></li>
<li>
<p>Create a ClusterRole named "foo" with apiGroups specified:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrole foo --verb<span style=color:#666>=</span>get,list,watch --resource<span style=color:#666>=</span>replicasets.apps
</code></pre></div></li>
<li>
<p>Create a ClusterRole named "foo" with subresource permissions:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrole foo --verb<span style=color:#666>=</span>get,list,watch --resource<span style=color:#666>=</span>pods,pods/status
</code></pre></div></li>
<li>
<p>Create a ClusterRole named "foo" with nonResourceURL specified:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrole <span style=color:#b44>&#34;foo&#34;</span> --verb<span style=color:#666>=</span>get --non-resource-url<span style=color:#666>=</span>/logs/*
</code></pre></div></li>
<li>
<p>Create a ClusterRole named "monitoring" with an aggregationRule specified:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrole monitoring --aggregation-rule<span style=color:#666>=</span><span style=color:#b44>&#34;rbac.example.com/aggregate-to-monitoring=true&#34;</span>
</code></pre></div></li>
</ul>
<h3 id=kubectl-create-rolebinding><code>kubectl create rolebinding</code></h3>
<p>Grants a Role or ClusterRole within a specific namespace. Examples:</p>
<ul>
<li>
<p>Within the namespace "acme", grant the permissions in the "admin" ClusterRole to a user named "bob":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding bob-admin-binding --clusterrole<span style=color:#666>=</span>admin --user<span style=color:#666>=</span>bob --namespace<span style=color:#666>=</span>acme
</code></pre></div></li>
<li>
<p>Within the namespace "acme", grant the permissions in the "view" ClusterRole to the service account in the namespace "acme" named "myapp":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding myapp-view-binding --clusterrole<span style=color:#666>=</span>view --serviceaccount<span style=color:#666>=</span>acme:myapp --namespace<span style=color:#666>=</span>acme
</code></pre></div></li>
<li>
<p>Within the namespace "acme", grant the permissions in the "view" ClusterRole to a service account in the namespace "myappnamespace" named "myapp":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding myappnamespace-myapp-view-binding --clusterrole<span style=color:#666>=</span>view --serviceaccount<span style=color:#666>=</span>myappnamespace:myapp --namespace<span style=color:#666>=</span>acme
</code></pre></div></li>
</ul>
<h3 id=kubectl-create-clusterrolebinding><code>kubectl create clusterrolebinding</code></h3>
<p>Grants a ClusterRole across the entire cluster (all namespaces). Examples:</p>
<ul>
<li>
<p>Across the entire cluster, grant the permissions in the "cluster-admin" ClusterRole to a user named "root":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding root-cluster-admin-binding --clusterrole<span style=color:#666>=</span>cluster-admin --user<span style=color:#666>=</span>root
</code></pre></div></li>
<li>
<p>Across the entire cluster, grant the permissions in the "system:node-proxier" ClusterRole to a user named "system:kube-proxy":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding kube-proxy-binding --clusterrole<span style=color:#666>=</span>system:node-proxier --user<span style=color:#666>=</span>system:kube-proxy
</code></pre></div></li>
<li>
<p>Across the entire cluster, grant the permissions in the "view" ClusterRole to a service account named "myapp" in the namespace "acme":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding myapp-view-binding --clusterrole<span style=color:#666>=</span>view --serviceaccount<span style=color:#666>=</span>acme:myapp
</code></pre></div></li>
</ul>
<h3 id=kubectl-auth-reconcile><code>kubectl auth reconcile</code></h3>
<p>Creates or updates <code>rbac.authorization.k8s.io/v1</code> API objects from a manifest file.</p>
<p>Missing objects are created, and the containing namespace is created for namespaced objects, if required.</p>
<p>Existing roles are updated to include the permissions in the input objects,
and remove extra permissions if <code>--remove-extra-permissions</code> is specified.</p>
<p>Existing bindings are updated to include the subjects in the input objects,
and remove extra subjects if <code>--remove-extra-subjects</code> is specified.</p>
<p>Examples:</p>
<ul>
<li>
<p>Test applying a manifest file of RBAC objects, displaying changes that would be made:</p>
<pre><code>kubectl auth reconcile -f my-rbac-rules.yaml --dry-run=client
</code></pre></li>
<li>
<p>Apply a manifest file of RBAC objects, preserving any extra permissions (in roles) and any extra subjects (in bindings):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl auth reconcile -f my-rbac-rules.yaml
</code></pre></div></li>
<li>
<p>Apply a manifest file of RBAC objects, removing any extra permissions (in roles) and any extra subjects (in bindings):</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl auth reconcile -f my-rbac-rules.yaml --remove-extra-subjects --remove-extra-permissions
</code></pre></div></li>
</ul>
<h2 id=service-account-permissions>ServiceAccount permissions</h2>
<p>Default RBAC policies grant scoped permissions to control-plane components, nodes,
and controllers, but grant <em>no permissions</em> to service accounts outside the <code>kube-system</code> namespace
(beyond discovery permissions given to all authenticated users).</p>
<p>This allows you to grant particular roles to particular ServiceAccounts as needed.
Fine-grained role bindings provide greater security, but require more effort to administrate.
Broader grants can give unnecessary (and potentially escalating) API access to
ServiceAccounts, but are easier to administrate.</p>
<p>In order from most secure to least secure, the approaches are:</p>
<ol>
<li>
<p>Grant a role to an application-specific service account (best practice)</p>
<p>This requires the application to specify a <code>serviceAccountName</code> in its pod spec,
and for the service account to be created (via the API, application manifest, <code>kubectl create serviceaccount</code>, etc.).</p>
<p>For example, grant read-only permission within "my-namespace" to the "my-sa" service account:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding my-sa-view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --serviceaccount<span style=color:#666>=</span>my-namespace:my-sa <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --namespace<span style=color:#666>=</span>my-namespace
</code></pre></div></li>
<li>
<p>Grant a role to the "default" service account in a namespace</p>
<p>If an application does not specify a <code>serviceAccountName</code>, it uses the "default" service account.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Permissions given to the "default" service account are available to any pod
in the namespace that does not specify a <code>serviceAccountName</code>.
</div>
<p>For example, grant read-only permission within "my-namespace" to the "default" service account:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding default-view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --serviceaccount<span style=color:#666>=</span>my-namespace:default <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --namespace<span style=color:#666>=</span>my-namespace
</code></pre></div><p>Many <a href=/docs/concepts/cluster-administration/addons/>add-ons</a> run as the
"default" service account in the <code>kube-system</code> namespace.
To allow those add-ons to run with super-user access, grant cluster-admin
permissions to the "default" service account in the <code>kube-system</code> namespace.</p>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> Enabling this means the <code>kube-system</code> namespace contains Secrets
that grant super-user access to your cluster's API.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding add-on-cluster-admin <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>cluster-admin <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --serviceaccount<span style=color:#666>=</span>kube-system:default
</code></pre></div></li>
<li>
<p>Grant a role to all service accounts in a namespace</p>
<p>If you want all applications in a namespace to have a role, no matter what service account they use,
you can grant a role to the service account group for that namespace.</p>
<p>For example, grant read-only permission within "my-namespace" to all service accounts in that namespace:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create rolebinding serviceaccounts-view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --group<span style=color:#666>=</span>system:serviceaccounts:my-namespace <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --namespace<span style=color:#666>=</span>my-namespace
</code></pre></div></li>
<li>
<p>Grant a limited role to all service accounts cluster-wide (discouraged)</p>
<p>If you don't want to manage permissions per-namespace, you can grant a cluster-wide role to all service accounts.</p>
<p>For example, grant read-only permission across all namespaces to all service accounts in the cluster:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding serviceaccounts-view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>view <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span> --group<span style=color:#666>=</span>system:serviceaccounts
</code></pre></div></li>
<li>
<p>Grant super-user access to all service accounts cluster-wide (strongly discouraged)</p>
<p>If you don't care about partitioning permissions at all, you can grant super-user access to all service accounts.</p>
<div class="alert alert-danger warning callout" role=alert>
<strong>Warning:</strong> This allows any application full access to your cluster, and also grants
any user with read access to Secrets (or the ability to create any pod)
full access to your cluster.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding serviceaccounts-cluster-admin <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>cluster-admin <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --group<span style=color:#666>=</span>system:serviceaccounts
</code></pre></div></li>
</ol>
<h2 id=write-access-for-endpoints>Write access for Endpoints</h2>
<p>Kubernetes clusters created before Kubernetes v1.22 include write access to
Endpoints in the aggregated "edit" and "admin" roles. As a mitigation for
<a href=https://github.com/kubernetes/kubernetes/issues/103675>CVE-2021-25740</a>, this
access is not part of the aggregated roles in clusters that you create using
Kubernetes v1.22 or later.</p>
<p>Existing clusters that have been upgraded to Kubernetes v1.22 will not be
subject to this change. The <a href=https://github.com/kubernetes/kubernetes/issues/103675>CVE
announcement</a> includes
guidance for restricting this access in existing clusters.</p>
<p>If you want new clusters to retain this level of access in the aggregated roles,
you can create the following ClusterRole:</p>
<div class=highlight>
<div class=copy-code-icon style=text-align:right>
<a href=https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/access/endpoints-aggregated.yaml download=access/endpoints-aggregated.yaml><code>access/endpoints-aggregated.yaml</code>
</a>
<img src=/images/copycode.svg style=max-height:24px;cursor:pointer onclick="copyCode('access-endpoints-aggregated-yaml')" title="Copy access/endpoints-aggregated.yaml to clipboard">
</img>
</div>
<div class=includecode id=access-endpoints-aggregated-yaml>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>annotations</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>kubernetes.io/description</span>:<span style=color:#bbb> </span>|-<span style=color:#b44;font-style:italic>
</span><span style=color:#b44;font-style:italic>      Add endpoints write permissions to the edit and admin roles. This was
</span><span style=color:#b44;font-style:italic>      removed by default in 1.22 because of CVE-2021-25740. See
</span><span style=color:#b44;font-style:italic>      https://issue.k8s.io/103675. This can allow writers to direct LoadBalancer
</span><span style=color:#b44;font-style:italic>      or Ingress implementations to expose backend IPs that would not otherwise
</span><span style=color:#b44;font-style:italic>      be accessible, and can circumvent network policies or security controls
</span><span style=color:#b44;font-style:italic>      intended to prevent/isolate access to those backends.</span><span style=color:#bbb>      
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>labels</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>rbac.authorization.k8s.io/aggregate-to-edit</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;true&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>custom:aggregate-to-edit:endpoints<span style=color:#bbb> </span><span style=color:#080;font-style:italic># you can change this if you wish</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>rules</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>apiGroups</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;endpoints&#34;</span>]<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>verbs</span>:<span style=color:#bbb> </span>[<span style=color:#b44>&#34;create&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;delete&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;deletecollection&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;patch&#34;</span>,<span style=color:#bbb> </span><span style=color:#b44>&#34;update&#34;</span>]<span style=color:#bbb>
</span></code></pre></div>
</div>
</div>
<h2 id=upgrading-from-abac>Upgrading from ABAC</h2>
<p>Clusters that originally ran older Kubernetes versions often used
permissive ABAC policies, including granting full API access to all
service accounts.</p>
<p>Default RBAC policies grant scoped permissions to control-plane components, nodes,
and controllers, but grant <em>no permissions</em> to service accounts outside the <code>kube-system</code> namespace
(beyond discovery permissions given to all authenticated users).</p>
<p>While far more secure, this can be disruptive to existing workloads expecting to automatically receive API permissions.
Here are two approaches for managing this transition:</p>
<h3 id=parallel-authorizers>Parallel authorizers</h3>
<p>Run both the RBAC and ABAC authorizers, and specify a policy file that contains
the <a href=/docs/reference/access-authn-authz/abac/#policy-file-format>legacy ABAC policy</a>:</p>
<pre><code>--authorization-mode=...,RBAC,ABAC --authorization-policy-file=mypolicy.json
</code></pre><p>To explain that first command line option in detail: if earlier authorizers, such as Node,
deny a request, then the RBAC authorizer attempts to authorize the API request. If RBAC
also denies that API request, the ABAC authorizer is then run. This means that any request
allowed by <em>either</em> the RBAC or ABAC policies is allowed.</p>
<p>When the kube-apiserver is run with a log level of 5 or higher for the RBAC component
(<code>--vmodule=rbac*=5</code> or <code>--v=5</code>), you can see RBAC denials in the API server log
(prefixed with <code>RBAC</code>).
You can use that information to determine which roles need to be granted to which users, groups, or service accounts.</p>
<p>Once you have <a href=#service-account-permissions>granted roles to service accounts</a> and workloads
are running with no RBAC denial messages in the server logs, you can remove the ABAC authorizer.</p>
<h3 id=permissive-rbac-permissions>Permissive RBAC permissions</h3>
<p>You can replicate a permissive ABAC policy using RBAC role bindings.</p>
<div class="alert alert-danger warning callout" role=alert>
<strong>Warning:</strong> <p>The following policy allows <strong>ALL</strong> service accounts to act as cluster administrators.
Any application running in a container receives service account credentials automatically,
and could perform any action against the API, including viewing secrets and modifying permissions.
This is not a recommended policy.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl create clusterrolebinding permissive-binding <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --clusterrole<span style=color:#666>=</span>cluster-admin <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --user<span style=color:#666>=</span>admin <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --user<span style=color:#666>=</span>kubelet <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  --group<span style=color:#666>=</span>system:serviceaccounts
</code></pre></div>
</div>
<p>After you have transitioned to use RBAC, you should adjust the access controls
for your cluster to ensure that these meet your information security needs.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a5bdc757c01991e5e6ab1a82b90639ea>3.9 - Using ABAC Authorization</h1>
<p>Attribute-based access control (ABAC) defines an access control paradigm whereby access rights are granted to users through the use of policies which combine attributes together.</p>
<h2 id=policy-file-format>Policy File Format</h2>
<p>To enable <code>ABAC</code> mode, specify <code>--authorization-policy-file=SOME_FILENAME</code> and <code>--authorization-mode=ABAC</code> on startup.</p>
<p>The file format is <a href=https://jsonlines.org/>one JSON object per line</a>. There
should be no enclosing list or map, only one map per line.</p>
<p>Each line is a "policy object", where each such object is a map with the following
properties:</p>
<ul>
<li>Versioning properties:
<ul>
<li><code>apiVersion</code>, type string; valid values are "abac.authorization.kubernetes.io/v1beta1". Allows versioning and conversion of the policy format.</li>
<li><code>kind</code>, type string: valid values are "Policy". Allows versioning and conversion of the policy format.</li>
</ul>
</li>
<li><code>spec</code> property set to a map with the following properties:
<ul>
<li>Subject-matching properties:
<ul>
<li><code>user</code>, type string; the user-string from <code>--token-auth-file</code>. If you specify <code>user</code>, it must match the username of the authenticated user.</li>
<li><code>group</code>, type string; if you specify <code>group</code>, it must match one of the groups of the authenticated user. <code>system:authenticated</code> matches all authenticated requests. <code>system:unauthenticated</code> matches all unauthenticated requests.</li>
</ul>
</li>
<li>Resource-matching properties:
<ul>
<li><code>apiGroup</code>, type string; an API group.
<ul>
<li>Ex: <code>extensions</code></li>
<li>Wildcard: <code>*</code> matches all API groups.</li>
</ul>
</li>
<li><code>namespace</code>, type string; a namespace.
<ul>
<li>Ex: <code>kube-system</code></li>
<li>Wildcard: <code>*</code> matches all resource requests.</li>
</ul>
</li>
<li><code>resource</code>, type string; a resource type
<ul>
<li>Ex: <code>pods</code></li>
<li>Wildcard: <code>*</code> matches all resource requests.</li>
</ul>
</li>
</ul>
</li>
<li>Non-resource-matching properties:
<ul>
<li><code>nonResourcePath</code>, type string; non-resource request paths.
<ul>
<li>Ex: <code>/version</code> or <code>/apis</code></li>
<li>Wildcard:
<ul>
<li><code>*</code> matches all non-resource requests.</li>
<li><code>/foo/*</code> matches all subpaths of <code>/foo/</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><code>readonly</code>, type boolean, when true, means that the Resource-matching policy only applies to get, list, and watch operations, Non-resource-matching policy only applies to get operation.</li>
</ul>
</li>
</ul>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>An unset property is the same as a property set to the zero value for its type
(e.g. empty string, 0, false). However, unset should be preferred for
readability.</p>
<p>In the future, policies may be expressed in a JSON format, and managed via a
REST interface.</p>
</div>
<h2 id=authorization-algorithm>Authorization Algorithm</h2>
<p>A request has attributes which correspond to the properties of a policy object.</p>
<p>When a request is received, the attributes are determined. Unknown attributes
are set to the zero value of its type (e.g. empty string, 0, false).</p>
<p>A property set to <code>"*"</code> will match any value of the corresponding attribute.</p>
<p>The tuple of attributes is checked for a match against every policy in the
policy file. If at least one line matches the request attributes, then the
request is authorized (but may fail later validation).</p>
<p>To permit any authenticated user to do something, write a policy with the
group property set to <code>"system:authenticated"</code>.</p>
<p>To permit any unauthenticated user to do something, write a policy with the
group property set to <code>"system:unauthenticated"</code>.</p>
<p>To permit a user to do anything, write a policy with the apiGroup, namespace,
resource, and nonResourcePath properties set to <code>"*"</code>.</p>
<h2 id=kubectl>Kubectl</h2>
<p>Kubectl uses the <code>/api</code> and <code>/apis</code> endpoints of api-server to discover
served resource types, and validates objects sent to the API by create/update
operations using schema information located at <code>/openapi/v2</code>.</p>
<p>When using ABAC authorization, those special resources have to be explicitly
exposed via the <code>nonResourcePath</code> property in a policy (see <a href=#examples>examples</a> below):</p>
<ul>
<li><code>/api</code>, <code>/api/*</code>, <code>/apis</code>, and <code>/apis/*</code> for API version negotiation.</li>
<li><code>/version</code> for retrieving the server version via <code>kubectl version</code>.</li>
<li><code>/swaggerapi/*</code> for create/update operations.</li>
</ul>
<p>To inspect the HTTP calls involved in a specific kubectl operation you can turn
up the verbosity:</p>
<pre><code>kubectl --v=8 version
</code></pre>
<h2 id=examples>Examples</h2>
<ol>
<li>
<p>Alice can do anything to all resources:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>, <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>, <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {<span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;alice&#34;</span>, <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>, <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>, <span style=color:green;font-weight:700>&#34;apiGroup&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>}}
</code></pre></div></li>
<li>
<p>The Kubelet can read any pods:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>, <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>, <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {<span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;kubelet&#34;</span>, <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>, <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;pods&#34;</span>, <span style=color:green;font-weight:700>&#34;readonly&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>}}
</code></pre></div></li>
<li>
<p>The Kubelet can read and write events:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>, <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>, <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {<span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;kubelet&#34;</span>, <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>, <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;events&#34;</span>}}
</code></pre></div></li>
<li>
<p>Bob can just read pods in namespace "projectCaribou":</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>, <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>, <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {<span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;bob&#34;</span>, <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;projectCaribou&#34;</span>, <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;pods&#34;</span>, <span style=color:green;font-weight:700>&#34;readonly&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>}}
</code></pre></div></li>
<li>
<p>Anyone can make read-only requests to all non-resource paths:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>, <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>, <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {<span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;system:authenticated&#34;</span>, <span style=color:green;font-weight:700>&#34;readonly&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>, <span style=color:green;font-weight:700>&#34;nonResourcePath&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>}}
{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>, <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;Policy&#34;</span>, <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {<span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;system:unauthenticated&#34;</span>, <span style=color:green;font-weight:700>&#34;readonly&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>, <span style=color:green;font-weight:700>&#34;nonResourcePath&#34;</span>: <span style=color:#b44>&#34;*&#34;</span>}}
</code></pre></div></li>
</ol>
<p><a href=https://releases.k8s.io/v1.22.16/pkg/auth/authorizer/abac/example_policy_file.jsonl>Complete file example</a></p>
<h2 id=a-quick-note-on-service-accounts>A quick note on service accounts</h2>
<p>Every service account has a corresponding ABAC username, and that service account's user name is generated according to the naming convention:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>system:serviceaccount:&lt;namespace&gt;:&lt;serviceaccountname&gt;
</code></pre></div><p>Creating a new namespace leads to the creation of a new service account in the following format:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>system:serviceaccount:&lt;namespace&gt;:default
</code></pre></div><p>For example, if you wanted to grant the default service account (in the <code>kube-system</code> namespace) full
privilege to the API using ABAC, you would add this line to your policy file:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{<span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>:<span style=color:#b44>&#34;abac.authorization.kubernetes.io/v1beta1&#34;</span>,<span style=color:green;font-weight:700>&#34;kind&#34;</span>:<span style=color:#b44>&#34;Policy&#34;</span>,<span style=color:green;font-weight:700>&#34;spec&#34;</span>:{<span style=color:green;font-weight:700>&#34;user&#34;</span>:<span style=color:#b44>&#34;system:serviceaccount:kube-system:default&#34;</span>,<span style=color:green;font-weight:700>&#34;namespace&#34;</span>:<span style=color:#b44>&#34;*&#34;</span>,<span style=color:green;font-weight:700>&#34;resource&#34;</span>:<span style=color:#b44>&#34;*&#34;</span>,<span style=color:green;font-weight:700>&#34;apiGroup&#34;</span>:<span style=color:#b44>&#34;*&#34;</span>}}
</code></pre></div><p>The apiserver will need to be restarted to pickup the new policy lines.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9cbb97d4d9f08d67931a1baae4e6519c>3.10 - Using Node Authorization</h1>
<p>Node authorization is a special-purpose authorization mode that specifically authorizes API requests made by kubelets.</p>
<h2 id=overview>Overview</h2>
<p>The Node authorizer allows a kubelet to perform API operations. This includes:</p>
<p>Read operations:</p>
<ul>
<li>services</li>
<li>endpoints</li>
<li>nodes</li>
<li>pods</li>
<li>secrets, configmaps, persistent volume claims and persistent volumes related to pods bound to the kubelet's node</li>
</ul>
<p>Write operations:</p>
<ul>
<li>nodes and node status (enable the <code>NodeRestriction</code> admission plugin to limit a kubelet to modify its own node)</li>
<li>pods and pod status (enable the <code>NodeRestriction</code> admission plugin to limit a kubelet to modify pods bound to itself)</li>
<li>events</li>
</ul>
<p>Auth-related operations:</p>
<ul>
<li>read/write access to the certificationsigningrequests API for TLS bootstrapping</li>
<li>the ability to create tokenreviews and subjectaccessreviews for delegated authentication/authorization checks</li>
</ul>
<p>In future releases, the node authorizer may add or remove permissions to ensure kubelets
have the minimal set of permissions required to operate correctly.</p>
<p>In order to be authorized by the Node authorizer, kubelets must use a credential that identifies them as
being in the <code>system:nodes</code> group, with a username of <code>system:node:&lt;nodeName></code>.
This group and user name format match the identity created for each kubelet as part of
<a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/>kubelet TLS bootstrapping</a>.</p>
<p>The value of <code>&lt;nodeName></code> <strong>must</strong> match precisely the name of the node as registered by the kubelet. By default, this is the host name as provided by <code>hostname</code>, or overridden via the <a href=/docs/reference/command-line-tools-reference/kubelet/>kubelet option</a> <code>--hostname-override</code>. However, when using the <code>--cloud-provider</code> kubelet option, the specific hostname may be determined by the cloud provider, ignoring the local <code>hostname</code> and the <code>--hostname-override</code> option.
For specifics about how the kubelet determines the hostname, see the <a href=/docs/reference/command-line-tools-reference/kubelet/>kubelet options reference</a>.</p>
<p>To enable the Node authorizer, start the apiserver with <code>--authorization-mode=Node</code>.</p>
<p>To limit the API objects kubelets are able to write, enable the <a href=/docs/reference/access-authn-authz/admission-controllers#noderestriction>NodeRestriction</a> admission plugin by starting the apiserver with <code>--enable-admission-plugins=...,NodeRestriction,...</code></p>
<h2 id=migration-considerations>Migration considerations</h2>
<h3 id=kubelets-outside-the-system-nodes-group>Kubelets outside the <code>system:nodes</code> group</h3>
<p>Kubelets outside the <code>system:nodes</code> group would not be authorized by the <code>Node</code> authorization mode,
and would need to continue to be authorized via whatever mechanism currently authorizes them.
The node admission plugin would not restrict requests from these kubelets.</p>
<h3 id=kubelets-with-undifferentiated-usernames>Kubelets with undifferentiated usernames</h3>
<p>In some deployments, kubelets have credentials that place them in the <code>system:nodes</code> group,
but do not identify the particular node they are associated with,
because they do not have a username in the <code>system:node:...</code> format.
These kubelets would not be authorized by the <code>Node</code> authorization mode,
and would need to continue to be authorized via whatever mechanism currently authorizes them.</p>
<p>The <code>NodeRestriction</code> admission plugin would ignore requests from these kubelets,
since the default node identifier implementation would not consider that a node identity.</p>
<h3 id=upgrades-from-previous-versions-using-rbac>Upgrades from previous versions using RBAC</h3>
<p>Upgraded pre-1.7 clusters using <a href=/docs/reference/access-authn-authz/rbac/>RBAC</a> will continue functioning as-is because the <code>system:nodes</code> group binding will already exist.</p>
<p>If a cluster admin wishes to start using the <code>Node</code> authorizer and <code>NodeRestriction</code> admission plugin
to limit node access to the API, that can be done non-disruptively:</p>
<ol>
<li>Enable the <code>Node</code> authorization mode (<code>--authorization-mode=Node,RBAC</code>) and the <code>NodeRestriction</code> admission plugin</li>
<li>Ensure all kubelets' credentials conform to the group/username requirements</li>
<li>Audit apiserver logs to ensure the <code>Node</code> authorizer is not rejecting requests from kubelets (no persistent <code>NODE DENY</code> messages logged)</li>
<li>Delete the <code>system:node</code> cluster role binding</li>
</ol>
<h3 id=rbac-node-permissions>RBAC Node Permissions</h3>
<p>In 1.6, the <code>system:node</code> cluster role was automatically bound to the <code>system:nodes</code> group when using the <a href=/docs/reference/access-authn-authz/rbac/>RBAC Authorization mode</a>.</p>
<p>In 1.7, the automatic binding of the <code>system:nodes</code> group to the <code>system:node</code> role is deprecated
because the node authorizer accomplishes the same purpose with the benefit of additional restrictions
on secret and configmap access. If the <code>Node</code> and <code>RBAC</code> authorization modes are both enabled,
the automatic binding of the <code>system:nodes</code> group to the <code>system:node</code> role is not created in 1.7.</p>
<p>In 1.8, the binding will not be created at all.</p>
<p>When using RBAC, the <code>system:node</code> cluster role will continue to be created,
for compatibility with deployment methods that bind other users or groups to that role.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-215c25173044b8f97e9b0494b0c7e53f>3.11 - Webhook Mode</h1>
<p>A WebHook is an HTTP callback: an HTTP POST that occurs when something happens; a simple event-notification via HTTP POST. A web application implementing WebHooks will POST a message to a URL when certain things happen.</p>
<p>When specified, mode <code>Webhook</code> causes Kubernetes to query an outside REST
service when determining user privileges.</p>
<h2 id=configuration-file-format>Configuration File Format</h2>
<p>Mode <code>Webhook</code> requires a file for HTTP configuration, specify by the
<code>--authorization-webhook-config-file=SOME_FILENAME</code> flag.</p>
<p>The configuration file uses the <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubeconfig</a>
file format. Within the file "users" refers to the API Server webhook and
"clusters" refers to the remote service.</p>
<p>A configuration example which uses HTTPS client auth:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Kubernetes API version</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kind of the API object</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># clusters refers to the remote service.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>name-of-remote-authz-service<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># CA for verifying the remote service.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span>/path/to/ca.pem<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:#080;font-style:italic># URL of remote service to query. Must use &#39;https&#39;. May not include parameters.</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span>https://authz.example.com/authorize<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># users refers to the API Server&#39;s webhook configuration.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>name-of-api-server<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>client-certificate</span>:<span style=color:#bbb> </span>/path/to/cert.pem<span style=color:#bbb> </span><span style=color:#080;font-style:italic># cert for the webhook plugin to use</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>client-key</span>:<span style=color:#bbb> </span>/path/to/key.pem         <span style=color:#bbb> </span><span style=color:#080;font-style:italic># key matching the cert</span><span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kubeconfig files require a context. Provide one for the API Server.</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>current-context</span>:<span style=color:#bbb> </span>webhook<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>contexts</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>context</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb> </span>name-of-remote-authz-service<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb> </span>name-of-api-server<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>webhook<span style=color:#bbb>
</span></code></pre></div><h2 id=request-payloads>Request Payloads</h2>
<p>When faced with an authorization decision, the API Server POSTs a JSON-
serialized <code>authorization.k8s.io/v1beta1</code> <code>SubjectAccessReview</code> object describing the
action. This object contains fields describing the user attempting to make the
request, and either details about the resource being accessed or requests
attributes.</p>
<p>Note that webhook API objects are subject to the same <a href=/docs/concepts/overview/kubernetes-api/>versioning compatibility rules</a>
as other Kubernetes API objects. Implementers should be aware of looser
compatibility promises for beta objects and check the "apiVersion" field of the
request to ensure correct deserialization. Additionally, the API Server must
enable the <code>authorization.k8s.io/v1beta1</code> API extensions group (<code>--runtime-config=authorization.k8s.io/v1beta1=true</code>).</p>
<p>An example request body:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;authorization.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;SubjectAccessReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;resourceAttributes&#34;</span>: {
      <span style=color:green;font-weight:700>&#34;namespace&#34;</span>: <span style=color:#b44>&#34;kittensandponies&#34;</span>,
      <span style=color:green;font-weight:700>&#34;verb&#34;</span>: <span style=color:#b44>&#34;get&#34;</span>,
      <span style=color:green;font-weight:700>&#34;group&#34;</span>: <span style=color:#b44>&#34;unicorn.example.org&#34;</span>,
      <span style=color:green;font-weight:700>&#34;resource&#34;</span>: <span style=color:#b44>&#34;pods&#34;</span>
    },
    <span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;jane&#34;</span>,
    <span style=color:green;font-weight:700>&#34;group&#34;</span>: [
      <span style=color:#b44>&#34;group1&#34;</span>,
      <span style=color:#b44>&#34;group2&#34;</span>
    ]
  }
}
</code></pre></div><p>The remote service is expected to fill the <code>status</code> field of
the request and respond to either allow or disallow access. The response body's
<code>spec</code> field is ignored and may be omitted. A permissive response would return:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;authorization.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;SubjectAccessReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>
  }
}
</code></pre></div><p>For disallowing access there are two methods.</p>
<p>The first method is preferred in most cases, and indicates the authorization
webhook does not allow, or has "no opinion" about the request, but if other
authorizers are configured, they are given a chance to allow the request.
If there are no other authorizers, or none of them allow the request, the
request is forbidden. The webhook would return:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;authorization.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;SubjectAccessReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>,
    <span style=color:green;font-weight:700>&#34;reason&#34;</span>: <span style=color:#b44>&#34;user does not have read access to the namespace&#34;</span>
  }
}
</code></pre></div><p>The second method denies immediately, short-circuiting evaluation by other
configured authorizers. This should only be used by webhooks that have
detailed knowledge of the full authorizer configuration of the cluster.
The webhook would return:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;authorization.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;SubjectAccessReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;status&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;allowed&#34;</span>: <span style=color:#a2f;font-weight:700>false</span>,
    <span style=color:green;font-weight:700>&#34;denied&#34;</span>: <span style=color:#a2f;font-weight:700>true</span>,
    <span style=color:green;font-weight:700>&#34;reason&#34;</span>: <span style=color:#b44>&#34;user does not have read access to the namespace&#34;</span>
  }
}
</code></pre></div><p>Access to non-resource paths are sent as:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;apiVersion&#34;</span>: <span style=color:#b44>&#34;authorization.k8s.io/v1beta1&#34;</span>,
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;SubjectAccessReview&#34;</span>,
  <span style=color:green;font-weight:700>&#34;spec&#34;</span>: {
    <span style=color:green;font-weight:700>&#34;nonResourceAttributes&#34;</span>: {
      <span style=color:green;font-weight:700>&#34;path&#34;</span>: <span style=color:#b44>&#34;/debug&#34;</span>,
      <span style=color:green;font-weight:700>&#34;verb&#34;</span>: <span style=color:#b44>&#34;get&#34;</span>
    },
    <span style=color:green;font-weight:700>&#34;user&#34;</span>: <span style=color:#b44>&#34;jane&#34;</span>,
    <span style=color:green;font-weight:700>&#34;group&#34;</span>: [
      <span style=color:#b44>&#34;group1&#34;</span>,
      <span style=color:#b44>&#34;group2&#34;</span>
    ]
  }
}
</code></pre></div><p>Non-resource paths include: <code>/api</code>, <code>/apis</code>, <code>/metrics</code>,
<code>/logs</code>, <code>/debug</code>, <code>/healthz</code>, <code>/livez</code>, <code>/openapi/v2</code>, <code>/readyz</code>, and
<code>/version.</code> Clients require access to <code>/api</code>, <code>/api/*</code>, <code>/apis</code>, <code>/apis/*</code>,
and <code>/version</code> to discover what resources and versions are present on the server.
Access to other non-resource paths can be disallowed without restricting access
to the REST api.</p>
<p>For further documentation refer to the authorization.v1beta1 API objects and
<a href=https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/apiserver/plugin/pkg/authorizer/webhook/webhook.go>webhook.go</a>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-232c8c895125744f56a31038ab6fa4e9>4 - Well-Known Labels, Annotations and Taints</h1>
<p>Kubernetes reserves all labels and annotations in the kubernetes.io namespace.</p>
<p>This document serves both as a reference to the values and as a coordination point for assigning values.</p>
<h2 id=kubernetes-io-arch>kubernetes.io/arch</h2>
<p>Example: <code>kubernetes.io/arch=amd64</code></p>
<p>Used on: Node</p>
<p>The Kubelet populates this with <code>runtime.GOARCH</code> as defined by Go. This can be handy if you are mixing arm and x86 nodes.</p>
<h2 id=kubernetes-io-os>kubernetes.io/os</h2>
<p>Example: <code>kubernetes.io/os=linux</code></p>
<p>Used on: Node</p>
<p>The Kubelet populates this with <code>runtime.GOOS</code> as defined by Go. This can be handy if you are mixing operating systems in your cluster (for example: mixing Linux and Windows nodes).</p>
<h2 id=kubernetes-io-metadata-name>kubernetes.io/metadata.name</h2>
<p>Example: <code>kubernetes.io/metadata.name=mynamespace</code></p>
<p>Used on: Namespaces</p>
<p>The Kubernetes API server (part of the <a class=glossary-tooltip title="The container orchestration layer that exposes the API and interfaces to define, deploy, and manage the lifecycle of containers." data-toggle=tooltip data-placement=top href="/docs/reference/glossary/?all=true#term-control-plane" target=_blank aria-label="control plane">control plane</a>)
sets this label on all namespaces. The label value is set
to the name of the namespace. You can't change this label's value.</p>
<p>This is useful if you want to target a specific namespace with a label
<a class=glossary-tooltip title="Allows users to filter a list of resources based on labels." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels/ target=_blank aria-label=selector>selector</a>.</p>
<h2 id=beta-kubernetes-io-arch-deprecated>beta.kubernetes.io/arch (deprecated)</h2>
<p>This label has been deprecated. Please use <code>kubernetes.io/arch</code> instead.</p>
<h2 id=beta-kubernetes-io-os-deprecated>beta.kubernetes.io/os (deprecated)</h2>
<p>This label has been deprecated. Please use <code>kubernetes.io/os</code> instead.</p>
<h2 id=kubernetesiohostname>kubernetes.io/hostname</h2>
<p>Example: <code>kubernetes.io/hostname=ip-172-20-114-199.ec2.internal</code></p>
<p>Used on: Node</p>
<p>The Kubelet populates this label with the hostname. Note that the hostname can be changed from the "actual" hostname by passing the <code>--hostname-override</code> flag to the <code>kubelet</code>.</p>
<p>This label is also used as part of the topology hierarchy. See <a href=#topologykubernetesiozone>topology.kubernetes.io/zone</a> for more information.</p>
<h2 id=change-cause>kubernetes.io/change-cause</h2>
<p>Example: <code>kubernetes.io/change-cause=kubectl edit --record deployment foo</code></p>
<p>Used on: All Objects</p>
<p>This annotation is a best guess at why something was changed.</p>
<p>It is populated when adding <code>--record</code> to a <code>kubectl</code> command that may change an object.</p>
<h2 id=pod-deletion-cost>controller.kubernetes.io/pod-deletion-cost</h2>
<p>Example: <code>controller.kubernetes.io/pod-deletion-cost=10</code></p>
<p>Used on: Pod</p>
<p>This annotation is used to set <a href=/docs/concepts/workloads/controllers/replicaset/#pod-deletion-cost>Pod Deletion Cost</a>
which allows users to influence ReplicaSet downscaling order. The annotation parses into an <code>int32</code> type.</p>
<h2 id=beta-kubernetes-io-instance-type-deprecated>beta.kubernetes.io/instance-type (deprecated)</h2>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Starting in v1.17, this label is deprecated in favor of <a href=#nodekubernetesioinstance-type>node.kubernetes.io/instance-type</a>.
</div>
<h2 id=nodekubernetesioinstance-type>node.kubernetes.io/instance-type</h2>
<p>Example: <code>node.kubernetes.io/instance-type=m3.medium</code></p>
<p>Used on: Node</p>
<p>The Kubelet populates this with the instance type as defined by the <code>cloudprovider</code>.
This will be set only if you are using a <code>cloudprovider</code>. This setting is handy
if you want to target certain workloads to certain instance types, but typically you want
to rely on the Kubernetes scheduler to perform resource-based scheduling. You should aim to schedule based on properties rather than on instance types (for example: require a GPU, instead of requiring a <code>g2.2xlarge</code>).</p>
<h2 id=failure-domainbetakubernetesioregion>failure-domain.beta.kubernetes.io/region (deprecated)</h2>
<p>See <a href=#topologykubernetesioregion>topology.kubernetes.io/region</a>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Starting in v1.17, this label is deprecated in favor of <a href=#topologykubernetesioregion>topology.kubernetes.io/region</a>.
</div>
<h2 id=failure-domainbetakubernetesiozone>failure-domain.beta.kubernetes.io/zone (deprecated)</h2>
<p>See <a href=#topologykubernetesiozone>topology.kubernetes.io/zone</a>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Starting in v1.17, this label is deprecated in favor of <a href=#topologykubernetesiozone>topology.kubernetes.io/zone</a>.
</div>
<h2 id=statefulsetkubernetesiopod-name>statefulset.kubernetes.io/pod-name</h2>
<p>Example:</p>
<p><code>statefulset.kubernetes.io/pod-name=mystatefulset-7</code></p>
<p>When a StatefulSet controller creates a Pod for the StatefulSet, the control plane
sets this label on that Pod. The value of the label is the name of the Pod being created.</p>
<p>See <a href=/docs/concepts/workloads/controllers/statefulset/#pod-name-label>Pod Name Label</a> in the
StatefulSet topic for more details.</p>
<h2 id=topologykubernetesioregion>topology.kubernetes.io/region</h2>
<p>Example:</p>
<p><code>topology.kubernetes.io/region=us-east-1</code></p>
<p>See <a href=#topologykubernetesiozone>topology.kubernetes.io/zone</a>.</p>
<h2 id=topologykubernetesiozone>topology.kubernetes.io/zone</h2>
<p>Example:</p>
<p><code>topology.kubernetes.io/zone=us-east-1c</code></p>
<p>Used on: Node, PersistentVolume</p>
<p>On Node: The <code>kubelet</code> or the external <code>cloud-controller-manager</code> populates this with the information as provided by the <code>cloudprovider</code>. This will be set only if you are using a <code>cloudprovider</code>. However, you should consider setting this on nodes if it makes sense in your topology.</p>
<p>On PersistentVolume: topology-aware volume provisioners will automatically set node affinity constraints on <code>PersistentVolumes</code>.</p>
<p>A zone represents a logical failure domain. It is common for Kubernetes clusters to span multiple zones for increased availability. While the exact definition of a zone is left to infrastructure implementations, common properties of a zone include very low network latency within a zone, no-cost network traffic within a zone, and failure independence from other zones. For example, nodes within a zone might share a network switch, but nodes in different zones should not.</p>
<p>A region represents a larger domain, made up of one or more zones. It is uncommon for Kubernetes clusters to span multiple regions, While the exact definition of a zone or region is left to infrastructure implementations, common properties of a region include higher network latency between them than within them, non-zero cost for network traffic between them, and failure independence from other zones or regions. For example, nodes within a region might share power infrastructure (e.g. a UPS or generator), but nodes in different regions typically would not.</p>
<p>Kubernetes makes a few assumptions about the structure of zones and regions:</p>
<ol>
<li>regions and zones are hierarchical: zones are strict subsets of regions and no zone can be in 2 regions</li>
<li>zone names are unique across regions; for example region "africa-east-1" might be comprised of zones "africa-east-1a" and "africa-east-1b"</li>
</ol>
<p>It should be safe to assume that topology labels do not change. Even though labels are strictly mutable, consumers of them can assume that a given node is not going to be moved between zones without being destroyed and recreated.</p>
<p>Kubernetes can use this information in various ways. For example, the scheduler automatically tries to spread the Pods in a ReplicaSet across nodes in a single-zone cluster (to reduce the impact of node failures, see <a href=#kubernetesiohostname>kubernetes.io/hostname</a>). With multiple-zone clusters, this spreading behavior also applies to zones (to reduce the impact of zone failures). This is achieved via <em>SelectorSpreadPriority</em>.</p>
<p><em>SelectorSpreadPriority</em> is a best effort placement. If the zones in your cluster are heterogeneous (for example: different numbers of nodes, different types of nodes, or different pod resource requirements), this placement might prevent equal spreading of your Pods across zones. If desired, you can use homogenous zones (same number and types of nodes) to reduce the probability of unequal spreading.</p>
<p>The scheduler (through the <em>VolumeZonePredicate</em> predicate) also will ensure that Pods, that claim a given volume, are only placed into the same zone as that volume. Volumes cannot be attached across zones.</p>
<p>If <code>PersistentVolumeLabel</code> does not support automatic labeling of your PersistentVolumes, you should consider
adding the labels manually (or adding support for <code>PersistentVolumeLabel</code>). With <code>PersistentVolumeLabel</code>, the scheduler prevents Pods from mounting volumes in a different zone. If your infrastructure doesn't have this constraint, you don't need to add the zone labels to the volumes at all.</p>
<h2 id=nodekubernetesiowindows-build>node.kubernetes.io/windows-build</h2>
<p>Example: <code>node.kubernetes.io/windows-build=10.0.17763</code></p>
<p>Used on: Node</p>
<p>When the kubelet is running on Microsoft Windows, it automatically labels its node to record the version of Windows Server in use.</p>
<p>The label's value is in the format "MajorVersion.MinorVersion.BuildNumber".</p>
<h2 id=servicekubernetesioheadless>service.kubernetes.io/headless</h2>
<p>Example: <code>service.kubernetes.io/headless=""</code></p>
<p>Used on: Service</p>
<p>The control plane adds this label to an Endpoints object when the owning Service is headless.</p>
<h2 id=kubernetesioservice-name>kubernetes.io/service-name</h2>
<p>Example: <code>kubernetes.io/service-name="nginx"</code></p>
<p>Used on: Service</p>
<p>Kubernetes uses this label to differentiate multiple Services. Used currently for <code>ELB</code>(Elastic Load Balancer) only.</p>
<h2 id=endpointslicekubernetesiomanaged-by>endpointslice.kubernetes.io/managed-by</h2>
<p>Example: <code>endpointslice.kubernetes.io/managed-by="controller"</code></p>
<p>Used on: EndpointSlices</p>
<p>The label is used to indicate the controller or entity that manages an EndpointSlice. This label aims to enable different EndpointSlice objects to be managed by different controllers or entities within the same cluster.</p>
<h2 id=endpointslicekubernetesioskip-mirror>endpointslice.kubernetes.io/skip-mirror</h2>
<p>Example: <code>endpointslice.kubernetes.io/skip-mirror="true"</code></p>
<p>Used on: Endpoints</p>
<p>The label can be set to <code>"true"</code> on an Endpoints resource to indicate that the EndpointSliceMirroring controller should not mirror this resource with EndpointSlices.</p>
<h2 id=servicekubernetesioservice-proxy-name>service.kubernetes.io/service-proxy-name</h2>
<p>Example: <code>service.kubernetes.io/service-proxy-name="foo-bar"</code></p>
<p>Used on: Service</p>
<p>The kube-proxy has this label for custom proxy, which delegates service control to custom proxy.</p>
<h2 id=experimental-windows-kubernetes-io-isolation-type>experimental.windows.kubernetes.io/isolation-type (deprecated)</h2>
<p>Example: <code>experimental.windows.kubernetes.io/isolation-type: "hyperv"</code></p>
<p>Used on: Pod</p>
<p>The annotation is used to run Windows containers with Hyper-V isolation. To use Hyper-V isolation feature and create a Hyper-V isolated container, the kubelet should be started with feature gates HyperVContainer=true and the Pod should include the annotation experimental.windows.kubernetes.io/isolation-type=hyperv.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> You can only set this annotation on Pods that have a single container.
Starting from v1.20, this annotation is deprecated. Experimental Hyper-V support was removed in 1.21.
</div>
<h2 id=ingressclass-kubernetes-io-is-default-class>ingressclass.kubernetes.io/is-default-class</h2>
<p>Example: <code>ingressclass.kubernetes.io/is-default-class: "true"</code></p>
<p>Used on: IngressClass</p>
<p>When a single IngressClass resource has this annotation set to <code>"true"</code>, new Ingress resource without a class specified will be assigned this default class.</p>
<h2 id=kubernetes-io-ingress-class-deprecated>kubernetes.io/ingress.class (deprecated)</h2>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Starting in v1.18, this annotation is deprecated in favor of <code>spec.ingressClassName</code>.
</div>
<h2 id=storageclass-kubernetes-io-is-default-class>storageclass.kubernetes.io/is-default-class</h2>
<p>Example: <code>storageclass.kubernetes.io/is-default-class=true</code></p>
<p>Used on: StorageClass</p>
<p>When a single StorageClass resource has this annotation set to <code>"true"</code>, new PersistentVolumeClaim
resource without a class specified will be assigned this default class.</p>
<h2 id=alpha-kubernetes-io-provided-node-ip>alpha.kubernetes.io/provided-node-ip</h2>
<p>Example: <code>alpha.kubernetes.io/provided-node-ip: "10.0.0.1"</code></p>
<p>Used on: Node</p>
<p>The kubelet can set this annotation on a Node to denote its configured IPv4 address.</p>
<p>When kubelet is started with the "external" cloud provider, it sets this annotation on the Node to denote an IP address set from the command line flag (<code>--node-ip</code>). This IP is verified with the cloud provider as valid by the cloud-controller-manager.</p>
<h2 id=batch-kubernetes-io-job-completion-index>batch.kubernetes.io/job-completion-index</h2>
<p>Example: <code>batch.kubernetes.io/job-completion-index: "3"</code></p>
<p>Used on: Pod</p>
<p>The Job controller in the kube-controller-manager sets this annotation for Pods
created with Indexed <a href=/docs/concepts/workloads/controllers/job/#completion-mode>completion mode</a>.</p>
<h2 id=kubectl-kubernetes-io-default-container>kubectl.kubernetes.io/default-container</h2>
<p>Example: <code>kubectl.kubernetes.io/default-container: "front-end-app"</code></p>
<p>The value of the annotation is the container name that is default for this Pod. For example, <code>kubectl logs</code> or <code>kubectl exec</code> without <code>-c</code> or <code>--container</code> flag will use this default container.</p>
<h2 id=endpoints-kubernetes-io-over-capacity>endpoints.kubernetes.io/over-capacity</h2>
<p>Example: <code>endpoints.kubernetes.io/over-capacity:truncated</code></p>
<p>Used on: Endpoints</p>
<p>In Kubernetes clusters v1.22 (or later), the Endpoints controller adds this annotation to an Endpoints resource if it has more than 1000 endpoints. The annotation indicates that the Endpoints resource is over capacity and the number of endpoints has been truncated to 1000.</p>
<h2 id=batch-kubernetes-io-job-tracking>batch.kubernetes.io/job-tracking</h2>
<p>Example: <code>batch.kubernetes.io/job-tracking: ""</code></p>
<p>Used on: Jobs</p>
<p>The presence of this annotation on a Job indicates that the control plane is
<a href=/docs/concepts/workloads/controllers/job/#job-tracking-with-finalizers>tracking the Job status using finalizers</a>.
You should <strong>not</strong> manually add or remove this annotation.</p>
<h2 id=scheduleralphakubernetesio-preferavoidpods>scheduler.alpha.kubernetes.io/preferAvoidPods (deprecated)</h2>
<p>Used on: Nodes</p>
<p>This annotation requires the <a href=/docs/reference/scheduling/config/#scheduling-plugins>NodePreferAvoidPods scheduling plugin</a>
to be enabled. The plugin is deprecated since Kubernetes 1.22.
Use <a href=/docs/concepts/scheduling-eviction/taint-and-toleration/>Taints and Tolerations</a> instead.</p>
<p><strong>The taints listed below are always used on Nodes</strong></p>
<h2 id=node-kubernetes-io-not-ready>node.kubernetes.io/not-ready</h2>
<p>Example: <code>node.kubernetes.io/not-ready:NoExecute</code></p>
<p>The node controller detects whether a node is ready by monitoring its health and adds or removes this taint accordingly.</p>
<h2 id=node-kubernetes-io-unreachable>node.kubernetes.io/unreachable</h2>
<p>Example: <code>node.kubernetes.io/unreachable:NoExecute</code></p>
<p>The node controller adds the taint to a node corresponding to the <a href=/docs/concepts/architecture/nodes/#condition>NodeCondition</a> <code>Ready</code> being <code>Unknown</code>.</p>
<h2 id=node-kubernetes-io-unschedulable>node.kubernetes.io/unschedulable</h2>
<p>Example: <code>node.kubernetes.io/unschedulable:NoSchedule</code></p>
<p>The taint will be added to a node when initializing the node to avoid race condition.</p>
<h2 id=node-kubernetes-io-memory-pressure>node.kubernetes.io/memory-pressure</h2>
<p>Example: <code>node.kubernetes.io/memory-pressure:NoSchedule</code></p>
<p>The kubelet detects memory pressure based on <code>memory.available</code> and <code>allocatableMemory.available</code> observed on a Node. The observed values are then compared to the corresponding thresholds that can be set on the kubelet to determine if the Node condition and taint should be added/removed.</p>
<h2 id=node-kubernetes-io-disk-pressure>node.kubernetes.io/disk-pressure</h2>
<p>Example: <code>node.kubernetes.io/disk-pressure:NoSchedule</code></p>
<p>The kubelet detects disk pressure based on <code>imagefs.available</code>, <code>imagefs.inodesFree</code>, <code>nodefs.available</code> and <code>nodefs.inodesFree</code>(Linux only) observed on a Node. The observed values are then compared to the corresponding thresholds that can be set on the kubelet to determine if the Node condition and taint should be added/removed.</p>
<h2 id=node-kubernetes-io-network-unavailable>node.kubernetes.io/network-unavailable</h2>
<p>Example: <code>node.kubernetes.io/network-unavailable:NoSchedule</code></p>
<p>This is initially set by the kubelet when the cloud provider used indicates a requirement for additional network configuration. Only when the route on the cloud is configured properly will the taint be removed by the cloud provider.</p>
<h2 id=node-kubernetes-io-pid-pressure>node.kubernetes.io/pid-pressure</h2>
<p>Example: <code>node.kubernetes.io/pid-pressure:NoSchedule</code></p>
<p>The kubelet checks D-value of the size of <code>/proc/sys/kernel/pid_max</code> and the PIDs consumed by Kubernetes on a node to get the number of available PIDs that referred to as the <code>pid.available</code> metric. The metric is then compared to the corresponding threshold that can be set on the kubelet to determine if the node condition and taint should be added/removed.</p>
<h2 id=node-cloudprovider-kubernetes-io-uninitialized>node.cloudprovider.kubernetes.io/uninitialized</h2>
<p>Example: <code>node.cloudprovider.kubernetes.io/uninitialized:NoSchedule</code></p>
<p>Sets this taint on a node to mark it as unusable, when kubelet is started with the "external" cloud provider, until a controller from the cloud-controller-manager initializes this node, and then removes the taint.</p>
<h2 id=node-cloudprovider-kubernetes-io-shutdown>node.cloudprovider.kubernetes.io/shutdown</h2>
<p>Example: <code>node.cloudprovider.kubernetes.io/shutdown:NoSchedule</code></p>
<p>If a Node is in a cloud provider specified shutdown state, the Node gets tainted accordingly with <code>node.cloudprovider.kubernetes.io/shutdown</code> and the taint effect of <code>NoSchedule</code>.</p>
<h2 id=pod-security-kubernetes-io-enforce>pod-security.kubernetes.io/enforce</h2>
<p>Example: <code>pod-security.kubernetes.io/enforce: baseline</code></p>
<p>Used on: Namespace</p>
<p>Value <strong>must</strong> be one of <code>privileged</code>, <code>baseline</code>, or <code>restricted</code> which correspond to
<a href=/docs/concepts/security/pod-security-standards>Pod Security Standard</a> levels. Specifically,
the <code>enforce</code> label <em>prohibits</em> the creation of any Pod in the labeled Namespace which does not meet
the requirements outlined in the indicated level.</p>
<p>See <a href=/docs/concepts/security/pod-security-admission>Enforcing Pod Security at the Namespace Level</a>
for more information.</p>
<h2 id=pod-security-kubernetes-io-enforce-version>pod-security.kubernetes.io/enforce-version</h2>
<p>Example: <code>pod-security.kubernetes.io/enforce-version: 1.22</code></p>
<p>Used on: Namespace</p>
<p>Value <strong>must</strong> be <code>latest</code> or a valid Kubernetes version in the format <code>v&lt;MAJOR>.&lt;MINOR></code>.
This determines the version of the <a href=/docs/concepts/security/pod-security-standards>Pod Security Standard</a>
policies to apply when validating a submitted Pod.</p>
<p>See <a href=/docs/concepts/security/pod-security-admission>Enforcing Pod Security at the Namespace Level</a>
for more information.</p>
<h2 id=pod-security-kubernetes-io-audit>pod-security.kubernetes.io/audit</h2>
<p>Example: <code>pod-security.kubernetes.io/audit: baseline</code></p>
<p>Used on: Namespace</p>
<p>Value <strong>must</strong> be one of <code>privileged</code>, <code>baseline</code>, or <code>restricted</code> which correspond to
<a href=/docs/concepts/security/pod-security-standards>Pod Security Standard</a> levels. Specifically,
the <code>audit</code> label does not prevent the creation of a Pod in the labeled Namespace which does not meet
the requirements outlined in the indicated level, but adds an audit annotation to that Pod.</p>
<p>See <a href=/docs/concepts/security/pod-security-admission>Enforcing Pod Security at the Namespace Level</a>
for more information.</p>
<h2 id=pod-security-kubernetes-io-audit-version>pod-security.kubernetes.io/audit-version</h2>
<p>Example: <code>pod-security.kubernetes.io/audit-version: 1.22</code></p>
<p>Used on: Namespace</p>
<p>Value <strong>must</strong> be <code>latest</code> or a valid Kubernetes version in the format <code>v&lt;MAJOR>.&lt;MINOR></code>.
This determines the version of the <a href=/docs/concepts/security/pod-security-standards>Pod Security Standard</a>
policies to apply when validating a submitted Pod.</p>
<p>See <a href=/docs/concepts/security/pod-security-admission>Enforcing Pod Security at the Namespace Level</a>
for more information.</p>
<h2 id=pod-security-kubernetes-io-warn>pod-security.kubernetes.io/warn</h2>
<p>Example: <code>pod-security.kubernetes.io/warn: baseline</code></p>
<p>Used on: Namespace</p>
<p>Value <strong>must</strong> be one of <code>privileged</code>, <code>baseline</code>, or <code>restricted</code> which correspond to
<a href=/docs/concepts/security/pod-security-standards>Pod Security Standard</a> levels. Specifically,
the <code>warn</code> label does not prevent the creation of a Pod in the labeled Namespace which does not meet the
requirements outlined in the indicated level, but returns a warning to the user after doing so.
Note that warnings are also displayed when creating or updating objects that contain Pod templates,
such as Deployments, Jobs, StatefulSets, etc.</p>
<p>See <a href=/docs/concepts/security/pod-security-admission>Enforcing Pod Security at the Namespace Level</a>
for more information.</p>
<h2 id=pod-security-kubernetes-io-warn-version>pod-security.kubernetes.io/warn-version</h2>
<p>Example: <code>pod-security.kubernetes.io/warn-version: 1.22</code></p>
<p>Used on: Namespace</p>
<p>Value <strong>must</strong> be <code>latest</code> or a valid Kubernetes version in the format <code>v&lt;MAJOR>.&lt;MINOR></code>.
This determines the version of the <a href=/docs/concepts/security/pod-security-standards>Pod Security Standard</a>
policies to apply when validating a submitted Pod. Note that warnings are also displayed when creating
or updating objects that contain Pod templates, such as Deployments, Jobs, StatefulSets, etc.</p>
<p>See <a href=/docs/concepts/security/pod-security-admission>Enforcing Pod Security at the Namespace Level</a>
for more information.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-60a16da3955f1de774f1f8dd756f2251>5 - Kubernetes API</h1>
<p><p>Kubernetes' API is the application that serves Kubernetes functionality through a RESTful interface and stores the state of the cluster.</p></p>
<p>Kubernetes resources and "records of intent" are all stored as API objects, and modified via RESTful calls to the API. The API allows configuration to be managed in a declarative way. Users can interact with the Kubernetes API directly, or via tools like <code>kubectl</code>. The core Kubernetes API is flexible and can also be extended to support custom resources.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5037aed176781855678f89b4c21626ac>5.1 - Workload Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-9cfc6ce767da10486ac184e3cf34abd4>5.1.1 - Pod</h1>
<div class=lead>Pod is a collection of containers that can run on a host.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Pod>Pod</h2>
<p>Pod is a collection of containers that can run on a host. This resource is created by clients and scheduled onto hosts.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Pod</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec>PodSpec</a>)</p>
<p>Specification of the desired behavior of the pod. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodStatus>PodStatus</a>)</p>
<p>Most recently observed status of the pod. This data may not be up to date. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=PodSpec>PodSpec</h2>
<p>PodSpec is a description of a pod.</p>
<hr>
<h3 id=containers>Containers</h3>
<ul>
<li>
<p><strong>containers</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Container>Container</a>), required</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>List of containers belonging to the pod. Containers cannot currently be added or removed. There must be at least one container in a Pod. Cannot be updated.</p>
</li>
<li>
<p><strong>initContainers</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Container>Container</a>)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>List of initialization containers belonging to the pod. Init containers are executed in order prior to containers being started. If any init container fails, the pod is considered to have failed and is handled according to its restartPolicy. The name for an init container or normal container must be unique among all containers. Init containers may not have Lifecycle actions, Readiness probes, Liveness probes, or Startup probes. The resourceRequirements of an init container are taken into account during scheduling by finding the highest request/limit for each resource type, and then using the max of of that value or the sum of the normal containers. Limits are applied to init containers in a similar fashion. Init containers cannot currently be added or removed. Cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/init-containers/>https://kubernetes.io/docs/concepts/workloads/pods/init-containers/</a></p>
</li>
<li>
<p><strong>imagePullSecrets</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>ImagePullSecrets is an optional list of references to secrets in the same namespace to use for pulling any of the images used by this PodSpec. If specified, these secrets will be passed to individual puller implementations for them to use. For example, in the case of docker, only DockerConfig type secrets are honored. More info: <a href=https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod>https://kubernetes.io/docs/concepts/containers/images#specifying-imagepullsecrets-on-a-pod</a></p>
</li>
<li>
<p><strong>enableServiceLinks</strong> (boolean)</p>
<p>EnableServiceLinks indicates whether information about services should be injected into pod's environment variables, matching the syntax of Docker links. Optional: Defaults to true.</p>
</li>
</ul>
<h3 id=volumes>Volumes</h3>
<ul>
<li>
<p><strong>volumes</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#Volume>Volume</a>)</p>
<p><em>Patch strategies: retainKeys, merge on key <code>name</code></em></p>
<p>List of volumes that can be mounted by containers belonging to the pod. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes>https://kubernetes.io/docs/concepts/storage/volumes</a></p>
</li>
</ul>
<h3 id=scheduling>Scheduling</h3>
<ul>
<li>
<p><strong>nodeSelector</strong> (map[string]string)</p>
<p>NodeSelector is a selector which must be true for the pod to fit on a node. Selector which must match a node's labels for the pod to be scheduled on that node. More info: <a href=https://kubernetes.io/docs/concepts/configuration/assign-pod-node/>https://kubernetes.io/docs/concepts/configuration/assign-pod-node/</a></p>
</li>
<li>
<p><strong>nodeName</strong> (string)</p>
<p>NodeName is a request to schedule this pod onto a specific node. If it is non-empty, the scheduler simply schedules this pod onto that node, assuming that it fits resource requirements.</p>
</li>
<li>
<p><strong>affinity</strong> (Affinity)</p>
<p>If specified, the pod's scheduling constraints</p>
<p><a name=Affinity></a>
<em>Affinity is a group of affinity scheduling rules.</em></p>
<ul>
<li>
<p><strong>affinity.nodeAffinity</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#NodeAffinity>NodeAffinity</a>)</p>
<p>Describes node affinity scheduling rules for the pod.</p>
</li>
<li>
<p><strong>affinity.podAffinity</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAffinity>PodAffinity</a>)</p>
<p>Describes pod affinity scheduling rules (e.g. co-locate this pod in the same node, zone, etc. as some other pod(s)).</p>
</li>
<li>
<p><strong>affinity.podAntiAffinity</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodAntiAffinity>PodAntiAffinity</a>)</p>
<p>Describes pod anti-affinity scheduling rules (e.g. avoid putting this pod in the same node, zone, etc. as some other pod(s)).</p>
</li>
</ul>
</li>
<li>
<p><strong>tolerations</strong> ([]Toleration)</p>
<p>If specified, the pod's tolerations.</p>
<p><a name=Toleration></a>
<em>The pod this Toleration is attached to tolerates any taint that matches the triple &lt;key,value,effect> using the matching operator <operator>.</em></p>
<ul>
<li>
<p><strong>tolerations.key</strong> (string)</p>
<p>Key is the taint key that the toleration applies to. Empty means match all taint keys. If the key is empty, operator must be Exists; this combination means to match all values and all keys.</p>
</li>
<li>
<p><strong>tolerations.operator</strong> (string)</p>
<p>Operator represents a key's relationship to the value. Valid operators are Exists and Equal. Defaults to Equal. Exists is equivalent to wildcard for value, so that a pod can tolerate all taints of a particular category.</p>
</li>
<li>
<p><strong>tolerations.value</strong> (string)</p>
<p>Value is the taint value the toleration matches to. If the operator is Exists, the value should be empty, otherwise just a regular string.</p>
</li>
<li>
<p><strong>tolerations.effect</strong> (string)</p>
<p>Effect indicates the taint effect to match. Empty means match all taint effects. When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.</p>
</li>
<li>
<p><strong>tolerations.tolerationSeconds</strong> (int64)</p>
<p>TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.</p>
</li>
</ul>
</li>
<li>
<p><strong>schedulerName</strong> (string)</p>
<p>If specified, the pod will be dispatched by specified scheduler. If not specified, the pod will be dispatched by default scheduler.</p>
</li>
<li>
<p><strong>runtimeClassName</strong> (string)</p>
<p>RuntimeClassName refers to a RuntimeClass object in the node.k8s.io group, which should be used to run this pod. If no RuntimeClass resource matches the named class, the pod will not be run. If unset or empty, the "legacy" RuntimeClass will be used, which is an implicit class with an empty definition that uses the default runtime handler. More info: <a href=https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class>https://git.k8s.io/enhancements/keps/sig-node/585-runtime-class</a> This is a beta feature as of Kubernetes v1.14.</p>
</li>
<li>
<p><strong>priorityClassName</strong> (string)</p>
<p>If specified, indicates the pod's priority. "system-node-critical" and "system-cluster-critical" are two special keywords which indicate the highest priorities with the former being the highest priority. Any other name must be defined by creating a PriorityClass object with that name. If not specified, the pod priority will be default or zero if there is no default.</p>
</li>
<li>
<p><strong>priority</strong> (int32)</p>
<p>The priority value. Various system components use this field to find the priority of the pod. When Priority Admission Controller is enabled, it prevents users from setting this field. The admission controller populates this field from PriorityClassName. The higher the value, the higher the priority.</p>
</li>
<li>
<p><strong>topologySpreadConstraints</strong> ([]TopologySpreadConstraint)</p>
<p><em>Patch strategy: merge on key <code>topologyKey</code></em></p>
<p><em>Map: unique values on keys <code>topologyKey, whenUnsatisfiable</code> will be kept during a merge</em></p>
<p>TopologySpreadConstraints describes how a group of pods ought to spread across topology domains. Scheduler will schedule pods in a way which abides by the constraints. All topologySpreadConstraints are ANDed.</p>
<p><a name=TopologySpreadConstraint></a>
<em>TopologySpreadConstraint specifies how to spread matching pods among the given topology.</em></p>
<ul>
<li>
<p><strong>topologySpreadConstraints.maxSkew</strong> (int32), required</p>
<p>MaxSkew describes the degree to which pods may be unevenly distributed. When <code>whenUnsatisfiable=DoNotSchedule</code>, it is the maximum permitted difference between the number of matching pods in the target topology and the global minimum. For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same labelSelector spread as 1/1/0: | zone1 | zone2 | zone3 | | P | P | | - if MaxSkew is 1, incoming pod can only be scheduled to zone3 to become 1/1/1; scheduling it onto zone1(zone2) would make the ActualSkew(2-0) on zone1(zone2) violate MaxSkew(1). - if MaxSkew is 2, incoming pod can be scheduled onto any zone. When <code>whenUnsatisfiable=ScheduleAnyway</code>, it is used to give higher precedence to topologies that satisfy it. It's a required field. Default value is 1 and 0 is not allowed.</p>
</li>
<li>
<p><strong>topologySpreadConstraints.topologyKey</strong> (string), required</p>
<p>TopologyKey is the key of node labels. Nodes that have a label with this key and identical values are considered to be in the same topology. We consider each &lt;key, value> as a "bucket", and try to put balanced number of pods into each bucket. It's a required field.</p>
</li>
<li>
<p><strong>topologySpreadConstraints.whenUnsatisfiable</strong> (string), required</p>
<p>WhenUnsatisfiable indicates how to deal with a pod if it doesn't satisfy the spread constraint. - DoNotSchedule (default) tells the scheduler not to schedule it. - ScheduleAnyway tells the scheduler to schedule the pod in any location,
but giving higher precedence to topologies that would help reduce the
skew.
A constraint is considered "Unsatisfiable" for an incoming pod if and only if every possible node assigment for that pod would violate "MaxSkew" on some topology. For example, in a 3-zone cluster, MaxSkew is set to 1, and pods with the same labelSelector spread as 3/1/1: | zone1 | zone2 | zone3 | | P P P | P | P | If WhenUnsatisfiable is set to DoNotSchedule, incoming pod can only be scheduled to zone2(zone3) to become 3/2/1(3/1/2) as ActualSkew(2-1) on zone2(zone3) satisfies MaxSkew(1). In other words, the cluster can still be imbalanced, but scheduler won't make it <em>more</em> imbalanced. It's a required field.</p>
</li>
<li>
<p><strong>topologySpreadConstraints.labelSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>LabelSelector is used to find matching pods. Pods that match this label selector are counted to determine the number of pods in their corresponding topology domain.</p>
</li>
</ul>
</li>
</ul>
<h3 id=lifecycle>Lifecycle</h3>
<ul>
<li>
<p><strong>restartPolicy</strong> (string)</p>
<p>Restart policy for all containers within the pod. One of Always, OnFailure, Never. Default to Always. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy</a></p>
</li>
<li>
<p><strong>terminationGracePeriodSeconds</strong> (int64)</p>
<p>Optional duration in seconds the pod needs to terminate gracefully. May be decreased in delete request. Value must be non-negative integer. The value zero indicates stop immediately via the kill signal (no opportunity to shut down). If this value is nil, the default grace period will be used instead. The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process. Defaults to 30 seconds.</p>
</li>
<li>
<p><strong>activeDeadlineSeconds</strong> (int64)</p>
<p>Optional duration in seconds the pod may be active on the node relative to StartTime before the system will actively try to mark it failed and kill associated containers. Value must be a positive integer.</p>
</li>
<li>
<p><strong>readinessGates</strong> ([]PodReadinessGate)</p>
<p>If specified, all readiness gates will be evaluated for pod readiness. A pod is ready when all its containers are ready AND all conditions specified in the readiness gates have status equal to "True" More info: <a href=https://git.k8s.io/enhancements/keps/sig-network/580-pod-readiness-gates>https://git.k8s.io/enhancements/keps/sig-network/580-pod-readiness-gates</a></p>
<p><a name=PodReadinessGate></a>
<em>PodReadinessGate contains the reference to a pod condition</em></p>
<ul>
<li>
<p><strong>readinessGates.conditionType</strong> (string), required</p>
<p>ConditionType refers to a condition in the pod's condition list with matching type.</p>
</li>
</ul>
</li>
</ul>
<h3 id=hostname-and-name-resolution>Hostname and Name resolution</h3>
<ul>
<li>
<p><strong>hostname</strong> (string)</p>
<p>Specifies the hostname of the Pod If not specified, the pod's hostname will be set to a system-defined value.</p>
</li>
<li>
<p><strong>setHostnameAsFQDN</strong> (boolean)</p>
<p>If true the pod's hostname will be configured as the pod's FQDN, rather than the leaf name (the default). In Linux containers, this means setting the FQDN in the hostname field of the kernel (the nodename field of struct utsname). In Windows containers, this means setting the registry value of hostname for the registry key HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters to FQDN. If a pod does not have FQDN, this has no effect. Default to false.</p>
</li>
<li>
<p><strong>subdomain</strong> (string)</p>
<p>If specified, the fully qualified Pod hostname will be "&lt;hostname>.&lt;subdomain>.&lt;pod namespace>.svc.&lt;cluster domain>". If not specified, the pod will not have a domainname at all.</p>
</li>
<li>
<p><strong>hostAliases</strong> ([]HostAlias)</p>
<p><em>Patch strategy: merge on key <code>ip</code></em></p>
<p>HostAliases is an optional list of hosts and IPs that will be injected into the pod's hosts file if specified. This is only valid for non-hostNetwork pods.</p>
<p><a name=HostAlias></a>
<em>HostAlias holds the mapping between IP and hostnames that will be injected as an entry in the pod's hosts file.</em></p>
<ul>
<li>
<p><strong>hostAliases.hostnames</strong> ([]string)</p>
<p>Hostnames for the above IP address.</p>
</li>
<li>
<p><strong>hostAliases.ip</strong> (string)</p>
<p>IP address of the host file entry.</p>
</li>
</ul>
</li>
<li>
<p><strong>dnsConfig</strong> (PodDNSConfig)</p>
<p>Specifies the DNS parameters of a pod. Parameters specified here will be merged to the generated DNS configuration based on DNSPolicy.</p>
<p><a name=PodDNSConfig></a>
<em>PodDNSConfig defines the DNS parameters of a pod in addition to those generated from DNSPolicy.</em></p>
<ul>
<li>
<p><strong>dnsConfig.nameservers</strong> ([]string)</p>
<p>A list of DNS name server IP addresses. This will be appended to the base nameservers generated from DNSPolicy. Duplicated nameservers will be removed.</p>
</li>
<li>
<p><strong>dnsConfig.options</strong> ([]PodDNSConfigOption)</p>
<p>A list of DNS resolver options. This will be merged with the base options generated from DNSPolicy. Duplicated entries will be removed. Resolution options given in Options will override those that appear in the base DNSPolicy.</p>
<p><a name=PodDNSConfigOption></a>
<em>PodDNSConfigOption defines DNS resolver options of a pod.</em></p>
<ul>
<li>
<p><strong>dnsConfig.options.name</strong> (string)</p>
<p>Required.</p>
</li>
<li>
<p><strong>dnsConfig.options.value</strong> (string)</p>
</li>
</ul>
</li>
<li>
<p><strong>dnsConfig.searches</strong> ([]string)</p>
<p>A list of DNS search domains for host-name lookup. This will be appended to the base search paths generated from DNSPolicy. Duplicated search paths will be removed.</p>
</li>
</ul>
</li>
<li>
<p><strong>dnsPolicy</strong> (string)</p>
<p>Set DNS policy for the pod. Defaults to "ClusterFirst". Valid values are 'ClusterFirstWithHostNet', 'ClusterFirst', 'Default' or 'None'. DNS parameters given in DNSConfig will be merged with the policy selected with DNSPolicy. To have DNS options set along with hostNetwork, you have to specify DNS policy explicitly to 'ClusterFirstWithHostNet'.</p>
</li>
</ul>
<h3 id=hosts-namespaces>Hosts namespaces</h3>
<ul>
<li>
<p><strong>hostNetwork</strong> (boolean)</p>
<p>Host networking requested for this pod. Use the host's network namespace. If this option is set, the ports that will be used must be specified. Default to false.</p>
</li>
<li>
<p><strong>hostPID</strong> (boolean)</p>
<p>Use the host's pid namespace. Optional: Default to false.</p>
</li>
<li>
<p><strong>hostIPC</strong> (boolean)</p>
<p>Use the host's ipc namespace. Optional: Default to false.</p>
</li>
<li>
<p><strong>shareProcessNamespace</strong> (boolean)</p>
<p>Share a single process namespace between all of the containers in a pod. When this is set containers will be able to view and signal processes from other containers in the same pod, and the first process in each container will not be assigned PID 1. HostPID and ShareProcessNamespace cannot both be set. Optional: Default to false.</p>
</li>
</ul>
<h3 id=service-account>Service account</h3>
<ul>
<li>
<p><strong>serviceAccountName</strong> (string)</p>
<p>ServiceAccountName is the name of the ServiceAccount to use to run this pod. More info: <a href=https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/>https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/</a></p>
</li>
<li>
<p><strong>automountServiceAccountToken</strong> (boolean)</p>
<p>AutomountServiceAccountToken indicates whether a service account token should be automatically mounted.</p>
</li>
</ul>
<h3 id=security-context>Security context</h3>
<ul>
<li>
<p><strong>securityContext</strong> (PodSecurityContext)</p>
<p>SecurityContext holds pod-level security attributes and common container settings. Optional: Defaults to empty. See type description for default values of each field.</p>
<p><a name=PodSecurityContext></a>
<em>PodSecurityContext holds pod-level security attributes and common container settings. Some fields are also present in container.securityContext. Field values of container.securityContext take precedence over field values of PodSecurityContext.</em></p>
<ul>
<li>
<p><strong>securityContext.runAsUser</strong> (int64)</p>
<p>The UID to run the entrypoint of the container process. Defaults to user specified in image metadata if unspecified. May also be set in SecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence for that container.</p>
</li>
<li>
<p><strong>securityContext.runAsNonRoot</strong> (boolean)</p>
<p>Indicates that the container must run as a non-root user. If true, the Kubelet will validate the image at runtime to ensure that it does not run as UID 0 (root) and fail to start the container if it does. If unset or false, no such validation will be performed. May also be set in SecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.runAsGroup</strong> (int64)</p>
<p>The GID to run the entrypoint of the container process. Uses runtime default if unset. May also be set in SecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence for that container.</p>
</li>
<li>
<p><strong>securityContext.supplementalGroups</strong> ([]int64)</p>
<p>A list of groups applied to the first process run in each container, in addition to the container's primary GID. If unspecified, no groups will be added to any container.</p>
</li>
<li>
<p><strong>securityContext.fsGroup</strong> (int64)</p>
<p>A special supplemental group that applies to all containers in a pod. Some volume types allow the Kubelet to change the ownership of that volume to be owned by the pod:</p>
<ol>
<li>The owning GID will be the FSGroup 2. The setgid bit is set (new files created in the volume will be owned by FSGroup) 3. The permission bits are OR'd with rw-rw----</li>
</ol>
<p>If unset, the Kubelet will not modify the ownership and permissions of any volume.</p>
</li>
<li>
<p><strong>securityContext.fsGroupChangePolicy</strong> (string)</p>
<p>fsGroupChangePolicy defines behavior of changing ownership and permission of the volume before being exposed inside Pod. This field will only apply to volume types which support fsGroup based ownership(and permissions). It will have no effect on ephemeral volume types such as: secret, configmaps and emptydir. Valid values are "OnRootMismatch" and "Always". If not specified, "Always" is used.</p>
</li>
<li>
<p><strong>securityContext.seccompProfile</strong> (SeccompProfile)</p>
<p>The seccomp options to use by the containers in this pod.</p>
<p><a name=SeccompProfile></a>
<em>SeccompProfile defines a pod/container's seccomp profile settings. Only one profile source may be set.</em></p>
<ul>
<li>
<p><strong>securityContext.seccompProfile.type</strong> (string), required</p>
<p>type indicates which kind of seccomp profile will be applied. Valid options are:</p>
<p>Localhost - a profile defined in a file on the node should be used. RuntimeDefault - the container runtime default profile should be used. Unconfined - no profile should be applied.</p>
</li>
<li>
<p><strong>securityContext.seccompProfile.localhostProfile</strong> (string)</p>
<p>localhostProfile indicates a profile defined in a file on the node should be used. The profile must be preconfigured on the node to work. Must be a descending path, relative to the kubelet's configured seccomp profile location. Must only be set if type is "Localhost".</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.seLinuxOptions</strong> (SELinuxOptions)</p>
<p>The SELinux context to be applied to all containers. If unspecified, the container runtime will allocate a random SELinux context for each container. May also be set in SecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence for that container.</p>
<p><a name=SELinuxOptions></a>
<em>SELinuxOptions are the labels to be applied to the container</em></p>
<ul>
<li>
<p><strong>securityContext.seLinuxOptions.level</strong> (string)</p>
<p>Level is SELinux level label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.role</strong> (string)</p>
<p>Role is a SELinux role label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.type</strong> (string)</p>
<p>Type is a SELinux type label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.user</strong> (string)</p>
<p>User is a SELinux user label that applies to the container.</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.sysctls</strong> ([]Sysctl)</p>
<p>Sysctls hold a list of namespaced sysctls used for the pod. Pods with unsupported sysctls (by the container runtime) might fail to launch.</p>
<p><a name=Sysctl></a>
<em>Sysctl defines a kernel parameter to be set</em></p>
<ul>
<li>
<p><strong>securityContext.sysctls.name</strong> (string), required</p>
<p>Name of a property to set</p>
</li>
<li>
<p><strong>securityContext.sysctls.value</strong> (string), required</p>
<p>Value of a property to set</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.windowsOptions</strong> (WindowsSecurityContextOptions)</p>
<p>The Windows specific settings applied to all containers. If unspecified, the options within a container's SecurityContext will be used. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
<p><a name=WindowsSecurityContextOptions></a>
<em>WindowsSecurityContextOptions contain Windows-specific options and credentials.</em></p>
<ul>
<li>
<p><strong>securityContext.windowsOptions.gmsaCredentialSpec</strong> (string)</p>
<p>GMSACredentialSpec is where the GMSA admission webhook (<a href=https://github.com/kubernetes-sigs/windows-gmsa>https://github.com/kubernetes-sigs/windows-gmsa</a>) inlines the contents of the GMSA credential spec named by the GMSACredentialSpecName field.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.gmsaCredentialSpecName</strong> (string)</p>
<p>GMSACredentialSpecName is the name of the GMSA credential spec to use.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.hostProcess</strong> (boolean)</p>
<p>HostProcess determines if a container should be run as a 'Host Process' container. This field is alpha-level and will only be honored by components that enable the WindowsHostProcessContainers feature flag. Setting this field without the feature flag will result in errors when validating the Pod. All of a Pod's containers must have the same effective HostProcess value (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers). In addition, if HostProcess is true then HostNetwork must also be set to true.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.runAsUserName</strong> (string)</p>
<p>The UserName in Windows to run the entrypoint of the container process. Defaults to the user specified in image metadata if unspecified. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=beta-level>Beta level</h3>
<ul>
<li>
<p><strong>preemptionPolicy</strong> (string)</p>
<p>PreemptionPolicy is the Policy for preempting pods with lower priority. One of Never, PreemptLowerPriority. Defaults to PreemptLowerPriority if unset. This field is beta-level, gated by the NonPreemptingPriority feature-gate.</p>
</li>
<li>
<p><strong>overhead</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Overhead represents the resource overhead associated with running a pod for a given RuntimeClass. This field will be autopopulated at admission time by the RuntimeClass admission controller. If the RuntimeClass admission controller is enabled, overhead must not be set in Pod create requests. The RuntimeClass admission controller will reject Pod create requests which have the overhead already set. If RuntimeClass is configured and selected in the PodSpec, Overhead will be set to the value defined in the corresponding RuntimeClass, otherwise it will remain unset and treated as zero. More info: <a href=https://git.k8s.io/enhancements/keps/sig-node/688-pod-overhead/README.md>https://git.k8s.io/enhancements/keps/sig-node/688-pod-overhead/README.md</a> This field is beta-level as of Kubernetes v1.18, and is only honored by servers that enable the PodOverhead feature.</p>
</li>
</ul>
<h3 id=alpha-level>Alpha level</h3>
<ul>
<li>
<p><strong>ephemeralContainers</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#EphemeralContainer>EphemeralContainer</a>)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>List of ephemeral containers run in this pod. Ephemeral containers may be run in an existing pod to perform user-initiated actions such as debugging. This list cannot be specified when creating a pod, and it cannot be modified by updating the pod spec. In order to add an ephemeral container to an existing pod, use the pod's ephemeralcontainers subresource. This field is alpha-level and is only honored by servers that enable the EphemeralContainers feature.</p>
</li>
</ul>
<h3 id=deprecated>Deprecated</h3>
<ul>
<li>
<p><strong>serviceAccount</strong> (string)</p>
<p>DeprecatedServiceAccount is a depreciated alias for ServiceAccountName. Deprecated: Use serviceAccountName instead.</p>
</li>
</ul>
<h2 id=Container>Container</h2>
<p>A single application container that you want to run within a pod.</p>
<hr>
<ul>
<li>
<p><strong>name</strong> (string), required</p>
<p>Name of the container specified as a DNS_LABEL. Each container in a pod must have a unique name (DNS_LABEL). Cannot be updated.</p>
</li>
</ul>
<h3 id=image>Image</h3>
<ul>
<li>
<p><strong>image</strong> (string)</p>
<p>Docker image name. More info: <a href=https://kubernetes.io/docs/concepts/containers/images>https://kubernetes.io/docs/concepts/containers/images</a> This field is optional to allow higher level config management to default or override container images in workload controllers like Deployments and StatefulSets.</p>
</li>
<li>
<p><strong>imagePullPolicy</strong> (string)</p>
<p>Image pull policy. One of Always, Never, IfNotPresent. Defaults to Always if :latest tag is specified, or IfNotPresent otherwise. Cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/containers/images#updating-images>https://kubernetes.io/docs/concepts/containers/images#updating-images</a></p>
</li>
</ul>
<h3 id=entrypoint>Entrypoint</h3>
<ul>
<li>
<p><strong>command</strong> ([]string)</p>
<p>Entrypoint array. Not executed within a shell. The docker image's ENTRYPOINT is used if this is not provided. Variable references $(VAR_NAME) are expanded using the container's environment. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless of whether the variable exists or not. Cannot be updated. More info: <a href=https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p>
</li>
<li>
<p><strong>args</strong> ([]string)</p>
<p>Arguments to the entrypoint. The docker image's CMD is used if this is not provided. Variable references $(VAR_NAME) are expanded using the container's environment. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless of whether the variable exists or not. Cannot be updated. More info: <a href=https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p>
</li>
<li>
<p><strong>workingDir</strong> (string)</p>
<p>Container's working directory. If not specified, the container runtime's default will be used, which might be configured in the container image. Cannot be updated.</p>
</li>
</ul>
<h3 id=ports>Ports</h3>
<ul>
<li>
<p><strong>ports</strong> ([]ContainerPort)</p>
<p><em>Patch strategy: merge on key <code>containerPort</code></em></p>
<p><em>Map: unique values on keys <code>containerPort, protocol</code> will be kept during a merge</em></p>
<p>List of ports to expose from the container. Exposing a port here gives the system additional information about the network connections a container uses, but is primarily informational. Not specifying a port here DOES NOT prevent that port from being exposed. Any port which is listening on the default "0.0.0.0" address inside a container will be accessible from the network. Cannot be updated.</p>
<p><a name=ContainerPort></a>
<em>ContainerPort represents a network port in a single container.</em></p>
<ul>
<li>
<p><strong>ports.containerPort</strong> (int32), required</p>
<p>Number of port to expose on the pod's IP address. This must be a valid port number, 0 &lt; x &lt; 65536.</p>
</li>
<li>
<p><strong>ports.hostIP</strong> (string)</p>
<p>What host IP to bind the external port to.</p>
</li>
<li>
<p><strong>ports.hostPort</strong> (int32)</p>
<p>Number of port to expose on the host. If specified, this must be a valid port number, 0 &lt; x &lt; 65536. If HostNetwork is specified, this must match ContainerPort. Most containers do not need this.</p>
</li>
<li>
<p><strong>ports.name</strong> (string)</p>
<p>If specified, this must be an IANA_SVC_NAME and unique within the pod. Each named port in a pod must have a unique name. Name for the port that can be referred to by services.</p>
</li>
<li>
<p><strong>ports.protocol</strong> (string)</p>
<p>Protocol for port. Must be UDP, TCP, or SCTP. Defaults to "TCP".</p>
</li>
</ul>
</li>
</ul>
<h3 id=environment-variables>Environment variables</h3>
<ul>
<li>
<p><strong>env</strong> ([]EnvVar)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>List of environment variables to set in the container. Cannot be updated.</p>
<p><a name=EnvVar></a>
<em>EnvVar represents an environment variable present in a Container.</em></p>
<ul>
<li>
<p><strong>env.name</strong> (string), required</p>
<p>Name of the environment variable. Must be a C_IDENTIFIER.</p>
</li>
<li>
<p><strong>env.value</strong> (string)</p>
<p>Variable references $(VAR_NAME) are expanded using the previously defined environment variables in the container and any service environment variables. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless of whether the variable exists or not. Defaults to "".</p>
</li>
<li>
<p><strong>env.valueFrom</strong> (EnvVarSource)</p>
<p>Source for the environment variable's value. Cannot be used if value is not empty.</p>
<p><a name=EnvVarSource></a>
<em>EnvVarSource represents a source for the value of an EnvVar.</em></p>
<ul>
<li>
<p><strong>env.valueFrom.configMapKeyRef</strong> (ConfigMapKeySelector)</p>
<p>Selects a key of a ConfigMap.</p>
<p><a name=ConfigMapKeySelector></a>
<em>Selects a key from a ConfigMap.</em></p>
<ul>
<li>
<p><strong>env.valueFrom.configMapKeyRef.key</strong> (string), required</p>
<p>The key to select.</p>
</li>
<li>
<p><strong>env.valueFrom.configMapKeyRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>env.valueFrom.configMapKeyRef.optional</strong> (boolean)</p>
<p>Specify whether the ConfigMap or its key must be defined</p>
</li>
</ul>
</li>
<li>
<p><strong>env.valueFrom.fieldRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-field-selector/#ObjectFieldSelector>ObjectFieldSelector</a>)</p>
<p>Selects a field of the pod: supports metadata.name, metadata.namespace, <code>metadata.labels['\&lt;KEY>']</code>, <code>metadata.annotations['\&lt;KEY>']</code>, spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.</p>
</li>
<li>
<p><strong>env.valueFrom.resourceFieldRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/resource-field-selector/#ResourceFieldSelector>ResourceFieldSelector</a>)</p>
<p>Selects a resource of the container: only resources limits and requests (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.</p>
</li>
<li>
<p><strong>env.valueFrom.secretKeyRef</strong> (SecretKeySelector)</p>
<p>Selects a key of a secret in the pod's namespace</p>
<p><a name=SecretKeySelector></a>
<em>SecretKeySelector selects a key of a Secret.</em></p>
<ul>
<li>
<p><strong>env.valueFrom.secretKeyRef.key</strong> (string), required</p>
<p>The key of the secret to select from. Must be a valid secret key.</p>
</li>
<li>
<p><strong>env.valueFrom.secretKeyRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>env.valueFrom.secretKeyRef.optional</strong> (boolean)</p>
<p>Specify whether the Secret or its key must be defined</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>envFrom</strong> ([]EnvFromSource)</p>
<p>List of sources to populate environment variables in the container. The keys defined within a source must be a C_IDENTIFIER. All invalid keys will be reported as an event when the container is starting. When a key exists in multiple sources, the value associated with the last source will take precedence. Values defined by an Env with a duplicate key will take precedence. Cannot be updated.</p>
<p><a name=EnvFromSource></a>
<em>EnvFromSource represents the source of a set of ConfigMaps</em></p>
<ul>
<li>
<p><strong>envFrom.configMapRef</strong> (ConfigMapEnvSource)</p>
<p>The ConfigMap to select from</p>
<p><a name=ConfigMapEnvSource></a>
*ConfigMapEnvSource selects a ConfigMap to populate the environment variables with.</p>
<p>The contents of the target ConfigMap's Data field will represent the key-value pairs as environment variables.*</p>
<ul>
<li>
<p><strong>envFrom.configMapRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>envFrom.configMapRef.optional</strong> (boolean)</p>
<p>Specify whether the ConfigMap must be defined</p>
</li>
</ul>
</li>
<li>
<p><strong>envFrom.prefix</strong> (string)</p>
<p>An optional identifier to prepend to each key in the ConfigMap. Must be a C_IDENTIFIER.</p>
</li>
<li>
<p><strong>envFrom.secretRef</strong> (SecretEnvSource)</p>
<p>The Secret to select from</p>
<p><a name=SecretEnvSource></a>
*SecretEnvSource selects a Secret to populate the environment variables with.</p>
<p>The contents of the target Secret's Data field will represent the key-value pairs as environment variables.*</p>
<ul>
<li>
<p><strong>envFrom.secretRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>envFrom.secretRef.optional</strong> (boolean)</p>
<p>Specify whether the Secret must be defined</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=volumes-1>Volumes</h3>
<ul>
<li>
<p><strong>volumeMounts</strong> ([]VolumeMount)</p>
<p><em>Patch strategy: merge on key <code>mountPath</code></em></p>
<p>Pod volumes to mount into the container's filesystem. Cannot be updated.</p>
<p><a name=VolumeMount></a>
<em>VolumeMount describes a mounting of a Volume within a container.</em></p>
<ul>
<li>
<p><strong>volumeMounts.mountPath</strong> (string), required</p>
<p>Path within the container at which the volume should be mounted. Must not contain ':'.</p>
</li>
<li>
<p><strong>volumeMounts.name</strong> (string), required</p>
<p>This must match the Name of a Volume.</p>
</li>
<li>
<p><strong>volumeMounts.mountPropagation</strong> (string)</p>
<p>mountPropagation determines how mounts are propagated from the host to container and the other way around. When not set, MountPropagationNone is used. This field is beta in 1.10.</p>
</li>
<li>
<p><strong>volumeMounts.readOnly</strong> (boolean)</p>
<p>Mounted read-only if true, read-write otherwise (false or unspecified). Defaults to false.</p>
</li>
<li>
<p><strong>volumeMounts.subPath</strong> (string)</p>
<p>Path within the volume from which the container's volume should be mounted. Defaults to "" (volume's root).</p>
</li>
<li>
<p><strong>volumeMounts.subPathExpr</strong> (string)</p>
<p>Expanded path within the volume from which the container's volume should be mounted. Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment. Defaults to "" (volume's root). SubPathExpr and SubPath are mutually exclusive.</p>
</li>
</ul>
</li>
<li>
<p><strong>volumeDevices</strong> ([]VolumeDevice)</p>
<p><em>Patch strategy: merge on key <code>devicePath</code></em></p>
<p>volumeDevices is the list of block devices to be used by the container.</p>
<p><a name=VolumeDevice></a>
<em>volumeDevice describes a mapping of a raw block device within a container.</em></p>
<ul>
<li>
<p><strong>volumeDevices.devicePath</strong> (string), required</p>
<p>devicePath is the path inside of the container that the device will be mapped to.</p>
</li>
<li>
<p><strong>volumeDevices.name</strong> (string), required</p>
<p>name must match the name of a persistentVolumeClaim in the pod</p>
</li>
</ul>
</li>
</ul>
<h3 id=resources>Resources</h3>
<ul>
<li>
<p><strong>resources</strong> (ResourceRequirements)</p>
<p>Compute Resources required by this container. Cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
<p><a name=ResourceRequirements></a>
<em>ResourceRequirements describes the compute resource requirements.</em></p>
<ul>
<li>
<p><strong>resources.limits</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Limits describes the maximum amount of compute resources allowed. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
<li>
<p><strong>resources.requests</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Requests describes the minimum amount of compute resources required. If Requests is omitted for a container, it defaults to Limits if that is explicitly specified, otherwise to an implementation-defined value. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
</ul>
</li>
</ul>
<h3 id=lifecycle-1>Lifecycle</h3>
<ul>
<li>
<p><strong>lifecycle</strong> (Lifecycle)</p>
<p>Actions that the management system should take in response to container lifecycle events. Cannot be updated.</p>
<p><a name=Lifecycle></a>
<em>Lifecycle describes actions that the management system should take in response to container lifecycle events. For the PostStart and PreStop lifecycle handlers, management of the container blocks until the action is complete, unless the container process fails, in which case the handler is aborted.</em></p>
<ul>
<li>
<p><strong>lifecycle.postStart</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Handler>Handler</a>)</p>
<p>PostStart is called immediately after a container is created. If the handler fails, the container is terminated and restarted according to its restart policy. Other management of the container blocks until the hook completes. More info: <a href=https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p>
</li>
<li>
<p><strong>lifecycle.preStop</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Handler>Handler</a>)</p>
<p>PreStop is called immediately before a container is terminated due to an API request or management event such as liveness/startup probe failure, preemption, resource contention, etc. The handler is not called if the container crashes or exits. The reason for termination is passed to the handler. The Pod's termination grace period countdown begins before the PreStop hooked is executed. Regardless of the outcome of the handler, the container will eventually terminate within the Pod's termination grace period. Other management of the container blocks until the hook completes or until the termination grace period is reached. More info: <a href=https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p>
</li>
</ul>
</li>
<li>
<p><strong>terminationMessagePath</strong> (string)</p>
<p>Optional: Path at which the file to which the container's termination message will be written is mounted into the container's filesystem. Message written is intended to be brief final status, such as an assertion failure message. Will be truncated by the node if greater than 4096 bytes. The total message length across all containers will be limited to 12kb. Defaults to /dev/termination-log. Cannot be updated.</p>
</li>
<li>
<p><strong>terminationMessagePolicy</strong> (string)</p>
<p>Indicate how the termination message should be populated. File will use the contents of terminationMessagePath to populate the container status message on both success and failure. FallbackToLogsOnError will use the last chunk of container log output if the termination message file is empty and the container exited with an error. The log output is limited to 2048 bytes or 80 lines, whichever is smaller. Defaults to File. Cannot be updated.</p>
</li>
<li>
<p><strong>livenessProbe</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p>
<p>Periodic probe of container liveness. Container will be restarted if the probe fails. Cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p>
</li>
<li>
<p><strong>readinessProbe</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p>
<p>Periodic probe of container service readiness. Container will be removed from service endpoints if the probe fails. Cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p>
</li>
<li>
<p><strong>startupProbe</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p>
<p>StartupProbe indicates that the Pod has successfully initialized. If specified, no other probes are executed until this completes successfully. If this probe fails, the Pod will be restarted, just as if the livenessProbe failed. This can be used to provide different probe parameters at the beginning of a Pod's lifecycle, when it might take a long time to load data or warm a cache, than during steady-state operation. This cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p>
</li>
</ul>
<h3 id=security-context-1>Security Context</h3>
<ul>
<li>
<p><strong>securityContext</strong> (SecurityContext)</p>
<p>SecurityContext defines the security options the container should be run with. If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext. More info: <a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/>https://kubernetes.io/docs/tasks/configure-pod-container/security-context/</a></p>
<p><a name=SecurityContext></a>
<em>SecurityContext holds security configuration that will be applied to a container. Some fields are present in both SecurityContext and PodSecurityContext. When both are set, the values in SecurityContext take precedence.</em></p>
<ul>
<li>
<p><strong>securityContext.runAsUser</strong> (int64)</p>
<p>The UID to run the entrypoint of the container process. Defaults to user specified in image metadata if unspecified. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.runAsNonRoot</strong> (boolean)</p>
<p>Indicates that the container must run as a non-root user. If true, the Kubelet will validate the image at runtime to ensure that it does not run as UID 0 (root) and fail to start the container if it does. If unset or false, no such validation will be performed. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.runAsGroup</strong> (int64)</p>
<p>The GID to run the entrypoint of the container process. Uses runtime default if unset. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.readOnlyRootFilesystem</strong> (boolean)</p>
<p>Whether this container has a read-only root filesystem. Default is false.</p>
</li>
<li>
<p><strong>securityContext.procMount</strong> (string)</p>
<p>procMount denotes the type of proc mount to use for the containers. The default is DefaultProcMount which uses the container runtime defaults for readonly paths and masked paths. This requires the ProcMountType feature flag to be enabled.</p>
</li>
<li>
<p><strong>securityContext.privileged</strong> (boolean)</p>
<p>Run container in privileged mode. Processes in privileged containers are essentially equivalent to root on the host. Defaults to false.</p>
</li>
<li>
<p><strong>securityContext.allowPrivilegeEscalation</strong> (boolean)</p>
<p>AllowPrivilegeEscalation controls whether a process can gain more privileges than its parent process. This bool directly controls if the no_new_privs flag will be set on the container process. AllowPrivilegeEscalation is true always when the container is: 1) run as Privileged 2) has CAP_SYS_ADMIN</p>
</li>
<li>
<p><strong>securityContext.capabilities</strong> (Capabilities)</p>
<p>The capabilities to add/drop when running containers. Defaults to the default set of capabilities granted by the container runtime.</p>
<p><a name=Capabilities></a>
<em>Adds and removes POSIX capabilities from running containers.</em></p>
<ul>
<li>
<p><strong>securityContext.capabilities.add</strong> ([]string)</p>
<p>Added capabilities</p>
</li>
<li>
<p><strong>securityContext.capabilities.drop</strong> ([]string)</p>
<p>Removed capabilities</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.seccompProfile</strong> (SeccompProfile)</p>
<p>The seccomp options to use by this container. If seccomp options are provided at both the pod & container level, the container options override the pod options.</p>
<p><a name=SeccompProfile></a>
<em>SeccompProfile defines a pod/container's seccomp profile settings. Only one profile source may be set.</em></p>
<ul>
<li>
<p><strong>securityContext.seccompProfile.type</strong> (string), required</p>
<p>type indicates which kind of seccomp profile will be applied. Valid options are:</p>
<p>Localhost - a profile defined in a file on the node should be used. RuntimeDefault - the container runtime default profile should be used. Unconfined - no profile should be applied.</p>
</li>
<li>
<p><strong>securityContext.seccompProfile.localhostProfile</strong> (string)</p>
<p>localhostProfile indicates a profile defined in a file on the node should be used. The profile must be preconfigured on the node to work. Must be a descending path, relative to the kubelet's configured seccomp profile location. Must only be set if type is "Localhost".</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.seLinuxOptions</strong> (SELinuxOptions)</p>
<p>The SELinux context to be applied to the container. If unspecified, the container runtime will allocate a random SELinux context for each container. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
<p><a name=SELinuxOptions></a>
<em>SELinuxOptions are the labels to be applied to the container</em></p>
<ul>
<li>
<p><strong>securityContext.seLinuxOptions.level</strong> (string)</p>
<p>Level is SELinux level label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.role</strong> (string)</p>
<p>Role is a SELinux role label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.type</strong> (string)</p>
<p>Type is a SELinux type label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.user</strong> (string)</p>
<p>User is a SELinux user label that applies to the container.</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.windowsOptions</strong> (WindowsSecurityContextOptions)</p>
<p>The Windows specific settings applied to all containers. If unspecified, the options from the PodSecurityContext will be used. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
<p><a name=WindowsSecurityContextOptions></a>
<em>WindowsSecurityContextOptions contain Windows-specific options and credentials.</em></p>
<ul>
<li>
<p><strong>securityContext.windowsOptions.gmsaCredentialSpec</strong> (string)</p>
<p>GMSACredentialSpec is where the GMSA admission webhook (<a href=https://github.com/kubernetes-sigs/windows-gmsa>https://github.com/kubernetes-sigs/windows-gmsa</a>) inlines the contents of the GMSA credential spec named by the GMSACredentialSpecName field.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.gmsaCredentialSpecName</strong> (string)</p>
<p>GMSACredentialSpecName is the name of the GMSA credential spec to use.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.hostProcess</strong> (boolean)</p>
<p>HostProcess determines if a container should be run as a 'Host Process' container. This field is alpha-level and will only be honored by components that enable the WindowsHostProcessContainers feature flag. Setting this field without the feature flag will result in errors when validating the Pod. All of a Pod's containers must have the same effective HostProcess value (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers). In addition, if HostProcess is true then HostNetwork must also be set to true.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.runAsUserName</strong> (string)</p>
<p>The UserName in Windows to run the entrypoint of the container process. Defaults to the user specified in image metadata if unspecified. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=debugging>Debugging</h3>
<ul>
<li>
<p><strong>stdin</strong> (boolean)</p>
<p>Whether this container should allocate a buffer for stdin in the container runtime. If this is not set, reads from stdin in the container will always result in EOF. Default is false.</p>
</li>
<li>
<p><strong>stdinOnce</strong> (boolean)</p>
<p>Whether the container runtime should close the stdin channel after it has been opened by a single attach. When stdin is true the stdin stream will remain open across multiple attach sessions. If stdinOnce is set to true, stdin is opened on container start, is empty until the first client attaches to stdin, and then remains open and accepts data until the client disconnects, at which time stdin is closed and remains closed until the container is restarted. If this flag is false, a container processes that reads from stdin will never receive an EOF. Default is false</p>
</li>
<li>
<p><strong>tty</strong> (boolean)</p>
<p>Whether this container should allocate a TTY for itself, also requires 'stdin' to be true. Default is false.</p>
</li>
</ul>
<h2 id=EphemeralContainer>EphemeralContainer</h2>
<p>An EphemeralContainer is a container that may be added temporarily to an existing pod for user-initiated activities such as debugging. Ephemeral containers have no resource or scheduling guarantees, and they will not be restarted when they exit or when a pod is removed or restarted. If an ephemeral container causes a pod to exceed its resource allocation, the pod may be evicted. Ephemeral containers may not be added by directly updating the pod spec. They must be added via the pod's ephemeralcontainers subresource, and they will appear in the pod spec once added. This is an alpha feature enabled by the EphemeralContainers feature flag.</p>
<hr>
<ul>
<li>
<p><strong>name</strong> (string), required</p>
<p>Name of the ephemeral container specified as a DNS_LABEL. This name must be unique among all containers, init containers and ephemeral containers.</p>
</li>
<li>
<p><strong>targetContainerName</strong> (string)</p>
<p>If set, the name of the container from PodSpec that this ephemeral container targets. The ephemeral container will be run in the namespaces (IPC, PID, etc) of this container. If not set then the ephemeral container is run in whatever namespaces are shared for the pod. Note that the container runtime must support this feature.</p>
</li>
</ul>
<h3 id=image-1>Image</h3>
<ul>
<li>
<p><strong>image</strong> (string)</p>
<p>Docker image name. More info: <a href=https://kubernetes.io/docs/concepts/containers/images>https://kubernetes.io/docs/concepts/containers/images</a></p>
</li>
<li>
<p><strong>imagePullPolicy</strong> (string)</p>
<p>Image pull policy. One of Always, Never, IfNotPresent. Defaults to Always if :latest tag is specified, or IfNotPresent otherwise. Cannot be updated. More info: <a href=https://kubernetes.io/docs/concepts/containers/images#updating-images>https://kubernetes.io/docs/concepts/containers/images#updating-images</a></p>
</li>
</ul>
<h3 id=entrypoint-1>Entrypoint</h3>
<ul>
<li>
<p><strong>command</strong> ([]string)</p>
<p>Entrypoint array. Not executed within a shell. The docker image's ENTRYPOINT is used if this is not provided. Variable references $(VAR_NAME) are expanded using the container's environment. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless of whether the variable exists or not. Cannot be updated. More info: <a href=https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p>
</li>
<li>
<p><strong>args</strong> ([]string)</p>
<p>Arguments to the entrypoint. The docker image's CMD is used if this is not provided. Variable references $(VAR_NAME) are expanded using the container's environment. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless of whether the variable exists or not. Cannot be updated. More info: <a href=https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell>https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell</a></p>
</li>
<li>
<p><strong>workingDir</strong> (string)</p>
<p>Container's working directory. If not specified, the container runtime's default will be used, which might be configured in the container image. Cannot be updated.</p>
</li>
</ul>
<h3 id=environment-variables-1>Environment variables</h3>
<ul>
<li>
<p><strong>env</strong> ([]EnvVar)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>List of environment variables to set in the container. Cannot be updated.</p>
<p><a name=EnvVar></a>
<em>EnvVar represents an environment variable present in a Container.</em></p>
<ul>
<li>
<p><strong>env.name</strong> (string), required</p>
<p>Name of the environment variable. Must be a C_IDENTIFIER.</p>
</li>
<li>
<p><strong>env.value</strong> (string)</p>
<p>Variable references $(VAR_NAME) are expanded using the previously defined environment variables in the container and any service environment variables. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. "$$(VAR_NAME)" will produce the string literal "$(VAR_NAME)". Escaped references will never be expanded, regardless of whether the variable exists or not. Defaults to "".</p>
</li>
<li>
<p><strong>env.valueFrom</strong> (EnvVarSource)</p>
<p>Source for the environment variable's value. Cannot be used if value is not empty.</p>
<p><a name=EnvVarSource></a>
<em>EnvVarSource represents a source for the value of an EnvVar.</em></p>
<ul>
<li>
<p><strong>env.valueFrom.configMapKeyRef</strong> (ConfigMapKeySelector)</p>
<p>Selects a key of a ConfigMap.</p>
<p><a name=ConfigMapKeySelector></a>
<em>Selects a key from a ConfigMap.</em></p>
<ul>
<li>
<p><strong>env.valueFrom.configMapKeyRef.key</strong> (string), required</p>
<p>The key to select.</p>
</li>
<li>
<p><strong>env.valueFrom.configMapKeyRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>env.valueFrom.configMapKeyRef.optional</strong> (boolean)</p>
<p>Specify whether the ConfigMap or its key must be defined</p>
</li>
</ul>
</li>
<li>
<p><strong>env.valueFrom.fieldRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-field-selector/#ObjectFieldSelector>ObjectFieldSelector</a>)</p>
<p>Selects a field of the pod: supports metadata.name, metadata.namespace, <code>metadata.labels['\&lt;KEY>']</code>, <code>metadata.annotations['\&lt;KEY>']</code>, spec.nodeName, spec.serviceAccountName, status.hostIP, status.podIP, status.podIPs.</p>
</li>
<li>
<p><strong>env.valueFrom.resourceFieldRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/resource-field-selector/#ResourceFieldSelector>ResourceFieldSelector</a>)</p>
<p>Selects a resource of the container: only resources limits and requests (limits.cpu, limits.memory, limits.ephemeral-storage, requests.cpu, requests.memory and requests.ephemeral-storage) are currently supported.</p>
</li>
<li>
<p><strong>env.valueFrom.secretKeyRef</strong> (SecretKeySelector)</p>
<p>Selects a key of a secret in the pod's namespace</p>
<p><a name=SecretKeySelector></a>
<em>SecretKeySelector selects a key of a Secret.</em></p>
<ul>
<li>
<p><strong>env.valueFrom.secretKeyRef.key</strong> (string), required</p>
<p>The key of the secret to select from. Must be a valid secret key.</p>
</li>
<li>
<p><strong>env.valueFrom.secretKeyRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>env.valueFrom.secretKeyRef.optional</strong> (boolean)</p>
<p>Specify whether the Secret or its key must be defined</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>envFrom</strong> ([]EnvFromSource)</p>
<p>List of sources to populate environment variables in the container. The keys defined within a source must be a C_IDENTIFIER. All invalid keys will be reported as an event when the container is starting. When a key exists in multiple sources, the value associated with the last source will take precedence. Values defined by an Env with a duplicate key will take precedence. Cannot be updated.</p>
<p><a name=EnvFromSource></a>
<em>EnvFromSource represents the source of a set of ConfigMaps</em></p>
<ul>
<li>
<p><strong>envFrom.configMapRef</strong> (ConfigMapEnvSource)</p>
<p>The ConfigMap to select from</p>
<p><a name=ConfigMapEnvSource></a>
*ConfigMapEnvSource selects a ConfigMap to populate the environment variables with.</p>
<p>The contents of the target ConfigMap's Data field will represent the key-value pairs as environment variables.*</p>
<ul>
<li>
<p><strong>envFrom.configMapRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>envFrom.configMapRef.optional</strong> (boolean)</p>
<p>Specify whether the ConfigMap must be defined</p>
</li>
</ul>
</li>
<li>
<p><strong>envFrom.prefix</strong> (string)</p>
<p>An optional identifier to prepend to each key in the ConfigMap. Must be a C_IDENTIFIER.</p>
</li>
<li>
<p><strong>envFrom.secretRef</strong> (SecretEnvSource)</p>
<p>The Secret to select from</p>
<p><a name=SecretEnvSource></a>
*SecretEnvSource selects a Secret to populate the environment variables with.</p>
<p>The contents of the target Secret's Data field will represent the key-value pairs as environment variables.*</p>
<ul>
<li>
<p><strong>envFrom.secretRef.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>envFrom.secretRef.optional</strong> (boolean)</p>
<p>Specify whether the Secret must be defined</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=volumes-2>Volumes</h3>
<ul>
<li>
<p><strong>volumeMounts</strong> ([]VolumeMount)</p>
<p><em>Patch strategy: merge on key <code>mountPath</code></em></p>
<p>Pod volumes to mount into the container's filesystem. Cannot be updated.</p>
<p><a name=VolumeMount></a>
<em>VolumeMount describes a mounting of a Volume within a container.</em></p>
<ul>
<li>
<p><strong>volumeMounts.mountPath</strong> (string), required</p>
<p>Path within the container at which the volume should be mounted. Must not contain ':'.</p>
</li>
<li>
<p><strong>volumeMounts.name</strong> (string), required</p>
<p>This must match the Name of a Volume.</p>
</li>
<li>
<p><strong>volumeMounts.mountPropagation</strong> (string)</p>
<p>mountPropagation determines how mounts are propagated from the host to container and the other way around. When not set, MountPropagationNone is used. This field is beta in 1.10.</p>
</li>
<li>
<p><strong>volumeMounts.readOnly</strong> (boolean)</p>
<p>Mounted read-only if true, read-write otherwise (false or unspecified). Defaults to false.</p>
</li>
<li>
<p><strong>volumeMounts.subPath</strong> (string)</p>
<p>Path within the volume from which the container's volume should be mounted. Defaults to "" (volume's root).</p>
</li>
<li>
<p><strong>volumeMounts.subPathExpr</strong> (string)</p>
<p>Expanded path within the volume from which the container's volume should be mounted. Behaves similarly to SubPath but environment variable references $(VAR_NAME) are expanded using the container's environment. Defaults to "" (volume's root). SubPathExpr and SubPath are mutually exclusive.</p>
</li>
</ul>
</li>
<li>
<p><strong>volumeDevices</strong> ([]VolumeDevice)</p>
<p><em>Patch strategy: merge on key <code>devicePath</code></em></p>
<p>volumeDevices is the list of block devices to be used by the container.</p>
<p><a name=VolumeDevice></a>
<em>volumeDevice describes a mapping of a raw block device within a container.</em></p>
<ul>
<li>
<p><strong>volumeDevices.devicePath</strong> (string), required</p>
<p>devicePath is the path inside of the container that the device will be mapped to.</p>
</li>
<li>
<p><strong>volumeDevices.name</strong> (string), required</p>
<p>name must match the name of a persistentVolumeClaim in the pod</p>
</li>
</ul>
</li>
</ul>
<h3 id=lifecycle-2>Lifecycle</h3>
<ul>
<li>
<p><strong>terminationMessagePath</strong> (string)</p>
<p>Optional: Path at which the file to which the container's termination message will be written is mounted into the container's filesystem. Message written is intended to be brief final status, such as an assertion failure message. Will be truncated by the node if greater than 4096 bytes. The total message length across all containers will be limited to 12kb. Defaults to /dev/termination-log. Cannot be updated.</p>
</li>
<li>
<p><strong>terminationMessagePolicy</strong> (string)</p>
<p>Indicate how the termination message should be populated. File will use the contents of terminationMessagePath to populate the container status message on both success and failure. FallbackToLogsOnError will use the last chunk of container log output if the termination message file is empty and the container exited with an error. The log output is limited to 2048 bytes or 80 lines, whichever is smaller. Defaults to File. Cannot be updated.</p>
</li>
</ul>
<h3 id=debugging-1>Debugging</h3>
<ul>
<li>
<p><strong>stdin</strong> (boolean)</p>
<p>Whether this container should allocate a buffer for stdin in the container runtime. If this is not set, reads from stdin in the container will always result in EOF. Default is false.</p>
</li>
<li>
<p><strong>stdinOnce</strong> (boolean)</p>
<p>Whether the container runtime should close the stdin channel after it has been opened by a single attach. When stdin is true the stdin stream will remain open across multiple attach sessions. If stdinOnce is set to true, stdin is opened on container start, is empty until the first client attaches to stdin, and then remains open and accepts data until the client disconnects, at which time stdin is closed and remains closed until the container is restarted. If this flag is false, a container processes that reads from stdin will never receive an EOF. Default is false</p>
</li>
<li>
<p><strong>tty</strong> (boolean)</p>
<p>Whether this container should allocate a TTY for itself, also requires 'stdin' to be true. Default is false.</p>
</li>
</ul>
<h3 id=not-allowed>Not allowed</h3>
<ul>
<li>
<p><strong>ports</strong> ([]ContainerPort)</p>
<p>Ports are not allowed for ephemeral containers.</p>
<p><a name=ContainerPort></a>
<em>ContainerPort represents a network port in a single container.</em></p>
<ul>
<li>
<p><strong>ports.containerPort</strong> (int32), required</p>
<p>Number of port to expose on the pod's IP address. This must be a valid port number, 0 &lt; x &lt; 65536.</p>
</li>
<li>
<p><strong>ports.hostIP</strong> (string)</p>
<p>What host IP to bind the external port to.</p>
</li>
<li>
<p><strong>ports.hostPort</strong> (int32)</p>
<p>Number of port to expose on the host. If specified, this must be a valid port number, 0 &lt; x &lt; 65536. If HostNetwork is specified, this must match ContainerPort. Most containers do not need this.</p>
</li>
<li>
<p><strong>ports.name</strong> (string)</p>
<p>If specified, this must be an IANA_SVC_NAME and unique within the pod. Each named port in a pod must have a unique name. Name for the port that can be referred to by services.</p>
</li>
<li>
<p><strong>ports.protocol</strong> (string)</p>
<p>Protocol for port. Must be UDP, TCP, or SCTP. Defaults to "TCP".</p>
</li>
</ul>
</li>
<li>
<p><strong>resources</strong> (ResourceRequirements)</p>
<p>Resources are not allowed for ephemeral containers. Ephemeral containers use spare resources already allocated to the pod.</p>
<p><a name=ResourceRequirements></a>
<em>ResourceRequirements describes the compute resource requirements.</em></p>
<ul>
<li>
<p><strong>resources.limits</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Limits describes the maximum amount of compute resources allowed. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
<li>
<p><strong>resources.requests</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Requests describes the minimum amount of compute resources required. If Requests is omitted for a container, it defaults to Limits if that is explicitly specified, otherwise to an implementation-defined value. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
</ul>
</li>
<li>
<p><strong>lifecycle</strong> (Lifecycle)</p>
<p>Lifecycle is not allowed for ephemeral containers.</p>
<p><a name=Lifecycle></a>
<em>Lifecycle describes actions that the management system should take in response to container lifecycle events. For the PostStart and PreStop lifecycle handlers, management of the container blocks until the action is complete, unless the container process fails, in which case the handler is aborted.</em></p>
<ul>
<li>
<p><strong>lifecycle.postStart</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Handler>Handler</a>)</p>
<p>PostStart is called immediately after a container is created. If the handler fails, the container is terminated and restarted according to its restart policy. Other management of the container blocks until the hook completes. More info: <a href=https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p>
</li>
<li>
<p><strong>lifecycle.preStop</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Handler>Handler</a>)</p>
<p>PreStop is called immediately before a container is terminated due to an API request or management event such as liveness/startup probe failure, preemption, resource contention, etc. The handler is not called if the container crashes or exits. The reason for termination is passed to the handler. The Pod's termination grace period countdown begins before the PreStop hooked is executed. Regardless of the outcome of the handler, the container will eventually terminate within the Pod's termination grace period. Other management of the container blocks until the hook completes or until the termination grace period is reached. More info: <a href=https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks>https://kubernetes.io/docs/concepts/containers/container-lifecycle-hooks/#container-hooks</a></p>
</li>
</ul>
</li>
<li>
<p><strong>livenessProbe</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p>
<p>Probes are not allowed for ephemeral containers.</p>
</li>
<li>
<p><strong>readinessProbe</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p>
<p>Probes are not allowed for ephemeral containers.</p>
</li>
<li>
<p><strong>securityContext</strong> (SecurityContext)</p>
<p>Optional: SecurityContext defines the security options the ephemeral container should be run with. If set, the fields of SecurityContext override the equivalent fields of PodSecurityContext.</p>
<p><a name=SecurityContext></a>
<em>SecurityContext holds security configuration that will be applied to a container. Some fields are present in both SecurityContext and PodSecurityContext. When both are set, the values in SecurityContext take precedence.</em></p>
<ul>
<li>
<p><strong>securityContext.runAsUser</strong> (int64)</p>
<p>The UID to run the entrypoint of the container process. Defaults to user specified in image metadata if unspecified. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.runAsNonRoot</strong> (boolean)</p>
<p>Indicates that the container must run as a non-root user. If true, the Kubelet will validate the image at runtime to ensure that it does not run as UID 0 (root) and fail to start the container if it does. If unset or false, no such validation will be performed. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.runAsGroup</strong> (int64)</p>
<p>The GID to run the entrypoint of the container process. Uses runtime default if unset. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
<li>
<p><strong>securityContext.readOnlyRootFilesystem</strong> (boolean)</p>
<p>Whether this container has a read-only root filesystem. Default is false.</p>
</li>
<li>
<p><strong>securityContext.procMount</strong> (string)</p>
<p>procMount denotes the type of proc mount to use for the containers. The default is DefaultProcMount which uses the container runtime defaults for readonly paths and masked paths. This requires the ProcMountType feature flag to be enabled.</p>
</li>
<li>
<p><strong>securityContext.privileged</strong> (boolean)</p>
<p>Run container in privileged mode. Processes in privileged containers are essentially equivalent to root on the host. Defaults to false.</p>
</li>
<li>
<p><strong>securityContext.allowPrivilegeEscalation</strong> (boolean)</p>
<p>AllowPrivilegeEscalation controls whether a process can gain more privileges than its parent process. This bool directly controls if the no_new_privs flag will be set on the container process. AllowPrivilegeEscalation is true always when the container is: 1) run as Privileged 2) has CAP_SYS_ADMIN</p>
</li>
<li>
<p><strong>securityContext.capabilities</strong> (Capabilities)</p>
<p>The capabilities to add/drop when running containers. Defaults to the default set of capabilities granted by the container runtime.</p>
<p><a name=Capabilities></a>
<em>Adds and removes POSIX capabilities from running containers.</em></p>
<ul>
<li>
<p><strong>securityContext.capabilities.add</strong> ([]string)</p>
<p>Added capabilities</p>
</li>
<li>
<p><strong>securityContext.capabilities.drop</strong> ([]string)</p>
<p>Removed capabilities</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.seccompProfile</strong> (SeccompProfile)</p>
<p>The seccomp options to use by this container. If seccomp options are provided at both the pod & container level, the container options override the pod options.</p>
<p><a name=SeccompProfile></a>
<em>SeccompProfile defines a pod/container's seccomp profile settings. Only one profile source may be set.</em></p>
<ul>
<li>
<p><strong>securityContext.seccompProfile.type</strong> (string), required</p>
<p>type indicates which kind of seccomp profile will be applied. Valid options are:</p>
<p>Localhost - a profile defined in a file on the node should be used. RuntimeDefault - the container runtime default profile should be used. Unconfined - no profile should be applied.</p>
</li>
<li>
<p><strong>securityContext.seccompProfile.localhostProfile</strong> (string)</p>
<p>localhostProfile indicates a profile defined in a file on the node should be used. The profile must be preconfigured on the node to work. Must be a descending path, relative to the kubelet's configured seccomp profile location. Must only be set if type is "Localhost".</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.seLinuxOptions</strong> (SELinuxOptions)</p>
<p>The SELinux context to be applied to the container. If unspecified, the container runtime will allocate a random SELinux context for each container. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
<p><a name=SELinuxOptions></a>
<em>SELinuxOptions are the labels to be applied to the container</em></p>
<ul>
<li>
<p><strong>securityContext.seLinuxOptions.level</strong> (string)</p>
<p>Level is SELinux level label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.role</strong> (string)</p>
<p>Role is a SELinux role label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.type</strong> (string)</p>
<p>Type is a SELinux type label that applies to the container.</p>
</li>
<li>
<p><strong>securityContext.seLinuxOptions.user</strong> (string)</p>
<p>User is a SELinux user label that applies to the container.</p>
</li>
</ul>
</li>
<li>
<p><strong>securityContext.windowsOptions</strong> (WindowsSecurityContextOptions)</p>
<p>The Windows specific settings applied to all containers. If unspecified, the options from the PodSecurityContext will be used. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
<p><a name=WindowsSecurityContextOptions></a>
<em>WindowsSecurityContextOptions contain Windows-specific options and credentials.</em></p>
<ul>
<li>
<p><strong>securityContext.windowsOptions.gmsaCredentialSpec</strong> (string)</p>
<p>GMSACredentialSpec is where the GMSA admission webhook (<a href=https://github.com/kubernetes-sigs/windows-gmsa>https://github.com/kubernetes-sigs/windows-gmsa</a>) inlines the contents of the GMSA credential spec named by the GMSACredentialSpecName field.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.gmsaCredentialSpecName</strong> (string)</p>
<p>GMSACredentialSpecName is the name of the GMSA credential spec to use.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.hostProcess</strong> (boolean)</p>
<p>HostProcess determines if a container should be run as a 'Host Process' container. This field is alpha-level and will only be honored by components that enable the WindowsHostProcessContainers feature flag. Setting this field without the feature flag will result in errors when validating the Pod. All of a Pod's containers must have the same effective HostProcess value (it is not allowed to have a mix of HostProcess containers and non-HostProcess containers). In addition, if HostProcess is true then HostNetwork must also be set to true.</p>
</li>
<li>
<p><strong>securityContext.windowsOptions.runAsUserName</strong> (string)</p>
<p>The UserName in Windows to run the entrypoint of the container process. Defaults to the user specified in image metadata if unspecified. May also be set in PodSecurityContext. If set in both SecurityContext and PodSecurityContext, the value specified in SecurityContext takes precedence.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>startupProbe</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Probe>Probe</a>)</p>
<p>Probes are not allowed for ephemeral containers.</p>
</li>
</ul>
<h2 id=Handler>Handler</h2>
<p>Handler defines a specific action that should be taken</p>
<hr>
<ul>
<li>
<p><strong>exec</strong> (ExecAction)</p>
<p>One and only one of the following should be specified. Exec specifies the action to take.</p>
<p><a name=ExecAction></a>
<em>ExecAction describes a "run in container" action.</em></p>
<ul>
<li>
<p><strong>exec.command</strong> ([]string)</p>
<p>Command is the command line to execute inside the container, the working directory for the command is root ('/') in the container's filesystem. The command is simply exec'd, it is not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use a shell, you need to explicitly call out to that shell. Exit status of 0 is treated as live/healthy and non-zero is unhealthy.</p>
</li>
</ul>
</li>
<li>
<p><strong>httpGet</strong> (HTTPGetAction)</p>
<p>HTTPGet specifies the http request to perform.</p>
<p><a name=HTTPGetAction></a>
<em>HTTPGetAction describes an action based on HTTP Get requests.</em></p>
<ul>
<li>
<p><strong>httpGet.port</strong> (IntOrString), required</p>
<p>Name or number of the port to access on the container. Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>httpGet.host</strong> (string)</p>
<p>Host name to connect to, defaults to the pod IP. You probably want to set "Host" in httpHeaders instead.</p>
</li>
<li>
<p><strong>httpGet.httpHeaders</strong> ([]HTTPHeader)</p>
<p>Custom headers to set in the request. HTTP allows repeated headers.</p>
<p><a name=HTTPHeader></a>
<em>HTTPHeader describes a custom header to be used in HTTP probes</em></p>
<ul>
<li>
<p><strong>httpGet.httpHeaders.name</strong> (string), required</p>
<p>The header field name</p>
</li>
<li>
<p><strong>httpGet.httpHeaders.value</strong> (string), required</p>
<p>The header field value</p>
</li>
</ul>
</li>
<li>
<p><strong>httpGet.path</strong> (string)</p>
<p>Path to access on the HTTP server.</p>
</li>
<li>
<p><strong>httpGet.scheme</strong> (string)</p>
<p>Scheme to use for connecting to the host. Defaults to HTTP.</p>
</li>
</ul>
</li>
<li>
<p><strong>tcpSocket</strong> (TCPSocketAction)</p>
<p>TCPSocket specifies an action involving a TCP port. TCP hooks not yet supported</p>
<p><a name=TCPSocketAction></a>
<em>TCPSocketAction describes an action based on opening a socket</em></p>
<ul>
<li>
<p><strong>tcpSocket.port</strong> (IntOrString), required</p>
<p>Number or name of the port to access on the container. Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>tcpSocket.host</strong> (string)</p>
<p>Optional: Host name to connect to, defaults to the pod IP.</p>
</li>
</ul>
</li>
</ul>
<h2 id=NodeAffinity>NodeAffinity</h2>
<p>Node affinity is a group of node affinity scheduling rules.</p>
<hr>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution</strong> ([]PreferredSchedulingTerm)</p>
<p>The scheduler will prefer to schedule pods to nodes that satisfy the affinity expressions specified by this field, but it may choose a node that violates one or more of the expressions. The node that is most preferred is the one with the greatest sum of weights, i.e. for each node that meets all of the scheduling requirements (resource request, requiredDuringScheduling affinity expressions, etc.), compute a sum by iterating through the elements of this field and adding "weight" to the sum if the node matches the corresponding matchExpressions; the node(s) with the highest sum are the most preferred.</p>
<p><a name=PreferredSchedulingTerm></a>
<em>An empty preferred scheduling term matches all objects with implicit weight 0 (i.e. it's a no-op). A null preferred scheduling term matches no objects (i.e. is also a no-op).</em></p>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.preference</strong> (NodeSelectorTerm), required</p>
<p>A node selector term, associated with the corresponding weight.</p>
<p><a name=NodeSelectorTerm></a>
<em>A null or empty node selector term matches no objects. The requirements of them are ANDed. The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.</em></p>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.preference.matchExpressions</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p>
<p>A list of node selector requirements by node's labels.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.preference.matchFields</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p>
<p>A list of node selector requirements by node's fields.</p>
</li>
</ul>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.weight</strong> (int32), required</p>
<p>Weight associated with matching the corresponding nodeSelectorTerm, in the range 1-100.</p>
</li>
</ul>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution</strong> (NodeSelector)</p>
<p>If the affinity requirements specified by this field are not met at scheduling time, the pod will not be scheduled onto the node. If the affinity requirements specified by this field cease to be met at some point during pod execution (e.g. due to an update), the system may or may not try to eventually evict the pod from its node.</p>
<p><a name=NodeSelector></a>
<em>A node selector represents the union of the results of one or more label queries over a set of nodes; that is, it represents the OR of the selectors represented by the node selector terms.</em></p>
<ul>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms</strong> ([]NodeSelectorTerm), required</p>
<p>Required. A list of node selector terms. The terms are ORed.</p>
<p><a name=NodeSelectorTerm></a>
<em>A null or empty node selector term matches no objects. The requirements of them are ANDed. The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.</em></p>
<ul>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.matchExpressions</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p>
<p>A list of node selector requirements by node's labels.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.matchFields</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p>
<p>A list of node selector requirements by node's fields.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=PodAffinity>PodAffinity</h2>
<p>Pod affinity is a group of inter pod affinity scheduling rules.</p>
<hr>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution</strong> ([]WeightedPodAffinityTerm)</p>
<p>The scheduler will prefer to schedule pods to nodes that satisfy the affinity expressions specified by this field, but it may choose a node that violates one or more of the expressions. The node that is most preferred is the one with the greatest sum of weights, i.e. for each node that meets all of the scheduling requirements (resource request, requiredDuringScheduling affinity expressions, etc.), compute a sum by iterating through the elements of this field and adding "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the node(s) with the highest sum are the most preferred.</p>
<p><a name=WeightedPodAffinityTerm></a>
<em>The weights of all of the matched WeightedPodAffinityTerm fields are added per-node to find the most preferred node(s)</em></p>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm</strong> (PodAffinityTerm), required</p>
<p>Required. A pod affinity term, associated with the corresponding weight.</p>
<p><a name=PodAffinityTerm></a>
<em>Defines a set of pods (namely those matching the labelSelector relative to the given namespace(s)) that this pod should be co-located (affinity) or not co-located (anti-affinity) with, where co-located is defined as running on a node whose value of the label with key <topologykey> matches that of any node on which a pod of the set of pods is running</em></p>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</strong> (string), required</p>
<p>This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching the labelSelector in the specified namespaces, where co-located is defined as running on a node whose value of the label with key topologyKey matches that of any node on which any of the selected pods is running. Empty topologyKey is not allowed.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.labelSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over a set of resources, in this case pods.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over the set of namespaces that the term applies to. The term is applied to the union of the namespaces selected by this field and the ones listed in the namespaces field. null selector and null or empty namespaces list means "this pod's namespace". An empty selector ({}) matches all namespaces. This field is beta-level and is only honored when PodAffinityNamespaceSelector feature is enabled.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaces</strong> ([]string)</p>
<p>namespaces specifies a static list of namespace names that the term applies to. The term is applied to the union of the namespaces listed in this field and the ones selected by namespaceSelector. null or empty namespaces list and null namespaceSelector means "this pod's namespace"</p>
</li>
</ul>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.weight</strong> (int32), required</p>
<p>weight associated with matching the corresponding podAffinityTerm, in the range 1-100.</p>
</li>
</ul>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution</strong> ([]PodAffinityTerm)</p>
<p>If the affinity requirements specified by this field are not met at scheduling time, the pod will not be scheduled onto the node. If the affinity requirements specified by this field cease to be met at some point during pod execution (e.g. due to a pod label update), the system may or may not try to eventually evict the pod from its node. When there are multiple elements, the lists of nodes corresponding to each podAffinityTerm are intersected, i.e. all terms must be satisfied.</p>
<p><a name=PodAffinityTerm></a>
<em>Defines a set of pods (namely those matching the labelSelector relative to the given namespace(s)) that this pod should be co-located (affinity) or not co-located (anti-affinity) with, where co-located is defined as running on a node whose value of the label with key <topologykey> matches that of any node on which a pod of the set of pods is running</em></p>
<ul>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.topologyKey</strong> (string), required</p>
<p>This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching the labelSelector in the specified namespaces, where co-located is defined as running on a node whose value of the label with key topologyKey matches that of any node on which any of the selected pods is running. Empty topologyKey is not allowed.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.labelSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over a set of resources, in this case pods.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over the set of namespaces that the term applies to. The term is applied to the union of the namespaces selected by this field and the ones listed in the namespaces field. null selector and null or empty namespaces list means "this pod's namespace". An empty selector ({}) matches all namespaces. This field is beta-level and is only honored when PodAffinityNamespaceSelector feature is enabled.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaces</strong> ([]string)</p>
<p>namespaces specifies a static list of namespace names that the term applies to. The term is applied to the union of the namespaces listed in this field and the ones selected by namespaceSelector. null or empty namespaces list and null namespaceSelector means "this pod's namespace"</p>
</li>
</ul>
</li>
</ul>
<h2 id=PodAntiAffinity>PodAntiAffinity</h2>
<p>Pod anti affinity is a group of inter pod anti affinity scheduling rules.</p>
<hr>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution</strong> ([]WeightedPodAffinityTerm)</p>
<p>The scheduler will prefer to schedule pods to nodes that satisfy the anti-affinity expressions specified by this field, but it may choose a node that violates one or more of the expressions. The node that is most preferred is the one with the greatest sum of weights, i.e. for each node that meets all of the scheduling requirements (resource request, requiredDuringScheduling anti-affinity expressions, etc.), compute a sum by iterating through the elements of this field and adding "weight" to the sum if the node has pods which matches the corresponding podAffinityTerm; the node(s) with the highest sum are the most preferred.</p>
<p><a name=WeightedPodAffinityTerm></a>
<em>The weights of all of the matched WeightedPodAffinityTerm fields are added per-node to find the most preferred node(s)</em></p>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm</strong> (PodAffinityTerm), required</p>
<p>Required. A pod affinity term, associated with the corresponding weight.</p>
<p><a name=PodAffinityTerm></a>
<em>Defines a set of pods (namely those matching the labelSelector relative to the given namespace(s)) that this pod should be co-located (affinity) or not co-located (anti-affinity) with, where co-located is defined as running on a node whose value of the label with key <topologykey> matches that of any node on which a pod of the set of pods is running</em></p>
<ul>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.topologyKey</strong> (string), required</p>
<p>This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching the labelSelector in the specified namespaces, where co-located is defined as running on a node whose value of the label with key topologyKey matches that of any node on which any of the selected pods is running. Empty topologyKey is not allowed.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.labelSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over a set of resources, in this case pods.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over the set of namespaces that the term applies to. The term is applied to the union of the namespaces selected by this field and the ones listed in the namespaces field. null selector and null or empty namespaces list means "this pod's namespace". An empty selector ({}) matches all namespaces. This field is beta-level and is only honored when PodAffinityNamespaceSelector feature is enabled.</p>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.podAffinityTerm.namespaces</strong> ([]string)</p>
<p>namespaces specifies a static list of namespace names that the term applies to. The term is applied to the union of the namespaces listed in this field and the ones selected by namespaceSelector. null or empty namespaces list and null namespaceSelector means "this pod's namespace"</p>
</li>
</ul>
</li>
<li>
<p><strong>preferredDuringSchedulingIgnoredDuringExecution.weight</strong> (int32), required</p>
<p>weight associated with matching the corresponding podAffinityTerm, in the range 1-100.</p>
</li>
</ul>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution</strong> ([]PodAffinityTerm)</p>
<p>If the anti-affinity requirements specified by this field are not met at scheduling time, the pod will not be scheduled onto the node. If the anti-affinity requirements specified by this field cease to be met at some point during pod execution (e.g. due to a pod label update), the system may or may not try to eventually evict the pod from its node. When there are multiple elements, the lists of nodes corresponding to each podAffinityTerm are intersected, i.e. all terms must be satisfied.</p>
<p><a name=PodAffinityTerm></a>
<em>Defines a set of pods (namely those matching the labelSelector relative to the given namespace(s)) that this pod should be co-located (affinity) or not co-located (anti-affinity) with, where co-located is defined as running on a node whose value of the label with key <topologykey> matches that of any node on which a pod of the set of pods is running</em></p>
<ul>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.topologyKey</strong> (string), required</p>
<p>This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching the labelSelector in the specified namespaces, where co-located is defined as running on a node whose value of the label with key topologyKey matches that of any node on which any of the selected pods is running. Empty topologyKey is not allowed.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.labelSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over a set of resources, in this case pods.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over the set of namespaces that the term applies to. The term is applied to the union of the namespaces selected by this field and the ones listed in the namespaces field. null selector and null or empty namespaces list means "this pod's namespace". An empty selector ({}) matches all namespaces. This field is beta-level and is only honored when PodAffinityNamespaceSelector feature is enabled.</p>
</li>
<li>
<p><strong>requiredDuringSchedulingIgnoredDuringExecution.namespaces</strong> ([]string)</p>
<p>namespaces specifies a static list of namespace names that the term applies to. The term is applied to the union of the namespaces listed in this field and the ones selected by namespaceSelector. null or empty namespaces list and null namespaceSelector means "this pod's namespace"</p>
</li>
</ul>
</li>
</ul>
<h2 id=Probe>Probe</h2>
<p>Probe describes a health check to be performed against a container to determine whether it is alive or ready to receive traffic.</p>
<hr>
<ul>
<li>
<p><strong>exec</strong> (ExecAction)</p>
<p>One and only one of the following should be specified. Exec specifies the action to take.</p>
<p><a name=ExecAction></a>
<em>ExecAction describes a "run in container" action.</em></p>
<ul>
<li>
<p><strong>exec.command</strong> ([]string)</p>
<p>Command is the command line to execute inside the container, the working directory for the command is root ('/') in the container's filesystem. The command is simply exec'd, it is not run inside a shell, so traditional shell instructions ('|', etc) won't work. To use a shell, you need to explicitly call out to that shell. Exit status of 0 is treated as live/healthy and non-zero is unhealthy.</p>
</li>
</ul>
</li>
<li>
<p><strong>httpGet</strong> (HTTPGetAction)</p>
<p>HTTPGet specifies the http request to perform.</p>
<p><a name=HTTPGetAction></a>
<em>HTTPGetAction describes an action based on HTTP Get requests.</em></p>
<ul>
<li>
<p><strong>httpGet.port</strong> (IntOrString), required</p>
<p>Name or number of the port to access on the container. Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>httpGet.host</strong> (string)</p>
<p>Host name to connect to, defaults to the pod IP. You probably want to set "Host" in httpHeaders instead.</p>
</li>
<li>
<p><strong>httpGet.httpHeaders</strong> ([]HTTPHeader)</p>
<p>Custom headers to set in the request. HTTP allows repeated headers.</p>
<p><a name=HTTPHeader></a>
<em>HTTPHeader describes a custom header to be used in HTTP probes</em></p>
<ul>
<li>
<p><strong>httpGet.httpHeaders.name</strong> (string), required</p>
<p>The header field name</p>
</li>
<li>
<p><strong>httpGet.httpHeaders.value</strong> (string), required</p>
<p>The header field value</p>
</li>
</ul>
</li>
<li>
<p><strong>httpGet.path</strong> (string)</p>
<p>Path to access on the HTTP server.</p>
</li>
<li>
<p><strong>httpGet.scheme</strong> (string)</p>
<p>Scheme to use for connecting to the host. Defaults to HTTP.</p>
</li>
</ul>
</li>
<li>
<p><strong>tcpSocket</strong> (TCPSocketAction)</p>
<p>TCPSocket specifies an action involving a TCP port. TCP hooks not yet supported</p>
<p><a name=TCPSocketAction></a>
<em>TCPSocketAction describes an action based on opening a socket</em></p>
<ul>
<li>
<p><strong>tcpSocket.port</strong> (IntOrString), required</p>
<p>Number or name of the port to access on the container. Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>tcpSocket.host</strong> (string)</p>
<p>Optional: Host name to connect to, defaults to the pod IP.</p>
</li>
</ul>
</li>
<li>
<p><strong>initialDelaySeconds</strong> (int32)</p>
<p>Number of seconds after the container has started before liveness probes are initiated. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p>
</li>
<li>
<p><strong>terminationGracePeriodSeconds</strong> (int64)</p>
<p>Optional duration in seconds the pod needs to terminate gracefully upon probe failure. The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process. If this value is nil, the pod's terminationGracePeriodSeconds will be used. Otherwise, this value overrides the value provided by the pod spec. Value must be non-negative integer. The value zero indicates stop immediately via the kill signal (no opportunity to shut down). This is a beta field and requires enabling ProbeTerminationGracePeriod feature gate. Minimum value is 1. spec.terminationGracePeriodSeconds is used if unset.</p>
</li>
<li>
<p><strong>periodSeconds</strong> (int32)</p>
<p>How often (in seconds) to perform the probe. Default to 10 seconds. Minimum value is 1.</p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (int32)</p>
<p>Number of seconds after which the probe times out. Defaults to 1 second. Minimum value is 1. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#container-probes</a></p>
</li>
<li>
<p><strong>failureThreshold</strong> (int32)</p>
<p>Minimum consecutive failures for the probe to be considered failed after having succeeded. Defaults to 3. Minimum value is 1.</p>
</li>
<li>
<p><strong>successThreshold</strong> (int32)</p>
<p>Minimum consecutive successes for the probe to be considered successful after having failed. Defaults to 1. Must be 1 for liveness and startup. Minimum value is 1.</p>
</li>
</ul>
<h2 id=PodStatus>PodStatus</h2>
<p>PodStatus represents information about the status of a pod. Status may trail the actual state of a system, especially if the node that hosts the pod cannot contact the control plane.</p>
<hr>
<ul>
<li>
<p><strong>nominatedNodeName</strong> (string)</p>
<p>nominatedNodeName is set only when this pod preempts other pods on the node, but it cannot be scheduled right away as preemption victims receive their graceful termination periods. This field does not guarantee that the pod will be scheduled on this node. Scheduler may decide to place the pod elsewhere if other nodes become available sooner. Scheduler may also decide to give the resources on this node to a higher priority pod that is created after preemption. As a result, this field may be different than PodSpec.nodeName when the pod is scheduled.</p>
</li>
<li>
<p><strong>hostIP</strong> (string)</p>
<p>IP address of the host to which the pod is assigned. Empty if not yet scheduled.</p>
</li>
<li>
<p><strong>startTime</strong> (Time)</p>
<p>RFC 3339 date and time at which the object was acknowledged by the Kubelet. This is before the Kubelet pulled the container image(s) for the pod.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>phase</strong> (string)</p>
<p>The phase of a Pod is a simple, high-level summary of where the Pod is in its lifecycle. The conditions array, the reason and message fields, and the individual container status arrays contain more detail about the pod's status. There are five possible phase values:</p>
<p>Pending: The pod has been accepted by the Kubernetes system, but one or more of the container images has not been created. This includes time before being scheduled as well as time spent downloading images over the network, which could take a while. Running: The pod has been bound to a node, and all of the containers have been created. At least one container is still running, or is in the process of starting or restarting. Succeeded: All containers in the pod have terminated in success, and will not be restarted. Failed: All containers in the pod have terminated, and at least one container has terminated in failure. The container either exited with non-zero status or was terminated by the system. Unknown: For some reason the state of the pod could not be obtained, typically due to an error in communicating with the host of the pod.</p>
<p>More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-phase>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-phase</a></p>
</li>
<li>
<p><strong>message</strong> (string)</p>
<p>A human readable message indicating details about why the pod is in this condition.</p>
</li>
<li>
<p><strong>reason</strong> (string)</p>
<p>A brief CamelCase message indicating details about why the pod is in this state. e.g. 'Evicted'</p>
</li>
<li>
<p><strong>podIP</strong> (string)</p>
<p>IP address allocated to the pod. Routable at least within the cluster. Empty if not yet allocated.</p>
</li>
<li>
<p><strong>podIPs</strong> ([]PodIP)</p>
<p><em>Patch strategy: merge on key <code>ip</code></em></p>
<p>podIPs holds the IP addresses allocated to the pod. If this field is specified, the 0th entry must match the podIP field. Pods may be allocated at most 1 value for each of IPv4 and IPv6. This list is empty if no IPs have been allocated yet.</p>
<p><a name=PodIP></a>
<em>IP address information for entries in the (plural) PodIPs field. Each entry includes:
IP: An IP address allocated to the pod. Routable at least within the cluster.</em></p>
<ul>
<li>
<p><strong>podIPs.ip</strong> (string)</p>
<p>ip is an IP address (IPv4 or IPv6) assigned to the pod</p>
</li>
</ul>
</li>
<li>
<p><strong>conditions</strong> ([]PodCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Current service state of pod. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions</a></p>
<p><a name=PodCondition></a>
<em>PodCondition contains details for the current condition of this pod.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status is the status of the condition. Can be True, False, Unknown. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions</a></p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type is the type of the condition. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-conditions</a></p>
</li>
<li>
<p><strong>conditions.lastProbeTime</strong> (Time)</p>
<p>Last time we probed the condition.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>Human-readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>Unique, one-word, CamelCase reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>qosClass</strong> (string)</p>
<p>The Quality of Service (QOS) classification assigned to the pod based on resource requirements See PodQOSClass type for available QOS classes More info: <a href=https://git.k8s.io/community/contributors/design-proposals/node/resource-qos.md>https://git.k8s.io/community/contributors/design-proposals/node/resource-qos.md</a></p>
</li>
<li>
<p><strong>initContainerStatuses</strong> ([]ContainerStatus)</p>
<p>The list has one entry per init container in the manifest. The most recent successful init container will have ready = true, the most recently started container will have startTime set. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status</a></p>
<p><a name=ContainerStatus></a>
<em>ContainerStatus contains details for the current status of this container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.name</strong> (string), required</p>
<p>This must be a DNS_LABEL. Each container in a pod must have a unique name. Cannot be updated.</p>
</li>
<li>
<p><strong>initContainerStatuses.image</strong> (string), required</p>
<p>The image the container is running. More info: <a href=https://kubernetes.io/docs/concepts/containers/images>https://kubernetes.io/docs/concepts/containers/images</a></p>
</li>
<li>
<p><strong>initContainerStatuses.imageID</strong> (string), required</p>
<p>ImageID of the container's image.</p>
</li>
<li>
<p><strong>initContainerStatuses.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'.</p>
</li>
<li>
<p><strong>initContainerStatuses.state</strong> (ContainerState)</p>
<p>Details about the container's current condition.</p>
<p><a name=ContainerState></a>
<em>ContainerState holds a possible state of container. Only one of its members may be specified. If none of them is specified, the default one is ContainerStateWaiting.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.state.running</strong> (ContainerStateRunning)</p>
<p>Details about a running container</p>
<p><a name=ContainerStateRunning></a>
<em>ContainerStateRunning is a running state of a container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.state.running.startedAt</strong> (Time)</p>
<p>Time at which the container was last (re-)started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated</strong> (ContainerStateTerminated)</p>
<p>Details about a terminated container</p>
<p><a name=ContainerStateTerminated></a>
<em>ContainerStateTerminated is a terminated state of a container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.state.terminated.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'</p>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated.exitCode</strong> (int32), required</p>
<p>Exit status from the last termination of the container</p>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated.startedAt</strong> (Time)</p>
<p>Time at which previous execution of the container started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated.finishedAt</strong> (Time)</p>
<p>Time at which the container last terminated</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated.message</strong> (string)</p>
<p>Message regarding the last termination of the container</p>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated.reason</strong> (string)</p>
<p>(brief) reason from the last termination of the container</p>
</li>
<li>
<p><strong>initContainerStatuses.state.terminated.signal</strong> (int32)</p>
<p>Signal from the last termination of the container</p>
</li>
</ul>
</li>
<li>
<p><strong>initContainerStatuses.state.waiting</strong> (ContainerStateWaiting)</p>
<p>Details about a waiting container</p>
<p><a name=ContainerStateWaiting></a>
<em>ContainerStateWaiting is a waiting state of a container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.state.waiting.message</strong> (string)</p>
<p>Message regarding why the container is not yet running.</p>
</li>
<li>
<p><strong>initContainerStatuses.state.waiting.reason</strong> (string)</p>
<p>(brief) reason the container is not yet running.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>initContainerStatuses.lastState</strong> (ContainerState)</p>
<p>Details about the container's last termination condition.</p>
<p><a name=ContainerState></a>
<em>ContainerState holds a possible state of container. Only one of its members may be specified. If none of them is specified, the default one is ContainerStateWaiting.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.lastState.running</strong> (ContainerStateRunning)</p>
<p>Details about a running container</p>
<p><a name=ContainerStateRunning></a>
<em>ContainerStateRunning is a running state of a container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.lastState.running.startedAt</strong> (Time)</p>
<p>Time at which the container was last (re-)started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated</strong> (ContainerStateTerminated)</p>
<p>Details about a terminated container</p>
<p><a name=ContainerStateTerminated></a>
<em>ContainerStateTerminated is a terminated state of a container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.lastState.terminated.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'</p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated.exitCode</strong> (int32), required</p>
<p>Exit status from the last termination of the container</p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated.startedAt</strong> (Time)</p>
<p>Time at which previous execution of the container started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated.finishedAt</strong> (Time)</p>
<p>Time at which the container last terminated</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated.message</strong> (string)</p>
<p>Message regarding the last termination of the container</p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated.reason</strong> (string)</p>
<p>(brief) reason from the last termination of the container</p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.terminated.signal</strong> (int32)</p>
<p>Signal from the last termination of the container</p>
</li>
</ul>
</li>
<li>
<p><strong>initContainerStatuses.lastState.waiting</strong> (ContainerStateWaiting)</p>
<p>Details about a waiting container</p>
<p><a name=ContainerStateWaiting></a>
<em>ContainerStateWaiting is a waiting state of a container.</em></p>
<ul>
<li>
<p><strong>initContainerStatuses.lastState.waiting.message</strong> (string)</p>
<p>Message regarding why the container is not yet running.</p>
</li>
<li>
<p><strong>initContainerStatuses.lastState.waiting.reason</strong> (string)</p>
<p>(brief) reason the container is not yet running.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>initContainerStatuses.ready</strong> (boolean), required</p>
<p>Specifies whether the container has passed its readiness probe.</p>
</li>
<li>
<p><strong>initContainerStatuses.restartCount</strong> (int32), required</p>
<p>The number of times the container has been restarted, currently based on the number of dead containers that have not yet been removed. Note that this is calculated from dead containers. But those containers are subject to garbage collection. This value will get capped at 5 by GC.</p>
</li>
<li>
<p><strong>initContainerStatuses.started</strong> (boolean)</p>
<p>Specifies whether the container has passed its startup probe. Initialized as false, becomes true after startupProbe is considered successful. Resets to false when the container is restarted, or if kubelet loses state temporarily. Is always true when no startupProbe is defined.</p>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses</strong> ([]ContainerStatus)</p>
<p>The list has one entry per container in the manifest. Each entry is currently the output of <code>docker inspect</code>. More info: <a href=https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status>https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle#pod-and-container-status</a></p>
<p><a name=ContainerStatus></a>
<em>ContainerStatus contains details for the current status of this container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.name</strong> (string), required</p>
<p>This must be a DNS_LABEL. Each container in a pod must have a unique name. Cannot be updated.</p>
</li>
<li>
<p><strong>containerStatuses.image</strong> (string), required</p>
<p>The image the container is running. More info: <a href=https://kubernetes.io/docs/concepts/containers/images>https://kubernetes.io/docs/concepts/containers/images</a></p>
</li>
<li>
<p><strong>containerStatuses.imageID</strong> (string), required</p>
<p>ImageID of the container's image.</p>
</li>
<li>
<p><strong>containerStatuses.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'.</p>
</li>
<li>
<p><strong>containerStatuses.state</strong> (ContainerState)</p>
<p>Details about the container's current condition.</p>
<p><a name=ContainerState></a>
<em>ContainerState holds a possible state of container. Only one of its members may be specified. If none of them is specified, the default one is ContainerStateWaiting.</em></p>
<ul>
<li>
<p><strong>containerStatuses.state.running</strong> (ContainerStateRunning)</p>
<p>Details about a running container</p>
<p><a name=ContainerStateRunning></a>
<em>ContainerStateRunning is a running state of a container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.state.running.startedAt</strong> (Time)</p>
<p>Time at which the container was last (re-)started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses.state.terminated</strong> (ContainerStateTerminated)</p>
<p>Details about a terminated container</p>
<p><a name=ContainerStateTerminated></a>
<em>ContainerStateTerminated is a terminated state of a container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.state.terminated.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'</p>
</li>
<li>
<p><strong>containerStatuses.state.terminated.exitCode</strong> (int32), required</p>
<p>Exit status from the last termination of the container</p>
</li>
<li>
<p><strong>containerStatuses.state.terminated.startedAt</strong> (Time)</p>
<p>Time at which previous execution of the container started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>containerStatuses.state.terminated.finishedAt</strong> (Time)</p>
<p>Time at which the container last terminated</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>containerStatuses.state.terminated.message</strong> (string)</p>
<p>Message regarding the last termination of the container</p>
</li>
<li>
<p><strong>containerStatuses.state.terminated.reason</strong> (string)</p>
<p>(brief) reason from the last termination of the container</p>
</li>
<li>
<p><strong>containerStatuses.state.terminated.signal</strong> (int32)</p>
<p>Signal from the last termination of the container</p>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses.state.waiting</strong> (ContainerStateWaiting)</p>
<p>Details about a waiting container</p>
<p><a name=ContainerStateWaiting></a>
<em>ContainerStateWaiting is a waiting state of a container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.state.waiting.message</strong> (string)</p>
<p>Message regarding why the container is not yet running.</p>
</li>
<li>
<p><strong>containerStatuses.state.waiting.reason</strong> (string)</p>
<p>(brief) reason the container is not yet running.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses.lastState</strong> (ContainerState)</p>
<p>Details about the container's last termination condition.</p>
<p><a name=ContainerState></a>
<em>ContainerState holds a possible state of container. Only one of its members may be specified. If none of them is specified, the default one is ContainerStateWaiting.</em></p>
<ul>
<li>
<p><strong>containerStatuses.lastState.running</strong> (ContainerStateRunning)</p>
<p>Details about a running container</p>
<p><a name=ContainerStateRunning></a>
<em>ContainerStateRunning is a running state of a container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.lastState.running.startedAt</strong> (Time)</p>
<p>Time at which the container was last (re-)started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated</strong> (ContainerStateTerminated)</p>
<p>Details about a terminated container</p>
<p><a name=ContainerStateTerminated></a>
<em>ContainerStateTerminated is a terminated state of a container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.lastState.terminated.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'</p>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated.exitCode</strong> (int32), required</p>
<p>Exit status from the last termination of the container</p>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated.startedAt</strong> (Time)</p>
<p>Time at which previous execution of the container started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated.finishedAt</strong> (Time)</p>
<p>Time at which the container last terminated</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated.message</strong> (string)</p>
<p>Message regarding the last termination of the container</p>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated.reason</strong> (string)</p>
<p>(brief) reason from the last termination of the container</p>
</li>
<li>
<p><strong>containerStatuses.lastState.terminated.signal</strong> (int32)</p>
<p>Signal from the last termination of the container</p>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses.lastState.waiting</strong> (ContainerStateWaiting)</p>
<p>Details about a waiting container</p>
<p><a name=ContainerStateWaiting></a>
<em>ContainerStateWaiting is a waiting state of a container.</em></p>
<ul>
<li>
<p><strong>containerStatuses.lastState.waiting.message</strong> (string)</p>
<p>Message regarding why the container is not yet running.</p>
</li>
<li>
<p><strong>containerStatuses.lastState.waiting.reason</strong> (string)</p>
<p>(brief) reason the container is not yet running.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>containerStatuses.ready</strong> (boolean), required</p>
<p>Specifies whether the container has passed its readiness probe.</p>
</li>
<li>
<p><strong>containerStatuses.restartCount</strong> (int32), required</p>
<p>The number of times the container has been restarted, currently based on the number of dead containers that have not yet been removed. Note that this is calculated from dead containers. But those containers are subject to garbage collection. This value will get capped at 5 by GC.</p>
</li>
<li>
<p><strong>containerStatuses.started</strong> (boolean)</p>
<p>Specifies whether the container has passed its startup probe. Initialized as false, becomes true after startupProbe is considered successful. Resets to false when the container is restarted, or if kubelet loses state temporarily. Is always true when no startupProbe is defined.</p>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses</strong> ([]ContainerStatus)</p>
<p>Status for any ephemeral containers that have run in this pod. This field is alpha-level and is only populated by servers that enable the EphemeralContainers feature.</p>
<p><a name=ContainerStatus></a>
<em>ContainerStatus contains details for the current status of this container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.name</strong> (string), required</p>
<p>This must be a DNS_LABEL. Each container in a pod must have a unique name. Cannot be updated.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.image</strong> (string), required</p>
<p>The image the container is running. More info: <a href=https://kubernetes.io/docs/concepts/containers/images>https://kubernetes.io/docs/concepts/containers/images</a></p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.imageID</strong> (string), required</p>
<p>ImageID of the container's image.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state</strong> (ContainerState)</p>
<p>Details about the container's current condition.</p>
<p><a name=ContainerState></a>
<em>ContainerState holds a possible state of container. Only one of its members may be specified. If none of them is specified, the default one is ContainerStateWaiting.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.state.running</strong> (ContainerStateRunning)</p>
<p>Details about a running container</p>
<p><a name=ContainerStateRunning></a>
<em>ContainerStateRunning is a running state of a container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.state.running.startedAt</strong> (Time)</p>
<p>Time at which the container was last (re-)started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated</strong> (ContainerStateTerminated)</p>
<p>Details about a terminated container</p>
<p><a name=ContainerStateTerminated></a>
<em>ContainerStateTerminated is a terminated state of a container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.exitCode</strong> (int32), required</p>
<p>Exit status from the last termination of the container</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.startedAt</strong> (Time)</p>
<p>Time at which previous execution of the container started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.finishedAt</strong> (Time)</p>
<p>Time at which the container last terminated</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.message</strong> (string)</p>
<p>Message regarding the last termination of the container</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.reason</strong> (string)</p>
<p>(brief) reason from the last termination of the container</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.terminated.signal</strong> (int32)</p>
<p>Signal from the last termination of the container</p>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.waiting</strong> (ContainerStateWaiting)</p>
<p>Details about a waiting container</p>
<p><a name=ContainerStateWaiting></a>
<em>ContainerStateWaiting is a waiting state of a container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.state.waiting.message</strong> (string)</p>
<p>Message regarding why the container is not yet running.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.state.waiting.reason</strong> (string)</p>
<p>(brief) reason the container is not yet running.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState</strong> (ContainerState)</p>
<p>Details about the container's last termination condition.</p>
<p><a name=ContainerState></a>
<em>ContainerState holds a possible state of container. Only one of its members may be specified. If none of them is specified, the default one is ContainerStateWaiting.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.lastState.running</strong> (ContainerStateRunning)</p>
<p>Details about a running container</p>
<p><a name=ContainerStateRunning></a>
<em>ContainerStateRunning is a running state of a container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.lastState.running.startedAt</strong> (Time)</p>
<p>Time at which the container was last (re-)started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated</strong> (ContainerStateTerminated)</p>
<p>Details about a terminated container</p>
<p><a name=ContainerStateTerminated></a>
<em>ContainerStateTerminated is a terminated state of a container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.containerID</strong> (string)</p>
<p>Container's ID in the format 'docker://&lt;container_id>'</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.exitCode</strong> (int32), required</p>
<p>Exit status from the last termination of the container</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.startedAt</strong> (Time)</p>
<p>Time at which previous execution of the container started</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.finishedAt</strong> (Time)</p>
<p>Time at which the container last terminated</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.message</strong> (string)</p>
<p>Message regarding the last termination of the container</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.reason</strong> (string)</p>
<p>(brief) reason from the last termination of the container</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.terminated.signal</strong> (int32)</p>
<p>Signal from the last termination of the container</p>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.waiting</strong> (ContainerStateWaiting)</p>
<p>Details about a waiting container</p>
<p><a name=ContainerStateWaiting></a>
<em>ContainerStateWaiting is a waiting state of a container.</em></p>
<ul>
<li>
<p><strong>ephemeralContainerStatuses.lastState.waiting.message</strong> (string)</p>
<p>Message regarding why the container is not yet running.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.lastState.waiting.reason</strong> (string)</p>
<p>(brief) reason the container is not yet running.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ephemeralContainerStatuses.ready</strong> (boolean), required</p>
<p>Specifies whether the container has passed its readiness probe.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.restartCount</strong> (int32), required</p>
<p>The number of times the container has been restarted, currently based on the number of dead containers that have not yet been removed. Note that this is calculated from dead containers. But those containers are subject to garbage collection. This value will get capped at 5 by GC.</p>
</li>
<li>
<p><strong>ephemeralContainerStatuses.started</strong> (boolean)</p>
<p>Specifies whether the container has passed its startup probe. Initialized as false, becomes true after startupProbe is considered successful. Resets to false when the container is restarted, or if kubelet loses state temporarily. Is always true when no startupProbe is defined.</p>
</li>
</ul>
</li>
</ul>
<h2 id=PodList>PodList</h2>
<p>PodList is a list of Pods.</p>
<hr>
<ul>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>), required</p>
<p>List of pods. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md</a></p>
</li>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p>
</li>
<li>
<p><strong>kind</strong> (string)</p>
<p>Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-pod><code>get</code> read the specified Pod</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/pods/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-ephemeralcontainers-of-the-specified-pod><code>get</code> read ephemeralcontainers of the specified Pod</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/pods/{name}/ephemeralcontainers</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-log-of-the-specified-pod><code>get</code> read log of the specified Pod</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/pods/{name}/log</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>container</strong> (<em>in query</em>): string</p>
<p>The container for which to stream logs. Defaults to only container if there is one container in the pod.</p>
</li>
<li>
<p><strong>follow</strong> (<em>in query</em>): boolean</p>
<p>Follow the log stream of the pod. Defaults to false.</p>
</li>
<li>
<p><strong>insecureSkipTLSVerifyBackend</strong> (<em>in query</em>): boolean</p>
<p>insecureSkipTLSVerifyBackend indicates that the apiserver should not confirm the validity of the serving certificate of the backend it is connecting to. This will make the HTTPS connection between the apiserver and the backend insecure. This means the apiserver cannot verify the log data it is receiving came from the real kubelet. If the kubelet is configured to verify the apiserver's TLS credentials, it does not mean the connection to the real kubelet is vulnerable to a man in the middle attack (e.g. an attacker could not intercept the actual log data coming from the real kubelet).</p>
</li>
<li>
<p><strong>limitBytes</strong> (<em>in query</em>): integer</p>
<p>If set, the number of bytes to read from the server before terminating the log output. This may not display a complete final line of logging, and may return slightly more or slightly less than the specified limit.</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>previous</strong> (<em>in query</em>): boolean</p>
<p>Return previous terminated container logs. Defaults to false.</p>
</li>
<li>
<p><strong>sinceSeconds</strong> (<em>in query</em>): integer</p>
<p>A relative time in seconds before the current time from which to show logs. If this value precedes the time a pod was started, only logs since the pod start will be returned. If this value is in the future, no logs will be returned. Only one of sinceSeconds or sinceTime may be specified.</p>
</li>
<li>
<p><strong>tailLines</strong> (<em>in query</em>): integer</p>
<p>If set, the number of lines from the end of the logs to show. If not specified, logs are shown from the creation of the container or sinceSeconds or sinceTime</p>
</li>
<li>
<p><strong>timestamps</strong> (<em>in query</em>): boolean</p>
<p>If true, add an RFC3339 or RFC3339Nano timestamp at the beginning of every line of log output. Defaults to false.</p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (string): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-pod><code>get</code> read status of the specified Pod</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/pods/{name}/status</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-pod><code>list</code> list or watch objects of kind Pod</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/pods</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodList>PodList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-pod-1><code>list</code> list or watch objects of kind Pod</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>GET /api/v1/pods</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodList>PodList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-pod><code>create</code> create a Pod</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/pods</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-pod><code>update</code> replace the specified Pod</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/pods/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-ephemeralcontainers-of-the-specified-pod><code>update</code> replace ephemeralcontainers of the specified Pod</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/pods/{name}/ephemeralcontainers</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-pod><code>update</code> replace status of the specified Pod</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/pods/{name}/status</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-pod><code>patch</code> partially update the specified Pod</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/pods/{name}</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-ephemeralcontainers-of-the-specified-pod><code>patch</code> partially update ephemeralcontainers of the specified Pod</h3>
<h4 id=http-request-11>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/pods/{name}/ephemeralcontainers</p>
<h4 id=parameters-11>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-11>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-pod><code>patch</code> partially update status of the specified Pod</h3>
<h4 id=http-request-12>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/pods/{name}/status</p>
<h4 id=parameters-12>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-12>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-pod><code>delete</code> delete a Pod</h3>
<h4 id=http-request-13>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/pods/{name}</p>
<h4 id=parameters-13>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Pod</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-13>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#Pod>Pod</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-pod><code>deletecollection</code> delete collection of Pod</h3>
<h4 id=http-request-14>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/pods</p>
<h4 id=parameters-14>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-14>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-af1995b54121f96a81a8c51fecc4f6f7>5.1.2 - PodTemplate</h1>
<div class=lead>PodTemplate describes a template for creating copies of a predefined pod.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=PodTemplate>PodTemplate</h2>
<p>PodTemplate describes a template for creating copies of a predefined pod.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: PodTemplate</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)</p>
<p>Template defines the pods that will be created from this pod template. <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=PodTemplateSpec>PodTemplateSpec</h2>
<p>PodTemplateSpec describes the data a pod should have when created from a template</p>
<hr>
<ul>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-v1/#PodSpec>PodSpec</a>)</p>
<p>Specification of the desired behavior of the pod. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=PodTemplateList>PodTemplateList</h2>
<p>PodTemplateList is a list of PodTemplates.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: PodTemplateList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>), required</p>
<p>List of pod templates</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-podtemplate><code>get</code> read the specified PodTemplate</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/podtemplates/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodTemplate</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-podtemplate><code>list</code> list or watch objects of kind PodTemplate</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/podtemplates</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateList>PodTemplateList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-podtemplate-1><code>list</code> list or watch objects of kind PodTemplate</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/podtemplates</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateList>PodTemplateList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-podtemplate><code>create</code> create a PodTemplate</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/podtemplates</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-podtemplate><code>update</code> replace the specified PodTemplate</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/podtemplates/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodTemplate</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-podtemplate><code>patch</code> partially update the specified PodTemplate</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/podtemplates/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodTemplate</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-podtemplate><code>delete</code> delete a PodTemplate</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/podtemplates/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodTemplate</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplate>PodTemplate</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-podtemplate><code>deletecollection</code> delete collection of PodTemplate</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/podtemplates</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-888377326f4cd6e3d527f8dbb5ba81a0>5.1.3 - ReplicationController</h1>
<div class=lead>ReplicationController represents the configuration of a replication controller.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=ReplicationController>ReplicationController</h2>
<p>ReplicationController represents the configuration of a replication controller.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ReplicationController</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>If the Labels of a ReplicationController are empty, they are defaulted to be the same as the Pod(s) that the replication controller manages. Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerSpec>ReplicationControllerSpec</a>)</p>
<p>Spec defines the specification of the desired behavior of the replication controller. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerStatus>ReplicationControllerStatus</a>)</p>
<p>Status is the most recently observed status of the replication controller. This data may be out of date by some window of time. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=ReplicationControllerSpec>ReplicationControllerSpec</h2>
<p>ReplicationControllerSpec is the specification of a replication controller.</p>
<hr>
<ul>
<li>
<p><strong>selector</strong> (map[string]string)</p>
<p>Selector is a label query over pods that should match the Replicas count. If Selector is empty, it is defaulted to the labels present on the Pod template. Label keys and values that must match in order to be controlled by this replication controller, if empty defaulted to labels on Pod template. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p>
</li>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)</p>
<p>Template is the object that describes the pod that will be created if insufficient replicas are detected. This takes precedence over a TemplateRef. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template</a></p>
</li>
<li>
<p><strong>replicas</strong> (int32)</p>
<p>Replicas is the number of desired replicas. This is a pointer to distinguish between explicit zero and unspecified. Defaults to 1. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller</a></p>
</li>
<li>
<p><strong>minReadySeconds</strong> (int32)</p>
<p>Minimum number of seconds for which a newly created pod should be ready without any of its container crashing, for it to be considered available. Defaults to 0 (pod will be considered available as soon as it is ready)</p>
</li>
</ul>
<h2 id=ReplicationControllerStatus>ReplicationControllerStatus</h2>
<p>ReplicationControllerStatus represents the current status of a replication controller.</p>
<hr>
<ul>
<li>
<p><strong>replicas</strong> (int32), required</p>
<p>Replicas is the most recently oberved number of replicas. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#what-is-a-replicationcontroller</a></p>
</li>
<li>
<p><strong>availableReplicas</strong> (int32)</p>
<p>The number of available replicas (ready for at least minReadySeconds) for this replication controller.</p>
</li>
<li>
<p><strong>readyReplicas</strong> (int32)</p>
<p>The number of ready replicas for this replication controller.</p>
</li>
<li>
<p><strong>fullyLabeledReplicas</strong> (int32)</p>
<p>The number of pods that have labels matching the labels of the pod template of the replication controller.</p>
</li>
<li>
<p><strong>conditions</strong> ([]ReplicationControllerCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Represents the latest available observations of a replication controller's current state.</p>
<p><a name=ReplicationControllerCondition></a>
<em>ReplicationControllerCondition describes the state of a replication controller at a certain point.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of replication controller condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>The last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>A human readable message indicating details about the transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>The reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>ObservedGeneration reflects the generation of the most recently observed replication controller.</p>
</li>
</ul>
<h2 id=ReplicationControllerList>ReplicationControllerList</h2>
<p>ReplicationControllerList is a collection of replication controllers.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ReplicationControllerList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>), required</p>
<p>List of replication controllers. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-replicationcontroller><code>get</code> read the specified ReplicationController</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-replicationcontroller><code>get</code> read status of the specified ReplicationController</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/replicationcontrollers/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-replicationcontroller><code>list</code> list or watch objects of kind ReplicationController</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/replicationcontrollers</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerList>ReplicationControllerList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-replicationcontroller-1><code>list</code> list or watch objects of kind ReplicationController</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /api/v1/replicationcontrollers</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationControllerList>ReplicationControllerList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-replicationcontroller><code>create</code> create a ReplicationController</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/replicationcontrollers</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-replicationcontroller><code>update</code> replace the specified ReplicationController</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-replicationcontroller><code>update</code> replace status of the specified ReplicationController</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/replicationcontrollers/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-replicationcontroller><code>patch</code> partially update the specified ReplicationController</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-replicationcontroller><code>patch</code> partially update status of the specified ReplicationController</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/replicationcontrollers/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replication-controller-v1/#ReplicationController>ReplicationController</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-replicationcontroller><code>delete</code> delete a ReplicationController</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/replicationcontrollers/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicationController</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-replicationcontroller><code>deletecollection</code> delete collection of ReplicationController</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/replicationcontrollers</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-803e8dd9be7ea099609d5c9af16d670f>5.1.4 - ReplicaSet</h1>
<div class=lead>ReplicaSet ensures that a specified number of pod replicas are running at any given time.</div>
<p><code>apiVersion: apps/v1</code></p>
<p><code>import "k8s.io/api/apps/v1"</code></p>
<h2 id=ReplicaSet>ReplicaSet</h2>
<p>ReplicaSet ensures that a specified number of pod replicas are running at any given time.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: ReplicaSet</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>If the Labels of a ReplicaSet are empty, they are defaulted to be the same as the Pod(s) that the ReplicaSet manages. Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetSpec>ReplicaSetSpec</a>)</p>
<p>Spec defines the specification of the desired behavior of the ReplicaSet. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetStatus>ReplicaSetStatus</a>)</p>
<p>Status is the most recently observed status of the ReplicaSet. This data may be out of date by some window of time. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=ReplicaSetSpec>ReplicaSetSpec</h2>
<p>ReplicaSetSpec is the specification of a ReplicaSet.</p>
<hr>
<ul>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), required</p>
<p>Selector is a label query over pods that should match the replica count. Label keys and values that must match in order to be controlled by this replica set. It must match the pod template's labels. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p>
</li>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>)</p>
<p>Template is the object that describes the pod that will be created if insufficient replicas are detected. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template</a></p>
</li>
<li>
<p><strong>replicas</strong> (int32)</p>
<p>Replicas is the number of desired replicas. This is a pointer to distinguish between explicit zero and unspecified. Defaults to 1. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller</a></p>
</li>
<li>
<p><strong>minReadySeconds</strong> (int32)</p>
<p>Minimum number of seconds for which a newly created pod should be ready without any of its container crashing, for it to be considered available. Defaults to 0 (pod will be considered available as soon as it is ready)</p>
</li>
</ul>
<h2 id=ReplicaSetStatus>ReplicaSetStatus</h2>
<p>ReplicaSetStatus represents the current status of a ReplicaSet.</p>
<hr>
<ul>
<li>
<p><strong>replicas</strong> (int32), required</p>
<p>Replicas is the most recently oberved number of replicas. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/#what-is-a-replicationcontroller</a></p>
</li>
<li>
<p><strong>availableReplicas</strong> (int32)</p>
<p>The number of available replicas (ready for at least minReadySeconds) for this replica set.</p>
</li>
<li>
<p><strong>readyReplicas</strong> (int32)</p>
<p>The number of ready replicas for this replica set.</p>
</li>
<li>
<p><strong>fullyLabeledReplicas</strong> (int32)</p>
<p>The number of pods that have labels matching the labels of the pod template of the replicaset.</p>
</li>
<li>
<p><strong>conditions</strong> ([]ReplicaSetCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Represents the latest available observations of a replica set's current state.</p>
<p><a name=ReplicaSetCondition></a>
<em>ReplicaSetCondition describes the state of a replica set at a certain point.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of replica set condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>The last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>A human readable message indicating details about the transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>The reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>ObservedGeneration reflects the generation of the most recently observed ReplicaSet.</p>
</li>
</ul>
<h2 id=ReplicaSetList>ReplicaSetList</h2>
<p>ReplicaSetList is a collection of ReplicaSets.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: ReplicaSetList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>), required</p>
<p>List of ReplicaSets. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-replicaset><code>get</code> read the specified ReplicaSet</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-replicaset><code>get</code> read status of the specified ReplicaSet</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/replicasets/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-replicaset><code>list</code> list or watch objects of kind ReplicaSet</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/replicasets</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetList>ReplicaSetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-replicaset-1><code>list</code> list or watch objects of kind ReplicaSet</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/apps/v1/replicasets</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSetList>ReplicaSetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-replicaset><code>create</code> create a ReplicaSet</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/apps/v1/namespaces/{namespace}/replicasets</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-replicaset><code>update</code> replace the specified ReplicaSet</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-replicaset><code>update</code> replace status of the specified ReplicaSet</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/replicasets/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-replicaset><code>patch</code> partially update the specified ReplicaSet</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-replicaset><code>patch</code> partially update status of the specified ReplicaSet</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/replicasets/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/replica-set-v1/#ReplicaSet>ReplicaSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-replicaset><code>delete</code> delete a ReplicaSet</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/replicasets/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ReplicaSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-replicaset><code>deletecollection</code> delete collection of ReplicaSet</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/replicasets</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2c16e10bbf4113c1d2bb657311819771>5.1.5 - Deployment</h1>
<div class=lead>Deployment enables declarative updates for Pods and ReplicaSets.</div>
<p><code>apiVersion: apps/v1</code></p>
<p><code>import "k8s.io/api/apps/v1"</code></p>
<h2 id=Deployment>Deployment</h2>
<p>Deployment enables declarative updates for Pods and ReplicaSets.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: Deployment</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentSpec>DeploymentSpec</a>)</p>
<p>Specification of the desired behavior of the Deployment.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentStatus>DeploymentStatus</a>)</p>
<p>Most recently observed status of the Deployment.</p>
</li>
</ul>
<h2 id=DeploymentSpec>DeploymentSpec</h2>
<p>DeploymentSpec is the specification of the desired behavior of the Deployment.</p>
<hr>
<ul>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), required</p>
<p>Label selector for pods. Existing ReplicaSets whose pods are selected by this will be the ones affected by this deployment. It must match the pod template's labels.</p>
</li>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), required</p>
<p>Template describes the pods that will be created.</p>
</li>
<li>
<p><strong>replicas</strong> (int32)</p>
<p>Number of desired pods. This is a pointer to distinguish between explicit zero and not specified. Defaults to 1.</p>
</li>
<li>
<p><strong>minReadySeconds</strong> (int32)</p>
<p>Minimum number of seconds for which a newly created pod should be ready without any of its container crashing, for it to be considered available. Defaults to 0 (pod will be considered available as soon as it is ready)</p>
</li>
<li>
<p><strong>strategy</strong> (DeploymentStrategy)</p>
<p><em>Patch strategy: retainKeys</em></p>
<p>The deployment strategy to use to replace existing pods with new ones.</p>
<p><a name=DeploymentStrategy></a>
<em>DeploymentStrategy describes how to replace existing pods with new ones.</em></p>
<ul>
<li>
<p><strong>strategy.type</strong> (string)</p>
<p>Type of deployment. Can be "Recreate" or "RollingUpdate". Default is RollingUpdate.</p>
</li>
<li>
<p><strong>strategy.rollingUpdate</strong> (RollingUpdateDeployment)</p>
<p>Rolling update config params. Present only if DeploymentStrategyType = RollingUpdate.</p>
<p><a name=RollingUpdateDeployment></a>
<em>Spec to control the desired behavior of rolling update.</em></p>
<ul>
<li>
<p><strong>strategy.rollingUpdate.maxSurge</strong> (IntOrString)</p>
<p>The maximum number of pods that can be scheduled above the desired number of pods. Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%). This can not be 0 if MaxUnavailable is 0. Absolute number is calculated from percentage by rounding up. Defaults to 25%. Example: when this is set to 30%, the new ReplicaSet can be scaled up immediately when the rolling update starts, such that the total number of old and new pods do not exceed 130% of desired pods. Once old pods have been killed, new ReplicaSet can be scaled up further, ensuring that total number of pods running at any time during the update is at most 130% of desired pods.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>strategy.rollingUpdate.maxUnavailable</strong> (IntOrString)</p>
<p>The maximum number of pods that can be unavailable during the update. Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%). Absolute number is calculated from percentage by rounding down. This can not be 0 if MaxSurge is 0. Defaults to 25%. Example: when this is set to 30%, the old ReplicaSet can be scaled down to 70% of desired pods immediately when the rolling update starts. Once new pods are ready, old ReplicaSet can be scaled down further, followed by scaling up the new ReplicaSet, ensuring that the total number of pods available at all times during the update is at least 70% of desired pods.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>revisionHistoryLimit</strong> (int32)</p>
<p>The number of old ReplicaSets to retain to allow rollback. This is a pointer to distinguish between explicit zero and not specified. Defaults to 10.</p>
</li>
<li>
<p><strong>progressDeadlineSeconds</strong> (int32)</p>
<p>The maximum time in seconds for a deployment to make progress before it is considered to be failed. The deployment controller will continue to process failed deployments and a condition with a ProgressDeadlineExceeded reason will be surfaced in the deployment status. Note that progress will not be estimated during the time a deployment is paused. Defaults to 600s.</p>
</li>
<li>
<p><strong>paused</strong> (boolean)</p>
<p>Indicates that the deployment is paused.</p>
</li>
</ul>
<h2 id=DeploymentStatus>DeploymentStatus</h2>
<p>DeploymentStatus is the most recently observed status of the Deployment.</p>
<hr>
<ul>
<li>
<p><strong>replicas</strong> (int32)</p>
<p>Total number of non-terminated pods targeted by this deployment (their labels match the selector).</p>
</li>
<li>
<p><strong>availableReplicas</strong> (int32)</p>
<p>Total number of available pods (ready for at least minReadySeconds) targeted by this deployment.</p>
</li>
<li>
<p><strong>readyReplicas</strong> (int32)</p>
<p>Total number of ready pods targeted by this deployment.</p>
</li>
<li>
<p><strong>unavailableReplicas</strong> (int32)</p>
<p>Total number of unavailable pods targeted by this deployment. This is the total number of pods that are still required for the deployment to have 100% available capacity. They may either be pods that are running but not yet available or pods that still have not been created.</p>
</li>
<li>
<p><strong>updatedReplicas</strong> (int32)</p>
<p>Total number of non-terminated pods targeted by this deployment that have the desired template spec.</p>
</li>
<li>
<p><strong>collisionCount</strong> (int32)</p>
<p>Count of hash collisions for the Deployment. The Deployment controller uses this field as a collision avoidance mechanism when it needs to create the name for the newest ReplicaSet.</p>
</li>
<li>
<p><strong>conditions</strong> ([]DeploymentCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Represents the latest available observations of a deployment's current state.</p>
<p><a name=DeploymentCondition></a>
<em>DeploymentCondition describes the state of a deployment at a certain point.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of deployment condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.lastUpdateTime</strong> (Time)</p>
<p>The last time this condition was updated.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>A human readable message indicating details about the transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>The reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>The generation observed by the deployment controller.</p>
</li>
</ul>
<h2 id=DeploymentList>DeploymentList</h2>
<p>DeploymentList is a list of Deployments.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: DeploymentList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>), required</p>
<p>Items is the list of Deployments.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-deployment><code>get</code> read the specified Deployment</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-deployment><code>get</code> read status of the specified Deployment</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/deployments/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-deployment><code>list</code> list or watch objects of kind Deployment</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/deployments</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentList>DeploymentList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-deployment-1><code>list</code> list or watch objects of kind Deployment</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/apps/v1/deployments</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#DeploymentList>DeploymentList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-deployment><code>create</code> create a Deployment</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/apps/v1/namespaces/{namespace}/deployments</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-deployment><code>update</code> replace the specified Deployment</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-deployment><code>update</code> replace status of the specified Deployment</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/deployments/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-deployment><code>patch</code> partially update the specified Deployment</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-deployment><code>patch</code> partially update status of the specified Deployment</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/deployments/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/#Deployment>Deployment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-deployment><code>delete</code> delete a Deployment</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/deployments/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Deployment</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-deployment><code>deletecollection</code> delete collection of Deployment</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/deployments</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-eb1ab4c03629d6617cc006c8c38b7424>5.1.6 - StatefulSet</h1>
<div class=lead>StatefulSet represents a set of pods with consistent identities.</div>
<p><code>apiVersion: apps/v1</code></p>
<p><code>import "k8s.io/api/apps/v1"</code></p>
<h2 id=StatefulSet>StatefulSet</h2>
<p>StatefulSet represents a set of pods with consistent identities. Identities are defined as:</p>
<ul>
<li>Network: A single stable DNS and hostname.</li>
<li>Storage: As many VolumeClaims as requested.
The StatefulSet guarantees that a given network identity will always map to the same storage identity.</li>
</ul>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: StatefulSet</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetSpec>StatefulSetSpec</a>)</p>
<p>Spec defines the desired identities of pods in this set.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetStatus>StatefulSetStatus</a>)</p>
<p>Status is the current status of Pods in this StatefulSet. This data may be out of date by some window of time.</p>
</li>
</ul>
<h2 id=StatefulSetSpec>StatefulSetSpec</h2>
<p>A StatefulSetSpec is the specification of a StatefulSet.</p>
<hr>
<ul>
<li>
<p><strong>serviceName</strong> (string), required</p>
<p>serviceName is the name of the service that governs this StatefulSet. This service must exist before the StatefulSet, and is responsible for the network identity of the set. Pods get DNS/hostnames that follow the pattern: pod-specific-string.serviceName.default.svc.cluster.local where "pod-specific-string" is managed by the StatefulSet controller.</p>
</li>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), required</p>
<p>selector is a label query over pods that should match the replica count. It must match the pod template's labels. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p>
</li>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), required</p>
<p>template is the object that describes the pod that will be created if insufficient replicas are detected. Each pod stamped out by the StatefulSet will fulfill this Template, but have a unique identity from the rest of the StatefulSet.</p>
</li>
<li>
<p><strong>replicas</strong> (int32)</p>
<p>replicas is the desired number of replicas of the given Template. These are replicas in the sense that they are instantiations of the same Template, but individual replicas also have a consistent identity. If unspecified, defaults to 1.</p>
</li>
<li>
<p><strong>updateStrategy</strong> (StatefulSetUpdateStrategy)</p>
<p>updateStrategy indicates the StatefulSetUpdateStrategy that will be employed to update Pods in the StatefulSet when a revision is made to Template.</p>
<p><a name=StatefulSetUpdateStrategy></a>
<em>StatefulSetUpdateStrategy indicates the strategy that the StatefulSet controller will use to perform updates. It includes any additional parameters necessary to perform the update for the indicated strategy.</em></p>
<ul>
<li>
<p><strong>updateStrategy.type</strong> (string)</p>
<p>Type indicates the type of the StatefulSetUpdateStrategy. Default is RollingUpdate.</p>
</li>
<li>
<p><strong>updateStrategy.rollingUpdate</strong> (RollingUpdateStatefulSetStrategy)</p>
<p>RollingUpdate is used to communicate parameters when Type is RollingUpdateStatefulSetStrategyType.</p>
<p><a name=RollingUpdateStatefulSetStrategy></a>
<em>RollingUpdateStatefulSetStrategy is used to communicate parameter for RollingUpdateStatefulSetStrategyType.</em></p>
<ul>
<li>
<p><strong>updateStrategy.rollingUpdate.partition</strong> (int32)</p>
<p>Partition indicates the ordinal at which the StatefulSet should be partitioned. Default value is 0.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>podManagementPolicy</strong> (string)</p>
<p>podManagementPolicy controls how pods are created during initial scale up, when replacing pods on nodes, or when scaling down. The default policy is <code>OrderedReady</code>, where pods are created in increasing order (pod-0, then pod-1, etc) and the controller will wait until each pod is ready before continuing. When scaling down, the pods are removed in the opposite order. The alternative policy is <code>Parallel</code> which will create pods in parallel to match the desired scale without waiting, and on scale down will delete all pods at once.</p>
</li>
<li>
<p><strong>revisionHistoryLimit</strong> (int32)</p>
<p>revisionHistoryLimit is the maximum number of revisions that will be maintained in the StatefulSet's revision history. The revision history consists of all revisions not represented by a currently applied StatefulSetSpec version. The default value is 10.</p>
</li>
<li>
<p><strong>volumeClaimTemplates</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>)</p>
<p>volumeClaimTemplates is a list of claims that pods are allowed to reference. The StatefulSet controller is responsible for mapping network identities to claims in a way that maintains the identity of a pod. Every claim in this list must have at least one matching (by name) volumeMount in one container in the template. A claim in this list takes precedence over any volumes in the template, with the same name.</p>
</li>
<li>
<p><strong>minReadySeconds</strong> (int32)</p>
<p>Minimum number of seconds for which a newly created pod should be ready without any of its container crashing for it to be considered available. Defaults to 0 (pod will be considered available as soon as it is ready) This is an alpha field and requires enabling StatefulSetMinReadySeconds feature gate.</p>
</li>
</ul>
<h2 id=StatefulSetStatus>StatefulSetStatus</h2>
<p>StatefulSetStatus represents the current state of a StatefulSet.</p>
<hr>
<ul>
<li>
<p><strong>replicas</strong> (int32), required</p>
<p>replicas is the number of Pods created by the StatefulSet controller.</p>
</li>
<li>
<p><strong>readyReplicas</strong> (int32)</p>
<p>readyReplicas is the number of Pods created by the StatefulSet controller that have a Ready Condition.</p>
</li>
<li>
<p><strong>currentReplicas</strong> (int32)</p>
<p>currentReplicas is the number of Pods created by the StatefulSet controller from the StatefulSet version indicated by currentRevision.</p>
</li>
<li>
<p><strong>updatedReplicas</strong> (int32)</p>
<p>updatedReplicas is the number of Pods created by the StatefulSet controller from the StatefulSet version indicated by updateRevision.</p>
</li>
<li>
<p><strong>availableReplicas</strong> (int32)</p>
<p>Total number of available pods (ready for at least minReadySeconds) targeted by this statefulset. This is an alpha field and requires enabling StatefulSetMinReadySeconds feature gate. Remove omitempty when graduating to beta</p>
</li>
<li>
<p><strong>collisionCount</strong> (int32)</p>
<p>collisionCount is the count of hash collisions for the StatefulSet. The StatefulSet controller uses this field as a collision avoidance mechanism when it needs to create the name for the newest ControllerRevision.</p>
</li>
<li>
<p><strong>conditions</strong> ([]StatefulSetCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Represents the latest available observations of a statefulset's current state.</p>
<p><a name=StatefulSetCondition></a>
<em>StatefulSetCondition describes the state of a statefulset at a certain point.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of statefulset condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>A human readable message indicating details about the transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>The reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>currentRevision</strong> (string)</p>
<p>currentRevision, if not empty, indicates the version of the StatefulSet used to generate Pods in the sequence [0,currentReplicas).</p>
</li>
<li>
<p><strong>updateRevision</strong> (string)</p>
<p>updateRevision, if not empty, indicates the version of the StatefulSet used to generate Pods in the sequence [replicas-updatedReplicas,replicas)</p>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>observedGeneration is the most recent generation observed for this StatefulSet. It corresponds to the StatefulSet's generation, which is updated on mutation by the API Server.</p>
</li>
</ul>
<h2 id=StatefulSetList>StatefulSetList</h2>
<p>StatefulSetList is a collection of StatefulSets.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: StatefulSetList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>), required</p>
<p>Items is the list of stateful sets.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-statefulset><code>get</code> read the specified StatefulSet</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-statefulset><code>get</code> read status of the specified StatefulSet</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-statefulset><code>list</code> list or watch objects of kind StatefulSet</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/statefulsets</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetList>StatefulSetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-statefulset-1><code>list</code> list or watch objects of kind StatefulSet</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/apps/v1/statefulsets</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSetList>StatefulSetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-statefulset><code>create</code> create a StatefulSet</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/apps/v1/namespaces/{namespace}/statefulsets</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-statefulset><code>update</code> replace the specified StatefulSet</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-statefulset><code>update</code> replace status of the specified StatefulSet</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-statefulset><code>patch</code> partially update the specified StatefulSet</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-statefulset><code>patch</code> partially update status of the specified StatefulSet</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/stateful-set-v1/#StatefulSet>StatefulSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-statefulset><code>delete</code> delete a StatefulSet</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/statefulsets/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StatefulSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-statefulset><code>deletecollection</code> delete collection of StatefulSet</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/statefulsets</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-203ad280adf3207ae06a933d6a78e464>5.1.7 - ControllerRevision</h1>
<div class=lead>ControllerRevision implements an immutable snapshot of state data.</div>
<p><code>apiVersion: apps/v1</code></p>
<p><code>import "k8s.io/api/apps/v1"</code></p>
<h2 id=ControllerRevision>ControllerRevision</h2>
<p>ControllerRevision implements an immutable snapshot of state data. Clients are responsible for serializing and deserializing the objects that contain their internal state. Once a ControllerRevision has been successfully created, it can not be updated. The API Server will fail validation of all requests that attempt to mutate the Data field. ControllerRevisions may, however, be deleted. Note that, due to its use by both the DaemonSet and StatefulSet controllers for update and rollback, this object is beta. However, it may be subject to name and representation changes in future releases, and clients should not depend on its stability. It is primarily for internal use by controllers.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: ControllerRevision</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>revision</strong> (int64), required</p>
<p>Revision indicates the revision of the state represented by Data.</p>
</li>
<li>
<p><strong>data</strong> (RawExtension)</p>
<p>Data is the serialized representation of the state.</p>
<p><a name=RawExtension></a>
*RawExtension is used to hold extensions in external versions.</p>
<p>To use this, make a field which has RawExtension as its type in your external, versioned struct, and Object in your internal struct. You also need to register your various plugin types.</p>
<p>// Internal package: type MyAPIObject struct {
runtime.TypeMeta <code>json:",inline"</code>
MyPlugin runtime.Object <code>json:"myPlugin"</code>
} type PluginA struct {
AOption string <code>json:"aOption"</code>
}</p>
<p>// External package: type MyAPIObject struct {
runtime.TypeMeta <code>json:",inline"</code>
MyPlugin runtime.RawExtension <code>json:"myPlugin"</code>
} type PluginA struct {
AOption string <code>json:"aOption"</code>
}</p>
<p>// On the wire, the JSON will look something like this: {
"kind":"MyAPIObject",
"apiVersion":"v1",
"myPlugin": {
"kind":"PluginA",
"aOption":"foo",
},
}</p>
<p>So what happens? Decode first uses json or yaml to unmarshal the serialized data into your external MyAPIObject. That causes the raw JSON to be stored, but not unpacked. The next step is to copy (using pkg/conversion) into the internal struct. The runtime package's DefaultScheme has conversion functions installed which will unpack the JSON stored in RawExtension, turning it into the correct object type, and storing it in the Object. (TODO: In the case where the object is of an unknown type, a runtime.Unknown object will be created and stored.)*</p>
</li>
</ul>
<h2 id=ControllerRevisionList>ControllerRevisionList</h2>
<p>ControllerRevisionList is a resource containing a list of ControllerRevision objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: ControllerRevisionList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>), required</p>
<p>Items is the list of ControllerRevisions</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-controllerrevision><code>get</code> read the specified ControllerRevision</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ControllerRevision</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-controllerrevision><code>list</code> list or watch objects of kind ControllerRevision</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/controllerrevisions</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevisionList>ControllerRevisionList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-controllerrevision-1><code>list</code> list or watch objects of kind ControllerRevision</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apps/v1/controllerrevisions</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevisionList>ControllerRevisionList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-controllerrevision><code>create</code> create a ControllerRevision</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/apps/v1/namespaces/{namespace}/controllerrevisions</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-controllerrevision><code>update</code> replace the specified ControllerRevision</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ControllerRevision</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-controllerrevision><code>patch</code> partially update the specified ControllerRevision</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ControllerRevision</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/controller-revision-v1/#ControllerRevision>ControllerRevision</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-controllerrevision><code>delete</code> delete a ControllerRevision</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/controllerrevisions/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ControllerRevision</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-controllerrevision><code>deletecollection</code> delete collection of ControllerRevision</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/controllerrevisions</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4efed40f98f8b85058d5aa64c1b40b99>5.1.8 - DaemonSet</h1>
<div class=lead>DaemonSet represents the configuration of a daemon set.</div>
<p><code>apiVersion: apps/v1</code></p>
<p><code>import "k8s.io/api/apps/v1"</code></p>
<h2 id=DaemonSet>DaemonSet</h2>
<p>DaemonSet represents the configuration of a daemon set.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: DaemonSet</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetSpec>DaemonSetSpec</a>)</p>
<p>The desired behavior of this daemon set. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetStatus>DaemonSetStatus</a>)</p>
<p>The current status of this daemon set. This data may be out of date by some window of time. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=DaemonSetSpec>DaemonSetSpec</h2>
<p>DaemonSetSpec is the specification of a daemon set.</p>
<hr>
<ul>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), required</p>
<p>A label query over pods that are managed by the daemon set. Must match in order to be controlled. It must match the pod template's labels. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p>
</li>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), required</p>
<p>An object that describes the pod that will be created. The DaemonSet will create exactly one copy of this pod on every node that matches the template's node selector (or on every node if no node selector is specified). More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template>https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller#pod-template</a></p>
</li>
<li>
<p><strong>minReadySeconds</strong> (int32)</p>
<p>The minimum number of seconds for which a newly created DaemonSet pod should be ready without any of its container crashing, for it to be considered available. Defaults to 0 (pod will be considered available as soon as it is ready).</p>
</li>
<li>
<p><strong>updateStrategy</strong> (DaemonSetUpdateStrategy)</p>
<p>An update strategy to replace existing DaemonSet pods with new pods.</p>
<p><a name=DaemonSetUpdateStrategy></a>
<em>DaemonSetUpdateStrategy is a struct used to control the update strategy for a DaemonSet.</em></p>
<ul>
<li>
<p><strong>updateStrategy.type</strong> (string)</p>
<p>Type of daemon set update. Can be "RollingUpdate" or "OnDelete". Default is RollingUpdate.</p>
</li>
<li>
<p><strong>updateStrategy.rollingUpdate</strong> (RollingUpdateDaemonSet)</p>
<p>Rolling update config params. Present only if type = "RollingUpdate".</p>
<p><a name=RollingUpdateDaemonSet></a>
<em>Spec to control the desired behavior of daemon set rolling update.</em></p>
<ul>
<li>
<p><strong>updateStrategy.rollingUpdate.maxSurge</strong> (IntOrString)</p>
<p>The maximum number of nodes with an existing available DaemonSet pod that can have an updated DaemonSet pod during during an update. Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%). This can not be 0 if MaxUnavailable is 0. Absolute number is calculated from percentage by rounding up to a minimum of 1. Default value is 0. Example: when this is set to 30%, at most 30% of the total number of nodes that should be running the daemon pod (i.e. status.desiredNumberScheduled) can have their a new pod created before the old pod is marked as deleted. The update starts by launching new pods on 30% of nodes. Once an updated pod is available (Ready for at least minReadySeconds) the old DaemonSet pod on that node is marked deleted. If the old pod becomes unavailable for any reason (Ready transitions to false, is evicted, or is drained) an updated pod is immediatedly created on that node without considering surge limits. Allowing surge implies the possibility that the resources consumed by the daemonset on any given node can double if the readiness check fails, and so resource intensive daemonsets should take into account that they may cause evictions during disruption. This is beta field and enabled/disabled by DaemonSetUpdateSurge feature gate.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>updateStrategy.rollingUpdate.maxUnavailable</strong> (IntOrString)</p>
<p>The maximum number of DaemonSet pods that can be unavailable during the update. Value can be an absolute number (ex: 5) or a percentage of total number of DaemonSet pods at the start of the update (ex: 10%). Absolute number is calculated from percentage by rounding up. This cannot be 0 if MaxSurge is 0 Default value is 1. Example: when this is set to 30%, at most 30% of the total number of nodes that should be running the daemon pod (i.e. status.desiredNumberScheduled) can have their pods stopped for an update at any given time. The update starts by stopping at most 30% of those DaemonSet pods and then brings up new DaemonSet pods in their place. Once the new pods are available, it then proceeds onto other DaemonSet pods, thus ensuring that at least 70% of original number of DaemonSet pods are available at all times during the update.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>revisionHistoryLimit</strong> (int32)</p>
<p>The number of old history to retain to allow rollback. This is a pointer to distinguish between explicit zero and not specified. Defaults to 10.</p>
</li>
</ul>
<h2 id=DaemonSetStatus>DaemonSetStatus</h2>
<p>DaemonSetStatus represents the current status of a daemon set.</p>
<hr>
<ul>
<li>
<p><strong>numberReady</strong> (int32), required</p>
<p>The number of nodes that should be running the daemon pod and have one or more of the daemon pod running and ready.</p>
</li>
<li>
<p><strong>numberAvailable</strong> (int32)</p>
<p>The number of nodes that should be running the daemon pod and have one or more of the daemon pod running and available (ready for at least spec.minReadySeconds)</p>
</li>
<li>
<p><strong>numberUnavailable</strong> (int32)</p>
<p>The number of nodes that should be running the daemon pod and have none of the daemon pod running and available (ready for at least spec.minReadySeconds)</p>
</li>
<li>
<p><strong>numberMisscheduled</strong> (int32), required</p>
<p>The number of nodes that are running the daemon pod, but are not supposed to run the daemon pod. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/>https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/</a></p>
</li>
<li>
<p><strong>desiredNumberScheduled</strong> (int32), required</p>
<p>The total number of nodes that should be running the daemon pod (including nodes correctly running the daemon pod). More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/>https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/</a></p>
</li>
<li>
<p><strong>currentNumberScheduled</strong> (int32), required</p>
<p>The number of nodes that are running at least 1 daemon pod and are supposed to run the daemon pod. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/>https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/</a></p>
</li>
<li>
<p><strong>updatedNumberScheduled</strong> (int32)</p>
<p>The total number of nodes that are running updated daemon pod</p>
</li>
<li>
<p><strong>collisionCount</strong> (int32)</p>
<p>Count of hash collisions for the DaemonSet. The DaemonSet controller uses this field as a collision avoidance mechanism when it needs to create the name for the newest ControllerRevision.</p>
</li>
<li>
<p><strong>conditions</strong> ([]DaemonSetCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Represents the latest available observations of a DaemonSet's current state.</p>
<p><a name=DaemonSetCondition></a>
<em>DaemonSetCondition describes the state of a DaemonSet at a certain point.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of DaemonSet condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>A human readable message indicating details about the transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>The reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>The most recent generation observed by the daemon set controller.</p>
</li>
</ul>
<h2 id=DaemonSetList>DaemonSetList</h2>
<p>DaemonSetList is a collection of daemon sets.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apps/v1</p>
</li>
<li>
<p><strong>kind</strong>: DaemonSetList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>), required</p>
<p>A list of daemon sets.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-daemonset><code>get</code> read the specified DaemonSet</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-daemonset><code>get</code> read status of the specified DaemonSet</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-daemonset><code>list</code> list or watch objects of kind DaemonSet</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apps/v1/namespaces/{namespace}/daemonsets</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetList>DaemonSetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-daemonset-1><code>list</code> list or watch objects of kind DaemonSet</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/apps/v1/daemonsets</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSetList>DaemonSetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-daemonset><code>create</code> create a DaemonSet</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/apps/v1/namespaces/{namespace}/daemonsets</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-daemonset><code>update</code> replace the specified DaemonSet</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-daemonset><code>update</code> replace status of the specified DaemonSet</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-daemonset><code>patch</code> partially update the specified DaemonSet</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-daemonset><code>patch</code> partially update status of the specified DaemonSet</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/daemon-set-v1/#DaemonSet>DaemonSet</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-daemonset><code>delete</code> delete a DaemonSet</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/daemonsets/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the DaemonSet</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-daemonset><code>deletecollection</code> delete collection of DaemonSet</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/apps/v1/namespaces/{namespace}/daemonsets</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-83b80f201ab5dccbbde519b7edc641ea>5.1.9 - Job</h1>
<div class=lead>Job represents the configuration of a single job.</div>
<p><code>apiVersion: batch/v1</code></p>
<p><code>import "k8s.io/api/batch/v1"</code></p>
<h2 id=Job>Job</h2>
<p>Job represents the configuration of a single job.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: batch/v1</p>
</li>
<li>
<p><strong>kind</strong>: Job</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#JobSpec>JobSpec</a>)</p>
<p>Specification of the desired behavior of a job. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#JobStatus>JobStatus</a>)</p>
<p>Current status of a job. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=JobSpec>JobSpec</h2>
<p>JobSpec describes how the job execution will look like.</p>
<hr>
<h3 id=replicas>Replicas</h3>
<ul>
<li>
<p><strong>template</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/pod-template-v1/#PodTemplateSpec>PodTemplateSpec</a>), required</p>
<p>Describes the pod that will be created when executing a job. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p>
</li>
<li>
<p><strong>parallelism</strong> (int32)</p>
<p>Specifies the maximum desired number of pods the job should run at any given time. The actual number of pods running in steady state will be less than this number when ((.spec.completions - .status.successful) &lt; .spec.parallelism), i.e. when the work left to do is less than max parallelism. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p>
</li>
</ul>
<h3 id=lifecycle>Lifecycle</h3>
<ul>
<li>
<p><strong>completions</strong> (int32)</p>
<p>Specifies the desired number of successfully finished pods the job should be run with. Setting to nil means that the success of any pod signals the success of all pods, and allows parallelism to have any positive value. Setting to 1 means that parallelism is limited to 1 and the success of that pod signals the success of the job. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p>
</li>
<li>
<p><strong>completionMode</strong> (string)</p>
<p>CompletionMode specifies how Pod completions are tracked. It can be <code>NonIndexed</code> (default) or <code>Indexed</code>.</p>
<p><code>NonIndexed</code> means that the Job is considered complete when there have been .spec.completions successfully completed Pods. Each Pod completion is homologous to each other.</p>
<p><code>Indexed</code> means that the Pods of a Job get an associated completion index from 0 to (.spec.completions - 1), available in the annotation batch.kubernetes.io/job-completion-index. The Job is considered complete when there is one successfully completed Pod for each index. When value is <code>Indexed</code>, .spec.completions must be specified and <code>.spec.parallelism</code> must be less than or equal to 10^5. In addition, The Pod name takes the form <code>$(job-name)-$(index)-$(random-string)</code>, the Pod hostname takes the form <code>$(job-name)-$(index)</code>.</p>
<p>This field is beta-level. More completion modes can be added in the future. If the Job controller observes a mode that it doesn't recognize, the controller skips updates for the Job.</p>
</li>
<li>
<p><strong>backoffLimit</strong> (int32)</p>
<p>Specifies the number of retries before marking this job failed. Defaults to 6</p>
</li>
<li>
<p><strong>activeDeadlineSeconds</strong> (int64)</p>
<p>Specifies the duration in seconds relative to the startTime that the job may be continuously active before the system tries to terminate it; value must be positive integer. If a Job is suspended (at creation or through an update), this timer will effectively be stopped and reset when the Job is resumed again.</p>
</li>
<li>
<p><strong>ttlSecondsAfterFinished</strong> (int32)</p>
<p>ttlSecondsAfterFinished limits the lifetime of a Job that has finished execution (either Complete or Failed). If this field is set, ttlSecondsAfterFinished after the Job finishes, it is eligible to be automatically deleted. When the Job is being deleted, its lifecycle guarantees (e.g. finalizers) will be honored. If this field is unset, the Job won't be automatically deleted. If this field is set to zero, the Job becomes eligible to be deleted immediately after it finishes. This field is alpha-level and is only honored by servers that enable the TTLAfterFinished feature.</p>
</li>
<li>
<p><strong>suspend</strong> (boolean)</p>
<p>Suspend specifies whether the Job controller should create Pods or not. If a Job is created with suspend set to true, no Pods are created by the Job controller. If a Job is suspended after creation (i.e. the flag goes from false to true), the Job controller will delete all active Pods associated with this Job. Users must design their workload to gracefully handle this. Suspending a Job will reset the StartTime field of the Job, effectively resetting the ActiveDeadlineSeconds timer too. Defaults to false.</p>
<p>This field is beta-level, gated by SuspendJob feature flag (enabled by default).</p>
</li>
</ul>
<h3 id=selector>Selector</h3>
<ul>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over pods that should match the pod count. Normally, the system sets this field for you. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors</a></p>
</li>
<li>
<p><strong>manualSelector</strong> (boolean)</p>
<p>manualSelector controls generation of pod labels and pod selectors. Leave <code>manualSelector</code> unset unless you are certain what you are doing. When false or unset, the system pick labels unique to this job and appends those labels to the pod template. When true, the user is responsible for picking unique labels and specifying the selector. Failure to pick a unique label may cause this and other jobs to not function correctly. However, You may see <code>manualSelector=true</code> in jobs that were created with the old <code>extensions/v1beta1</code> API. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#specifying-your-own-pod-selector>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/#specifying-your-own-pod-selector</a></p>
</li>
</ul>
<h2 id=JobStatus>JobStatus</h2>
<p>JobStatus represents the current state of a Job.</p>
<hr>
<ul>
<li>
<p><strong>startTime</strong> (Time)</p>
<p>Represents time when the job controller started processing a job. When a Job is created in the suspended state, this field is not set until the first time it is resumed. This field is reset every time a Job is resumed from suspension. It is represented in RFC3339 form and is in UTC.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>completionTime</strong> (Time)</p>
<p>Represents time when the job was completed. It is not guaranteed to be set in happens-before order across separate operations. It is represented in RFC3339 form and is in UTC. The completion time is only set when the job finishes successfully.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>active</strong> (int32)</p>
<p>The number of actively running pods.</p>
</li>
<li>
<p><strong>failed</strong> (int32)</p>
<p>The number of pods which reached phase Failed.</p>
</li>
<li>
<p><strong>succeeded</strong> (int32)</p>
<p>The number of pods which reached phase Succeeded.</p>
</li>
<li>
<p><strong>completedIndexes</strong> (string)</p>
<p>CompletedIndexes holds the completed indexes when .spec.completionMode = "Indexed" in a text format. The indexes are represented as decimal integers separated by commas. The numbers are listed in increasing order. Three or more consecutive numbers are compressed and represented by the first and last element of the series, separated by a hyphen. For example, if the completed indexes are 1, 3, 4, 5 and 7, they are represented as "1,3-5,7".</p>
</li>
<li>
<p><strong>conditions</strong> ([]JobCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>The latest available observations of an object's current state. When a Job fails, one of the conditions will have type "Failed" and status true. When a Job is suspended, one of the conditions will have type "Suspended" and status true; when the Job is resumed, the status of this condition will become false. When a Job is completed, one of the conditions will have type "Complete" and status true. More info: <a href=https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/>https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/</a></p>
<p><a name=JobCondition></a>
<em>JobCondition describes current state of a job.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of job condition, Complete or Failed.</p>
</li>
<li>
<p><strong>conditions.lastProbeTime</strong> (Time)</p>
<p>Last time the condition was checked.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transit from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>Human readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>(brief) reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>uncountedTerminatedPods</strong> (UncountedTerminatedPods)</p>
<p>UncountedTerminatedPods holds the UIDs of Pods that have terminated but the job controller hasn't yet accounted for in the status counters.</p>
<p>The job controller creates pods with a finalizer. When a pod terminates (succeeded or failed), the controller does three steps to account for it in the job status: (1) Add the pod UID to the arrays in this field. (2) Remove the pod finalizer. (3) Remove the pod UID from the arrays while increasing the corresponding
counter.</p>
<p>This field is alpha-level. The job controller only makes use of this field when the feature gate PodTrackingWithFinalizers is enabled. Old jobs might not be tracked using this field, in which case the field remains null.</p>
<p><a name=UncountedTerminatedPods></a>
<em>UncountedTerminatedPods holds UIDs of Pods that have terminated but haven't been accounted in Job status counters.</em></p>
<ul>
<li>
<p><strong>uncountedTerminatedPods.failed</strong> ([]string)</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p>Failed holds UIDs of failed Pods.</p>
</li>
<li>
<p><strong>uncountedTerminatedPods.succeeded</strong> ([]string)</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p>Succeeded holds UIDs of succeeded Pods.</p>
</li>
</ul>
</li>
</ul>
<h2 id=JobList>JobList</h2>
<p>JobList is a collection of jobs.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: batch/v1</p>
</li>
<li>
<p><strong>kind</strong>: JobList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>), required</p>
<p>items is the list of Jobs.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-job><code>get</code> read the specified Job</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-job><code>get</code> read status of the specified Job</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/batch/v1/namespaces/{namespace}/jobs/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-job><code>list</code> list or watch objects of kind Job</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/batch/v1/namespaces/{namespace}/jobs</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#JobList>JobList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-job-1><code>list</code> list or watch objects of kind Job</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/batch/v1/jobs</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#JobList>JobList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-job><code>create</code> create a Job</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/batch/v1/namespaces/{namespace}/jobs</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-job><code>update</code> replace the specified Job</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-job><code>update</code> replace status of the specified Job</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/batch/v1/namespaces/{namespace}/jobs/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-job><code>patch</code> partially update the specified Job</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-job><code>patch</code> partially update status of the specified Job</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/batch/v1/namespaces/{namespace}/jobs/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#Job>Job</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-job><code>delete</code> delete a Job</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/batch/v1/namespaces/{namespace}/jobs/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Job</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-job><code>deletecollection</code> delete collection of Job</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/batch/v1/namespaces/{namespace}/jobs</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-661762555507aff4c6bde1090179871f>5.1.10 - CronJob</h1>
<div class=lead>CronJob represents the configuration of a single cron job.</div>
<p><code>apiVersion: batch/v1</code></p>
<p><code>import "k8s.io/api/batch/v1"</code></p>
<h2 id=CronJob>CronJob</h2>
<p>CronJob represents the configuration of a single cron job.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: batch/v1</p>
</li>
<li>
<p><strong>kind</strong>: CronJob</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobSpec>CronJobSpec</a>)</p>
<p>Specification of the desired behavior of a cron job, including the schedule. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobStatus>CronJobStatus</a>)</p>
<p>Current status of a cron job. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=CronJobSpec>CronJobSpec</h2>
<p>CronJobSpec describes how the job execution will look like and when it will actually run.</p>
<hr>
<ul>
<li>
<p><strong>jobTemplate</strong> (JobTemplateSpec), required</p>
<p>Specifies the job that will be created when executing a CronJob.</p>
<p><a name=JobTemplateSpec></a>
<em>JobTemplateSpec describes the data a Job should have when created from a template</em></p>
<ul>
<li>
<p><strong>jobTemplate.metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata of the jobs created from this template. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>jobTemplate.spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/job-v1/#JobSpec>JobSpec</a>)</p>
<p>Specification of the desired behavior of the job. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
</li>
<li>
<p><strong>schedule</strong> (string), required</p>
<p>The schedule in Cron format, see <a href=https://en.wikipedia.org/wiki/Cron>https://en.wikipedia.org/wiki/Cron</a>.</p>
</li>
<li>
<p><strong>concurrencyPolicy</strong> (string)</p>
<p>Specifies how to treat concurrent executions of a Job. Valid values are: - "Allow" (default): allows CronJobs to run concurrently; - "Forbid": forbids concurrent runs, skipping next run if previous run hasn't finished yet; - "Replace": cancels currently running job and replaces it with a new one</p>
</li>
<li>
<p><strong>startingDeadlineSeconds</strong> (int64)</p>
<p>Optional deadline in seconds for starting the job if it misses scheduled time for any reason. Missed jobs executions will be counted as failed ones.</p>
</li>
<li>
<p><strong>suspend</strong> (boolean)</p>
<p>This flag tells the controller to suspend subsequent executions, it does not apply to already started executions. Defaults to false.</p>
</li>
<li>
<p><strong>successfulJobsHistoryLimit</strong> (int32)</p>
<p>The number of successful finished jobs to retain. Value must be non-negative integer. Defaults to 3.</p>
</li>
<li>
<p><strong>failedJobsHistoryLimit</strong> (int32)</p>
<p>The number of failed finished jobs to retain. Value must be non-negative integer. Defaults to 1.</p>
</li>
</ul>
<h2 id=CronJobStatus>CronJobStatus</h2>
<p>CronJobStatus represents the current state of a cron job.</p>
<hr>
<ul>
<li>
<p><strong>active</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>A list of pointers to currently running jobs.</p>
</li>
<li>
<p><strong>lastScheduleTime</strong> (Time)</p>
<p>Information when was the last time the job was successfully scheduled.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>lastSuccessfulTime</strong> (Time)</p>
<p>Information when was the last time the job successfully completed.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
<h2 id=CronJobList>CronJobList</h2>
<p>CronJobList is a collection of cron jobs.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: batch/v1</p>
</li>
<li>
<p><strong>kind</strong>: CronJobList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>), required</p>
<p>items is the list of CronJobs.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-cronjob><code>get</code> read the specified CronJob</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-cronjob><code>get</code> read status of the specified CronJob</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-cronjob><code>list</code> list or watch objects of kind CronJob</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/batch/v1/namespaces/{namespace}/cronjobs</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobList>CronJobList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-cronjob-1><code>list</code> list or watch objects of kind CronJob</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/batch/v1/cronjobs</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJobList>CronJobList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-cronjob><code>create</code> create a CronJob</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/batch/v1/namespaces/{namespace}/cronjobs</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-cronjob><code>update</code> replace the specified CronJob</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-cronjob><code>update</code> replace status of the specified CronJob</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-cronjob><code>patch</code> partially update the specified CronJob</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-cronjob><code>patch</code> partially update status of the specified CronJob</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/cron-job-v1/#CronJob>CronJob</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-cronjob><code>delete</code> delete a CronJob</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/batch/v1/namespaces/{namespace}/cronjobs/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CronJob</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-cronjob><code>deletecollection</code> delete collection of CronJob</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/batch/v1/namespaces/{namespace}/cronjobs</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-dc6f15a65358762dd1015f9f080829a0>5.1.11 - HorizontalPodAutoscaler</h1>
<div class=lead>configuration of a horizontal pod autoscaler.</div>
<p><code>apiVersion: autoscaling/v1</code></p>
<p><code>import "k8s.io/api/autoscaling/v1"</code></p>
<h2 id=HorizontalPodAutoscaler>HorizontalPodAutoscaler</h2>
<p>configuration of a horizontal pod autoscaler.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: autoscaling/v1</p>
</li>
<li>
<p><strong>kind</strong>: HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</a>)</p>
<p>behaviour of autoscaler. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a>.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</a>)</p>
<p>current information about the autoscaler.</p>
</li>
</ul>
<h2 id=HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</h2>
<p>specification of a horizontal pod autoscaler.</p>
<hr>
<ul>
<li>
<p><strong>maxReplicas</strong> (int32), required</p>
<p>upper limit for the number of pods that can be set by the autoscaler; cannot be smaller than MinReplicas.</p>
</li>
<li>
<p><strong>scaleTargetRef</strong> (CrossVersionObjectReference), required</p>
<p>reference to scaled resource; horizontal pod autoscaler will learn the current resource consumption and will set the desired number of pods by using its Scale subresource.</p>
<p><a name=CrossVersionObjectReference></a>
<em>CrossVersionObjectReference contains enough information to let you identify the referred resource.</em></p>
<ul>
<li>
<p><strong>scaleTargetRef.kind</strong> (string), required</p>
<p>Kind of the referent; More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p>
</li>
<li>
<p><strong>scaleTargetRef.name</strong> (string), required</p>
<p>Name of the referent; More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p>
</li>
<li>
<p><strong>scaleTargetRef.apiVersion</strong> (string)</p>
<p>API version of the referent</p>
</li>
</ul>
</li>
<li>
<p><strong>minReplicas</strong> (int32)</p>
<p>minReplicas is the lower limit for the number of replicas to which the autoscaler can scale down. It defaults to 1 pod. minReplicas is allowed to be 0 if the alpha feature gate HPAScaleToZero is enabled and at least one Object or External metric is configured. Scaling is active as long as at least one metric value is available.</p>
</li>
<li>
<p><strong>targetCPUUtilizationPercentage</strong> (int32)</p>
<p>target average CPU utilization (represented as a percentage of requested CPU) over all the pods; if not specified the default autoscaling policy will be used.</p>
</li>
</ul>
<h2 id=HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</h2>
<p>current status of a horizontal pod autoscaler</p>
<hr>
<ul>
<li>
<p><strong>currentReplicas</strong> (int32), required</p>
<p>current number of replicas of pods managed by this autoscaler.</p>
</li>
<li>
<p><strong>desiredReplicas</strong> (int32), required</p>
<p>desired number of replicas of pods managed by this autoscaler.</p>
</li>
<li>
<p><strong>currentCPUUtilizationPercentage</strong> (int32)</p>
<p>current average CPU utilization over all pods, represented as a percentage of requested CPU, e.g. 70 means that an average pod is using now 70% of its requested CPU.</p>
</li>
<li>
<p><strong>lastScaleTime</strong> (Time)</p>
<p>last time the HorizontalPodAutoscaler scaled the number of pods; used by the autoscaler to control how often the number of pods is changed.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>most recent generation observed by this autoscaler.</p>
</li>
</ul>
<h2 id=HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</h2>
<p>list of horizontal pod autoscaler objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: autoscaling/v1</p>
</li>
<li>
<p><strong>kind</strong>: HorizontalPodAutoscalerList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>), required</p>
<p>list of horizontal pod autoscaler objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-horizontalpodautoscaler><code>get</code> read the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-horizontalpodautoscaler><code>get</code> read status of the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-horizontalpodautoscaler><code>list</code> list or watch objects of kind HorizontalPodAutoscaler</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-horizontalpodautoscaler-1><code>list</code> list or watch objects of kind HorizontalPodAutoscaler</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/autoscaling/v1/horizontalpodautoscalers</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-horizontalpodautoscaler><code>create</code> create a HorizontalPodAutoscaler</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-horizontalpodautoscaler><code>update</code> replace the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-horizontalpodautoscaler><code>update</code> replace status of the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-horizontalpodautoscaler><code>patch</code> partially update the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-horizontalpodautoscaler><code>patch</code> partially update status of the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v1/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-horizontalpodautoscaler><code>delete</code> delete a HorizontalPodAutoscaler</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-horizontalpodautoscaler><code>deletecollection</code> delete collection of HorizontalPodAutoscaler</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/autoscaling/v1/namespaces/{namespace}/horizontalpodautoscalers</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e449828c2ccbcf4be4605daf395a9109>5.1.12 - HorizontalPodAutoscaler v2beta2</h1>
<div class=lead>HorizontalPodAutoscaler is the configuration for a horizontal pod autoscaler, which automatically manages the replica count of any resource implementing the scale subresource based on the metrics specified.</div>
<p><code>apiVersion: autoscaling/v2beta2</code></p>
<p><code>import "k8s.io/api/autoscaling/v2beta2"</code></p>
<h2 id=HorizontalPodAutoscaler>HorizontalPodAutoscaler</h2>
<p>HorizontalPodAutoscaler is the configuration for a horizontal pod autoscaler, which automatically manages the replica count of any resource implementing the scale subresource based on the metrics specified.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: autoscaling/v2beta2</p>
</li>
<li>
<p><strong>kind</strong>: HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>metadata is the standard object metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</a>)</p>
<p>spec is the specification for the behaviour of the autoscaler. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a>.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</a>)</p>
<p>status is the current information about the autoscaler.</p>
</li>
</ul>
<h2 id=HorizontalPodAutoscalerSpec>HorizontalPodAutoscalerSpec</h2>
<p>HorizontalPodAutoscalerSpec describes the desired functionality of the HorizontalPodAutoscaler.</p>
<hr>
<ul>
<li>
<p><strong>maxReplicas</strong> (int32), required</p>
<p>maxReplicas is the upper limit for the number of replicas to which the autoscaler can scale up. It cannot be less that minReplicas.</p>
</li>
<li>
<p><strong>scaleTargetRef</strong> (CrossVersionObjectReference), required</p>
<p>scaleTargetRef points to the target resource to scale, and is used to the pods for which metrics should be collected, as well as to actually change the replica count.</p>
<p><a name=CrossVersionObjectReference></a>
<em>CrossVersionObjectReference contains enough information to let you identify the referred resource.</em></p>
<ul>
<li>
<p><strong>scaleTargetRef.kind</strong> (string), required</p>
<p>Kind of the referent; More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p>
</li>
<li>
<p><strong>scaleTargetRef.name</strong> (string), required</p>
<p>Name of the referent; More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p>
</li>
<li>
<p><strong>scaleTargetRef.apiVersion</strong> (string)</p>
<p>API version of the referent</p>
</li>
</ul>
</li>
<li>
<p><strong>minReplicas</strong> (int32)</p>
<p>minReplicas is the lower limit for the number of replicas to which the autoscaler can scale down. It defaults to 1 pod. minReplicas is allowed to be 0 if the alpha feature gate HPAScaleToZero is enabled and at least one Object or External metric is configured. Scaling is active as long as at least one metric value is available.</p>
</li>
<li>
<p><strong>behavior</strong> (HorizontalPodAutoscalerBehavior)</p>
<p>behavior configures the scaling behavior of the target in both Up and Down directions (scaleUp and scaleDown fields respectively). If not set, the default HPAScalingRules for scale up and scale down are used.</p>
<p><a name=HorizontalPodAutoscalerBehavior></a>
<em>HorizontalPodAutoscalerBehavior configures the scaling behavior of the target in both Up and Down directions (scaleUp and scaleDown fields respectively).</em></p>
<ul>
<li>
<p><strong>behavior.scaleDown</strong> (HPAScalingRules)</p>
<p>scaleDown is scaling policy for scaling Down. If not set, the default value is to allow to scale down to minReplicas pods, with a 300 second stabilization window (i.e., the highest recommendation for the last 300sec is used).</p>
<p><a name=HPAScalingRules></a>
<em>HPAScalingRules configures the scaling behavior for one direction. These Rules are applied after calculating DesiredReplicas from metrics for the HPA. They can limit the scaling velocity by specifying scaling policies. They can prevent flapping by specifying the stabilization window, so that the number of replicas is not set instantly, instead, the safest value from the stabilization window is chosen.</em></p>
<ul>
<li>
<p><strong>behavior.scaleDown.policies</strong> ([]HPAScalingPolicy)</p>
<p>policies is a list of potential scaling polices which can be used during scaling. At least one policy must be specified, otherwise the HPAScalingRules will be discarded as invalid</p>
<p><a name=HPAScalingPolicy></a>
<em>HPAScalingPolicy is a single policy which must hold true for a specified past interval.</em></p>
<ul>
<li>
<p><strong>behavior.scaleDown.policies.type</strong> (string), required</p>
<p>Type is used to specify the scaling policy.</p>
</li>
<li>
<p><strong>behavior.scaleDown.policies.value</strong> (int32), required</p>
<p>Value contains the amount of change which is permitted by the policy. It must be greater than zero</p>
</li>
<li>
<p><strong>behavior.scaleDown.policies.periodSeconds</strong> (int32), required</p>
<p>PeriodSeconds specifies the window of time for which the policy should hold true. PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).</p>
</li>
</ul>
</li>
<li>
<p><strong>behavior.scaleDown.selectPolicy</strong> (string)</p>
<p>selectPolicy is used to specify which policy should be used. If not set, the default value MaxPolicySelect is used.</p>
</li>
<li>
<p><strong>behavior.scaleDown.stabilizationWindowSeconds</strong> (int32)</p>
<p>StabilizationWindowSeconds is the number of seconds for which past recommendations should be considered while scaling up or scaling down. StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour). If not set, use the default values: - For scale up: 0 (i.e. no stabilization is done). - For scale down: 300 (i.e. the stabilization window is 300 seconds long).</p>
</li>
</ul>
</li>
<li>
<p><strong>behavior.scaleUp</strong> (HPAScalingRules)</p>
<p>scaleUp is scaling policy for scaling Up. If not set, the default value is the higher of:</p>
<ul>
<li>increase no more than 4 pods per 60 seconds</li>
<li>double the number of pods per 60 seconds
No stabilization is used.</li>
</ul>
<p><a name=HPAScalingRules></a>
<em>HPAScalingRules configures the scaling behavior for one direction. These Rules are applied after calculating DesiredReplicas from metrics for the HPA. They can limit the scaling velocity by specifying scaling policies. They can prevent flapping by specifying the stabilization window, so that the number of replicas is not set instantly, instead, the safest value from the stabilization window is chosen.</em></p>
<ul>
<li>
<p><strong>behavior.scaleUp.policies</strong> ([]HPAScalingPolicy)</p>
<p>policies is a list of potential scaling polices which can be used during scaling. At least one policy must be specified, otherwise the HPAScalingRules will be discarded as invalid</p>
<p><a name=HPAScalingPolicy></a>
<em>HPAScalingPolicy is a single policy which must hold true for a specified past interval.</em></p>
<ul>
<li>
<p><strong>behavior.scaleUp.policies.type</strong> (string), required</p>
<p>Type is used to specify the scaling policy.</p>
</li>
<li>
<p><strong>behavior.scaleUp.policies.value</strong> (int32), required</p>
<p>Value contains the amount of change which is permitted by the policy. It must be greater than zero</p>
</li>
<li>
<p><strong>behavior.scaleUp.policies.periodSeconds</strong> (int32), required</p>
<p>PeriodSeconds specifies the window of time for which the policy should hold true. PeriodSeconds must be greater than zero and less than or equal to 1800 (30 min).</p>
</li>
</ul>
</li>
<li>
<p><strong>behavior.scaleUp.selectPolicy</strong> (string)</p>
<p>selectPolicy is used to specify which policy should be used. If not set, the default value MaxPolicySelect is used.</p>
</li>
<li>
<p><strong>behavior.scaleUp.stabilizationWindowSeconds</strong> (int32)</p>
<p>StabilizationWindowSeconds is the number of seconds for which past recommendations should be considered while scaling up or scaling down. StabilizationWindowSeconds must be greater than or equal to zero and less than or equal to 3600 (one hour). If not set, use the default values: - For scale up: 0 (i.e. no stabilization is done). - For scale down: 300 (i.e. the stabilization window is 300 seconds long).</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>metrics</strong> ([]MetricSpec)</p>
<p>metrics contains the specifications for which to use to calculate the desired replica count (the maximum replica count across all metrics will be used). The desired replica count is calculated multiplying the ratio between the target value and the current value by the current number of pods. Ergo, metrics used must decrease as the pod count is increased, and vice-versa. See the individual metric source types for more information about how each type of metric must respond. If not set, the default metric will be set to 80% average CPU utilization.</p>
<p><a name=MetricSpec></a>
<em>MetricSpec specifies how to scale based on a single metric (only <code>type</code> and one other matching field should be set at once).</em></p>
<ul>
<li>
<p><strong>metrics.type</strong> (string), required</p>
<p>type is the type of metric source. It should be one of "ContainerResource", "External", "Object", "Pods" or "Resource", each mapping to a matching field in the object. Note: "ContainerResource" type is available on when the feature-gate HPAContainerMetrics is enabled</p>
</li>
<li>
<p><strong>metrics.containerResource</strong> (ContainerResourceMetricSource)</p>
<p>container resource refers to a resource metric (such as those specified in requests and limits) known to Kubernetes describing a single container in each pod of the current scale target (e.g. CPU or memory). Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source. This is an alpha feature and can be enabled by the HPAContainerMetrics feature flag.</p>
<p><a name=ContainerResourceMetricSource></a>
<em>ContainerResourceMetricSource indicates how to scale on a resource metric known to Kubernetes, as specified in requests and limits, describing each pod in the current scale target (e.g. CPU or memory). The values will be averaged together before being compared to the target. Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source. Only one "target" type should be set.</em></p>
<ul>
<li>
<p><strong>metrics.containerResource.container</strong> (string), required</p>
<p>container is the name of the container in the pods of the scaling target</p>
</li>
<li>
<p><strong>metrics.containerResource.name</strong> (string), required</p>
<p>name is the name of the resource in question.</p>
</li>
<li>
<p><strong>metrics.containerResource.target</strong> (MetricTarget), required</p>
<p>target specifies the target value for the given metric</p>
<p><a name=MetricTarget></a>
<em>MetricTarget defines the target value, average value, or average utilization of a specific metric</em></p>
<ul>
<li>
<p><strong>metrics.containerResource.target.type</strong> (string), required</p>
<p>type represents whether the metric type is Utilization, Value, or AverageValue</p>
</li>
<li>
<p><strong>metrics.containerResource.target.averageUtilization</strong> (int32)</p>
<p>averageUtilization is the target value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods. Currently only valid for Resource metric source type</p>
</li>
<li>
<p><strong>metrics.containerResource.target.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the target value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>metrics.containerResource.target.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the target value of the metric (as a quantity).</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>metrics.external</strong> (ExternalMetricSource)</p>
<p>external refers to a global metric that is not associated with any Kubernetes object. It allows autoscaling based on information coming from components running outside of cluster (for example length of queue in cloud messaging service, or QPS from loadbalancer running outside of cluster).</p>
<p><a name=ExternalMetricSource></a>
<em>ExternalMetricSource indicates how to scale on a metric not associated with any Kubernetes object (for example length of queue in cloud messaging service, or QPS from loadbalancer running outside of cluster).</em></p>
<ul>
<li>
<p><strong>metrics.external.metric</strong> (MetricIdentifier), required</p>
<p>metric identifies the target metric by name and selector</p>
<p><a name=MetricIdentifier></a>
<em>MetricIdentifier defines the name and optionally selector for a metric</em></p>
<ul>
<li>
<p><strong>metrics.external.metric.name</strong> (string), required</p>
<p>name is the name of the given metric</p>
</li>
<li>
<p><strong>metrics.external.metric.selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>selector is the string-encoded form of a standard kubernetes label selector for the given metric When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping. When unset, just the metricName will be used to gather metrics.</p>
</li>
</ul>
</li>
<li>
<p><strong>metrics.external.target</strong> (MetricTarget), required</p>
<p>target specifies the target value for the given metric</p>
<p><a name=MetricTarget></a>
<em>MetricTarget defines the target value, average value, or average utilization of a specific metric</em></p>
<ul>
<li>
<p><strong>metrics.external.target.type</strong> (string), required</p>
<p>type represents whether the metric type is Utilization, Value, or AverageValue</p>
</li>
<li>
<p><strong>metrics.external.target.averageUtilization</strong> (int32)</p>
<p>averageUtilization is the target value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods. Currently only valid for Resource metric source type</p>
</li>
<li>
<p><strong>metrics.external.target.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the target value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>metrics.external.target.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the target value of the metric (as a quantity).</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>metrics.object</strong> (ObjectMetricSource)</p>
<p>object refers to a metric describing a single kubernetes object (for example, hits-per-second on an Ingress object).</p>
<p><a name=ObjectMetricSource></a>
<em>ObjectMetricSource indicates how to scale on a metric describing a kubernetes object (for example, hits-per-second on an Ingress object).</em></p>
<ul>
<li>
<p><strong>metrics.object.describedObject</strong> (CrossVersionObjectReference), required</p>
<p><a name=CrossVersionObjectReference></a>
<em>CrossVersionObjectReference contains enough information to let you identify the referred resource.</em></p>
<ul>
<li>
<p><strong>metrics.object.describedObject.kind</strong> (string), required</p>
<p>Kind of the referent; More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p>
</li>
<li>
<p><strong>metrics.object.describedObject.name</strong> (string), required</p>
<p>Name of the referent; More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p>
</li>
<li>
<p><strong>metrics.object.describedObject.apiVersion</strong> (string)</p>
<p>API version of the referent</p>
</li>
</ul>
</li>
<li>
<p><strong>metrics.object.metric</strong> (MetricIdentifier), required</p>
<p>metric identifies the target metric by name and selector</p>
<p><a name=MetricIdentifier></a>
<em>MetricIdentifier defines the name and optionally selector for a metric</em></p>
<ul>
<li>
<p><strong>metrics.object.metric.name</strong> (string), required</p>
<p>name is the name of the given metric</p>
</li>
<li>
<p><strong>metrics.object.metric.selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>selector is the string-encoded form of a standard kubernetes label selector for the given metric When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping. When unset, just the metricName will be used to gather metrics.</p>
</li>
</ul>
</li>
<li>
<p><strong>metrics.object.target</strong> (MetricTarget), required</p>
<p>target specifies the target value for the given metric</p>
<p><a name=MetricTarget></a>
<em>MetricTarget defines the target value, average value, or average utilization of a specific metric</em></p>
<ul>
<li>
<p><strong>metrics.object.target.type</strong> (string), required</p>
<p>type represents whether the metric type is Utilization, Value, or AverageValue</p>
</li>
<li>
<p><strong>metrics.object.target.averageUtilization</strong> (int32)</p>
<p>averageUtilization is the target value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods. Currently only valid for Resource metric source type</p>
</li>
<li>
<p><strong>metrics.object.target.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the target value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>metrics.object.target.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the target value of the metric (as a quantity).</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>metrics.pods</strong> (PodsMetricSource)</p>
<p>pods refers to a metric describing each pod in the current scale target (for example, transactions-processed-per-second). The values will be averaged together before being compared to the target value.</p>
<p><a name=PodsMetricSource></a>
<em>PodsMetricSource indicates how to scale on a metric describing each pod in the current scale target (for example, transactions-processed-per-second). The values will be averaged together before being compared to the target value.</em></p>
<ul>
<li>
<p><strong>metrics.pods.metric</strong> (MetricIdentifier), required</p>
<p>metric identifies the target metric by name and selector</p>
<p><a name=MetricIdentifier></a>
<em>MetricIdentifier defines the name and optionally selector for a metric</em></p>
<ul>
<li>
<p><strong>metrics.pods.metric.name</strong> (string), required</p>
<p>name is the name of the given metric</p>
</li>
<li>
<p><strong>metrics.pods.metric.selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>selector is the string-encoded form of a standard kubernetes label selector for the given metric When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping. When unset, just the metricName will be used to gather metrics.</p>
</li>
</ul>
</li>
<li>
<p><strong>metrics.pods.target</strong> (MetricTarget), required</p>
<p>target specifies the target value for the given metric</p>
<p><a name=MetricTarget></a>
<em>MetricTarget defines the target value, average value, or average utilization of a specific metric</em></p>
<ul>
<li>
<p><strong>metrics.pods.target.type</strong> (string), required</p>
<p>type represents whether the metric type is Utilization, Value, or AverageValue</p>
</li>
<li>
<p><strong>metrics.pods.target.averageUtilization</strong> (int32)</p>
<p>averageUtilization is the target value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods. Currently only valid for Resource metric source type</p>
</li>
<li>
<p><strong>metrics.pods.target.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the target value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>metrics.pods.target.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the target value of the metric (as a quantity).</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>metrics.resource</strong> (ResourceMetricSource)</p>
<p>resource refers to a resource metric (such as those specified in requests and limits) known to Kubernetes describing each pod in the current scale target (e.g. CPU or memory). Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source.</p>
<p><a name=ResourceMetricSource></a>
<em>ResourceMetricSource indicates how to scale on a resource metric known to Kubernetes, as specified in requests and limits, describing each pod in the current scale target (e.g. CPU or memory). The values will be averaged together before being compared to the target. Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source. Only one "target" type should be set.</em></p>
<ul>
<li>
<p><strong>metrics.resource.name</strong> (string), required</p>
<p>name is the name of the resource in question.</p>
</li>
<li>
<p><strong>metrics.resource.target</strong> (MetricTarget), required</p>
<p>target specifies the target value for the given metric</p>
<p><a name=MetricTarget></a>
<em>MetricTarget defines the target value, average value, or average utilization of a specific metric</em></p>
<ul>
<li>
<p><strong>metrics.resource.target.type</strong> (string), required</p>
<p>type represents whether the metric type is Utilization, Value, or AverageValue</p>
</li>
<li>
<p><strong>metrics.resource.target.averageUtilization</strong> (int32)</p>
<p>averageUtilization is the target value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods. Currently only valid for Resource metric source type</p>
</li>
<li>
<p><strong>metrics.resource.target.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the target value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>metrics.resource.target.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the target value of the metric (as a quantity).</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=HorizontalPodAutoscalerStatus>HorizontalPodAutoscalerStatus</h2>
<p>HorizontalPodAutoscalerStatus describes the current status of a horizontal pod autoscaler.</p>
<hr>
<ul>
<li>
<p><strong>conditions</strong> ([]HorizontalPodAutoscalerCondition), required</p>
<p>conditions is the set of conditions required for this autoscaler to scale its target, and indicates whether or not those conditions are met.</p>
<p><a name=HorizontalPodAutoscalerCondition></a>
<em>HorizontalPodAutoscalerCondition describes the state of a HorizontalPodAutoscaler at a certain point.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>status is the status of the condition (True, False, Unknown)</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>type describes the current condition</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>lastTransitionTime is the last time the condition transitioned from one status to another</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>message is a human-readable explanation containing details about the transition</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>reason is the reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>currentReplicas</strong> (int32), required</p>
<p>currentReplicas is current number of replicas of pods managed by this autoscaler, as last seen by the autoscaler.</p>
</li>
<li>
<p><strong>desiredReplicas</strong> (int32), required</p>
<p>desiredReplicas is the desired number of replicas of pods managed by this autoscaler, as last calculated by the autoscaler.</p>
</li>
<li>
<p><strong>currentMetrics</strong> ([]MetricStatus)</p>
<p>currentMetrics is the last read state of the metrics used by this autoscaler.</p>
<p><a name=MetricStatus></a>
<em>MetricStatus describes the last-read state of a single metric.</em></p>
<ul>
<li>
<p><strong>currentMetrics.type</strong> (string), required</p>
<p>type is the type of metric source. It will be one of "ContainerResource", "External", "Object", "Pods" or "Resource", each corresponds to a matching field in the object. Note: "ContainerResource" type is available on when the feature-gate HPAContainerMetrics is enabled</p>
</li>
<li>
<p><strong>currentMetrics.containerResource</strong> (ContainerResourceMetricStatus)</p>
<p>container resource refers to a resource metric (such as those specified in requests and limits) known to Kubernetes describing a single container in each pod in the current scale target (e.g. CPU or memory). Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source.</p>
<p><a name=ContainerResourceMetricStatus></a>
<em>ContainerResourceMetricStatus indicates the current value of a resource metric known to Kubernetes, as specified in requests and limits, describing a single container in each pod in the current scale target (e.g. CPU or memory). Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source.</em></p>
<ul>
<li>
<p><strong>currentMetrics.containerResource.container</strong> (string), required</p>
<p>Container is the name of the container in the pods of the scaling target</p>
</li>
<li>
<p><strong>currentMetrics.containerResource.current</strong> (MetricValueStatus), required</p>
<p>current contains the current value for the given metric</p>
<p><a name=MetricValueStatus></a>
<em>MetricValueStatus holds the current value for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.containerResource.current.averageUtilization</strong> (int32)</p>
<p>currentAverageUtilization is the current value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods.</p>
</li>
<li>
<p><strong>currentMetrics.containerResource.current.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the current value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>currentMetrics.containerResource.current.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the current value of the metric (as a quantity).</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.containerResource.name</strong> (string), required</p>
<p>Name is the name of the resource in question.</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.external</strong> (ExternalMetricStatus)</p>
<p>external refers to a global metric that is not associated with any Kubernetes object. It allows autoscaling based on information coming from components running outside of cluster (for example length of queue in cloud messaging service, or QPS from loadbalancer running outside of cluster).</p>
<p><a name=ExternalMetricStatus></a>
<em>ExternalMetricStatus indicates the current value of a global metric not associated with any Kubernetes object.</em></p>
<ul>
<li>
<p><strong>currentMetrics.external.current</strong> (MetricValueStatus), required</p>
<p>current contains the current value for the given metric</p>
<p><a name=MetricValueStatus></a>
<em>MetricValueStatus holds the current value for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.external.current.averageUtilization</strong> (int32)</p>
<p>currentAverageUtilization is the current value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods.</p>
</li>
<li>
<p><strong>currentMetrics.external.current.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the current value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>currentMetrics.external.current.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the current value of the metric (as a quantity).</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.external.metric</strong> (MetricIdentifier), required</p>
<p>metric identifies the target metric by name and selector</p>
<p><a name=MetricIdentifier></a>
<em>MetricIdentifier defines the name and optionally selector for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.external.metric.name</strong> (string), required</p>
<p>name is the name of the given metric</p>
</li>
<li>
<p><strong>currentMetrics.external.metric.selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>selector is the string-encoded form of a standard kubernetes label selector for the given metric When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping. When unset, just the metricName will be used to gather metrics.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.object</strong> (ObjectMetricStatus)</p>
<p>object refers to a metric describing a single kubernetes object (for example, hits-per-second on an Ingress object).</p>
<p><a name=ObjectMetricStatus></a>
<em>ObjectMetricStatus indicates the current value of a metric describing a kubernetes object (for example, hits-per-second on an Ingress object).</em></p>
<ul>
<li>
<p><strong>currentMetrics.object.current</strong> (MetricValueStatus), required</p>
<p>current contains the current value for the given metric</p>
<p><a name=MetricValueStatus></a>
<em>MetricValueStatus holds the current value for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.object.current.averageUtilization</strong> (int32)</p>
<p>currentAverageUtilization is the current value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods.</p>
</li>
<li>
<p><strong>currentMetrics.object.current.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the current value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>currentMetrics.object.current.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the current value of the metric (as a quantity).</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.object.describedObject</strong> (CrossVersionObjectReference), required</p>
<p><a name=CrossVersionObjectReference></a>
<em>CrossVersionObjectReference contains enough information to let you identify the referred resource.</em></p>
<ul>
<li>
<p><strong>currentMetrics.object.describedObject.kind</strong> (string), required</p>
<p>Kind of the referent; More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds%22>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"</a></p>
</li>
<li>
<p><strong>currentMetrics.object.describedObject.name</strong> (string), required</p>
<p>Name of the referent; More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p>
</li>
<li>
<p><strong>currentMetrics.object.describedObject.apiVersion</strong> (string)</p>
<p>API version of the referent</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.object.metric</strong> (MetricIdentifier), required</p>
<p>metric identifies the target metric by name and selector</p>
<p><a name=MetricIdentifier></a>
<em>MetricIdentifier defines the name and optionally selector for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.object.metric.name</strong> (string), required</p>
<p>name is the name of the given metric</p>
</li>
<li>
<p><strong>currentMetrics.object.metric.selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>selector is the string-encoded form of a standard kubernetes label selector for the given metric When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping. When unset, just the metricName will be used to gather metrics.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.pods</strong> (PodsMetricStatus)</p>
<p>pods refers to a metric describing each pod in the current scale target (for example, transactions-processed-per-second). The values will be averaged together before being compared to the target value.</p>
<p><a name=PodsMetricStatus></a>
<em>PodsMetricStatus indicates the current value of a metric describing each pod in the current scale target (for example, transactions-processed-per-second).</em></p>
<ul>
<li>
<p><strong>currentMetrics.pods.current</strong> (MetricValueStatus), required</p>
<p>current contains the current value for the given metric</p>
<p><a name=MetricValueStatus></a>
<em>MetricValueStatus holds the current value for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.pods.current.averageUtilization</strong> (int32)</p>
<p>currentAverageUtilization is the current value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods.</p>
</li>
<li>
<p><strong>currentMetrics.pods.current.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the current value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>currentMetrics.pods.current.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the current value of the metric (as a quantity).</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.pods.metric</strong> (MetricIdentifier), required</p>
<p>metric identifies the target metric by name and selector</p>
<p><a name=MetricIdentifier></a>
<em>MetricIdentifier defines the name and optionally selector for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.pods.metric.name</strong> (string), required</p>
<p>name is the name of the given metric</p>
</li>
<li>
<p><strong>currentMetrics.pods.metric.selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>selector is the string-encoded form of a standard kubernetes label selector for the given metric When set, it is passed as an additional parameter to the metrics server for more specific metrics scoping. When unset, just the metricName will be used to gather metrics.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.resource</strong> (ResourceMetricStatus)</p>
<p>resource refers to a resource metric (such as those specified in requests and limits) known to Kubernetes describing each pod in the current scale target (e.g. CPU or memory). Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source.</p>
<p><a name=ResourceMetricStatus></a>
<em>ResourceMetricStatus indicates the current value of a resource metric known to Kubernetes, as specified in requests and limits, describing each pod in the current scale target (e.g. CPU or memory). Such metrics are built in to Kubernetes, and have special scaling options on top of those available to normal per-pod metrics using the "pods" source.</em></p>
<ul>
<li>
<p><strong>currentMetrics.resource.current</strong> (MetricValueStatus), required</p>
<p>current contains the current value for the given metric</p>
<p><a name=MetricValueStatus></a>
<em>MetricValueStatus holds the current value for a metric</em></p>
<ul>
<li>
<p><strong>currentMetrics.resource.current.averageUtilization</strong> (int32)</p>
<p>currentAverageUtilization is the current value of the average of the resource metric across all relevant pods, represented as a percentage of the requested value of the resource for the pods.</p>
</li>
<li>
<p><strong>currentMetrics.resource.current.averageValue</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>averageValue is the current value of the average of the metric across all relevant pods (as a quantity)</p>
</li>
<li>
<p><strong>currentMetrics.resource.current.value</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>value is the current value of the metric (as a quantity).</p>
</li>
</ul>
</li>
<li>
<p><strong>currentMetrics.resource.name</strong> (string), required</p>
<p>Name is the name of the resource in question.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>lastScaleTime</strong> (Time)</p>
<p>lastScaleTime is the last time the HorizontalPodAutoscaler scaled the number of pods, used by the autoscaler to control how often the number of pods is changed.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>observedGeneration is the most recent generation observed by this autoscaler.</p>
</li>
</ul>
<h2 id=HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</h2>
<p>HorizontalPodAutoscalerList is a list of horizontal pod autoscaler objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: autoscaling/v2beta2</p>
</li>
<li>
<p><strong>kind</strong>: HorizontalPodAutoscalerList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>metadata is the standard list metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>), required</p>
<p>items is the list of horizontal pod autoscaler objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-horizontalpodautoscaler><code>get</code> read the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-horizontalpodautoscaler><code>get</code> read status of the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-horizontalpodautoscaler><code>list</code> list or watch objects of kind HorizontalPodAutoscaler</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-horizontalpodautoscaler-1><code>list</code> list or watch objects of kind HorizontalPodAutoscaler</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/autoscaling/v2beta2/horizontalpodautoscalers</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscalerList>HorizontalPodAutoscalerList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-horizontalpodautoscaler><code>create</code> create a HorizontalPodAutoscaler</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-horizontalpodautoscaler><code>update</code> replace the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-horizontalpodautoscaler><code>update</code> replace status of the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-horizontalpodautoscaler><code>patch</code> partially update the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-horizontalpodautoscaler><code>patch</code> partially update status of the specified HorizontalPodAutoscaler</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/horizontal-pod-autoscaler-v2beta2/#HorizontalPodAutoscaler>HorizontalPodAutoscaler</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-horizontalpodautoscaler><code>delete</code> delete a HorizontalPodAutoscaler</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the HorizontalPodAutoscaler</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-horizontalpodautoscaler><code>deletecollection</code> delete collection of HorizontalPodAutoscaler</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/autoscaling/v2beta2/namespaces/{namespace}/horizontalpodautoscalers</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-707d238ce24c4c3026aa7ef29968e3f7>5.1.13 - PriorityClass</h1>
<div class=lead>PriorityClass defines mapping from a priority class name to the priority integer value.</div>
<p><code>apiVersion: scheduling.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/scheduling/v1"</code></p>
<h2 id=PriorityClass>PriorityClass</h2>
<p>PriorityClass defines mapping from a priority class name to the priority integer value. The value can be any valid integer.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: scheduling.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: PriorityClass</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>value</strong> (int32), required</p>
<p>The value of this priority class. This is the actual priority that pods receive when they have the name of this class in their pod spec.</p>
</li>
<li>
<p><strong>description</strong> (string)</p>
<p>description is an arbitrary string that usually provides guidelines on when this priority class should be used.</p>
</li>
<li>
<p><strong>globalDefault</strong> (boolean)</p>
<p>globalDefault specifies whether this PriorityClass should be considered as the default priority for pods that do not have any priority class. Only one PriorityClass can be marked as <code>globalDefault</code>. However, if more than one PriorityClasses exists with their <code>globalDefault</code> field set to true, the smallest value of such global default PriorityClasses will be used as the default priority.</p>
</li>
<li>
<p><strong>preemptionPolicy</strong> (string)</p>
<p>PreemptionPolicy is the Policy for preempting pods with lower priority. One of Never, PreemptLowerPriority. Defaults to PreemptLowerPriority if unset. This field is beta-level, gated by the NonPreemptingPriority feature-gate.</p>
</li>
</ul>
<h2 id=PriorityClassList>PriorityClassList</h2>
<p>PriorityClassList is a collection of priority classes.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: scheduling.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: PriorityClassList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>), required</p>
<p>items is the list of PriorityClasses</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-priorityclass><code>get</code> read the specified PriorityClass</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityClass</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-priorityclass><code>list</code> list or watch objects of kind PriorityClass</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/scheduling.k8s.io/v1/priorityclasses</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClassList>PriorityClassList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-priorityclass><code>create</code> create a PriorityClass</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/scheduling.k8s.io/v1/priorityclasses</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-priorityclass><code>update</code> replace the specified PriorityClass</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-priorityclass><code>patch</code> partially update the specified PriorityClass</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/priority-class-v1/#PriorityClass>PriorityClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-priorityclass><code>delete</code> delete a PriorityClass</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/scheduling.k8s.io/v1/priorityclasses/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-priorityclass><code>deletecollection</code> delete collection of PriorityClass</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/scheduling.k8s.io/v1/priorityclasses</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-54e55c546ba2153921dc8b78bafd699e>5.2 - Service Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-106baf3be98dce0a42ad9ea7df796679>5.2.1 - Service</h1>
<div class=lead>Service is a named abstraction of software service (for example, mysql) consisting of local port (for example 3306) that the proxy listens on, and the selector that determines which pods will answer requests sent through the proxy.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Service>Service</h2>
<p>Service is a named abstraction of software service (for example, mysql) consisting of local port (for example 3306) that the proxy listens on, and the selector that determines which pods will answer requests sent through the proxy.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Service</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceSpec>ServiceSpec</a>)</p>
<p>Spec defines the behavior of a service. <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceStatus>ServiceStatus</a>)</p>
<p>Most recently observed status of the service. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=ServiceSpec>ServiceSpec</h2>
<p>ServiceSpec describes the attributes that a user creates on a service.</p>
<hr>
<ul>
<li>
<p><strong>selector</strong> (map[string]string)</p>
<p>Route service traffic to pods with label keys and values matching this selector. If empty or not present, the service is assumed to have an external process managing its endpoints, which Kubernetes will not modify. Only applies to types ClusterIP, NodePort, and LoadBalancer. Ignored if type is ExternalName. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/>https://kubernetes.io/docs/concepts/services-networking/service/</a></p>
</li>
<li>
<p><strong>ports</strong> ([]ServicePort)</p>
<p><em>Patch strategy: merge on key <code>port</code></em></p>
<p><em>Map: unique values on keys <code>port, protocol</code> will be kept during a merge</em></p>
<p>The list of ports that are exposed by this service. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p>
<p><a name=ServicePort></a>
<em>ServicePort contains information on service's port.</em></p>
<ul>
<li>
<p><strong>ports.port</strong> (int32), required</p>
<p>The port that will be exposed by this service.</p>
</li>
<li>
<p><strong>ports.targetPort</strong> (IntOrString)</p>
<p>Number or name of the port to access on the pods targeted by the service. Number must be in the range 1 to 65535. Name must be an IANA_SVC_NAME. If this is a string, it will be looked up as a named port in the target Pod's container ports. If this is not specified, the value of the 'port' field is used (an identity map). This field is ignored for services with clusterIP=None, and should be omitted or set equal to the 'port' field. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#defining-a-service>https://kubernetes.io/docs/concepts/services-networking/service/#defining-a-service</a></p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>ports.protocol</strong> (string)</p>
<p>The IP protocol for this port. Supports "TCP", "UDP", and "SCTP". Default is TCP.</p>
</li>
<li>
<p><strong>ports.name</strong> (string)</p>
<p>The name of this port within the service. This must be a DNS_LABEL. All ports within a ServiceSpec must have unique names. When considering the endpoints for a Service, this must match the 'name' field in the EndpointPort. Optional if only one ServicePort is defined on this service.</p>
</li>
<li>
<p><strong>ports.nodePort</strong> (int32)</p>
<p>The port on each node on which this service is exposed when type is NodePort or LoadBalancer. Usually assigned by the system. If a value is specified, in-range, and not in use it will be used, otherwise the operation will fail. If not specified, a port will be allocated if this Service requires one. If this field is specified when creating a Service which does not need it, creation will fail. This field will be wiped when updating a Service to no longer need it (e.g. changing type from NodePort to ClusterIP). More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport>https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport</a></p>
</li>
<li>
<p><strong>ports.appProtocol</strong> (string)</p>
<p>The application protocol for this port. This field follows standard Kubernetes label syntax. Un-prefixed names are reserved for IANA standard service names (as per RFC-6335 and <a href=http://www.iana.org/assignments/service-names)>http://www.iana.org/assignments/service-names)</a>. Non-standard protocols should use prefixed names such as mycompany.com/my-custom-protocol.</p>
</li>
</ul>
</li>
<li>
<p><strong>type</strong> (string)</p>
<p>type determines how the Service is exposed. Defaults to ClusterIP. Valid options are ExternalName, ClusterIP, NodePort, and LoadBalancer. "ClusterIP" allocates a cluster-internal IP address for load-balancing to endpoints. Endpoints are determined by the selector or if that is not specified, by manual construction of an Endpoints object or EndpointSlice objects. If clusterIP is "None", no virtual IP is allocated and the endpoints are published as a set of endpoints rather than a virtual IP. "NodePort" builds on ClusterIP and allocates a port on every node which routes to the same endpoints as the clusterIP. "LoadBalancer" builds on NodePort and creates an external load-balancer (if supported in the current cloud) which routes to the same endpoints as the clusterIP. "ExternalName" aliases this service to the specified externalName. Several other fields do not apply to ExternalName services. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types>https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types</a></p>
</li>
<li>
<p><strong>ipFamilies</strong> ([]string)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>IPFamilies is a list of IP families (e.g. IPv4, IPv6) assigned to this service, and is gated by the "IPv6DualStack" feature gate. This field is usually assigned automatically based on cluster configuration and the ipFamilyPolicy field. If this field is specified manually, the requested family is available in the cluster, and ipFamilyPolicy allows it, it will be used; otherwise creation of the service will fail. This field is conditionally mutable: it allows for adding or removing a secondary IP family, but it does not allow changing the primary IP family of the Service. Valid values are "IPv4" and "IPv6". This field only applies to Services of types ClusterIP, NodePort, and LoadBalancer, and does apply to "headless" services. This field will be wiped when updating a Service to type ExternalName.</p>
<p>This field may hold a maximum of two entries (dual-stack families, in either order). These families must correspond to the values of the clusterIPs field, if specified. Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field.</p>
</li>
<li>
<p><strong>ipFamilyPolicy</strong> (string)</p>
<p>IPFamilyPolicy represents the dual-stack-ness requested or required by this Service, and is gated by the "IPv6DualStack" feature gate. If there is no value provided, then this field will be set to SingleStack. Services can be "SingleStack" (a single IP family), "PreferDualStack" (two IP families on dual-stack configured clusters or a single IP family on single-stack clusters), or "RequireDualStack" (two IP families on dual-stack configured clusters, otherwise fail). The ipFamilies and clusterIPs fields depend on the value of this field. This field will be wiped when updating a service to type ExternalName.</p>
</li>
<li>
<p><strong>clusterIP</strong> (string)</p>
<p>clusterIP is the IP address of the service and is usually assigned randomly. If an address is specified manually, is in-range (as per system configuration), and is not in use, it will be allocated to the service; otherwise creation of the service will fail. This field may not be changed through updates unless the type field is also being changed to ExternalName (which requires this field to be blank) or the type field is being changed from ExternalName (in which case this field may optionally be specified, as describe above). Valid values are "None", empty string (""), or a valid IP address. Setting this to "None" makes a "headless service" (no virtual IP), which is useful when direct endpoint connections are preferred and proxying is not required. Only applies to types ClusterIP, NodePort, and LoadBalancer. If this field is specified when creating a Service of type ExternalName, creation will fail. This field will be wiped when updating a Service to type ExternalName. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p>
</li>
<li>
<p><strong>clusterIPs</strong> ([]string)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>ClusterIPs is a list of IP addresses assigned to this service, and are usually assigned randomly. If an address is specified manually, is in-range (as per system configuration), and is not in use, it will be allocated to the service; otherwise creation of the service will fail. This field may not be changed through updates unless the type field is also being changed to ExternalName (which requires this field to be empty) or the type field is being changed from ExternalName (in which case this field may optionally be specified, as describe above). Valid values are "None", empty string (""), or a valid IP address. Setting this to "None" makes a "headless service" (no virtual IP), which is useful when direct endpoint connections are preferred and proxying is not required. Only applies to types ClusterIP, NodePort, and LoadBalancer. If this field is specified when creating a Service of type ExternalName, creation will fail. This field will be wiped when updating a Service to type ExternalName. If this field is not specified, it will be initialized from the clusterIP field. If this field is specified, clients must ensure that clusterIPs[0] and clusterIP have the same value.</p>
<p>Unless the "IPv6DualStack" feature gate is enabled, this field is limited to one value, which must be the same as the clusterIP field. If the feature gate is enabled, this field may hold a maximum of two entries (dual-stack IPs, in either order). These IPs must correspond to the values of the ipFamilies field. Both clusterIPs and ipFamilies are governed by the ipFamilyPolicy field. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p>
</li>
<li>
<p><strong>externalIPs</strong> ([]string)</p>
<p>externalIPs is a list of IP addresses for which nodes in the cluster will also accept traffic for this service. These IPs are not managed by Kubernetes. The user is responsible for ensuring that traffic arrives at a node with this IP. A common example is external load-balancers that are not part of the Kubernetes system.</p>
</li>
<li>
<p><strong>sessionAffinity</strong> (string)</p>
<p>Supports "ClientIP" and "None". Used to maintain session affinity. Enable client IP based session affinity. Must be ClientIP or None. Defaults to None. More info: <a href=https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies</a></p>
</li>
<li>
<p><strong>loadBalancerIP</strong> (string)</p>
<p>Only applies to Service Type: LoadBalancer LoadBalancer will get created with the IP specified in this field. This feature depends on whether the underlying cloud-provider supports specifying the loadBalancerIP when a load balancer is created. This field will be ignored if the cloud-provider does not support the feature.</p>
</li>
<li>
<p><strong>loadBalancerSourceRanges</strong> ([]string)</p>
<p>If specified and supported by the platform, this will restrict traffic through the cloud-provider load-balancer will be restricted to the specified client IPs. This field will be ignored if the cloud-provider does not support the feature." More info: <a href=https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/>https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/</a></p>
</li>
<li>
<p><strong>loadBalancerClass</strong> (string)</p>
<p>loadBalancerClass is the class of the load balancer implementation this Service belongs to. If specified, the value of this field must be a label-style identifier, with an optional prefix, e.g. "internal-vip" or "example.com/internal-vip". Unprefixed names are reserved for end-users. This field can only be set when the Service type is 'LoadBalancer'. If not set, the default load balancer implementation is used, today this is typically done through the cloud provider integration, but should apply for any default implementation. If set, it is assumed that a load balancer implementation is watching for Services with a matching class. Any default load balancer implementation (e.g. cloud providers) should ignore Services that set this field. This field can only be set when creating or updating a Service to type 'LoadBalancer'. Once set, it can not be changed. This field will be wiped when a service is updated to a non 'LoadBalancer' type.</p>
</li>
<li>
<p><strong>externalName</strong> (string)</p>
<p>externalName is the external reference that discovery mechanisms will return as an alias for this service (e.g. a DNS CNAME record). No proxying will be involved. Must be a lowercase RFC-1123 hostname (<a href=https://tools.ietf.org/html/rfc1123>https://tools.ietf.org/html/rfc1123</a>) and requires <code>type</code> to be "ExternalName".</p>
</li>
<li>
<p><strong>externalTrafficPolicy</strong> (string)</p>
<p>externalTrafficPolicy denotes if this Service desires to route external traffic to node-local or cluster-wide endpoints. "Local" preserves the client source IP and avoids a second hop for LoadBalancer and Nodeport type services, but risks potentially imbalanced traffic spreading. "Cluster" obscures the client source IP and may cause a second hop to another node, but should have good overall load-spreading.</p>
</li>
<li>
<p><strong>internalTrafficPolicy</strong> (string)</p>
<p>InternalTrafficPolicy specifies if the cluster internal traffic should be routed to all endpoints or node-local endpoints only. "Cluster" routes internal traffic to a Service to all endpoints. "Local" routes traffic to node-local endpoints only, traffic is dropped if no node-local endpoints are ready. The default value is "Cluster".</p>
</li>
<li>
<p><strong>healthCheckNodePort</strong> (int32)</p>
<p>healthCheckNodePort specifies the healthcheck nodePort for the service. This only applies when type is set to LoadBalancer and externalTrafficPolicy is set to Local. If a value is specified, is in-range, and is not in use, it will be used. If not specified, a value will be automatically allocated. External systems (e.g. load-balancers) can use this port to determine if a given node holds endpoints for this service or not. If this field is specified when creating a Service which does not need it, creation will fail. This field will be wiped when updating a Service to no longer need it (e.g. changing type).</p>
</li>
<li>
<p><strong>publishNotReadyAddresses</strong> (boolean)</p>
<p>publishNotReadyAddresses indicates that any agent which deals with endpoints for this Service should disregard any indications of ready/not-ready. The primary use case for setting this field is for a StatefulSet's Headless Service to propagate SRV DNS records for its Pods for the purpose of peer discovery. The Kubernetes controllers that generate Endpoints and EndpointSlice resources for Services interpret this to mean that all endpoints are considered "ready" even if the Pods themselves are not. Agents which consume only Kubernetes generated endpoints through the Endpoints or EndpointSlice resources can safely assume this behavior.</p>
</li>
<li>
<p><strong>sessionAffinityConfig</strong> (SessionAffinityConfig)</p>
<p>sessionAffinityConfig contains the configurations of session affinity.</p>
<p><a name=SessionAffinityConfig></a>
<em>SessionAffinityConfig represents the configurations of session affinity.</em></p>
<ul>
<li>
<p><strong>sessionAffinityConfig.clientIP</strong> (ClientIPConfig)</p>
<p>clientIP contains the configurations of Client IP based session affinity.</p>
<p><a name=ClientIPConfig></a>
<em>ClientIPConfig represents the configurations of Client IP based session affinity.</em></p>
<ul>
<li>
<p><strong>sessionAffinityConfig.clientIP.timeoutSeconds</strong> (int32)</p>
<p>timeoutSeconds specifies the seconds of ClientIP type session sticky time. The value must be >0 && &lt;=86400(for 1 day) if ServiceAffinity == "ClientIP". Default value is 10800(for 3 hours).</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>allocateLoadBalancerNodePorts</strong> (boolean)</p>
<p>allocateLoadBalancerNodePorts defines if NodePorts will be automatically allocated for services with type LoadBalancer. Default is "true". It may be set to "false" if the cluster load-balancer does not rely on NodePorts. If the caller requests specific NodePorts (by specifying a value), those requests will be respected, regardless of this field. This field may only be set for services with type LoadBalancer and will be cleared if the type is changed to any other type. This field is beta-level and is only honored by servers that enable the ServiceLBNodePortControl feature.</p>
</li>
</ul>
<h2 id=ServiceStatus>ServiceStatus</h2>
<p>ServiceStatus represents the current status of a service.</p>
<hr>
<ul>
<li>
<p><strong>conditions</strong> ([]Condition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p>Current service state</p>
<p><a name=Condition></a>
<em>Condition contains details for one aspect of the current state of this API Resource.</em></p>
<ul>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time), required</p>
<p>lastTransitionTime is the last time the condition transitioned from one status to another. This should be when the underlying condition changed. If that is not known, then using the time when the API field changed is acceptable.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string), required</p>
<p>message is a human readable message indicating details about the transition. This may be an empty string.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string), required</p>
<p>reason contains a programmatic identifier indicating the reason for the condition's last transition. Producers of specific condition types may define expected values and meanings for this field, and whether the values are considered a guaranteed API. The value should be a CamelCase string. This field may not be empty.</p>
</li>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>type of condition in CamelCase or in foo.example.com/CamelCase.</p>
</li>
<li>
<p><strong>conditions.observedGeneration</strong> (int64)</p>
<p>observedGeneration represents the .metadata.generation that the condition was set based upon. For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date with respect to the current state of the instance.</p>
</li>
</ul>
</li>
<li>
<p><strong>loadBalancer</strong> (LoadBalancerStatus)</p>
<p>LoadBalancer contains the current status of the load-balancer, if one is present.</p>
<p><a name=LoadBalancerStatus></a>
<em>LoadBalancerStatus represents the status of a load-balancer.</em></p>
<ul>
<li>
<p><strong>loadBalancer.ingress</strong> ([]LoadBalancerIngress)</p>
<p>Ingress is a list containing ingress points for the load-balancer. Traffic intended for the service should be sent to these ingress points.</p>
<p><a name=LoadBalancerIngress></a>
<em>LoadBalancerIngress represents the status of a load-balancer ingress point: traffic intended for the service should be sent to an ingress point.</em></p>
<ul>
<li>
<p><strong>loadBalancer.ingress.hostname</strong> (string)</p>
<p>Hostname is set for load-balancer ingress points that are DNS based (typically AWS load-balancers)</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ip</strong> (string)</p>
<p>IP is set for load-balancer ingress points that are IP based (typically GCE or OpenStack load-balancers)</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ports</strong> ([]PortStatus)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>Ports is a list of records of service ports If used, every port defined in the service should have an entry in it</p>
<p><a name=PortStatus></a>
**</p>
<ul>
<li>
<p><strong>loadBalancer.ingress.ports.port</strong> (int32), required</p>
<p>Port is the port number of the service port of which status is recorded here</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ports.protocol</strong> (string), required</p>
<p>Protocol is the protocol of the service port of which status is recorded here The supported values are: "TCP", "UDP", "SCTP"</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ports.error</strong> (string)</p>
<p>Error is to record the problem with the service port The format of the error shall comply with the following rules: - built-in error values shall be specified in this file and those shall use
CamelCase names</p>
<ul>
<li>cloud provider specific error values must have names that comply with the
format foo.example.com/CamelCase.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=ServiceList>ServiceList</h2>
<p>ServiceList holds a list of services.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ServiceList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>), required</p>
<p>List of services</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-service><code>get</code> read the specified Service</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/services/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-service><code>get</code> read status of the specified Service</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/services/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-service><code>list</code> list or watch objects of kind Service</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/services</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceList>ServiceList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-service-1><code>list</code> list or watch objects of kind Service</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /api/v1/services</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#ServiceList>ServiceList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-service><code>create</code> create a Service</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/services</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-service><code>update</code> replace the specified Service</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/services/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-service><code>update</code> replace status of the specified Service</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/services/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-service><code>patch</code> partially update the specified Service</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/services/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-service><code>patch</code> partially update status of the specified Service</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/services/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/service-v1/#Service>Service</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-service><code>delete</code> delete a Service</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/services/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Service</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3f9a97d28a4b596c8d33d230e2b3dd6e>5.2.2 - Endpoints</h1>
<div class=lead>Endpoints is a collection of endpoints that implement the actual service.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Endpoints>Endpoints</h2>
<p>Endpoints is a collection of endpoints that implement the actual service. Example:
Name: "mysvc",
Subsets: [
{
Addresses: [{"ip": "10.10.1.1"}, {"ip": "10.10.2.2"}],
Ports: [{"name": "a", "port": 8675}, {"name": "b", "port": 309}]
},
{
Addresses: [{"ip": "10.10.3.3"}],
Ports: [{"name": "a", "port": 93}, {"name": "b", "port": 76}]
},
]</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Endpoints</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>subsets</strong> ([]EndpointSubset)</p>
<p>The set of all endpoints is the union of all subsets. Addresses are placed into subsets according to the IPs they share. A single address with multiple ports, some of which are ready and some of which are not (because they come from different containers) will result in the address being displayed in different subsets for the different ports. No address will appear in both Addresses and NotReadyAddresses in the same subset. Sets of addresses and ports that comprise a service.</p>
<p><a name=EndpointSubset></a>
<em>EndpointSubset is a group of addresses with a common set of ports. The expanded set of endpoints is the Cartesian product of Addresses x Ports. For example, given:
{
Addresses: [{"ip": "10.10.1.1"}, {"ip": "10.10.2.2"}],
Ports: [{"name": "a", "port": 8675}, {"name": "b", "port": 309}]
}
The resulting set of endpoints can be viewed as:
a: [ 10.10.1.1:8675, 10.10.2.2:8675 ],
b: [ 10.10.1.1:309, 10.10.2.2:309 ]</em></p>
<ul>
<li>
<p><strong>subsets.addresses</strong> ([]EndpointAddress)</p>
<p>IP addresses which offer the related ports that are marked as ready. These endpoints should be considered safe for load balancers and clients to utilize.</p>
<p><a name=EndpointAddress></a>
<em>EndpointAddress is a tuple that describes single IP address.</em></p>
<ul>
<li>
<p><strong>subsets.addresses.ip</strong> (string), required</p>
<p>The IP of this endpoint. May not be loopback (127.0.0.0/8), link-local (169.254.0.0/16), or link-local multicast ((224.0.0.0/24). IPv6 is also accepted but not fully supported on all platforms. Also, certain kubernetes components, like kube-proxy, are not IPv6 ready.</p>
</li>
<li>
<p><strong>subsets.addresses.hostname</strong> (string)</p>
<p>The Hostname of this endpoint</p>
</li>
<li>
<p><strong>subsets.addresses.nodeName</strong> (string)</p>
<p>Optional: Node hosting this endpoint. This can be used to determine endpoints local to a node.</p>
</li>
<li>
<p><strong>subsets.addresses.targetRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>Reference to object providing the endpoint.</p>
</li>
</ul>
</li>
<li>
<p><strong>subsets.notReadyAddresses</strong> ([]EndpointAddress)</p>
<p>IP addresses which offer the related ports but are not currently marked as ready because they have not yet finished starting, have recently failed a readiness check, or have recently failed a liveness check.</p>
<p><a name=EndpointAddress></a>
<em>EndpointAddress is a tuple that describes single IP address.</em></p>
<ul>
<li>
<p><strong>subsets.notReadyAddresses.ip</strong> (string), required</p>
<p>The IP of this endpoint. May not be loopback (127.0.0.0/8), link-local (169.254.0.0/16), or link-local multicast ((224.0.0.0/24). IPv6 is also accepted but not fully supported on all platforms. Also, certain kubernetes components, like kube-proxy, are not IPv6 ready.</p>
</li>
<li>
<p><strong>subsets.notReadyAddresses.hostname</strong> (string)</p>
<p>The Hostname of this endpoint</p>
</li>
<li>
<p><strong>subsets.notReadyAddresses.nodeName</strong> (string)</p>
<p>Optional: Node hosting this endpoint. This can be used to determine endpoints local to a node.</p>
</li>
<li>
<p><strong>subsets.notReadyAddresses.targetRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>Reference to object providing the endpoint.</p>
</li>
</ul>
</li>
<li>
<p><strong>subsets.ports</strong> ([]EndpointPort)</p>
<p>Port numbers available on the related IP addresses.</p>
<p><a name=EndpointPort></a>
<em>EndpointPort is a tuple that describes a single port.</em></p>
<ul>
<li>
<p><strong>subsets.ports.port</strong> (int32), required</p>
<p>The port number of the endpoint.</p>
</li>
<li>
<p><strong>subsets.ports.protocol</strong> (string)</p>
<p>The IP protocol for this port. Must be UDP, TCP, or SCTP. Default is TCP.</p>
</li>
<li>
<p><strong>subsets.ports.name</strong> (string)</p>
<p>The name of this port. This must match the 'name' field in the corresponding ServicePort. Must be a DNS_LABEL. Optional only if one port is defined.</p>
</li>
<li>
<p><strong>subsets.ports.appProtocol</strong> (string)</p>
<p>The application protocol for this port. This field follows standard Kubernetes label syntax. Un-prefixed names are reserved for IANA standard service names (as per RFC-6335 and <a href=http://www.iana.org/assignments/service-names)>http://www.iana.org/assignments/service-names)</a>. Non-standard protocols should use prefixed names such as mycompany.com/my-custom-protocol.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=EndpointsList>EndpointsList</h2>
<p>EndpointsList is a list of endpoints.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: EndpointsList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>), required</p>
<p>List of endpoints.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-endpoints><code>get</code> read the specified Endpoints</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/endpoints/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Endpoints</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-endpoints><code>list</code> list or watch objects of kind Endpoints</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/endpoints</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#EndpointsList>EndpointsList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-endpoints-1><code>list</code> list or watch objects of kind Endpoints</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/endpoints</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#EndpointsList>EndpointsList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-endpoints><code>create</code> create Endpoints</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/endpoints</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-endpoints><code>update</code> replace the specified Endpoints</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/endpoints/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Endpoints</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-endpoints><code>patch</code> partially update the specified Endpoints</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/endpoints/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Endpoints</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoints-v1/#Endpoints>Endpoints</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-endpoints><code>delete</code> delete Endpoints</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/endpoints/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Endpoints</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-endpoints><code>deletecollection</code> delete collection of Endpoints</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/endpoints</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c9e5f15a68e325ce17ea168bcabd33e5>5.2.3 - EndpointSlice</h1>
<div class=lead>EndpointSlice represents a subset of the endpoints that implement a service.</div>
<p><code>apiVersion: discovery.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/discovery/v1"</code></p>
<h2 id=EndpointSlice>EndpointSlice</h2>
<p>EndpointSlice represents a subset of the endpoints that implement a service. For a given service there may be multiple EndpointSlice objects, selected by labels, which must be joined to produce the full set of endpoints.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: discovery.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: EndpointSlice</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>addressType</strong> (string), required</p>
<p>addressType specifies the type of address carried by this EndpointSlice. All addresses in this slice must be the same type. This field is immutable after creation. The following address types are currently supported: * IPv4: Represents an IPv4 Address. * IPv6: Represents an IPv6 Address. * FQDN: Represents a Fully Qualified Domain Name.</p>
</li>
<li>
<p><strong>endpoints</strong> ([]Endpoint), required</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>endpoints is a list of unique endpoints in this slice. Each slice may include a maximum of 1000 endpoints.</p>
<p><a name=Endpoint></a>
<em>Endpoint represents a single logical "backend" implementing a service.</em></p>
<ul>
<li>
<p><strong>endpoints.addresses</strong> ([]string), required</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p>addresses of this endpoint. The contents of this field are interpreted according to the corresponding EndpointSlice addressType field. Consumers must handle different types of addresses in the context of their own capabilities. This must contain at least one address but no more than 100.</p>
</li>
<li>
<p><strong>endpoints.conditions</strong> (EndpointConditions)</p>
<p>conditions contains information about the current status of the endpoint.</p>
<p><a name=EndpointConditions></a>
<em>EndpointConditions represents the current condition of an endpoint.</em></p>
<ul>
<li>
<p><strong>endpoints.conditions.ready</strong> (boolean)</p>
<p>ready indicates that this endpoint is prepared to receive traffic, according to whatever system is managing the endpoint. A nil value indicates an unknown state. In most cases consumers should interpret this unknown state as ready. For compatibility reasons, ready should never be "true" for terminating endpoints.</p>
</li>
<li>
<p><strong>endpoints.conditions.serving</strong> (boolean)</p>
<p>serving is identical to ready except that it is set regardless of the terminating state of endpoints. This condition should be set to true for a ready endpoint that is terminating. If nil, consumers should defer to the ready condition. This field can be enabled with the EndpointSliceTerminatingCondition feature gate.</p>
</li>
<li>
<p><strong>endpoints.conditions.terminating</strong> (boolean)</p>
<p>terminating indicates that this endpoint is terminating. A nil value indicates an unknown state. Consumers should interpret this unknown state to mean that the endpoint is not terminating. This field can be enabled with the EndpointSliceTerminatingCondition feature gate.</p>
</li>
</ul>
</li>
<li>
<p><strong>endpoints.deprecatedTopology</strong> (map[string]string)</p>
<p>deprecatedTopology contains topology information part of the v1beta1 API. This field is deprecated, and will be removed when the v1beta1 API is removed (no sooner than kubernetes v1.24). While this field can hold values, it is not writable through the v1 API, and any attempts to write to it will be silently ignored. Topology information can be found in the zone and nodeName fields instead.</p>
</li>
<li>
<p><strong>endpoints.hints</strong> (EndpointHints)</p>
<p>hints contains information associated with how an endpoint should be consumed.</p>
<p><a name=EndpointHints></a>
<em>EndpointHints provides hints describing how an endpoint should be consumed.</em></p>
<ul>
<li>
<p><strong>endpoints.hints.forZones</strong> ([]ForZone)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>forZones indicates the zone(s) this endpoint should be consumed by to enable topology aware routing.</p>
<p><a name=ForZone></a>
<em>ForZone provides information about which zones should consume this endpoint.</em></p>
<ul>
<li>
<p><strong>endpoints.hints.forZones.name</strong> (string), required</p>
<p>name represents the name of the zone.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>endpoints.hostname</strong> (string)</p>
<p>hostname of this endpoint. This field may be used by consumers of endpoints to distinguish endpoints from each other (e.g. in DNS names). Multiple endpoints which use the same hostname should be considered fungible (e.g. multiple A values in DNS). Must be lowercase and pass DNS Label (RFC 1123) validation.</p>
</li>
<li>
<p><strong>endpoints.nodeName</strong> (string)</p>
<p>nodeName represents the name of the Node hosting this endpoint. This can be used to determine endpoints local to a Node. This field can be enabled with the EndpointSliceNodeName feature gate.</p>
</li>
<li>
<p><strong>endpoints.targetRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>targetRef is a reference to a Kubernetes object that represents this endpoint.</p>
</li>
<li>
<p><strong>endpoints.zone</strong> (string)</p>
<p>zone is the name of the Zone this endpoint exists in.</p>
</li>
</ul>
</li>
<li>
<p><strong>ports</strong> ([]EndpointPort)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>ports specifies the list of network ports exposed by each endpoint in this slice. Each port must have a unique name. When ports is empty, it indicates that there are no defined ports. When a port is defined with a nil port value, it indicates "all ports". Each slice may include a maximum of 100 ports.</p>
<p><a name=EndpointPort></a>
<em>EndpointPort represents a Port used by an EndpointSlice</em></p>
<ul>
<li>
<p><strong>ports.port</strong> (int32)</p>
<p>The port number of the endpoint. If this is not specified, ports are not restricted and must be interpreted in the context of the specific consumer.</p>
</li>
<li>
<p><strong>ports.protocol</strong> (string)</p>
<p>The IP protocol for this port. Must be UDP, TCP, or SCTP. Default is TCP.</p>
</li>
<li>
<p><strong>ports.name</strong> (string)</p>
<p>The name of this port. All ports in an EndpointSlice must have a unique name. If the EndpointSlice is dervied from a Kubernetes service, this corresponds to the Service.ports[].name. Name must either be an empty string or pass DNS_LABEL validation: * must be no more than 63 characters long. * must consist of lower case alphanumeric characters or '-'. * must start and end with an alphanumeric character. Default is empty string.</p>
</li>
<li>
<p><strong>ports.appProtocol</strong> (string)</p>
<p>The application protocol for this port. This field follows standard Kubernetes label syntax. Un-prefixed names are reserved for IANA standard service names (as per RFC-6335 and <a href=http://www.iana.org/assignments/service-names)>http://www.iana.org/assignments/service-names)</a>. Non-standard protocols should use prefixed names such as mycompany.com/my-custom-protocol.</p>
</li>
</ul>
</li>
</ul>
<h2 id=EndpointSliceList>EndpointSliceList</h2>
<p>EndpointSliceList represents a list of endpoint slices</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: discovery.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: EndpointSliceList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>), required</p>
<p>List of endpoint slices</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-endpointslice><code>get</code> read the specified EndpointSlice</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the EndpointSlice</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-endpointslice><code>list</code> list or watch objects of kind EndpointSlice</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSliceList>EndpointSliceList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-endpointslice-1><code>list</code> list or watch objects of kind EndpointSlice</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/discovery.k8s.io/v1/endpointslices</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSliceList>EndpointSliceList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-an-endpointslice><code>create</code> create an EndpointSlice</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-endpointslice><code>update</code> replace the specified EndpointSlice</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the EndpointSlice</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-endpointslice><code>patch</code> partially update the specified EndpointSlice</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the EndpointSlice</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/endpoint-slice-v1/#EndpointSlice>EndpointSlice</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-an-endpointslice><code>delete</code> delete an EndpointSlice</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the EndpointSlice</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-endpointslice><code>deletecollection</code> delete collection of EndpointSlice</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/discovery.k8s.io/v1/namespaces/{namespace}/endpointslices</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-734ceb8f9e59bff318dc526882eb5dcd>5.2.4 - Ingress</h1>
<div class=lead>Ingress is a collection of rules that allow inbound connections to reach the endpoints defined by a backend.</div>
<p><code>apiVersion: networking.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/networking/v1"</code></p>
<h2 id=Ingress>Ingress</h2>
<p>Ingress is a collection of rules that allow inbound connections to reach the endpoints defined by a backend. An Ingress can be configured to give services externally-reachable urls, load balance traffic, terminate SSL, offer name based virtual hosting etc.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: networking.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: Ingress</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressSpec>IngressSpec</a>)</p>
<p>Spec is the desired state of the Ingress. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressStatus>IngressStatus</a>)</p>
<p>Status is the current state of the Ingress. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=IngressSpec>IngressSpec</h2>
<p>IngressSpec describes the Ingress the user wishes to exist.</p>
<hr>
<ul>
<li>
<p><strong>defaultBackend</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressBackend>IngressBackend</a>)</p>
<p>DefaultBackend is the backend that should handle requests that don't match any rule. If Rules are not specified, DefaultBackend must be specified. If DefaultBackend is not set, the handling of requests that do not match any of the rules will be up to the Ingress controller.</p>
</li>
<li>
<p><strong>ingressClassName</strong> (string)</p>
<p>IngressClassName is the name of the IngressClass cluster resource. The associated IngressClass defines which controller will implement the resource. This replaces the deprecated <code>kubernetes.io/ingress.class</code> annotation. For backwards compatibility, when that annotation is set, it must be given precedence over this field. The controller may emit a warning if the field and annotation have different values. Implementations of this API should ignore Ingresses without a class specified. An IngressClass resource may be marked as default, which can be used to set a default value for this field. For more information, refer to the IngressClass documentation.</p>
</li>
<li>
<p><strong>rules</strong> ([]IngressRule)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>A list of host rules used to configure the Ingress. If unspecified, or no rule matches, all traffic is sent to the default backend.</p>
<p><a name=IngressRule></a>
<em>IngressRule represents the rules mapping the paths under a specified host to the related backend services. Incoming requests are first evaluated for a host match, then routed to the backend associated with the matching IngressRuleValue.</em></p>
<ul>
<li>
<p><strong>rules.host</strong> (string)</p>
<p>Host is the fully qualified domain name of a network host, as defined by RFC 3986. Note the following deviations from the "host" part of the URI as defined in RFC 3986: 1. IPs are not allowed. Currently an IngressRuleValue can only apply to
the IP in the Spec of the parent Ingress.
2. The <code>:</code> delimiter is not respected because ports are not allowed.
Currently the port of an Ingress is implicitly :80 for http and
:443 for https.
Both these may change in the future. Incoming requests are matched against the host before the IngressRuleValue. If the host is unspecified, the Ingress routes all traffic based on the specified IngressRuleValue.</p>
<p>Host can be "precise" which is a domain name without the terminating dot of a network host (e.g. "foo.bar.com") or "wildcard", which is a domain name prefixed with a single wildcard label (e.g. "<em>.foo.com"). The wildcard character '</em>' must appear by itself as the first DNS label and matches only a single label. You cannot have a wildcard label by itself (e.g. Host == "*"). Requests will be matched against the Host field in the following way: 1. If Host is precise, the request matches this rule if the http host header is equal to Host. 2. If Host is a wildcard, then the request matches this rule if the http host header is to equal to the suffix (removing the first label) of the wildcard rule.</p>
</li>
<li>
<p><strong>rules.http</strong> (HTTPIngressRuleValue)</p>
<p><a name=HTTPIngressRuleValue></a>
<em>HTTPIngressRuleValue is a list of http selectors pointing to backends. In the example: http://<host>/<path>?<searchpart> -> backend where where parts of the url correspond to RFC 3986, this resource will be used to match against everything after the last '/' and before the first '?' or '#'.</em></p>
<ul>
<li>
<p><strong>rules.http.paths</strong> ([]HTTPIngressPath), required</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>A collection of paths that map requests to backends.</p>
<p><a name=HTTPIngressPath></a>
<em>HTTPIngressPath associates a path with a backend. Incoming urls matching the path are forwarded to the backend.</em></p>
<ul>
<li>
<p><strong>rules.http.paths.backend</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressBackend>IngressBackend</a>), required</p>
<p>Backend defines the referenced service endpoint to which the traffic will be forwarded to.</p>
</li>
<li>
<p><strong>rules.http.paths.pathType</strong> (string), required</p>
<p>PathType determines the interpretation of the Path matching. PathType can be one of the following values: * Exact: Matches the URL path exactly. * Prefix: Matches based on a URL path prefix split by '/'. Matching is
done on a path element by element basis. A path element refers is the
list of labels in the path split by the '/' separator. A request is a
match for path p if every p is an element-wise prefix of p of the
request path. Note that if the last element of the path is a substring
of the last element in request path, it is not a match (e.g. /foo/bar
matches /foo/bar/baz, but does not match /foo/barbaz).</p>
<ul>
<li>ImplementationSpecific: Interpretation of the Path matching is up to
the IngressClass. Implementations can treat this as a separate PathType
or treat it identically to Prefix or Exact path types.
Implementations are required to support all path types.</li>
</ul>
</li>
<li>
<p><strong>rules.http.paths.path</strong> (string)</p>
<p>Path is matched against the path of an incoming request. Currently it can contain characters disallowed from the conventional "path" part of a URL as defined by RFC 3986. Paths must begin with a '/' and must be present when using PathType with value "Exact" or "Prefix".</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>tls</strong> ([]IngressTLS)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>TLS configuration. Currently the Ingress only supports a single TLS port, 443. If multiple members of this list specify different hosts, they will be multiplexed on the same port according to the hostname specified through the SNI TLS extension, if the ingress controller fulfilling the ingress supports SNI.</p>
<p><a name=IngressTLS></a>
<em>IngressTLS describes the transport layer security associated with an Ingress.</em></p>
<ul>
<li>
<p><strong>tls.hosts</strong> ([]string)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>Hosts are a list of hosts included in the TLS certificate. The values in this list must match the name/s used in the tlsSecret. Defaults to the wildcard host setting for the loadbalancer controller fulfilling this Ingress, if left unspecified.</p>
</li>
<li>
<p><strong>tls.secretName</strong> (string)</p>
<p>SecretName is the name of the secret used to terminate TLS traffic on port 443. Field is left optional to allow TLS routing based on SNI hostname alone. If the SNI host in a listener conflicts with the "Host" header field used by an IngressRule, the SNI host is used for termination and value of the Host header is used for routing.</p>
</li>
</ul>
</li>
</ul>
<h2 id=IngressBackend>IngressBackend</h2>
<p>IngressBackend describes all endpoints for a given service and port.</p>
<hr>
<ul>
<li>
<p><strong>resource</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/typed-local-object-reference/#TypedLocalObjectReference>TypedLocalObjectReference</a>)</p>
<p>Resource is an ObjectRef to another Kubernetes resource in the namespace of the Ingress object. If resource is specified, a service.Name and service.Port must not be specified. This is a mutually exclusive setting with "Service".</p>
</li>
<li>
<p><strong>service</strong> (IngressServiceBackend)</p>
<p>Service references a Service as a Backend. This is a mutually exclusive setting with "Resource".</p>
<p><a name=IngressServiceBackend></a>
<em>IngressServiceBackend references a Kubernetes Service as a Backend.</em></p>
<ul>
<li>
<p><strong>service.name</strong> (string), required</p>
<p>Name is the referenced service. The service must exist in the same namespace as the Ingress object.</p>
</li>
<li>
<p><strong>service.port</strong> (ServiceBackendPort)</p>
<p>Port of the referenced service. A port name or port number is required for a IngressServiceBackend.</p>
<p><a name=ServiceBackendPort></a>
<em>ServiceBackendPort is the service port being referenced.</em></p>
<ul>
<li>
<p><strong>service.port.name</strong> (string)</p>
<p>Name is the name of the port on the Service. This is a mutually exclusive setting with "Number".</p>
</li>
<li>
<p><strong>service.port.number</strong> (int32)</p>
<p>Number is the numerical port number (e.g. 80) on the Service. This is a mutually exclusive setting with "Name".</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=IngressStatus>IngressStatus</h2>
<p>IngressStatus describe the current state of the Ingress.</p>
<hr>
<ul>
<li>
<p><strong>loadBalancer</strong> (LoadBalancerStatus)</p>
<p>LoadBalancer contains the current status of the load-balancer.</p>
<p><a name=LoadBalancerStatus></a>
<em>LoadBalancerStatus represents the status of a load-balancer.</em></p>
<ul>
<li>
<p><strong>loadBalancer.ingress</strong> ([]LoadBalancerIngress)</p>
<p>Ingress is a list containing ingress points for the load-balancer. Traffic intended for the service should be sent to these ingress points.</p>
<p><a name=LoadBalancerIngress></a>
<em>LoadBalancerIngress represents the status of a load-balancer ingress point: traffic intended for the service should be sent to an ingress point.</em></p>
<ul>
<li>
<p><strong>loadBalancer.ingress.hostname</strong> (string)</p>
<p>Hostname is set for load-balancer ingress points that are DNS based (typically AWS load-balancers)</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ip</strong> (string)</p>
<p>IP is set for load-balancer ingress points that are IP based (typically GCE or OpenStack load-balancers)</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ports</strong> ([]PortStatus)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>Ports is a list of records of service ports If used, every port defined in the service should have an entry in it</p>
<p><a name=PortStatus></a>
**</p>
<ul>
<li>
<p><strong>loadBalancer.ingress.ports.port</strong> (int32), required</p>
<p>Port is the port number of the service port of which status is recorded here</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ports.protocol</strong> (string), required</p>
<p>Protocol is the protocol of the service port of which status is recorded here The supported values are: "TCP", "UDP", "SCTP"</p>
</li>
<li>
<p><strong>loadBalancer.ingress.ports.error</strong> (string)</p>
<p>Error is to record the problem with the service port The format of the error shall comply with the following rules: - built-in error values shall be specified in this file and those shall use
CamelCase names</p>
<ul>
<li>cloud provider specific error values must have names that comply with the
format foo.example.com/CamelCase.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=IngressList>IngressList</h2>
<p>IngressList is a collection of Ingress.</p>
<hr>
<ul>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>), required</p>
<p>Items is the list of Ingress.</p>
</li>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p>
</li>
<li>
<p><strong>kind</strong> (string)</p>
<p>Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-ingress><code>get</code> read the specified Ingress</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-ingress><code>get</code> read status of the specified Ingress</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-ingress><code>list</code> list or watch objects of kind Ingress</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressList>IngressList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-ingress-1><code>list</code> list or watch objects of kind Ingress</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/ingresses</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#IngressList>IngressList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-an-ingress><code>create</code> create an Ingress</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-ingress><code>update</code> replace the specified Ingress</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-ingress><code>update</code> replace status of the specified Ingress</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-ingress><code>patch</code> partially update the specified Ingress</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-ingress><code>patch</code> partially update status of the specified Ingress</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/#Ingress>Ingress</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-an-ingress><code>delete</code> delete an Ingress</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Ingress</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-ingress><code>deletecollection</code> delete collection of Ingress</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/ingresses</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3420962b87b77851810c3aa8baad9578>5.2.5 - IngressClass</h1>
<div class=lead>IngressClass represents the class of the Ingress, referenced by the Ingress Spec.</div>
<p><code>apiVersion: networking.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/networking/v1"</code></p>
<h2 id=IngressClass>IngressClass</h2>
<p>IngressClass represents the class of the Ingress, referenced by the Ingress Spec. The <code>ingressclass.kubernetes.io/is-default-class</code> annotation can be used to indicate that an IngressClass should be considered default. When a single IngressClass resource has this annotation set to true, new Ingress resources without a class specified will be assigned this default class.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: networking.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: IngressClass</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClassSpec>IngressClassSpec</a>)</p>
<p>Spec is the desired state of the IngressClass. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=IngressClassSpec>IngressClassSpec</h2>
<p>IngressClassSpec provides information about the class of an Ingress.</p>
<hr>
<ul>
<li>
<p><strong>controller</strong> (string)</p>
<p>Controller refers to the name of the controller that should handle this class. This allows for different "flavors" that are controlled by the same controller. For example, you may have different Parameters for the same implementing controller. This should be specified as a domain-prefixed path no more than 250 characters in length, e.g. "acme.io/ingress-controller". This field is immutable.</p>
</li>
<li>
<p><strong>parameters</strong> (IngressClassParametersReference)</p>
<p>Parameters is a link to a custom resource containing additional configuration for the controller. This is optional if the controller does not require extra parameters.</p>
<p><a name=IngressClassParametersReference></a>
<em>IngressClassParametersReference identifies an API object. This can be used to specify a cluster or namespace-scoped resource.</em></p>
<ul>
<li>
<p><strong>parameters.kind</strong> (string), required</p>
<p>Kind is the type of resource being referenced.</p>
</li>
<li>
<p><strong>parameters.name</strong> (string), required</p>
<p>Name is the name of resource being referenced.</p>
</li>
<li>
<p><strong>parameters.apiGroup</strong> (string)</p>
<p>APIGroup is the group for the resource being referenced. If APIGroup is not specified, the specified Kind must be in the core API group. For any other third-party types, APIGroup is required.</p>
</li>
<li>
<p><strong>parameters.namespace</strong> (string)</p>
<p>Namespace is the namespace of the resource being referenced. This field is required when scope is set to "Namespace" and must be unset when scope is set to "Cluster".</p>
</li>
<li>
<p><strong>parameters.scope</strong> (string)</p>
<p>Scope represents if this refers to a cluster or namespace scoped resource. This may be set to "Cluster" (default) or "Namespace". Field can be enabled with IngressClassNamespacedParams feature gate.</p>
</li>
</ul>
</li>
</ul>
<h2 id=IngressClassList>IngressClassList</h2>
<p>IngressClassList is a collection of IngressClasses.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: networking.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: IngressClassList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>), required</p>
<p>Items is the list of IngressClasses.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-ingressclass><code>get</code> read the specified IngressClass</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/ingressclasses/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the IngressClass</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-ingressclass><code>list</code> list or watch objects of kind IngressClass</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/ingressclasses</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClassList>IngressClassList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-an-ingressclass><code>create</code> create an IngressClass</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/networking.k8s.io/v1/ingressclasses</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-ingressclass><code>update</code> replace the specified IngressClass</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/networking.k8s.io/v1/ingressclasses/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the IngressClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-ingressclass><code>patch</code> partially update the specified IngressClass</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/networking.k8s.io/v1/ingressclasses/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the IngressClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/#IngressClass>IngressClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-an-ingressclass><code>delete</code> delete an IngressClass</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/networking.k8s.io/v1/ingressclasses/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the IngressClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-ingressclass><code>deletecollection</code> delete collection of IngressClass</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/networking.k8s.io/v1/ingressclasses</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ef67581d88f69ea15be11159c033f33b>5.3 - Config and Storage Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-109fa09dec8516f460dc1668c66df57c>5.3.1 - ConfigMap</h1>
<div class=lead>ConfigMap holds configuration data for pods to consume.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=ConfigMap>ConfigMap</h2>
<p>ConfigMap holds configuration data for pods to consume.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ConfigMap</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>binaryData</strong> (map[string][]byte)</p>
<p>BinaryData contains the binary data. Each key must consist of alphanumeric characters, '-', '_' or '.'. BinaryData can contain byte sequences that are not in the UTF-8 range. The keys stored in BinaryData must not overlap with the ones in the Data field, this is enforced during validation process. Using this field will require 1.10+ apiserver and kubelet.</p>
</li>
<li>
<p><strong>data</strong> (map[string]string)</p>
<p>Data contains the configuration data. Each key must consist of alphanumeric characters, '-', '_' or '.'. Values with non-UTF-8 byte sequences must use the BinaryData field. The keys stored in Data must not overlap with the keys in the BinaryData field, this is enforced during validation process.</p>
</li>
<li>
<p><strong>immutable</strong> (boolean)</p>
<p>Immutable, if set to true, ensures that data stored in the ConfigMap cannot be updated (only object metadata can be modified). If not set to true, the field can be modified at any time. Defaulted to nil.</p>
</li>
</ul>
<h2 id=ConfigMapList>ConfigMapList</h2>
<p>ConfigMapList is a resource containing a list of ConfigMap objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ConfigMapList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>), required</p>
<p>Items is the list of ConfigMaps.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-configmap><code>get</code> read the specified ConfigMap</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/configmaps/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ConfigMap</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-configmap><code>list</code> list or watch objects of kind ConfigMap</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/configmaps</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMapList>ConfigMapList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-configmap-1><code>list</code> list or watch objects of kind ConfigMap</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/configmaps</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMapList>ConfigMapList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-configmap><code>create</code> create a ConfigMap</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/configmaps</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-configmap><code>update</code> replace the specified ConfigMap</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/configmaps/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ConfigMap</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-configmap><code>patch</code> partially update the specified ConfigMap</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/configmaps/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ConfigMap</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/config-map-v1/#ConfigMap>ConfigMap</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-configmap><code>delete</code> delete a ConfigMap</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/configmaps/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ConfigMap</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-configmap><code>deletecollection</code> delete collection of ConfigMap</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/configmaps</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7d0599aac497db82ee78fddbc549c01d>5.3.2 - Secret</h1>
<div class=lead>Secret holds secret data of a certain type.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Secret>Secret</h2>
<p>Secret holds secret data of a certain type. The total bytes of the values in the Data field must be less than MaxSecretSize bytes.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Secret</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>data</strong> (map[string][]byte)</p>
<p>Data contains the secret data. Each key must consist of alphanumeric characters, '-', '_' or '.'. The serialized form of the secret data is a base64 encoded string, representing the arbitrary (possibly non-string) data value here. Described in <a href=https://tools.ietf.org/html/rfc4648#section-4>https://tools.ietf.org/html/rfc4648#section-4</a></p>
</li>
<li>
<p><strong>immutable</strong> (boolean)</p>
<p>Immutable, if set to true, ensures that data stored in the Secret cannot be updated (only object metadata can be modified). If not set to true, the field can be modified at any time. Defaulted to nil.</p>
</li>
<li>
<p><strong>stringData</strong> (map[string]string)</p>
<p>stringData allows specifying non-binary secret data in string form. It is provided as a write-only input field for convenience. All keys and values are merged into the data field on write, overwriting any existing values. The stringData field is never output when reading from the API.</p>
</li>
<li>
<p><strong>type</strong> (string)</p>
<p>Used to facilitate programmatic handling of secret data.</p>
</li>
</ul>
<h2 id=SecretList>SecretList</h2>
<p>SecretList is a list of Secret.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: SecretList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>), required</p>
<p>Items is a list of secret objects. More info: <a href=https://kubernetes.io/docs/concepts/configuration/secret>https://kubernetes.io/docs/concepts/configuration/secret</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-secret><code>get</code> read the specified Secret</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/secrets/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Secret</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-secret><code>list</code> list or watch objects of kind Secret</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/secrets</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#SecretList>SecretList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-secret-1><code>list</code> list or watch objects of kind Secret</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/secrets</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#SecretList>SecretList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-secret><code>create</code> create a Secret</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/secrets</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-secret><code>update</code> replace the specified Secret</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/secrets/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Secret</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-secret><code>patch</code> partially update the specified Secret</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/secrets/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Secret</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/secret-v1/#Secret>Secret</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-secret><code>delete</code> delete a Secret</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/secrets/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Secret</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-secret><code>deletecollection</code> delete collection of Secret</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/secrets</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-21d04f929a407332d3e23a09718e07f6>5.3.3 - Volume</h1>
<div class=lead>Volume represents a named volume in a pod that may be accessed by any container in the pod.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Volume>Volume</h2>
<p>Volume represents a named volume in a pod that may be accessed by any container in the pod.</p>
<hr>
<ul>
<li>
<p><strong>name</strong> (string), required</p>
<p>Volume's name. Must be a DNS_LABEL and unique within the pod. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
</ul>
<h3 id=exposed-persistent-volumes>Exposed Persistent volumes</h3>
<ul>
<li>
<p><strong>persistentVolumeClaim</strong> (PersistentVolumeClaimVolumeSource)</p>
<p>PersistentVolumeClaimVolumeSource represents a reference to a PersistentVolumeClaim in the same namespace. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p>
<p><a name=PersistentVolumeClaimVolumeSource></a>
<em>PersistentVolumeClaimVolumeSource references the user's PVC in the same namespace. This volume finds the bound PV and mounts that volume for the pod. A PersistentVolumeClaimVolumeSource is, essentially, a wrapper around another type of volume that is owned by someone else (the system).</em></p>
<ul>
<li>
<p><strong>persistentVolumeClaim.claimName</strong> (string), required</p>
<p>ClaimName is the name of a PersistentVolumeClaim in the same namespace as the pod using this volume. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p>
</li>
<li>
<p><strong>persistentVolumeClaim.readOnly</strong> (boolean)</p>
<p>Will force the ReadOnly setting in VolumeMounts. Default false.</p>
</li>
</ul>
</li>
</ul>
<h3 id=projections>Projections</h3>
<ul>
<li>
<p><strong>configMap</strong> (ConfigMapVolumeSource)</p>
<p>ConfigMap represents a configMap that should populate this volume</p>
<p><a name=ConfigMapVolumeSource></a>
*Adapts a ConfigMap into a volume.</p>
<p>The contents of the target ConfigMap's Data field will be presented in a volume as files using the keys in the Data field as the file names, unless the items element is populated with specific mappings of keys to paths. ConfigMap volumes support ownership management and SELinux relabeling.*</p>
<ul>
<li>
<p><strong>configMap.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>configMap.optional</strong> (boolean)</p>
<p>Specify whether the ConfigMap or its keys must be defined</p>
</li>
<li>
<p><strong>configMap.defaultMode</strong> (int32)</p>
<p>Optional: mode bits used to set permissions on created files by default. Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. Defaults to 0644. Directories within the path are not affected by this setting. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.</p>
</li>
<li>
<p><strong>configMap.items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p>
<p>If unspecified, each key-value pair in the Data field of the referenced ConfigMap will be projected into the volume as a file whose name is the key and content is the value. If specified, the listed keys will be projected into the specified paths, and unlisted keys will not be present. If a key is specified which is not present in the ConfigMap, the volume setup will error unless it is marked optional. Paths must be relative and may not contain the '..' path or start with '..'.</p>
</li>
</ul>
</li>
<li>
<p><strong>secret</strong> (SecretVolumeSource)</p>
<p>Secret represents a secret that should populate this volume. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#secret>https://kubernetes.io/docs/concepts/storage/volumes#secret</a></p>
<p><a name=SecretVolumeSource></a>
*Adapts a Secret into a volume.</p>
<p>The contents of the target Secret's Data field will be presented in a volume as files using the keys in the Data field as the file names. Secret volumes support ownership management and SELinux relabeling.*</p>
<ul>
<li>
<p><strong>secret.secretName</strong> (string)</p>
<p>Name of the secret in the pod's namespace to use. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#secret>https://kubernetes.io/docs/concepts/storage/volumes#secret</a></p>
</li>
<li>
<p><strong>secret.optional</strong> (boolean)</p>
<p>Specify whether the Secret or its keys must be defined</p>
</li>
<li>
<p><strong>secret.defaultMode</strong> (int32)</p>
<p>Optional: mode bits used to set permissions on created files by default. Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. Defaults to 0644. Directories within the path are not affected by this setting. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.</p>
</li>
<li>
<p><strong>secret.items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p>
<p>If unspecified, each key-value pair in the Data field of the referenced Secret will be projected into the volume as a file whose name is the key and content is the value. If specified, the listed keys will be projected into the specified paths, and unlisted keys will not be present. If a key is specified which is not present in the Secret, the volume setup will error unless it is marked optional. Paths must be relative and may not contain the '..' path or start with '..'.</p>
</li>
</ul>
</li>
<li>
<p><strong>downwardAPI</strong> (DownwardAPIVolumeSource)</p>
<p>DownwardAPI represents downward API about the pod that should populate this volume</p>
<p><a name=DownwardAPIVolumeSource></a>
<em>DownwardAPIVolumeSource represents a volume containing downward API info. Downward API volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>downwardAPI.defaultMode</strong> (int32)</p>
<p>Optional: mode bits to use on created files by default. Must be a Optional: mode bits used to set permissions on created files by default. Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. Defaults to 0644. Directories within the path are not affected by this setting. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.</p>
</li>
<li>
<p><strong>downwardAPI.items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#DownwardAPIVolumeFile>DownwardAPIVolumeFile</a>)</p>
<p>Items is a list of downward API volume file</p>
</li>
</ul>
</li>
<li>
<p><strong>projected</strong> (ProjectedVolumeSource)</p>
<p>Items for all in one resources secrets, configmaps, and downward API</p>
<p><a name=ProjectedVolumeSource></a>
<em>Represents a projected volume source</em></p>
<ul>
<li>
<p><strong>projected.defaultMode</strong> (int32)</p>
<p>Mode bits used to set permissions on created files by default. Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. Directories within the path are not affected by this setting. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.</p>
</li>
<li>
<p><strong>projected.sources</strong> ([]VolumeProjection)</p>
<p>list of volume projections</p>
<p><a name=VolumeProjection></a>
<em>Projection that may be projected along with other supported volume types</em></p>
<ul>
<li>
<p><strong>projected.sources.configMap</strong> (ConfigMapProjection)</p>
<p>information about the configMap data to project</p>
<p><a name=ConfigMapProjection></a>
*Adapts a ConfigMap into a projected volume.</p>
<p>The contents of the target ConfigMap's Data field will be presented in a projected volume as files using the keys in the Data field as the file names, unless the items element is populated with specific mappings of keys to paths. Note that this is identical to a configmap volume source without the default mode.*</p>
<ul>
<li>
<p><strong>projected.sources.configMap.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>projected.sources.configMap.optional</strong> (boolean)</p>
<p>Specify whether the ConfigMap or its keys must be defined</p>
</li>
<li>
<p><strong>projected.sources.configMap.items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p>
<p>If unspecified, each key-value pair in the Data field of the referenced ConfigMap will be projected into the volume as a file whose name is the key and content is the value. If specified, the listed keys will be projected into the specified paths, and unlisted keys will not be present. If a key is specified which is not present in the ConfigMap, the volume setup will error unless it is marked optional. Paths must be relative and may not contain the '..' path or start with '..'.</p>
</li>
</ul>
</li>
<li>
<p><strong>projected.sources.downwardAPI</strong> (DownwardAPIProjection)</p>
<p>information about the downwardAPI data to project</p>
<p><a name=DownwardAPIProjection></a>
<em>Represents downward API info for projecting into a projected volume. Note that this is identical to a downwardAPI volume source without the default mode.</em></p>
<ul>
<li>
<p><strong>projected.sources.downwardAPI.items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#DownwardAPIVolumeFile>DownwardAPIVolumeFile</a>)</p>
<p>Items is a list of DownwardAPIVolume file</p>
</li>
</ul>
</li>
<li>
<p><strong>projected.sources.secret</strong> (SecretProjection)</p>
<p>information about the secret data to project</p>
<p><a name=SecretProjection></a>
*Adapts a secret into a projected volume.</p>
<p>The contents of the target Secret's Data field will be presented in a projected volume as files using the keys in the Data field as the file names. Note that this is identical to a secret volume source without the default mode.*</p>
<ul>
<li>
<p><strong>projected.sources.secret.name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>projected.sources.secret.optional</strong> (boolean)</p>
<p>Specify whether the Secret or its key must be defined</p>
</li>
<li>
<p><strong>projected.sources.secret.items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume/#KeyToPath>KeyToPath</a>)</p>
<p>If unspecified, each key-value pair in the Data field of the referenced Secret will be projected into the volume as a file whose name is the key and content is the value. If specified, the listed keys will be projected into the specified paths, and unlisted keys will not be present. If a key is specified which is not present in the Secret, the volume setup will error unless it is marked optional. Paths must be relative and may not contain the '..' path or start with '..'.</p>
</li>
</ul>
</li>
<li>
<p><strong>projected.sources.serviceAccountToken</strong> (ServiceAccountTokenProjection)</p>
<p>information about the serviceAccountToken data to project</p>
<p><a name=ServiceAccountTokenProjection></a>
<em>ServiceAccountTokenProjection represents a projected service account token volume. This projection can be used to insert a service account token into the pods runtime filesystem for use against APIs (Kubernetes API Server or otherwise).</em></p>
<ul>
<li>
<p><strong>projected.sources.serviceAccountToken.path</strong> (string), required</p>
<p>Path is the path relative to the mount point of the file to project the token into.</p>
</li>
<li>
<p><strong>projected.sources.serviceAccountToken.audience</strong> (string)</p>
<p>Audience is the intended audience of the token. A recipient of a token must identify itself with an identifier specified in the audience of the token, and otherwise should reject the token. The audience defaults to the identifier of the apiserver.</p>
</li>
<li>
<p><strong>projected.sources.serviceAccountToken.expirationSeconds</strong> (int64)</p>
<p>ExpirationSeconds is the requested duration of validity of the service account token. As the token approaches expiration, the kubelet volume plugin will proactively rotate the service account token. The kubelet will start trying to rotate the token if the token is older than 80 percent of its time to live or if the token is older than 24 hours.Defaults to 1 hour and must be at least 10 minutes.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=local-temporary-directory>Local / Temporary Directory</h3>
<ul>
<li>
<p><strong>emptyDir</strong> (EmptyDirVolumeSource)</p>
<p>EmptyDir represents a temporary directory that shares a pod's lifetime. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#emptydir>https://kubernetes.io/docs/concepts/storage/volumes#emptydir</a></p>
<p><a name=EmptyDirVolumeSource></a>
<em>Represents an empty directory for a pod. Empty directory volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>emptyDir.medium</strong> (string)</p>
<p>What type of storage medium should back this directory. The default is "" which means to use the node's default medium. Must be an empty string (default) or Memory. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#emptydir>https://kubernetes.io/docs/concepts/storage/volumes#emptydir</a></p>
</li>
<li>
<p><strong>emptyDir.sizeLimit</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Total amount of local storage required for this EmptyDir volume. The size limit is also applicable for memory medium. The maximum usage on memory medium EmptyDir would be the minimum value between the SizeLimit specified here and the sum of memory limits of all containers in a pod. The default is nil which means that the limit is undefined. More info: <a href=http://kubernetes.io/docs/user-guide/volumes#emptydir>http://kubernetes.io/docs/user-guide/volumes#emptydir</a></p>
</li>
</ul>
</li>
<li>
<p><strong>hostPath</strong> (HostPathVolumeSource)</p>
<p>HostPath represents a pre-existing file or directory on the host machine that is directly exposed to the container. This is generally used for system agents or other privileged things that are allowed to see the host machine. Most containers will NOT need this. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/docs/concepts/storage/volumes#hostpath</a></p>
<p><a name=HostPathVolumeSource></a>
<em>Represents a host path mapped into a pod. Host path volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>hostPath.path</strong> (string), required</p>
<p>Path of the directory on the host. If the path is a symlink, it will follow the link to the real path. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/docs/concepts/storage/volumes#hostpath</a></p>
</li>
<li>
<p><strong>hostPath.type</strong> (string)</p>
<p>Type for HostPath Volume Defaults to "" More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/docs/concepts/storage/volumes#hostpath</a></p>
</li>
</ul>
</li>
</ul>
<h3 id=persistent-volumes>Persistent volumes</h3>
<ul>
<li>
<p><strong>awsElasticBlockStore</strong> (AWSElasticBlockStoreVolumeSource)</p>
<p>AWSElasticBlockStore represents an AWS Disk resource that is attached to a kubelet's host machine and then exposed to the pod. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
<p><a name=AWSElasticBlockStoreVolumeSource></a>
*Represents a Persistent Disk resource in AWS.</p>
<p>An AWS EBS disk must exist before mounting to a container. The disk must also be in the same AWS zone as the kubelet. An AWS EBS disk can only be mounted as read/write once. AWS EBS volumes support ownership management and SELinux relabeling.*</p>
<ul>
<li>
<p><strong>awsElasticBlockStore.volumeID</strong> (string), required</p>
<p>Unique ID of the persistent disk resource in AWS (Amazon EBS volume). More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
</li>
<li>
<p><strong>awsElasticBlockStore.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
</li>
<li>
<p><strong>awsElasticBlockStore.partition</strong> (int32)</p>
<p>The partition in the volume that you want to mount. If omitted, the default is to mount by volume name. Examples: For volume /dev/sda1, you specify the partition as "1". Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).</p>
</li>
<li>
<p><strong>awsElasticBlockStore.readOnly</strong> (boolean)</p>
<p>Specify "true" to force and set the ReadOnly property in VolumeMounts to "true". If omitted, the default is "false". More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
</li>
</ul>
</li>
<li>
<p><strong>azureDisk</strong> (AzureDiskVolumeSource)</p>
<p>AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.</p>
<p><a name=AzureDiskVolumeSource></a>
<em>AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.</em></p>
<ul>
<li>
<p><strong>azureDisk.diskName</strong> (string), required</p>
<p>The Name of the data disk in the blob storage</p>
</li>
<li>
<p><strong>azureDisk.diskURI</strong> (string), required</p>
<p>The URI the data disk in the blob storage</p>
</li>
<li>
<p><strong>azureDisk.cachingMode</strong> (string)</p>
<p>Host Caching mode: None, Read Only, Read Write.</p>
</li>
<li>
<p><strong>azureDisk.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>azureDisk.kind</strong> (string)</p>
<p>Expected values Shared: multiple blob disks per storage account Dedicated: single blob disk per storage account Managed: azure managed data disk (only in managed availability set). defaults to shared</p>
</li>
<li>
<p><strong>azureDisk.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
</ul>
</li>
<li>
<p><strong>azureFile</strong> (AzureFileVolumeSource)</p>
<p>AzureFile represents an Azure File Service mount on the host and bind mount to the pod.</p>
<p><a name=AzureFileVolumeSource></a>
<em>AzureFile represents an Azure File Service mount on the host and bind mount to the pod.</em></p>
<ul>
<li>
<p><strong>azureFile.secretName</strong> (string), required</p>
<p>the name of secret that contains Azure Storage Account Name and Key</p>
</li>
<li>
<p><strong>azureFile.shareName</strong> (string), required</p>
<p>Share Name</p>
</li>
<li>
<p><strong>azureFile.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
</ul>
</li>
<li>
<p><strong>cephfs</strong> (CephFSVolumeSource)</p>
<p>CephFS represents a Ceph FS mount on the host that shares a pod's lifetime</p>
<p><a name=CephFSVolumeSource></a>
<em>Represents a Ceph Filesystem mount that lasts the lifetime of a pod Cephfs volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>cephfs.monitors</strong> ([]string), required</p>
<p>Required: Monitors is a collection of Ceph monitors More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.path</strong> (string)</p>
<p>Optional: Used as the mounted root, rather than the full Ceph tree, default is /</p>
</li>
<li>
<p><strong>cephfs.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts. More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.secretFile</strong> (string)</p>
<p>Optional: SecretFile is the path to key ring for User, default is /etc/ceph/user.secret More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>Optional: SecretRef is reference to the authentication secret for User, default is empty. More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.user</strong> (string)</p>
<p>Optional: User is the rados user name, default is admin More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
</ul>
</li>
<li>
<p><strong>cinder</strong> (CinderVolumeSource)</p>
<p>Cinder represents a cinder volume attached and mounted on kubelets host machine. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
<p><a name=CinderVolumeSource></a>
<em>Represents a cinder volume resource in Openstack. A Cinder volume must exist before mounting to a container. The volume must also be in the same region as the kubelet. Cinder volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>cinder.volumeID</strong> (string), required</p>
<p>volume id used to identify the volume in cinder. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
</li>
<li>
<p><strong>cinder.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
</li>
<li>
<p><strong>cinder.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
</li>
<li>
<p><strong>cinder.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>Optional: points to a secret object containing parameters used to connect to OpenStack.</p>
</li>
</ul>
</li>
<li>
<p><strong>csi</strong> (CSIVolumeSource)</p>
<p>CSI (Container Storage Interface) represents ephemeral storage that is handled by certain external CSI drivers (Beta feature).</p>
<p><a name=CSIVolumeSource></a>
<em>Represents a source location of a volume to mount, managed by an external CSI driver</em></p>
<ul>
<li>
<p><strong>csi.driver</strong> (string), required</p>
<p>Driver is the name of the CSI driver that handles this volume. Consult with your admin for the correct name as registered in the cluster.</p>
</li>
<li>
<p><strong>csi.fsType</strong> (string)</p>
<p>Filesystem type to mount. Ex. "ext4", "xfs", "ntfs". If not provided, the empty value is passed to the associated CSI driver which will determine the default filesystem to apply.</p>
</li>
<li>
<p><strong>csi.nodePublishSecretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>NodePublishSecretRef is a reference to the secret object containing sensitive information to pass to the CSI driver to complete the CSI NodePublishVolume and NodeUnpublishVolume calls. This field is optional, and may be empty if no secret is required. If the secret object contains more than one secret, all secret references are passed.</p>
</li>
<li>
<p><strong>csi.readOnly</strong> (boolean)</p>
<p>Specifies a read-only configuration for the volume. Defaults to false (read/write).</p>
</li>
<li>
<p><strong>csi.volumeAttributes</strong> (map[string]string)</p>
<p>VolumeAttributes stores driver-specific properties that are passed to the CSI driver. Consult your driver's documentation for supported values.</p>
</li>
</ul>
</li>
<li>
<p><strong>fc</strong> (FCVolumeSource)</p>
<p>FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.</p>
<p><a name=FCVolumeSource></a>
<em>Represents a Fibre Channel volume. Fibre Channel volumes can only be mounted as read/write once. Fibre Channel volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>fc.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>fc.lun</strong> (int32)</p>
<p>Optional: FC target lun number</p>
</li>
<li>
<p><strong>fc.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>fc.targetWWNs</strong> ([]string)</p>
<p>Optional: FC target worldwide names (WWNs)</p>
</li>
<li>
<p><strong>fc.wwids</strong> ([]string)</p>
<p>Optional: FC volume world wide identifiers (wwids) Either wwids or combination of targetWWNs and lun must be set, but not both simultaneously.</p>
</li>
</ul>
</li>
<li>
<p><strong>flexVolume</strong> (FlexVolumeSource)</p>
<p>FlexVolume represents a generic volume resource that is provisioned/attached using an exec based plugin.</p>
<p><a name=FlexVolumeSource></a>
<em>FlexVolume represents a generic volume resource that is provisioned/attached using an exec based plugin.</em></p>
<ul>
<li>
<p><strong>flexVolume.driver</strong> (string), required</p>
<p>Driver is the name of the driver to use for this volume.</p>
</li>
<li>
<p><strong>flexVolume.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". The default filesystem depends on FlexVolume script.</p>
</li>
<li>
<p><strong>flexVolume.options</strong> (map[string]string)</p>
<p>Optional: Extra command options if any.</p>
</li>
<li>
<p><strong>flexVolume.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>flexVolume.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>Optional: SecretRef is reference to the secret object containing sensitive information to pass to the plugin scripts. This may be empty if no secret object is specified. If the secret object contains more than one secret, all secrets are passed to the plugin scripts.</p>
</li>
</ul>
</li>
<li>
<p><strong>flocker</strong> (FlockerVolumeSource)</p>
<p>Flocker represents a Flocker volume attached to a kubelet's host machine. This depends on the Flocker control service being running</p>
<p><a name=FlockerVolumeSource></a>
<em>Represents a Flocker volume mounted by the Flocker agent. One and only one of datasetName and datasetUUID should be set. Flocker volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>flocker.datasetName</strong> (string)</p>
<p>Name of the dataset stored as metadata -> name on the dataset for Flocker should be considered as deprecated</p>
</li>
<li>
<p><strong>flocker.datasetUUID</strong> (string)</p>
<p>UUID of the dataset. This is unique identifier of a Flocker dataset</p>
</li>
</ul>
</li>
<li>
<p><strong>gcePersistentDisk</strong> (GCEPersistentDiskVolumeSource)</p>
<p>GCEPersistentDisk represents a GCE Disk resource that is attached to a kubelet's host machine and then exposed to the pod. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
<p><a name=GCEPersistentDiskVolumeSource></a>
*Represents a Persistent Disk resource in Google Compute Engine.</p>
<p>A GCE PD must exist before mounting to a container. The disk must also be in the same GCE project and zone as the kubelet. A GCE PD can only be mounted as read/write once or read-only many times. GCE PDs support ownership management and SELinux relabeling.*</p>
<ul>
<li>
<p><strong>gcePersistentDisk.pdName</strong> (string), required</p>
<p>Unique name of the PD resource in GCE. Used to identify the disk in GCE. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
<li>
<p><strong>gcePersistentDisk.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
<li>
<p><strong>gcePersistentDisk.partition</strong> (int32)</p>
<p>The partition in the volume that you want to mount. If omitted, the default is to mount by volume name. Examples: For volume /dev/sda1, you specify the partition as "1". Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty). More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
<li>
<p><strong>gcePersistentDisk.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the ReadOnly setting in VolumeMounts. Defaults to false. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
</ul>
</li>
<li>
<p><strong>glusterfs</strong> (GlusterfsVolumeSource)</p>
<p>Glusterfs represents a Glusterfs mount on the host that shares a pod's lifetime. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md>https://examples.k8s.io/volumes/glusterfs/README.md</a></p>
<p><a name=GlusterfsVolumeSource></a>
<em>Represents a Glusterfs mount that lasts the lifetime of a pod. Glusterfs volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>glusterfs.endpoints</strong> (string), required</p>
<p>EndpointsName is the endpoint name that details Glusterfs topology. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
<li>
<p><strong>glusterfs.path</strong> (string), required</p>
<p>Path is the Glusterfs volume path. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
<li>
<p><strong>glusterfs.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the Glusterfs volume to be mounted with read-only permissions. Defaults to false. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
</ul>
</li>
<li>
<p><strong>iscsi</strong> (ISCSIVolumeSource)</p>
<p>ISCSI represents an ISCSI Disk resource that is attached to a kubelet's host machine and then exposed to the pod. More info: <a href=https://examples.k8s.io/volumes/iscsi/README.md>https://examples.k8s.io/volumes/iscsi/README.md</a></p>
<p><a name=ISCSIVolumeSource></a>
<em>Represents an ISCSI disk. ISCSI volumes can only be mounted as read/write once. ISCSI volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>iscsi.iqn</strong> (string), required</p>
<p>Target iSCSI Qualified Name.</p>
</li>
<li>
<p><strong>iscsi.lun</strong> (int32), required</p>
<p>iSCSI Target Lun number.</p>
</li>
<li>
<p><strong>iscsi.targetPortal</strong> (string), required</p>
<p>iSCSI Target Portal. The Portal is either an IP or ip_addr:port if the port is other than default (typically TCP ports 860 and 3260).</p>
</li>
<li>
<p><strong>iscsi.chapAuthDiscovery</strong> (boolean)</p>
<p>whether support iSCSI Discovery CHAP authentication</p>
</li>
<li>
<p><strong>iscsi.chapAuthSession</strong> (boolean)</p>
<p>whether support iSCSI Session CHAP authentication</p>
</li>
<li>
<p><strong>iscsi.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#iscsi>https://kubernetes.io/docs/concepts/storage/volumes#iscsi</a></p>
</li>
<li>
<p><strong>iscsi.initiatorName</strong> (string)</p>
<p>Custom iSCSI Initiator Name. If initiatorName is specified with iscsiInterface simultaneously, new iSCSI interface &lt;target portal>:&lt;volume name> will be created for the connection.</p>
</li>
<li>
<p><strong>iscsi.iscsiInterface</strong> (string)</p>
<p>iSCSI Interface Name that uses an iSCSI transport. Defaults to 'default' (tcp).</p>
</li>
<li>
<p><strong>iscsi.portals</strong> ([]string)</p>
<p>iSCSI Target Portal List. The portal is either an IP or ip_addr:port if the port is other than default (typically TCP ports 860 and 3260).</p>
</li>
<li>
<p><strong>iscsi.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the ReadOnly setting in VolumeMounts. Defaults to false.</p>
</li>
<li>
<p><strong>iscsi.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>CHAP Secret for iSCSI target and initiator authentication</p>
</li>
</ul>
</li>
<li>
<p><strong>nfs</strong> (NFSVolumeSource)</p>
<p>NFS represents an NFS mount on the host that shares a pod's lifetime More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
<p><a name=NFSVolumeSource></a>
<em>Represents an NFS mount that lasts the lifetime of a pod. NFS volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>nfs.path</strong> (string), required</p>
<p>Path that is exported by the NFS server. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
</li>
<li>
<p><strong>nfs.server</strong> (string), required</p>
<p>Server is the hostname or IP address of the NFS server. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
</li>
<li>
<p><strong>nfs.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the NFS export to be mounted with read-only permissions. Defaults to false. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
</li>
</ul>
</li>
<li>
<p><strong>photonPersistentDisk</strong> (PhotonPersistentDiskVolumeSource)</p>
<p>PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine</p>
<p><a name=PhotonPersistentDiskVolumeSource></a>
<em>Represents a Photon Controller persistent disk resource.</em></p>
<ul>
<li>
<p><strong>photonPersistentDisk.pdID</strong> (string), required</p>
<p>ID that identifies Photon Controller persistent disk</p>
</li>
<li>
<p><strong>photonPersistentDisk.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
</ul>
</li>
<li>
<p><strong>portworxVolume</strong> (PortworxVolumeSource)</p>
<p>PortworxVolume represents a portworx volume attached and mounted on kubelets host machine</p>
<p><a name=PortworxVolumeSource></a>
<em>PortworxVolumeSource represents a Portworx volume resource.</em></p>
<ul>
<li>
<p><strong>portworxVolume.volumeID</strong> (string), required</p>
<p>VolumeID uniquely identifies a Portworx volume</p>
</li>
<li>
<p><strong>portworxVolume.fsType</strong> (string)</p>
<p>FSType represents the filesystem type to mount Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>portworxVolume.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
</ul>
</li>
<li>
<p><strong>quobyte</strong> (QuobyteVolumeSource)</p>
<p>Quobyte represents a Quobyte mount on the host that shares a pod's lifetime</p>
<p><a name=QuobyteVolumeSource></a>
<em>Represents a Quobyte mount that lasts the lifetime of a pod. Quobyte volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>quobyte.registry</strong> (string), required</p>
<p>Registry represents a single or multiple Quobyte Registry services specified as a string as host:port pair (multiple entries are separated with commas) which acts as the central registry for volumes</p>
</li>
<li>
<p><strong>quobyte.volume</strong> (string), required</p>
<p>Volume is a string that references an already created Quobyte volume by name.</p>
</li>
<li>
<p><strong>quobyte.group</strong> (string)</p>
<p>Group to map volume access to Default is no group</p>
</li>
<li>
<p><strong>quobyte.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the Quobyte volume to be mounted with read-only permissions. Defaults to false.</p>
</li>
<li>
<p><strong>quobyte.tenant</strong> (string)</p>
<p>Tenant owning the given Quobyte volume in the Backend Used with dynamically provisioned Quobyte volumes, value is set by the plugin</p>
</li>
<li>
<p><strong>quobyte.user</strong> (string)</p>
<p>User to map volume access to Defaults to serivceaccount user</p>
</li>
</ul>
</li>
<li>
<p><strong>rbd</strong> (RBDVolumeSource)</p>
<p>RBD represents a Rados Block Device mount on the host that shares a pod's lifetime. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md>https://examples.k8s.io/volumes/rbd/README.md</a></p>
<p><a name=RBDVolumeSource></a>
<em>Represents a Rados Block Device mount that lasts the lifetime of a pod. RBD volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>rbd.image</strong> (string), required</p>
<p>The rados image name. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.monitors</strong> ([]string), required</p>
<p>A collection of Ceph monitors. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#rbd>https://kubernetes.io/docs/concepts/storage/volumes#rbd</a></p>
</li>
<li>
<p><strong>rbd.keyring</strong> (string)</p>
<p>Keyring is the path to key ring for RBDUser. Default is /etc/ceph/keyring. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.pool</strong> (string)</p>
<p>The rados pool name. Default is rbd. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the ReadOnly setting in VolumeMounts. Defaults to false. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>SecretRef is name of the authentication secret for RBDUser. If provided overrides keyring. Default is nil. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.user</strong> (string)</p>
<p>The rados user name. Default is admin. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
</ul>
</li>
<li>
<p><strong>scaleIO</strong> (ScaleIOVolumeSource)</p>
<p>ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.</p>
<p><a name=ScaleIOVolumeSource></a>
<em>ScaleIOVolumeSource represents a persistent ScaleIO volume</em></p>
<ul>
<li>
<p><strong>scaleIO.gateway</strong> (string), required</p>
<p>The host address of the ScaleIO API Gateway.</p>
</li>
<li>
<p><strong>scaleIO.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>), required</p>
<p>SecretRef references to the secret for ScaleIO user and other sensitive information. If this is not provided, Login operation will fail.</p>
</li>
<li>
<p><strong>scaleIO.system</strong> (string), required</p>
<p>The name of the storage system as configured in ScaleIO.</p>
</li>
<li>
<p><strong>scaleIO.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Default is "xfs".</p>
</li>
<li>
<p><strong>scaleIO.protectionDomain</strong> (string)</p>
<p>The name of the ScaleIO Protection Domain for the configured storage.</p>
</li>
<li>
<p><strong>scaleIO.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>scaleIO.sslEnabled</strong> (boolean)</p>
<p>Flag to enable/disable SSL communication with Gateway, default false</p>
</li>
<li>
<p><strong>scaleIO.storageMode</strong> (string)</p>
<p>Indicates whether the storage for a volume should be ThickProvisioned or ThinProvisioned. Default is ThinProvisioned.</p>
</li>
<li>
<p><strong>scaleIO.storagePool</strong> (string)</p>
<p>The ScaleIO Storage Pool associated with the protection domain.</p>
</li>
<li>
<p><strong>scaleIO.volumeName</strong> (string)</p>
<p>The name of a volume already created in the ScaleIO system that is associated with this volume source.</p>
</li>
</ul>
</li>
<li>
<p><strong>storageos</strong> (StorageOSVolumeSource)</p>
<p>StorageOS represents a StorageOS volume attached and mounted on Kubernetes nodes.</p>
<p><a name=StorageOSVolumeSource></a>
<em>Represents a StorageOS persistent volume resource.</em></p>
<ul>
<li>
<p><strong>storageos.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>storageos.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>storageos.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>SecretRef specifies the secret to use for obtaining the StorageOS API credentials. If not specified, default values will be attempted.</p>
</li>
<li>
<p><strong>storageos.volumeName</strong> (string)</p>
<p>VolumeName is the human-readable name of the StorageOS volume. Volume names are only unique within a namespace.</p>
</li>
<li>
<p><strong>storageos.volumeNamespace</strong> (string)</p>
<p>VolumeNamespace specifies the scope of the volume within StorageOS. If no namespace is specified then the Pod's namespace will be used. This allows the Kubernetes name scoping to be mirrored within StorageOS for tighter integration. Set VolumeName to any name to override the default behaviour. Set to "default" if you are not using namespaces within StorageOS. Namespaces that do not pre-exist within StorageOS will be created.</p>
</li>
</ul>
</li>
<li>
<p><strong>vsphereVolume</strong> (VsphereVirtualDiskVolumeSource)</p>
<p>VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine</p>
<p><a name=VsphereVirtualDiskVolumeSource></a>
<em>Represents a vSphere volume resource.</em></p>
<ul>
<li>
<p><strong>vsphereVolume.volumePath</strong> (string), required</p>
<p>Path that identifies vSphere volume vmdk</p>
</li>
<li>
<p><strong>vsphereVolume.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>vsphereVolume.storagePolicyID</strong> (string)</p>
<p>Storage Policy Based Management (SPBM) profile ID associated with the StoragePolicyName.</p>
</li>
<li>
<p><strong>vsphereVolume.storagePolicyName</strong> (string)</p>
<p>Storage Policy Based Management (SPBM) profile name.</p>
</li>
</ul>
</li>
</ul>
<h3 id=alpha-level>Alpha level</h3>
<ul>
<li>
<p><strong>ephemeral</strong> (EphemeralVolumeSource)</p>
<p>Ephemeral represents a volume that is handled by a cluster storage driver. The volume's lifecycle is tied to the pod that defines it - it will be created before the pod starts, and deleted when the pod is removed.</p>
<p>Use this if: a) the volume is only needed while the pod runs, b) features of normal volumes like restoring from snapshot or capacity
tracking are needed,
c) the storage driver is specified through a storage class, and d) the storage driver supports dynamic volume provisioning through
a PersistentVolumeClaim (see EphemeralVolumeSource for more
information on the connection between this volume type
and PersistentVolumeClaim).</p>
<p>Use PersistentVolumeClaim or one of the vendor-specific APIs for volumes that persist for longer than the lifecycle of an individual pod.</p>
<p>Use CSI for light-weight local ephemeral volumes if the CSI driver is meant to be used that way - see the documentation of the driver for more information.</p>
<p>A pod can use both types of ephemeral volumes and persistent volumes at the same time.</p>
<p>This is a beta feature and only available when the GenericEphemeralVolume feature gate is enabled.</p>
<p><a name=EphemeralVolumeSource></a>
<em>Represents an ephemeral volume that is handled by a normal storage driver.</em></p>
<ul>
<li>
<p><strong>ephemeral.volumeClaimTemplate</strong> (PersistentVolumeClaimTemplate)</p>
<p>Will be used to create a stand-alone PVC to provision the volume. The pod in which this EphemeralVolumeSource is embedded will be the owner of the PVC, i.e. the PVC will be deleted together with the pod. The name of the PVC will be <code>\&lt;pod name>-\&lt;volume name></code> where <code>\&lt;volume name></code> is the name from the <code>PodSpec.Volumes</code> array entry. Pod validation will reject the pod if the concatenated name is not valid for a PVC (for example, too long).</p>
<p>An existing PVC with that name that is not owned by the pod will <em>not</em> be used for the pod to avoid using an unrelated volume by mistake. Starting the pod is then blocked until the unrelated PVC is removed. If such a pre-created PVC is meant to be used by the pod, the PVC has to updated with an owner reference to the pod once the pod exists. Normally this should not be necessary, but it may be useful when manually reconstructing a broken cluster.</p>
<p>This field is read-only and no changes will be made by Kubernetes to the PVC after it has been created.</p>
<p>Required, must not be nil.</p>
<p><a name=PersistentVolumeClaimTemplate></a>
<em>PersistentVolumeClaimTemplate is used to produce PersistentVolumeClaim objects as part of an EphemeralVolumeSource.</em></p>
<ul>
<li>
<p><strong>ephemeral.volumeClaimTemplate.spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimSpec>PersistentVolumeClaimSpec</a>), required</p>
<p>The specification for the PersistentVolumeClaim. The entire content is copied unchanged into the PVC that gets created from this template. The same fields as in a PersistentVolumeClaim are also valid here.</p>
</li>
<li>
<p><strong>ephemeral.volumeClaimTemplate.metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>May contain labels and annotations that will be copied into the PVC when creating it. No other fields are allowed and will be rejected during validation.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id=deprecated>Deprecated</h3>
<ul>
<li>
<p><strong>gitRepo</strong> (GitRepoVolumeSource)</p>
<p>GitRepo represents a git repository at a particular revision. DEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an EmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir into the Pod's container.</p>
<p><a name=GitRepoVolumeSource></a>
*Represents a volume that is populated with the contents of a git repository. Git repo volumes do not support ownership management. Git repo volumes support SELinux relabeling.</p>
<p>DEPRECATED: GitRepo is deprecated. To provision a container with a git repo, mount an EmptyDir into an InitContainer that clones the repo using git, then mount the EmptyDir into the Pod's container.*</p>
<ul>
<li>
<p><strong>gitRepo.repository</strong> (string), required</p>
<p>Repository URL</p>
</li>
<li>
<p><strong>gitRepo.directory</strong> (string)</p>
<p>Target directory name. Must not contain or start with '..'. If '.' is supplied, the volume directory will be the git repository. Otherwise, if specified, the volume will contain the git repository in the subdirectory with the given name.</p>
</li>
<li>
<p><strong>gitRepo.revision</strong> (string)</p>
<p>Commit hash for the specified revision.</p>
</li>
</ul>
</li>
</ul>
<h2 id=DownwardAPIVolumeFile>DownwardAPIVolumeFile</h2>
<p>DownwardAPIVolumeFile represents information to create the file containing the pod field</p>
<hr>
<ul>
<li>
<p><strong>path</strong> (string), required</p>
<p>Required: Path is the relative path name of the file to be created. Must not be absolute or contain the '..' path. Must be utf-8 encoded. The first item of the relative path must not start with '..'</p>
</li>
<li>
<p><strong>fieldRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-field-selector/#ObjectFieldSelector>ObjectFieldSelector</a>)</p>
<p>Required: Selects a field of the pod: only annotations, labels, name and namespace are supported.</p>
</li>
<li>
<p><strong>mode</strong> (int32)</p>
<p>Optional: mode bits used to set permissions on this file, must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. If not specified, the volume defaultMode will be used. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.</p>
</li>
<li>
<p><strong>resourceFieldRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/resource-field-selector/#ResourceFieldSelector>ResourceFieldSelector</a>)</p>
<p>Selects a resource of the container: only resources limits and requests (limits.cpu, limits.memory, requests.cpu and requests.memory) are currently supported.</p>
</li>
</ul>
<h2 id=KeyToPath>KeyToPath</h2>
<p>Maps a string key to a path within a volume.</p>
<hr>
<ul>
<li>
<p><strong>key</strong> (string), required</p>
<p>The key to project.</p>
</li>
<li>
<p><strong>path</strong> (string), required</p>
<p>The relative path of the file to map the key to. May not be an absolute path. May not contain the path element '..'. May not start with the string '..'.</p>
</li>
<li>
<p><strong>mode</strong> (int32)</p>
<p>Optional: mode bits used to set permissions on this file. Must be an octal value between 0000 and 0777 or a decimal value between 0 and 511. YAML accepts both octal and decimal values, JSON requires decimal values for mode bits. If not specified, the volume defaultMode will be used. This might be in conflict with other options that affect the file mode, like fsGroup, and the result can be other mode bits set.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b0df9d7d300647dc0b5ebef6492f379c>5.3.4 - PersistentVolumeClaim</h1>
<div class=lead>PersistentVolumeClaim is a user's request for and claim to a persistent volume.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=PersistentVolumeClaim>PersistentVolumeClaim</h2>
<p>PersistentVolumeClaim is a user's request for and claim to a persistent volume</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: PersistentVolumeClaim</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimSpec>PersistentVolumeClaimSpec</a>)</p>
<p>Spec defines the desired characteristics of a volume requested by a pod author. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimStatus>PersistentVolumeClaimStatus</a>)</p>
<p>Status represents the current information/status of a persistent volume claim. Read-only. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p>
</li>
</ul>
<h2 id=PersistentVolumeClaimSpec>PersistentVolumeClaimSpec</h2>
<p>PersistentVolumeClaimSpec describes the common attributes of storage devices and allows a Source for provider-specific attributes</p>
<hr>
<ul>
<li>
<p><strong>accessModes</strong> ([]string)</p>
<p>AccessModes contains the desired access modes the volume should have. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1>https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1</a></p>
</li>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>A label query over volumes to consider for binding.</p>
</li>
<li>
<p><strong>resources</strong> (ResourceRequirements)</p>
<p>Resources represents the minimum resources the volume should have. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources>https://kubernetes.io/docs/concepts/storage/persistent-volumes#resources</a></p>
<p><a name=ResourceRequirements></a>
<em>ResourceRequirements describes the compute resource requirements.</em></p>
<ul>
<li>
<p><strong>resources.limits</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Limits describes the maximum amount of compute resources allowed. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
<li>
<p><strong>resources.requests</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Requests describes the minimum amount of compute resources required. If Requests is omitted for a container, it defaults to Limits if that is explicitly specified, otherwise to an implementation-defined value. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
</ul>
</li>
<li>
<p><strong>volumeName</strong> (string)</p>
<p>VolumeName is the binding reference to the PersistentVolume backing this claim.</p>
</li>
<li>
<p><strong>storageClassName</strong> (string)</p>
<p>Name of the StorageClass required by the claim. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1>https://kubernetes.io/docs/concepts/storage/persistent-volumes#class-1</a></p>
</li>
<li>
<p><strong>volumeMode</strong> (string)</p>
<p>volumeMode defines what type of volume is required by the claim. Value of Filesystem is implied when not included in claim spec.</p>
</li>
</ul>
<h3 id=alpha-level>Alpha level</h3>
<ul>
<li>
<p><strong>dataSource</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/typed-local-object-reference/#TypedLocalObjectReference>TypedLocalObjectReference</a>)</p>
<p>This field can be used to specify either: * An existing VolumeSnapshot object (snapshot.storage.k8s.io/VolumeSnapshot) * An existing PVC (PersistentVolumeClaim) If the provisioner or an external controller can support the specified data source, it will create a new volume based on the contents of the specified data source. If the AnyVolumeDataSource feature gate is enabled, this field will always have the same contents as the DataSourceRef field.</p>
</li>
<li>
<p><strong>dataSourceRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/typed-local-object-reference/#TypedLocalObjectReference>TypedLocalObjectReference</a>)</p>
<p>Specifies the object from which to populate the volume with data, if a non-empty volume is desired. This may be any local object from a non-empty API group (non core object) or a PersistentVolumeClaim object. When this field is specified, volume binding will only succeed if the type of the specified object matches some installed volume populator or dynamic provisioner. This field will replace the functionality of the DataSource field and as such if both fields are non-empty, they must have the same value. For backwards compatibility, both fields (DataSource and DataSourceRef) will be set to the same value automatically if one of them is empty and the other is non-empty. There are two important differences between DataSource and DataSourceRef: * While DataSource only allows two specific types of objects, DataSourceRef
allows any non-core object, as well as PersistentVolumeClaim objects.</p>
<ul>
<li>While DataSource ignores disallowed values (dropping them), DataSourceRef
preserves all values, and generates an error if a disallowed value is
specified.
(Alpha) Using this field requires the AnyVolumeDataSource feature gate to be enabled.</li>
</ul>
</li>
</ul>
<h2 id=PersistentVolumeClaimStatus>PersistentVolumeClaimStatus</h2>
<p>PersistentVolumeClaimStatus is the current status of a persistent volume claim.</p>
<hr>
<ul>
<li>
<p><strong>accessModes</strong> ([]string)</p>
<p>AccessModes contains the actual access modes the volume backing the PVC has. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1>https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes-1</a></p>
</li>
<li>
<p><strong>capacity</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Represents the actual resources of the underlying volume.</p>
</li>
<li>
<p><strong>conditions</strong> ([]PersistentVolumeClaimCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Current Condition of persistent volume claim. If underlying persistent volume is being resized then the Condition will be set to 'ResizeStarted'.</p>
<p><a name=PersistentVolumeClaimCondition></a>
<em>PersistentVolumeClaimCondition contails details about state of pvc</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
</li>
<li>
<p><strong>conditions.lastProbeTime</strong> (Time)</p>
<p>Last time we probed the condition.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>Human-readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>Unique, this should be a short, machine understandable string that gives the reason for condition's last transition. If it reports "ResizeStarted" that means the underlying persistent volume is being resized.</p>
</li>
</ul>
</li>
<li>
<p><strong>phase</strong> (string)</p>
<p>Phase represents the current phase of PersistentVolumeClaim.</p>
</li>
</ul>
<h2 id=PersistentVolumeClaimList>PersistentVolumeClaimList</h2>
<p>PersistentVolumeClaimList is a list of PersistentVolumeClaim items.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: PersistentVolumeClaimList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>), required</p>
<p>A list of persistent volume claims. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistentvolumeclaims</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-persistentvolumeclaim><code>get</code> read the specified PersistentVolumeClaim</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-persistentvolumeclaim><code>get</code> read status of the specified PersistentVolumeClaim</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-persistentvolumeclaim><code>list</code> list or watch objects of kind PersistentVolumeClaim</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/persistentvolumeclaims</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimList>PersistentVolumeClaimList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-persistentvolumeclaim-1><code>list</code> list or watch objects of kind PersistentVolumeClaim</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /api/v1/persistentvolumeclaims</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaimList>PersistentVolumeClaimList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-persistentvolumeclaim><code>create</code> create a PersistentVolumeClaim</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/persistentvolumeclaims</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-persistentvolumeclaim><code>update</code> replace the specified PersistentVolumeClaim</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-persistentvolumeclaim><code>update</code> replace status of the specified PersistentVolumeClaim</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-persistentvolumeclaim><code>patch</code> partially update the specified PersistentVolumeClaim</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-persistentvolumeclaim><code>patch</code> partially update status of the specified PersistentVolumeClaim</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-persistentvolumeclaim><code>delete</code> delete a PersistentVolumeClaim</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/persistentvolumeclaims/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolumeClaim</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-claim-v1/#PersistentVolumeClaim>PersistentVolumeClaim</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-persistentvolumeclaim><code>deletecollection</code> delete collection of PersistentVolumeClaim</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/persistentvolumeclaims</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-876f3f471c6ce2412361e722f45723ce>5.3.5 - PersistentVolume</h1>
<div class=lead>PersistentVolume (PV) is a storage resource provisioned by an administrator.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=PersistentVolume>PersistentVolume</h2>
<p>PersistentVolume (PV) is a storage resource provisioned by an administrator. It is analogous to a node. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes>https://kubernetes.io/docs/concepts/storage/persistent-volumes</a></p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: PersistentVolume</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeSpec>PersistentVolumeSpec</a>)</p>
<p>Spec defines a specification of a persistent volume owned by the cluster. Provisioned by an administrator. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistent-volumes>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistent-volumes</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeStatus>PersistentVolumeStatus</a>)</p>
<p>Status represents the current information/status for the persistent volume. Populated by the system. Read-only. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistent-volumes>https://kubernetes.io/docs/concepts/storage/persistent-volumes#persistent-volumes</a></p>
</li>
</ul>
<h2 id=PersistentVolumeSpec>PersistentVolumeSpec</h2>
<p>PersistentVolumeSpec is the specification of a persistent volume.</p>
<hr>
<ul>
<li>
<p><strong>accessModes</strong> ([]string)</p>
<p>AccessModes contains all ways the volume can be mounted. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes>https://kubernetes.io/docs/concepts/storage/persistent-volumes#access-modes</a></p>
</li>
<li>
<p><strong>capacity</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>A description of the persistent volume's resources and capacity. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#capacity>https://kubernetes.io/docs/concepts/storage/persistent-volumes#capacity</a></p>
</li>
<li>
<p><strong>claimRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>ClaimRef is part of a bi-directional binding between PersistentVolume and PersistentVolumeClaim. Expected to be non-nil when bound. claim.VolumeName is the authoritative bind between PV and PVC. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#binding>https://kubernetes.io/docs/concepts/storage/persistent-volumes#binding</a></p>
</li>
<li>
<p><strong>mountOptions</strong> ([]string)</p>
<p>A list of mount options, e.g. ["ro", "soft"]. Not validated - mount will simply fail if one is invalid. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/#mount-options>https://kubernetes.io/docs/concepts/storage/persistent-volumes/#mount-options</a></p>
</li>
<li>
<p><strong>nodeAffinity</strong> (VolumeNodeAffinity)</p>
<p>NodeAffinity defines constraints that limit what nodes this volume can be accessed from. This field influences the scheduling of pods that use this volume.</p>
<p><a name=VolumeNodeAffinity></a>
<em>VolumeNodeAffinity defines constraints that limit what nodes this volume can be accessed from.</em></p>
<ul>
<li>
<p><strong>nodeAffinity.required</strong> (NodeSelector)</p>
<p>Required specifies hard node constraints that must be met.</p>
<p><a name=NodeSelector></a>
<em>A node selector represents the union of the results of one or more label queries over a set of nodes; that is, it represents the OR of the selectors represented by the node selector terms.</em></p>
<ul>
<li>
<p><strong>nodeAffinity.required.nodeSelectorTerms</strong> ([]NodeSelectorTerm), required</p>
<p>Required. A list of node selector terms. The terms are ORed.</p>
<p><a name=NodeSelectorTerm></a>
<em>A null or empty node selector term matches no objects. The requirements of them are ANDed. The TopologySelectorTerm type implements a subset of the NodeSelectorTerm.</em></p>
<ul>
<li>
<p><strong>nodeAffinity.required.nodeSelectorTerms.matchExpressions</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p>
<p>A list of node selector requirements by node's labels.</p>
</li>
<li>
<p><strong>nodeAffinity.required.nodeSelectorTerms.matchFields</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/node-selector-requirement/#NodeSelectorRequirement>NodeSelectorRequirement</a>)</p>
<p>A list of node selector requirements by node's fields.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>persistentVolumeReclaimPolicy</strong> (string)</p>
<p>What happens to a persistent volume when released from its claim. Valid options are Retain (default for manually created PersistentVolumes), Delete (default for dynamically provisioned PersistentVolumes), and Recycle (deprecated). Recycle must be supported by the volume plugin underlying this PersistentVolume. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#reclaiming>https://kubernetes.io/docs/concepts/storage/persistent-volumes#reclaiming</a></p>
</li>
<li>
<p><strong>storageClassName</strong> (string)</p>
<p>Name of StorageClass to which this persistent volume belongs. Empty value means that this volume does not belong to any StorageClass.</p>
</li>
<li>
<p><strong>volumeMode</strong> (string)</p>
<p>volumeMode defines if a volume is intended to be used with a formatted filesystem or to remain in raw block state. Value of Filesystem is implied when not included in spec.</p>
</li>
</ul>
<h3 id=local>Local</h3>
<ul>
<li>
<p><strong>hostPath</strong> (HostPathVolumeSource)</p>
<p>HostPath represents a directory on the host. Provisioned by a developer or tester. This is useful for single-node development and testing only! On-host storage is not supported in any way and WILL NOT WORK in a multi-node cluster. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/docs/concepts/storage/volumes#hostpath</a></p>
<p><a name=HostPathVolumeSource></a>
<em>Represents a host path mapped into a pod. Host path volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>hostPath.path</strong> (string), required</p>
<p>Path of the directory on the host. If the path is a symlink, it will follow the link to the real path. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/docs/concepts/storage/volumes#hostpath</a></p>
</li>
<li>
<p><strong>hostPath.type</strong> (string)</p>
<p>Type for HostPath Volume Defaults to "" More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#hostpath>https://kubernetes.io/docs/concepts/storage/volumes#hostpath</a></p>
</li>
</ul>
</li>
<li>
<p><strong>local</strong> (LocalVolumeSource)</p>
<p>Local represents directly-attached storage with node affinity</p>
<p><a name=LocalVolumeSource></a>
<em>Local represents directly-attached storage with node affinity (Beta feature)</em></p>
<ul>
<li>
<p><strong>local.path</strong> (string), required</p>
<p>The full path to the volume on the node. It can be either a directory or block device (disk, partition, ...).</p>
</li>
<li>
<p><strong>local.fsType</strong> (string)</p>
<p>Filesystem type to mount. It applies only when the Path is a block device. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". The default value is to auto-select a fileystem if unspecified.</p>
</li>
</ul>
</li>
</ul>
<h3 id=persistent-volumes>Persistent volumes</h3>
<ul>
<li>
<p><strong>awsElasticBlockStore</strong> (AWSElasticBlockStoreVolumeSource)</p>
<p>AWSElasticBlockStore represents an AWS Disk resource that is attached to a kubelet's host machine and then exposed to the pod. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
<p><a name=AWSElasticBlockStoreVolumeSource></a>
*Represents a Persistent Disk resource in AWS.</p>
<p>An AWS EBS disk must exist before mounting to a container. The disk must also be in the same AWS zone as the kubelet. An AWS EBS disk can only be mounted as read/write once. AWS EBS volumes support ownership management and SELinux relabeling.*</p>
<ul>
<li>
<p><strong>awsElasticBlockStore.volumeID</strong> (string), required</p>
<p>Unique ID of the persistent disk resource in AWS (Amazon EBS volume). More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
</li>
<li>
<p><strong>awsElasticBlockStore.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
</li>
<li>
<p><strong>awsElasticBlockStore.partition</strong> (int32)</p>
<p>The partition in the volume that you want to mount. If omitted, the default is to mount by volume name. Examples: For volume /dev/sda1, you specify the partition as "1". Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty).</p>
</li>
<li>
<p><strong>awsElasticBlockStore.readOnly</strong> (boolean)</p>
<p>Specify "true" to force and set the ReadOnly property in VolumeMounts to "true". If omitted, the default is "false". More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore>https://kubernetes.io/docs/concepts/storage/volumes#awselasticblockstore</a></p>
</li>
</ul>
</li>
<li>
<p><strong>azureDisk</strong> (AzureDiskVolumeSource)</p>
<p>AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.</p>
<p><a name=AzureDiskVolumeSource></a>
<em>AzureDisk represents an Azure Data Disk mount on the host and bind mount to the pod.</em></p>
<ul>
<li>
<p><strong>azureDisk.diskName</strong> (string), required</p>
<p>The Name of the data disk in the blob storage</p>
</li>
<li>
<p><strong>azureDisk.diskURI</strong> (string), required</p>
<p>The URI the data disk in the blob storage</p>
</li>
<li>
<p><strong>azureDisk.cachingMode</strong> (string)</p>
<p>Host Caching mode: None, Read Only, Read Write.</p>
</li>
<li>
<p><strong>azureDisk.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>azureDisk.kind</strong> (string)</p>
<p>Expected values Shared: multiple blob disks per storage account Dedicated: single blob disk per storage account Managed: azure managed data disk (only in managed availability set). defaults to shared</p>
</li>
<li>
<p><strong>azureDisk.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
</ul>
</li>
<li>
<p><strong>azureFile</strong> (AzureFilePersistentVolumeSource)</p>
<p>AzureFile represents an Azure File Service mount on the host and bind mount to the pod.</p>
<p><a name=AzureFilePersistentVolumeSource></a>
<em>AzureFile represents an Azure File Service mount on the host and bind mount to the pod.</em></p>
<ul>
<li>
<p><strong>azureFile.secretName</strong> (string), required</p>
<p>the name of secret that contains Azure Storage Account Name and Key</p>
</li>
<li>
<p><strong>azureFile.shareName</strong> (string), required</p>
<p>Share Name</p>
</li>
<li>
<p><strong>azureFile.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>azureFile.secretNamespace</strong> (string)</p>
<p>the namespace of the secret that contains Azure Storage Account Name and Key default is the same as the Pod</p>
</li>
</ul>
</li>
<li>
<p><strong>cephfs</strong> (CephFSPersistentVolumeSource)</p>
<p>CephFS represents a Ceph FS mount on the host that shares a pod's lifetime</p>
<p><a name=CephFSPersistentVolumeSource></a>
<em>Represents a Ceph Filesystem mount that lasts the lifetime of a pod Cephfs volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>cephfs.monitors</strong> ([]string), required</p>
<p>Required: Monitors is a collection of Ceph monitors More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.path</strong> (string)</p>
<p>Optional: Used as the mounted root, rather than the full Ceph tree, default is /</p>
</li>
<li>
<p><strong>cephfs.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts. More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.secretFile</strong> (string)</p>
<p>Optional: SecretFile is the path to key ring for User, default is /etc/ceph/user.secret More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>cephfs.secretRef</strong> (SecretReference)</p>
<p>Optional: SecretRef is reference to the authentication secret for User, default is empty. More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>cephfs.secretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>cephfs.secretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>cephfs.user</strong> (string)</p>
<p>Optional: User is the rados user name, default is admin More info: <a href=https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it>https://examples.k8s.io/volumes/cephfs/README.md#how-to-use-it</a></p>
</li>
</ul>
</li>
<li>
<p><strong>cinder</strong> (CinderPersistentVolumeSource)</p>
<p>Cinder represents a cinder volume attached and mounted on kubelets host machine. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
<p><a name=CinderPersistentVolumeSource></a>
<em>Represents a cinder volume resource in Openstack. A Cinder volume must exist before mounting to a container. The volume must also be in the same region as the kubelet. Cinder volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>cinder.volumeID</strong> (string), required</p>
<p>volume id used to identify the volume in cinder. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
</li>
<li>
<p><strong>cinder.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
</li>
<li>
<p><strong>cinder.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts. More info: <a href=https://examples.k8s.io/mysql-cinder-pd/README.md>https://examples.k8s.io/mysql-cinder-pd/README.md</a></p>
</li>
<li>
<p><strong>cinder.secretRef</strong> (SecretReference)</p>
<p>Optional: points to a secret object containing parameters used to connect to OpenStack.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>cinder.secretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>cinder.secretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>csi</strong> (CSIPersistentVolumeSource)</p>
<p>CSI represents storage that is handled by an external CSI driver (Beta feature).</p>
<p><a name=CSIPersistentVolumeSource></a>
<em>Represents storage that is managed by an external CSI volume driver (Beta feature)</em></p>
<ul>
<li>
<p><strong>csi.driver</strong> (string), required</p>
<p>Driver is the name of the driver to use for this volume. Required.</p>
</li>
<li>
<p><strong>csi.volumeHandle</strong> (string), required</p>
<p>VolumeHandle is the unique volume name returned by the CSI volume plugin’s CreateVolume to refer to the volume on all subsequent calls. Required.</p>
</li>
<li>
<p><strong>csi.controllerExpandSecretRef</strong> (SecretReference)</p>
<p>ControllerExpandSecretRef is a reference to the secret object containing sensitive information to pass to the CSI driver to complete the CSI ControllerExpandVolume call. This is an alpha field and requires enabling ExpandCSIVolumes feature gate. This field is optional, and may be empty if no secret is required. If the secret object contains more than one secret, all secrets are passed.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>csi.controllerExpandSecretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>csi.controllerExpandSecretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>csi.controllerPublishSecretRef</strong> (SecretReference)</p>
<p>ControllerPublishSecretRef is a reference to the secret object containing sensitive information to pass to the CSI driver to complete the CSI ControllerPublishVolume and ControllerUnpublishVolume calls. This field is optional, and may be empty if no secret is required. If the secret object contains more than one secret, all secrets are passed.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>csi.controllerPublishSecretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>csi.controllerPublishSecretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>csi.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs".</p>
</li>
<li>
<p><strong>csi.nodePublishSecretRef</strong> (SecretReference)</p>
<p>NodePublishSecretRef is a reference to the secret object containing sensitive information to pass to the CSI driver to complete the CSI NodePublishVolume and NodeUnpublishVolume calls. This field is optional, and may be empty if no secret is required. If the secret object contains more than one secret, all secrets are passed.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>csi.nodePublishSecretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>csi.nodePublishSecretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>csi.nodeStageSecretRef</strong> (SecretReference)</p>
<p>NodeStageSecretRef is a reference to the secret object containing sensitive information to pass to the CSI driver to complete the CSI NodeStageVolume and NodeStageVolume and NodeUnstageVolume calls. This field is optional, and may be empty if no secret is required. If the secret object contains more than one secret, all secrets are passed.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>csi.nodeStageSecretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>csi.nodeStageSecretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>csi.readOnly</strong> (boolean)</p>
<p>Optional: The value to pass to ControllerPublishVolumeRequest. Defaults to false (read/write).</p>
</li>
<li>
<p><strong>csi.volumeAttributes</strong> (map[string]string)</p>
<p>Attributes of the volume to publish.</p>
</li>
</ul>
</li>
<li>
<p><strong>fc</strong> (FCVolumeSource)</p>
<p>FC represents a Fibre Channel resource that is attached to a kubelet's host machine and then exposed to the pod.</p>
<p><a name=FCVolumeSource></a>
<em>Represents a Fibre Channel volume. Fibre Channel volumes can only be mounted as read/write once. Fibre Channel volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>fc.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>fc.lun</strong> (int32)</p>
<p>Optional: FC target lun number</p>
</li>
<li>
<p><strong>fc.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>fc.targetWWNs</strong> ([]string)</p>
<p>Optional: FC target worldwide names (WWNs)</p>
</li>
<li>
<p><strong>fc.wwids</strong> ([]string)</p>
<p>Optional: FC volume world wide identifiers (wwids) Either wwids or combination of targetWWNs and lun must be set, but not both simultaneously.</p>
</li>
</ul>
</li>
<li>
<p><strong>flexVolume</strong> (FlexPersistentVolumeSource)</p>
<p>FlexVolume represents a generic volume resource that is provisioned/attached using an exec based plugin.</p>
<p><a name=FlexPersistentVolumeSource></a>
<em>FlexPersistentVolumeSource represents a generic persistent volume resource that is provisioned/attached using an exec based plugin.</em></p>
<ul>
<li>
<p><strong>flexVolume.driver</strong> (string), required</p>
<p>Driver is the name of the driver to use for this volume.</p>
</li>
<li>
<p><strong>flexVolume.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". The default filesystem depends on FlexVolume script.</p>
</li>
<li>
<p><strong>flexVolume.options</strong> (map[string]string)</p>
<p>Optional: Extra command options if any.</p>
</li>
<li>
<p><strong>flexVolume.readOnly</strong> (boolean)</p>
<p>Optional: Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>flexVolume.secretRef</strong> (SecretReference)</p>
<p>Optional: SecretRef is reference to the secret object containing sensitive information to pass to the plugin scripts. This may be empty if no secret object is specified. If the secret object contains more than one secret, all secrets are passed to the plugin scripts.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>flexVolume.secretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>flexVolume.secretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>flocker</strong> (FlockerVolumeSource)</p>
<p>Flocker represents a Flocker volume attached to a kubelet's host machine and exposed to the pod for its usage. This depends on the Flocker control service being running</p>
<p><a name=FlockerVolumeSource></a>
<em>Represents a Flocker volume mounted by the Flocker agent. One and only one of datasetName and datasetUUID should be set. Flocker volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>flocker.datasetName</strong> (string)</p>
<p>Name of the dataset stored as metadata -> name on the dataset for Flocker should be considered as deprecated</p>
</li>
<li>
<p><strong>flocker.datasetUUID</strong> (string)</p>
<p>UUID of the dataset. This is unique identifier of a Flocker dataset</p>
</li>
</ul>
</li>
<li>
<p><strong>gcePersistentDisk</strong> (GCEPersistentDiskVolumeSource)</p>
<p>GCEPersistentDisk represents a GCE Disk resource that is attached to a kubelet's host machine and then exposed to the pod. Provisioned by an admin. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
<p><a name=GCEPersistentDiskVolumeSource></a>
*Represents a Persistent Disk resource in Google Compute Engine.</p>
<p>A GCE PD must exist before mounting to a container. The disk must also be in the same GCE project and zone as the kubelet. A GCE PD can only be mounted as read/write once or read-only many times. GCE PDs support ownership management and SELinux relabeling.*</p>
<ul>
<li>
<p><strong>gcePersistentDisk.pdName</strong> (string), required</p>
<p>Unique name of the PD resource in GCE. Used to identify the disk in GCE. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
<li>
<p><strong>gcePersistentDisk.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
<li>
<p><strong>gcePersistentDisk.partition</strong> (int32)</p>
<p>The partition in the volume that you want to mount. If omitted, the default is to mount by volume name. Examples: For volume /dev/sda1, you specify the partition as "1". Similarly, the volume partition for /dev/sda is "0" (or you can leave the property empty). More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
<li>
<p><strong>gcePersistentDisk.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the ReadOnly setting in VolumeMounts. Defaults to false. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk>https://kubernetes.io/docs/concepts/storage/volumes#gcepersistentdisk</a></p>
</li>
</ul>
</li>
<li>
<p><strong>glusterfs</strong> (GlusterfsPersistentVolumeSource)</p>
<p>Glusterfs represents a Glusterfs volume that is attached to a host and exposed to the pod. Provisioned by an admin. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md>https://examples.k8s.io/volumes/glusterfs/README.md</a></p>
<p><a name=GlusterfsPersistentVolumeSource></a>
<em>Represents a Glusterfs mount that lasts the lifetime of a pod. Glusterfs volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>glusterfs.endpoints</strong> (string), required</p>
<p>EndpointsName is the endpoint name that details Glusterfs topology. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
<li>
<p><strong>glusterfs.path</strong> (string), required</p>
<p>Path is the Glusterfs volume path. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
<li>
<p><strong>glusterfs.endpointsNamespace</strong> (string)</p>
<p>EndpointsNamespace is the namespace that contains Glusterfs endpoint. If this field is empty, the EndpointNamespace defaults to the same namespace as the bound PVC. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
<li>
<p><strong>glusterfs.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the Glusterfs volume to be mounted with read-only permissions. Defaults to false. More info: <a href=https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod>https://examples.k8s.io/volumes/glusterfs/README.md#create-a-pod</a></p>
</li>
</ul>
</li>
<li>
<p><strong>iscsi</strong> (ISCSIPersistentVolumeSource)</p>
<p>ISCSI represents an ISCSI Disk resource that is attached to a kubelet's host machine and then exposed to the pod. Provisioned by an admin.</p>
<p><a name=ISCSIPersistentVolumeSource></a>
<em>ISCSIPersistentVolumeSource represents an ISCSI disk. ISCSI volumes can only be mounted as read/write once. ISCSI volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>iscsi.iqn</strong> (string), required</p>
<p>Target iSCSI Qualified Name.</p>
</li>
<li>
<p><strong>iscsi.lun</strong> (int32), required</p>
<p>iSCSI Target Lun number.</p>
</li>
<li>
<p><strong>iscsi.targetPortal</strong> (string), required</p>
<p>iSCSI Target Portal. The Portal is either an IP or ip_addr:port if the port is other than default (typically TCP ports 860 and 3260).</p>
</li>
<li>
<p><strong>iscsi.chapAuthDiscovery</strong> (boolean)</p>
<p>whether support iSCSI Discovery CHAP authentication</p>
</li>
<li>
<p><strong>iscsi.chapAuthSession</strong> (boolean)</p>
<p>whether support iSCSI Session CHAP authentication</p>
</li>
<li>
<p><strong>iscsi.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#iscsi>https://kubernetes.io/docs/concepts/storage/volumes#iscsi</a></p>
</li>
<li>
<p><strong>iscsi.initiatorName</strong> (string)</p>
<p>Custom iSCSI Initiator Name. If initiatorName is specified with iscsiInterface simultaneously, new iSCSI interface &lt;target portal>:&lt;volume name> will be created for the connection.</p>
</li>
<li>
<p><strong>iscsi.iscsiInterface</strong> (string)</p>
<p>iSCSI Interface Name that uses an iSCSI transport. Defaults to 'default' (tcp).</p>
</li>
<li>
<p><strong>iscsi.portals</strong> ([]string)</p>
<p>iSCSI Target Portal List. The Portal is either an IP or ip_addr:port if the port is other than default (typically TCP ports 860 and 3260).</p>
</li>
<li>
<p><strong>iscsi.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the ReadOnly setting in VolumeMounts. Defaults to false.</p>
</li>
<li>
<p><strong>iscsi.secretRef</strong> (SecretReference)</p>
<p>CHAP Secret for iSCSI target and initiator authentication</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>iscsi.secretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>iscsi.secretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>nfs</strong> (NFSVolumeSource)</p>
<p>NFS represents an NFS mount on the host. Provisioned by an admin. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
<p><a name=NFSVolumeSource></a>
<em>Represents an NFS mount that lasts the lifetime of a pod. NFS volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>nfs.path</strong> (string), required</p>
<p>Path that is exported by the NFS server. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
</li>
<li>
<p><strong>nfs.server</strong> (string), required</p>
<p>Server is the hostname or IP address of the NFS server. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
</li>
<li>
<p><strong>nfs.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the NFS export to be mounted with read-only permissions. Defaults to false. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#nfs>https://kubernetes.io/docs/concepts/storage/volumes#nfs</a></p>
</li>
</ul>
</li>
<li>
<p><strong>photonPersistentDisk</strong> (PhotonPersistentDiskVolumeSource)</p>
<p>PhotonPersistentDisk represents a PhotonController persistent disk attached and mounted on kubelets host machine</p>
<p><a name=PhotonPersistentDiskVolumeSource></a>
<em>Represents a Photon Controller persistent disk resource.</em></p>
<ul>
<li>
<p><strong>photonPersistentDisk.pdID</strong> (string), required</p>
<p>ID that identifies Photon Controller persistent disk</p>
</li>
<li>
<p><strong>photonPersistentDisk.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
</ul>
</li>
<li>
<p><strong>portworxVolume</strong> (PortworxVolumeSource)</p>
<p>PortworxVolume represents a portworx volume attached and mounted on kubelets host machine</p>
<p><a name=PortworxVolumeSource></a>
<em>PortworxVolumeSource represents a Portworx volume resource.</em></p>
<ul>
<li>
<p><strong>portworxVolume.volumeID</strong> (string), required</p>
<p>VolumeID uniquely identifies a Portworx volume</p>
</li>
<li>
<p><strong>portworxVolume.fsType</strong> (string)</p>
<p>FSType represents the filesystem type to mount Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>portworxVolume.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
</ul>
</li>
<li>
<p><strong>quobyte</strong> (QuobyteVolumeSource)</p>
<p>Quobyte represents a Quobyte mount on the host that shares a pod's lifetime</p>
<p><a name=QuobyteVolumeSource></a>
<em>Represents a Quobyte mount that lasts the lifetime of a pod. Quobyte volumes do not support ownership management or SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>quobyte.registry</strong> (string), required</p>
<p>Registry represents a single or multiple Quobyte Registry services specified as a string as host:port pair (multiple entries are separated with commas) which acts as the central registry for volumes</p>
</li>
<li>
<p><strong>quobyte.volume</strong> (string), required</p>
<p>Volume is a string that references an already created Quobyte volume by name.</p>
</li>
<li>
<p><strong>quobyte.group</strong> (string)</p>
<p>Group to map volume access to Default is no group</p>
</li>
<li>
<p><strong>quobyte.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the Quobyte volume to be mounted with read-only permissions. Defaults to false.</p>
</li>
<li>
<p><strong>quobyte.tenant</strong> (string)</p>
<p>Tenant owning the given Quobyte volume in the Backend Used with dynamically provisioned Quobyte volumes, value is set by the plugin</p>
</li>
<li>
<p><strong>quobyte.user</strong> (string)</p>
<p>User to map volume access to Defaults to serivceaccount user</p>
</li>
</ul>
</li>
<li>
<p><strong>rbd</strong> (RBDPersistentVolumeSource)</p>
<p>RBD represents a Rados Block Device mount on the host that shares a pod's lifetime. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md>https://examples.k8s.io/volumes/rbd/README.md</a></p>
<p><a name=RBDPersistentVolumeSource></a>
<em>Represents a Rados Block Device mount that lasts the lifetime of a pod. RBD volumes support ownership management and SELinux relabeling.</em></p>
<ul>
<li>
<p><strong>rbd.image</strong> (string), required</p>
<p>The rados image name. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.monitors</strong> ([]string), required</p>
<p>A collection of Ceph monitors. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.fsType</strong> (string)</p>
<p>Filesystem type of the volume that you want to mount. Tip: Ensure that the filesystem type is supported by the host operating system. Examples: "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified. More info: <a href=https://kubernetes.io/docs/concepts/storage/volumes#rbd>https://kubernetes.io/docs/concepts/storage/volumes#rbd</a></p>
</li>
<li>
<p><strong>rbd.keyring</strong> (string)</p>
<p>Keyring is the path to key ring for RBDUser. Default is /etc/ceph/keyring. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.pool</strong> (string)</p>
<p>The rados pool name. Default is rbd. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.readOnly</strong> (boolean)</p>
<p>ReadOnly here will force the ReadOnly setting in VolumeMounts. Defaults to false. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
<li>
<p><strong>rbd.secretRef</strong> (SecretReference)</p>
<p>SecretRef is name of the authentication secret for RBDUser. If provided overrides keyring. Default is nil. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>rbd.secretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>rbd.secretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>rbd.user</strong> (string)</p>
<p>The rados user name. Default is admin. More info: <a href=https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it>https://examples.k8s.io/volumes/rbd/README.md#how-to-use-it</a></p>
</li>
</ul>
</li>
<li>
<p><strong>scaleIO</strong> (ScaleIOPersistentVolumeSource)</p>
<p>ScaleIO represents a ScaleIO persistent volume attached and mounted on Kubernetes nodes.</p>
<p><a name=ScaleIOPersistentVolumeSource></a>
<em>ScaleIOPersistentVolumeSource represents a persistent ScaleIO volume</em></p>
<ul>
<li>
<p><strong>scaleIO.gateway</strong> (string), required</p>
<p>The host address of the ScaleIO API Gateway.</p>
</li>
<li>
<p><strong>scaleIO.secretRef</strong> (SecretReference), required</p>
<p>SecretRef references to the secret for ScaleIO user and other sensitive information. If this is not provided, Login operation will fail.</p>
<p><a name=SecretReference></a>
<em>SecretReference represents a Secret Reference. It has enough information to retrieve secret in any namespace</em></p>
<ul>
<li>
<p><strong>scaleIO.secretRef.name</strong> (string)</p>
<p>Name is unique within a namespace to reference a secret resource.</p>
</li>
<li>
<p><strong>scaleIO.secretRef.namespace</strong> (string)</p>
<p>Namespace defines the space within which the secret name must be unique.</p>
</li>
</ul>
</li>
<li>
<p><strong>scaleIO.system</strong> (string), required</p>
<p>The name of the storage system as configured in ScaleIO.</p>
</li>
<li>
<p><strong>scaleIO.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Default is "xfs"</p>
</li>
<li>
<p><strong>scaleIO.protectionDomain</strong> (string)</p>
<p>The name of the ScaleIO Protection Domain for the configured storage.</p>
</li>
<li>
<p><strong>scaleIO.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>scaleIO.sslEnabled</strong> (boolean)</p>
<p>Flag to enable/disable SSL communication with Gateway, default false</p>
</li>
<li>
<p><strong>scaleIO.storageMode</strong> (string)</p>
<p>Indicates whether the storage for a volume should be ThickProvisioned or ThinProvisioned. Default is ThinProvisioned.</p>
</li>
<li>
<p><strong>scaleIO.storagePool</strong> (string)</p>
<p>The ScaleIO Storage Pool associated with the protection domain.</p>
</li>
<li>
<p><strong>scaleIO.volumeName</strong> (string)</p>
<p>The name of a volume already created in the ScaleIO system that is associated with this volume source.</p>
</li>
</ul>
</li>
<li>
<p><strong>storageos</strong> (StorageOSPersistentVolumeSource)</p>
<p>StorageOS represents a StorageOS volume that is attached to the kubelet's host machine and mounted into the pod More info: <a href=https://examples.k8s.io/volumes/storageos/README.md>https://examples.k8s.io/volumes/storageos/README.md</a></p>
<p><a name=StorageOSPersistentVolumeSource></a>
<em>Represents a StorageOS persistent volume resource.</em></p>
<ul>
<li>
<p><strong>storageos.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>storageos.readOnly</strong> (boolean)</p>
<p>Defaults to false (read/write). ReadOnly here will force the ReadOnly setting in VolumeMounts.</p>
</li>
<li>
<p><strong>storageos.secretRef</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>SecretRef specifies the secret to use for obtaining the StorageOS API credentials. If not specified, default values will be attempted.</p>
</li>
<li>
<p><strong>storageos.volumeName</strong> (string)</p>
<p>VolumeName is the human-readable name of the StorageOS volume. Volume names are only unique within a namespace.</p>
</li>
<li>
<p><strong>storageos.volumeNamespace</strong> (string)</p>
<p>VolumeNamespace specifies the scope of the volume within StorageOS. If no namespace is specified then the Pod's namespace will be used. This allows the Kubernetes name scoping to be mirrored within StorageOS for tighter integration. Set VolumeName to any name to override the default behaviour. Set to "default" if you are not using namespaces within StorageOS. Namespaces that do not pre-exist within StorageOS will be created.</p>
</li>
</ul>
</li>
<li>
<p><strong>vsphereVolume</strong> (VsphereVirtualDiskVolumeSource)</p>
<p>VsphereVolume represents a vSphere volume attached and mounted on kubelets host machine</p>
<p><a name=VsphereVirtualDiskVolumeSource></a>
<em>Represents a vSphere volume resource.</em></p>
<ul>
<li>
<p><strong>vsphereVolume.volumePath</strong> (string), required</p>
<p>Path that identifies vSphere volume vmdk</p>
</li>
<li>
<p><strong>vsphereVolume.fsType</strong> (string)</p>
<p>Filesystem type to mount. Must be a filesystem type supported by the host operating system. Ex. "ext4", "xfs", "ntfs". Implicitly inferred to be "ext4" if unspecified.</p>
</li>
<li>
<p><strong>vsphereVolume.storagePolicyID</strong> (string)</p>
<p>Storage Policy Based Management (SPBM) profile ID associated with the StoragePolicyName.</p>
</li>
<li>
<p><strong>vsphereVolume.storagePolicyName</strong> (string)</p>
<p>Storage Policy Based Management (SPBM) profile name.</p>
</li>
</ul>
</li>
</ul>
<h2 id=PersistentVolumeStatus>PersistentVolumeStatus</h2>
<p>PersistentVolumeStatus is the current status of a persistent volume.</p>
<hr>
<ul>
<li>
<p><strong>message</strong> (string)</p>
<p>A human-readable message indicating details about why the volume is in this state.</p>
</li>
<li>
<p><strong>phase</strong> (string)</p>
<p>Phase indicates if a volume is available, bound to a claim, or released by a claim. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#phase>https://kubernetes.io/docs/concepts/storage/persistent-volumes#phase</a></p>
</li>
<li>
<p><strong>reason</strong> (string)</p>
<p>Reason is a brief CamelCase string that describes any failure and is meant for machine parsing and tidy display in the CLI.</p>
</li>
</ul>
<h2 id=PersistentVolumeList>PersistentVolumeList</h2>
<p>PersistentVolumeList is a list of PersistentVolume items.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: PersistentVolumeList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>), required</p>
<p>List of persistent volumes. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes>https://kubernetes.io/docs/concepts/storage/persistent-volumes</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-persistentvolume><code>get</code> read the specified PersistentVolume</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/persistentvolumes/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-persistentvolume><code>get</code> read status of the specified PersistentVolume</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/persistentvolumes/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-persistentvolume><code>list</code> list or watch objects of kind PersistentVolume</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/persistentvolumes</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeList>PersistentVolumeList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-persistentvolume><code>create</code> create a PersistentVolume</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/persistentvolumes</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-persistentvolume><code>update</code> replace the specified PersistentVolume</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/persistentvolumes/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-persistentvolume><code>update</code> replace status of the specified PersistentVolume</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/persistentvolumes/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-persistentvolume><code>patch</code> partially update the specified PersistentVolume</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /api/v1/persistentvolumes/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-persistentvolume><code>patch</code> partially update status of the specified PersistentVolume</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/persistentvolumes/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-persistentvolume><code>delete</code> delete a PersistentVolume</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /api/v1/persistentvolumes/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PersistentVolume</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolume>PersistentVolume</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-persistentvolume><code>deletecollection</code> delete collection of PersistentVolume</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/persistentvolumes</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6594b40b9d2889c78aa24c990663c227>5.3.6 - StorageClass</h1>
<div class=lead>StorageClass describes the parameters for a class of storage for which PersistentVolumes can be dynamically provisioned.</div>
<p><code>apiVersion: storage.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/storage/v1"</code></p>
<h2 id=StorageClass>StorageClass</h2>
<p>StorageClass describes the parameters for a class of storage for which PersistentVolumes can be dynamically provisioned.</p>
<p>StorageClasses are non-namespaced; the name of the storage class according to etcd is in ObjectMeta.Name.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: StorageClass</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>provisioner</strong> (string), required</p>
<p>Provisioner indicates the type of the provisioner.</p>
</li>
<li>
<p><strong>allowVolumeExpansion</strong> (boolean)</p>
<p>AllowVolumeExpansion shows whether the storage class allow volume expand</p>
</li>
<li>
<p><strong>allowedTopologies</strong> ([]TopologySelectorTerm)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>Restrict the node topologies where volumes can be dynamically provisioned. Each volume plugin defines its own supported topology specifications. An empty TopologySelectorTerm list means there is no topology restriction. This field is only honored by servers that enable the VolumeScheduling feature.</p>
<p><a name=TopologySelectorTerm></a>
<em>A topology selector term represents the result of label queries. A null or empty topology selector term matches no objects. The requirements of them are ANDed. It provides a subset of functionality as NodeSelectorTerm. This is an alpha feature and may change in the future.</em></p>
<ul>
<li>
<p><strong>allowedTopologies.matchLabelExpressions</strong> ([]TopologySelectorLabelRequirement)</p>
<p>A list of topology selector requirements by labels.</p>
<p><a name=TopologySelectorLabelRequirement></a>
<em>A topology selector requirement is a selector that matches given label. This is an alpha feature and may change in the future.</em></p>
<ul>
<li>
<p><strong>allowedTopologies.matchLabelExpressions.key</strong> (string), required</p>
<p>The label key that the selector applies to.</p>
</li>
<li>
<p><strong>allowedTopologies.matchLabelExpressions.values</strong> ([]string), required</p>
<p>An array of string values. One value must match the label to be selected. Each entry in Values is ORed.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>mountOptions</strong> ([]string)</p>
<p>Dynamically provisioned PersistentVolumes of this storage class are created with these mountOptions, e.g. ["ro", "soft"]. Not validated - mount of the PVs will simply fail if one is invalid.</p>
</li>
<li>
<p><strong>parameters</strong> (map[string]string)</p>
<p>Parameters holds the parameters for the provisioner that should create volumes of this storage class.</p>
</li>
<li>
<p><strong>reclaimPolicy</strong> (string)</p>
<p>Dynamically provisioned PersistentVolumes of this storage class are created with this reclaimPolicy. Defaults to Delete.</p>
</li>
<li>
<p><strong>volumeBindingMode</strong> (string)</p>
<p>VolumeBindingMode indicates how PersistentVolumeClaims should be provisioned and bound. When unset, VolumeBindingImmediate is used. This field is only honored by servers that enable the VolumeScheduling feature.</p>
</li>
</ul>
<h2 id=StorageClassList>StorageClassList</h2>
<p>StorageClassList is a collection of storage classes.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: StorageClassList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>), required</p>
<p>Items is the list of StorageClasses</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-storageclass><code>get</code> read the specified StorageClass</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/storageclasses/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StorageClass</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-storageclass><code>list</code> list or watch objects of kind StorageClass</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/storageclasses</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClassList>StorageClassList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-storageclass><code>create</code> create a StorageClass</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/storage.k8s.io/v1/storageclasses</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-storageclass><code>update</code> replace the specified StorageClass</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/storage.k8s.io/v1/storageclasses/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StorageClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-storageclass><code>patch</code> partially update the specified StorageClass</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/storage.k8s.io/v1/storageclasses/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StorageClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-storageclass><code>delete</code> delete a StorageClass</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/storageclasses/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the StorageClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/storage-class-v1/#StorageClass>StorageClass</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-storageclass><code>deletecollection</code> delete collection of StorageClass</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/storageclasses</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4bfa6511c37446f7b8f7ff7643983981>5.3.7 - VolumeAttachment</h1>
<div class=lead>VolumeAttachment captures the intent to attach or detach the specified volume to/from the specified node.</div>
<p><code>apiVersion: storage.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/storage/v1"</code></p>
<h2 id=VolumeAttachment>VolumeAttachment</h2>
<p>VolumeAttachment captures the intent to attach or detach the specified volume to/from the specified node.</p>
<p>VolumeAttachment objects are non-namespaced.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: VolumeAttachment</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachmentSpec>VolumeAttachmentSpec</a>), required</p>
<p>Specification of the desired attach/detach volume behavior. Populated by the Kubernetes system.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachmentStatus>VolumeAttachmentStatus</a>)</p>
<p>Status of the VolumeAttachment request. Populated by the entity completing the attach or detach operation, i.e. the external-attacher.</p>
</li>
</ul>
<h2 id=VolumeAttachmentSpec>VolumeAttachmentSpec</h2>
<p>VolumeAttachmentSpec is the specification of a VolumeAttachment request.</p>
<hr>
<ul>
<li>
<p><strong>attacher</strong> (string), required</p>
<p>Attacher indicates the name of the volume driver that MUST handle this request. This is the name returned by GetPluginName().</p>
</li>
<li>
<p><strong>nodeName</strong> (string), required</p>
<p>The node that the volume should be attached to.</p>
</li>
<li>
<p><strong>source</strong> (VolumeAttachmentSource), required</p>
<p>Source represents the volume that should be attached.</p>
<p><a name=VolumeAttachmentSource></a>
<em>VolumeAttachmentSource represents a volume that should be attached. Right now only PersistenVolumes can be attached via external attacher, in future we may allow also inline volumes in pods. Exactly one member can be set.</em></p>
<ul>
<li>
<p><strong>source.inlineVolumeSpec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/persistent-volume-v1/#PersistentVolumeSpec>PersistentVolumeSpec</a>)</p>
<p>inlineVolumeSpec contains all the information necessary to attach a persistent volume defined by a pod's inline VolumeSource. This field is populated only for the CSIMigration feature. It contains translated fields from a pod's inline VolumeSource to a PersistentVolumeSpec. This field is beta-level and is only honored by servers that enabled the CSIMigration feature.</p>
</li>
<li>
<p><strong>source.persistentVolumeName</strong> (string)</p>
<p>Name of the persistent volume to attach.</p>
</li>
</ul>
</li>
</ul>
<h2 id=VolumeAttachmentStatus>VolumeAttachmentStatus</h2>
<p>VolumeAttachmentStatus is the status of a VolumeAttachment request.</p>
<hr>
<ul>
<li>
<p><strong>attached</strong> (boolean), required</p>
<p>Indicates the volume is successfully attached. This field must only be set by the entity completing the attach operation, i.e. the external-attacher.</p>
</li>
<li>
<p><strong>attachError</strong> (VolumeError)</p>
<p>The last error encountered during attach operation, if any. This field must only be set by the entity completing the attach operation, i.e. the external-attacher.</p>
<p><a name=VolumeError></a>
<em>VolumeError captures an error encountered during a volume operation.</em></p>
<ul>
<li>
<p><strong>attachError.message</strong> (string)</p>
<p>String detailing the error encountered during Attach or Detach operation. This string may be logged, so it should not contain sensitive information.</p>
</li>
<li>
<p><strong>attachError.time</strong> (Time)</p>
<p>Time the error was encountered.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>attachmentMetadata</strong> (map[string]string)</p>
<p>Upon successful attach, this field is populated with any information returned by the attach operation that must be passed into subsequent WaitForAttach or Mount calls. This field must only be set by the entity completing the attach operation, i.e. the external-attacher.</p>
</li>
<li>
<p><strong>detachError</strong> (VolumeError)</p>
<p>The last error encountered during detach operation, if any. This field must only be set by the entity completing the detach operation, i.e. the external-attacher.</p>
<p><a name=VolumeError></a>
<em>VolumeError captures an error encountered during a volume operation.</em></p>
<ul>
<li>
<p><strong>detachError.message</strong> (string)</p>
<p>String detailing the error encountered during Attach or Detach operation. This string may be logged, so it should not contain sensitive information.</p>
</li>
<li>
<p><strong>detachError.time</strong> (Time)</p>
<p>Time the error was encountered.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
</ul>
<h2 id=VolumeAttachmentList>VolumeAttachmentList</h2>
<p>VolumeAttachmentList is a collection of VolumeAttachment objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: VolumeAttachmentList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>), required</p>
<p>Items is the list of VolumeAttachments</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-volumeattachment><code>get</code> read the specified VolumeAttachment</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/volumeattachments/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-volumeattachment><code>get</code> read status of the specified VolumeAttachment</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/volumeattachments/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-volumeattachment><code>list</code> list or watch objects of kind VolumeAttachment</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/volumeattachments</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachmentList>VolumeAttachmentList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-volumeattachment><code>create</code> create a VolumeAttachment</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/storage.k8s.io/v1/volumeattachments</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-volumeattachment><code>update</code> replace the specified VolumeAttachment</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/storage.k8s.io/v1/volumeattachments/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-volumeattachment><code>update</code> replace status of the specified VolumeAttachment</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/storage.k8s.io/v1/volumeattachments/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-volumeattachment><code>patch</code> partially update the specified VolumeAttachment</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /apis/storage.k8s.io/v1/volumeattachments/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-volumeattachment><code>patch</code> partially update status of the specified VolumeAttachment</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/storage.k8s.io/v1/volumeattachments/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-volumeattachment><code>delete</code> delete a VolumeAttachment</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/volumeattachments/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the VolumeAttachment</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/volume-attachment-v1/#VolumeAttachment>VolumeAttachment</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-volumeattachment><code>deletecollection</code> delete collection of VolumeAttachment</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/volumeattachments</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e9fc1d0635b78d89359345fdb7789971>5.3.8 - CSIDriver</h1>
<div class=lead>CSIDriver captures information about a Container Storage Interface (CSI) volume driver deployed on the cluster.</div>
<p><code>apiVersion: storage.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/storage/v1"</code></p>
<h2 id=CSIDriver>CSIDriver</h2>
<p>CSIDriver captures information about a Container Storage Interface (CSI) volume driver deployed on the cluster. Kubernetes attach detach controller uses this object to determine whether attach is required. Kubelet uses this object to determine whether pod information needs to be passed on mount. CSIDriver objects are non-namespaced.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CSIDriver</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object metadata. metadata.Name indicates the name of the CSI driver that this object refers to; it MUST be the same name returned by the CSI GetPluginName() call for that driver. The driver name must be 63 characters or less, beginning and ending with an alphanumeric character ([a-z0-9A-Z]) with dashes (-), dots (.), and alphanumerics between. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriverSpec>CSIDriverSpec</a>), required</p>
<p>Specification of the CSI Driver.</p>
</li>
</ul>
<h2 id=CSIDriverSpec>CSIDriverSpec</h2>
<p>CSIDriverSpec is the specification of a CSIDriver.</p>
<hr>
<ul>
<li>
<p><strong>attachRequired</strong> (boolean)</p>
<p>attachRequired indicates this CSI volume driver requires an attach operation (because it implements the CSI ControllerPublishVolume() method), and that the Kubernetes attach detach controller should call the attach volume interface which checks the volumeattachment status and waits until the volume is attached before proceeding to mounting. The CSI external-attacher coordinates with CSI volume driver and updates the volumeattachment status when the attach operation is complete. If the CSIDriverRegistry feature gate is enabled and the value is specified to false, the attach operation will be skipped. Otherwise the attach operation will be called.</p>
<p>This field is immutable.</p>
</li>
<li>
<p><strong>fsGroupPolicy</strong> (string)</p>
<p>Defines if the underlying volume supports changing ownership and permission of the volume before being mounted. Refer to the specific FSGroupPolicy values for additional details. This field is beta, and is only honored by servers that enable the CSIVolumeFSGroupPolicy feature gate.</p>
<p>This field is immutable.</p>
<p>Defaults to ReadWriteOnceWithFSType, which will examine each volume to determine if Kubernetes should modify ownership and permissions of the volume. With the default policy the defined fsGroup will only be applied if a fstype is defined and the volume's access mode contains ReadWriteOnce.</p>
</li>
<li>
<p><strong>podInfoOnMount</strong> (boolean)</p>
<p>If set to true, podInfoOnMount indicates this CSI volume driver requires additional pod information (like podName, podUID, etc.) during mount operations. If set to false, pod information will not be passed on mount. Default is false. The CSI driver specifies podInfoOnMount as part of driver deployment. If true, Kubelet will pass pod information as VolumeContext in the CSI NodePublishVolume() calls. The CSI driver is responsible for parsing and validating the information passed in as VolumeContext. The following VolumeConext will be passed if podInfoOnMount is set to true. This list might grow, but the prefix will be used. "csi.storage.k8s.io/pod.name": pod.Name "csi.storage.k8s.io/pod.namespace": pod.Namespace "csi.storage.k8s.io/pod.uid": string(pod.UID) "csi.storage.k8s.io/ephemeral": "true" if the volume is an ephemeral inline volume
defined by a CSIVolumeSource, otherwise "false"</p>
<p>"csi.storage.k8s.io/ephemeral" is a new feature in Kubernetes 1.16. It is only required for drivers which support both the "Persistent" and "Ephemeral" VolumeLifecycleMode. Other drivers can leave pod info disabled and/or ignore this field. As Kubernetes 1.15 doesn't support this field, drivers can only support one mode when deployed on such a cluster and the deployment determines which mode that is, for example via a command line parameter of the driver.</p>
<p>This field is immutable.</p>
</li>
<li>
<p><strong>requiresRepublish</strong> (boolean)</p>
<p>RequiresRepublish indicates the CSI driver wants <code>NodePublishVolume</code> being periodically called to reflect any possible change in the mounted volume. This field defaults to false.</p>
<p>Note: After a successful initial NodePublishVolume call, subsequent calls to NodePublishVolume should only update the contents of the volume. New mount points will not be seen by a running container.</p>
</li>
<li>
<p><strong>storageCapacity</strong> (boolean)</p>
<p>If set to true, storageCapacity indicates that the CSI volume driver wants pod scheduling to consider the storage capacity that the driver deployment will report by creating CSIStorageCapacity objects with capacity information.</p>
<p>The check can be enabled immediately when deploying a driver. In that case, provisioning new volumes with late binding will pause until the driver deployment has published some suitable CSIStorageCapacity object.</p>
<p>Alternatively, the driver can be deployed with the field unset or false and it can be flipped later when storage capacity information has been published.</p>
<p>This field is immutable.</p>
<p>This is a beta field and only available when the CSIStorageCapacity feature is enabled. The default is false.</p>
</li>
<li>
<p><strong>tokenRequests</strong> ([]TokenRequest)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>TokenRequests indicates the CSI driver needs pods' service account tokens it is mounting volume for to do necessary authentication. Kubelet will pass the tokens in VolumeContext in the CSI NodePublishVolume calls. The CSI driver should parse and validate the following VolumeContext: "csi.storage.k8s.io/serviceAccount.tokens": {
"&lt;audience>": {
"token": &lt;token>,
"expirationTimestamp": &lt;expiration timestamp in RFC3339>,
},
...
}</p>
<p>Note: Audience in each TokenRequest should be different and at most one token is empty string. To receive a new token after expiry, RequiresRepublish can be used to trigger NodePublishVolume periodically.</p>
<p><a name=TokenRequest></a>
<em>TokenRequest contains parameters of a service account token.</em></p>
<ul>
<li>
<p><strong>tokenRequests.audience</strong> (string), required</p>
<p>Audience is the intended audience of the token in "TokenRequestSpec". It will default to the audiences of kube apiserver.</p>
</li>
<li>
<p><strong>tokenRequests.expirationSeconds</strong> (int64)</p>
<p>ExpirationSeconds is the duration of validity of the token in "TokenRequestSpec". It has the same default value of "ExpirationSeconds" in "TokenRequestSpec".</p>
</li>
</ul>
</li>
<li>
<p><strong>volumeLifecycleModes</strong> ([]string)</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p>volumeLifecycleModes defines what kind of volumes this CSI volume driver supports. The default if the list is empty is "Persistent", which is the usage defined by the CSI specification and implemented in Kubernetes via the usual PV/PVC mechanism. The other mode is "Ephemeral". In this mode, volumes are defined inline inside the pod spec with CSIVolumeSource and their lifecycle is tied to the lifecycle of that pod. A driver has to be aware of this because it is only going to get a NodePublishVolume call for such a volume. For more information about implementing this mode, see <a href=https://kubernetes-csi.github.io/docs/ephemeral-local-volumes.html>https://kubernetes-csi.github.io/docs/ephemeral-local-volumes.html</a> A driver can support one or more of these modes and more modes may be added in the future. This field is beta.</p>
<p>This field is immutable.</p>
</li>
</ul>
<h2 id=CSIDriverList>CSIDriverList</h2>
<p>CSIDriverList is a collection of CSIDriver objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CSIDriverList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>), required</p>
<p>items is the list of CSIDriver</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-csidriver><code>get</code> read the specified CSIDriver</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/csidrivers/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIDriver</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-csidriver><code>list</code> list or watch objects of kind CSIDriver</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/csidrivers</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriverList>CSIDriverList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-csidriver><code>create</code> create a CSIDriver</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/storage.k8s.io/v1/csidrivers</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-csidriver><code>update</code> replace the specified CSIDriver</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/storage.k8s.io/v1/csidrivers/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIDriver</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-csidriver><code>patch</code> partially update the specified CSIDriver</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/storage.k8s.io/v1/csidrivers/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIDriver</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-csidriver><code>delete</code> delete a CSIDriver</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/csidrivers/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIDriver</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-driver-v1/#CSIDriver>CSIDriver</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-csidriver><code>deletecollection</code> delete collection of CSIDriver</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/csidrivers</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e54ab698c244de7268acca37e4e6e97e>5.3.9 - CSINode</h1>
<div class=lead>CSINode holds information about all CSI drivers installed on a node.</div>
<p><code>apiVersion: storage.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/storage/v1"</code></p>
<h2 id=CSINode>CSINode</h2>
<p>CSINode holds information about all CSI drivers installed on a node. CSI drivers do not need to create the CSINode object directly. As long as they use the node-driver-registrar sidecar container, the kubelet will automatically populate the CSINode object for the CSI driver as part of kubelet plugin registration. CSINode has the same name as a node. If the object is missing, it means either there are no CSI Drivers available on the node, or the Kubelet version is low enough that it doesn't create this object. CSINode has an OwnerReference that points to the corresponding node object.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CSINode</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>metadata.name must be the Kubernetes node name.</p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINodeSpec>CSINodeSpec</a>), required</p>
<p>spec is the specification of CSINode</p>
</li>
</ul>
<h2 id=CSINodeSpec>CSINodeSpec</h2>
<p>CSINodeSpec holds information about the specification of all CSI drivers installed on a node</p>
<hr>
<ul>
<li>
<p><strong>drivers</strong> ([]CSINodeDriver), required</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>drivers is a list of information of all CSI Drivers existing on a node. If all drivers in the list are uninstalled, this can become empty.</p>
<p><a name=CSINodeDriver></a>
<em>CSINodeDriver holds information about the specification of one CSI driver installed on a node</em></p>
<ul>
<li>
<p><strong>drivers.name</strong> (string), required</p>
<p>This is the name of the CSI driver that this object refers to. This MUST be the same name returned by the CSI GetPluginName() call for that driver.</p>
</li>
<li>
<p><strong>drivers.nodeID</strong> (string), required</p>
<p>nodeID of the node from the driver point of view. This field enables Kubernetes to communicate with storage systems that do not share the same nomenclature for nodes. For example, Kubernetes may refer to a given node as "node1", but the storage system may refer to the same node as "nodeA". When Kubernetes issues a command to the storage system to attach a volume to a specific node, it can use this field to refer to the node name using the ID that the storage system will understand, e.g. "nodeA" instead of "node1". This field is required.</p>
</li>
<li>
<p><strong>drivers.allocatable</strong> (VolumeNodeResources)</p>
<p>allocatable represents the volume resources of a node that are available for scheduling. This field is beta.</p>
<p><a name=VolumeNodeResources></a>
<em>VolumeNodeResources is a set of resource limits for scheduling of volumes.</em></p>
<ul>
<li>
<p><strong>drivers.allocatable.count</strong> (int32)</p>
<p>Maximum number of unique volumes managed by the CSI driver that can be used on a node. A volume that is both attached and mounted on a node is considered to be used once, not twice. The same rule applies for a unique volume that is shared among multiple pods on the same node. If this field is not specified, then the supported number of volumes on this node is unbounded.</p>
</li>
</ul>
</li>
<li>
<p><strong>drivers.topologyKeys</strong> ([]string)</p>
<p>topologyKeys is the list of keys supported by the driver. When a driver is initialized on a cluster, it provides a set of topology keys that it understands (e.g. "company.com/zone", "company.com/region"). When a driver is initialized on a node, it provides the same topology keys along with values. Kubelet will expose these topology keys as labels on its own node object. When Kubernetes does topology aware provisioning, it can use this list to determine which labels it should retrieve from the node object and pass back to the driver. It is possible for different nodes to use different topology keys. This can be empty if driver does not support topology.</p>
</li>
</ul>
</li>
</ul>
<h2 id=CSINodeList>CSINodeList</h2>
<p>CSINodeList is a collection of CSINode objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CSINodeList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>), required</p>
<p>items is the list of CSINode</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-csinode><code>get</code> read the specified CSINode</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/csinodes/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSINode</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-csinode><code>list</code> list or watch objects of kind CSINode</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1/csinodes</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINodeList>CSINodeList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-csinode><code>create</code> create a CSINode</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/storage.k8s.io/v1/csinodes</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-csinode><code>update</code> replace the specified CSINode</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/storage.k8s.io/v1/csinodes/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSINode</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-csinode><code>patch</code> partially update the specified CSINode</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/storage.k8s.io/v1/csinodes/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSINode</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-csinode><code>delete</code> delete a CSINode</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/csinodes/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSINode</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-node-v1/#CSINode>CSINode</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-csinode><code>deletecollection</code> delete collection of CSINode</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1/csinodes</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f52edae9eefa76dc41924c5ffe81c4fb>5.3.10 - CSIStorageCapacity v1beta1</h1>
<div class=lead>CSIStorageCapacity stores the result of one CSI GetCapacity call.</div>
<p><code>apiVersion: storage.k8s.io/v1beta1</code></p>
<p><code>import "k8s.io/api/storage/v1beta1"</code></p>
<h2 id=CSIStorageCapacity>CSIStorageCapacity</h2>
<p>CSIStorageCapacity stores the result of one CSI GetCapacity call. For a given StorageClass, this describes the available capacity in a particular topology segment. This can be used when considering where to instantiate new PersistentVolumes.</p>
<p>For example this can express things like: - StorageClass "standard" has "1234 GiB" available in "topology.kubernetes.io/zone=us-east1" - StorageClass "localssd" has "10 GiB" available in "kubernetes.io/hostname=knode-abc123"</p>
<p>The following three cases all imply that no capacity is available for a certain combination: - no object exists with suitable topology and storage class name - such an object exists, but the capacity is unset - such an object exists, but the capacity is zero</p>
<p>The producer of these objects can decide which approach is more suitable.</p>
<p>They are consumed by the kube-scheduler if the CSIStorageCapacity beta feature gate is enabled there and a CSI driver opts into capacity-aware scheduling with CSIDriver.StorageCapacity.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: CSIStorageCapacity</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. The name has no particular meaning. It must be be a DNS subdomain (dots allowed, 253 characters). To ensure that there are no conflicts with other CSI drivers on the cluster, the recommendation is to use csisc-&lt;uuid>, a generated name, or a reverse-domain name which ends with the unique CSI driver name.</p>
<p>Objects are namespaced.</p>
<p>More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>storageClassName</strong> (string), required</p>
<p>The name of the StorageClass that the reported capacity applies to. It must meet the same requirements as the name of a StorageClass object (non-empty, DNS subdomain). If that object no longer exists, the CSIStorageCapacity object is obsolete and should be removed by its creator. This field is immutable.</p>
</li>
<li>
<p><strong>capacity</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Capacity is the value reported by the CSI driver in its GetCapacityResponse for a GetCapacityRequest with topology and parameters that match the previous fields.</p>
<p>The semantic is currently (CSI spec 1.2) defined as: The available capacity, in bytes, of the storage that can be used to provision volumes. If not set, that information is currently unavailable and treated like zero capacity.</p>
</li>
<li>
<p><strong>maximumVolumeSize</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>MaximumVolumeSize is the value reported by the CSI driver in its GetCapacityResponse for a GetCapacityRequest with topology and parameters that match the previous fields.</p>
<p>This is defined since CSI spec 1.4.0 as the largest size that may be used in a CreateVolumeRequest.capacity_range.required_bytes field to create a volume with the same parameters as those in GetCapacityRequest. The corresponding value in the Kubernetes API is ResourceRequirements.Requests in a volume claim.</p>
</li>
<li>
<p><strong>nodeTopology</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>NodeTopology defines which nodes have access to the storage for which capacity was reported. If not set, the storage is not accessible from any node in the cluster. If empty, the storage is accessible from all nodes. This field is immutable.</p>
</li>
</ul>
<h2 id=CSIStorageCapacityList>CSIStorageCapacityList</h2>
<p>CSIStorageCapacityList is a collection of CSIStorageCapacity objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: storage.k8s.io/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: CSIStorageCapacityList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>), required</p>
<p><em>Map: unique values on key name will be kept during a merge</em></p>
<p>Items is the list of CSIStorageCapacity objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-csistoragecapacity><code>get</code> read the specified CSIStorageCapacity</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIStorageCapacity</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-csistoragecapacity><code>list</code> list or watch objects of kind CSIStorageCapacity</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacityList>CSIStorageCapacityList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-csistoragecapacity-1><code>list</code> list or watch objects of kind CSIStorageCapacity</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/storage.k8s.io/v1beta1/csistoragecapacities</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacityList>CSIStorageCapacityList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-csistoragecapacity><code>create</code> create a CSIStorageCapacity</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-csistoragecapacity><code>update</code> replace the specified CSIStorageCapacity</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIStorageCapacity</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-csistoragecapacity><code>patch</code> partially update the specified CSIStorageCapacity</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIStorageCapacity</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/config-and-storage-resources/csi-storage-capacity-v1beta1/#CSIStorageCapacity>CSIStorageCapacity</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-csistoragecapacity><code>delete</code> delete a CSIStorageCapacity</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CSIStorageCapacity</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-csistoragecapacity><code>deletecollection</code> delete collection of CSIStorageCapacity</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/storage.k8s.io/v1beta1/namespaces/{namespace}/csistoragecapacities</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6a5e06a0dc59d104938425c049f2f29b>5.4 - Authentication Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-6449724e786cbecd0cecfaa5a486e64a>5.4.1 - ServiceAccount</h1>
<div class=lead>ServiceAccount binds together: * a name, understood by users, and perhaps by peripheral systems, for an identity * a principal that can be authenticated and authorized * a set of secrets.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=ServiceAccount>ServiceAccount</h2>
<p>ServiceAccount binds together: * a name, understood by users, and perhaps by peripheral systems, for an identity * a principal that can be authenticated and authorized * a set of secrets</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ServiceAccount</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>automountServiceAccountToken</strong> (boolean)</p>
<p>AutomountServiceAccountToken indicates whether pods running as this service account should have an API token automatically mounted. Can be overridden at the pod level.</p>
</li>
<li>
<p><strong>imagePullSecrets</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/local-object-reference/#LocalObjectReference>LocalObjectReference</a>)</p>
<p>ImagePullSecrets is a list of references to secrets in the same namespace to use for pulling any images in pods that reference this ServiceAccount. ImagePullSecrets are distinct from Secrets because Secrets can be mounted in the pod, but ImagePullSecrets are only accessed by the kubelet. More info: <a href=https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod>https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod</a></p>
</li>
<li>
<p><strong>secrets</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>Secrets is the list of secrets allowed to be used by pods running using this ServiceAccount. More info: <a href=https://kubernetes.io/docs/concepts/configuration/secret>https://kubernetes.io/docs/concepts/configuration/secret</a></p>
</li>
</ul>
<h2 id=ServiceAccountList>ServiceAccountList</h2>
<p>ServiceAccountList is a list of ServiceAccount objects</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ServiceAccountList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>), required</p>
<p>List of ServiceAccounts. More info: <a href=https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/>https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-serviceaccount><code>get</code> read the specified ServiceAccount</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ServiceAccount</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-serviceaccount><code>list</code> list or watch objects of kind ServiceAccount</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/serviceaccounts</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccountList>ServiceAccountList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-serviceaccount-1><code>list</code> list or watch objects of kind ServiceAccount</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/serviceaccounts</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccountList>ServiceAccountList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-serviceaccount><code>create</code> create a ServiceAccount</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/serviceaccounts</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-serviceaccount><code>update</code> replace the specified ServiceAccount</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ServiceAccount</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-serviceaccount><code>patch</code> partially update the specified ServiceAccount</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ServiceAccount</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-serviceaccount><code>delete</code> delete a ServiceAccount</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/serviceaccounts/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ServiceAccount</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/service-account-v1/#ServiceAccount>ServiceAccount</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-serviceaccount><code>deletecollection</code> delete collection of ServiceAccount</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/serviceaccounts</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-71bfa3e84f86650d855ced711edc8b41>5.4.2 - TokenRequest</h1>
<div class=lead>TokenRequest requests a token for a given service account.</div>
<p><code>apiVersion: authentication.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/authentication/v1"</code></p>
<h2 id=TokenRequest>TokenRequest</h2>
<p>TokenRequest requests a token for a given service account.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: authentication.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: TokenRequest</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequestSpec>TokenRequestSpec</a>), required</p>
<p>Spec holds information about the request being evaluated</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequestStatus>TokenRequestStatus</a>)</p>
<p>Status is filled in by the server and indicates whether the token can be authenticated.</p>
</li>
</ul>
<h2 id=TokenRequestSpec>TokenRequestSpec</h2>
<p>TokenRequestSpec contains client provided parameters of a token request.</p>
<hr>
<ul>
<li>
<p><strong>audiences</strong> ([]string), required</p>
<p>Audiences are the intendend audiences of the token. A recipient of a token must identitfy themself with an identifier in the list of audiences of the token, and otherwise should reject the token. A token issued for multiple audiences may be used to authenticate against any of the audiences listed but implies a high degree of trust between the target audiences.</p>
</li>
<li>
<p><strong>boundObjectRef</strong> (BoundObjectReference)</p>
<p>BoundObjectRef is a reference to an object that the token will be bound to. The token will only be valid for as long as the bound object exists. NOTE: The API server's TokenReview endpoint will validate the BoundObjectRef, but other audiences may not. Keep ExpirationSeconds small if you want prompt revocation.</p>
<p><a name=BoundObjectReference></a>
<em>BoundObjectReference is a reference to an object that a token is bound to.</em></p>
<ul>
<li>
<p><strong>boundObjectRef.apiVersion</strong> (string)</p>
<p>API version of the referent.</p>
</li>
<li>
<p><strong>boundObjectRef.kind</strong> (string)</p>
<p>Kind of the referent. Valid kinds are 'Pod' and 'Secret'.</p>
</li>
<li>
<p><strong>boundObjectRef.name</strong> (string)</p>
<p>Name of the referent.</p>
</li>
<li>
<p><strong>boundObjectRef.uid</strong> (string)</p>
<p>UID of the referent.</p>
</li>
</ul>
</li>
<li>
<p><strong>expirationSeconds</strong> (int64)</p>
<p>ExpirationSeconds is the requested duration of validity of the request. The token issuer may return a token with a different validity duration so a client needs to check the 'expiration' field in a response.</p>
</li>
</ul>
<h2 id=TokenRequestStatus>TokenRequestStatus</h2>
<p>TokenRequestStatus is the result of a token request.</p>
<hr>
<ul>
<li>
<p><strong>expirationTimestamp</strong> (Time), required</p>
<p>ExpirationTimestamp is the time of expiration of the returned token.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>token</strong> (string), required</p>
<p>Token is the opaque bearer token.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-token-of-a-serviceaccount><code>create</code> create token of a ServiceAccount</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/serviceaccounts/{name}/token</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the TokenRequest</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-request-v1/#TokenRequest>TokenRequest</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4140627880f82c11a5e16b3c4043cfdb>5.4.3 - TokenReview</h1>
<div class=lead>TokenReview attempts to authenticate a token to a known user.</div>
<p><code>apiVersion: authentication.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/authentication/v1"</code></p>
<h2 id=TokenReview>TokenReview</h2>
<p>TokenReview attempts to authenticate a token to a known user. Note: TokenReview requests may be cached by the webhook token authenticator plugin in the kube-apiserver.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: authentication.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: TokenReview</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReviewSpec>TokenReviewSpec</a>), required</p>
<p>Spec holds information about the request being evaluated</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReviewStatus>TokenReviewStatus</a>)</p>
<p>Status is filled in by the server and indicates whether the request can be authenticated.</p>
</li>
</ul>
<h2 id=TokenReviewSpec>TokenReviewSpec</h2>
<p>TokenReviewSpec is a description of the token authentication request.</p>
<hr>
<ul>
<li>
<p><strong>audiences</strong> ([]string)</p>
<p>Audiences is a list of the identifiers that the resource server presented with the token identifies as. Audience-aware token authenticators will verify that the token was intended for at least one of the audiences in this list. If no audiences are provided, the audience will default to the audience of the Kubernetes apiserver.</p>
</li>
<li>
<p><strong>token</strong> (string)</p>
<p>Token is the opaque bearer token.</p>
</li>
</ul>
<h2 id=TokenReviewStatus>TokenReviewStatus</h2>
<p>TokenReviewStatus is the result of the token authentication request.</p>
<hr>
<ul>
<li>
<p><strong>audiences</strong> ([]string)</p>
<p>Audiences are audience identifiers chosen by the authenticator that are compatible with both the TokenReview and token. An identifier is any identifier in the intersection of the TokenReviewSpec audiences and the token's audiences. A client of the TokenReview API that sets the spec.audiences field should validate that a compatible audience identifier is returned in the status.audiences field to ensure that the TokenReview server is audience aware. If a TokenReview returns an empty status.audience field where status.authenticated is "true", the token is valid against the audience of the Kubernetes API server.</p>
</li>
<li>
<p><strong>authenticated</strong> (boolean)</p>
<p>Authenticated indicates that the token was associated with a known user.</p>
</li>
<li>
<p><strong>error</strong> (string)</p>
<p>Error indicates that the token couldn't be checked</p>
</li>
<li>
<p><strong>user</strong> (UserInfo)</p>
<p>User is the UserInfo associated with the provided token.</p>
<p><a name=UserInfo></a>
<em>UserInfo holds the information about the user needed to implement the user.Info interface.</em></p>
<ul>
<li>
<p><strong>user.extra</strong> (map[string][]string)</p>
<p>Any additional information provided by the authenticator.</p>
</li>
<li>
<p><strong>user.groups</strong> ([]string)</p>
<p>The names of groups this user is a part of.</p>
</li>
<li>
<p><strong>user.uid</strong> (string)</p>
<p>A unique value that identifies this user across time. If this user is deleted and another user by the same name is added, they will have different UIDs.</p>
</li>
<li>
<p><strong>user.username</strong> (string)</p>
<p>The name that uniquely identifies this user among all active users.</p>
</li>
</ul>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-a-tokenreview><code>create</code> create a TokenReview</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /apis/authentication.k8s.io/v1/tokenreviews</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/token-review-v1/#TokenReview>TokenReview</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f9925c52e71befd56d9a92b04add148d>5.4.4 - CertificateSigningRequest</h1>
<div class=lead>CertificateSigningRequest objects provide a mechanism to obtain x509 certificates by submitting a certificate signing request, and having it asynchronously approved and issued.</div>
<p><code>apiVersion: certificates.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/certificates/v1"</code></p>
<h2 id=CertificateSigningRequest>CertificateSigningRequest</h2>
<p>CertificateSigningRequest objects provide a mechanism to obtain x509 certificates by submitting a certificate signing request, and having it asynchronously approved and issued.</p>
<p>Kubelets use this API to obtain:</p>
<ol>
<li>client certificates to authenticate to kube-apiserver (with the "kubernetes.io/kube-apiserver-client-kubelet" signerName).</li>
<li>serving certificates for TLS endpoints kube-apiserver can connect to securely (with the "kubernetes.io/kubelet-serving" signerName).</li>
</ol>
<p>This API can be used to request client certificates to authenticate to kube-apiserver (with the "kubernetes.io/kube-apiserver-client" signerName), or to obtain certificates from custom non-Kubernetes signers.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: certificates.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CertificateSigningRequest</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequestSpec>CertificateSigningRequestSpec</a>), required</p>
<p>spec contains the certificate request, and is immutable after creation. Only the request, signerName, expirationSeconds, and usages fields can be set on creation. Other fields are derived by Kubernetes and cannot be modified by users.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequestStatus>CertificateSigningRequestStatus</a>)</p>
<p>status contains information about whether the request is approved or denied, and the certificate issued by the signer, or the failure condition indicating signer failure.</p>
</li>
</ul>
<h2 id=CertificateSigningRequestSpec>CertificateSigningRequestSpec</h2>
<p>CertificateSigningRequestSpec contains the certificate request.</p>
<hr>
<ul>
<li>
<p><strong>request</strong> ([]byte), required</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>request contains an x509 certificate signing request encoded in a "CERTIFICATE REQUEST" PEM block. When serialized as JSON or YAML, the data is additionally base64-encoded.</p>
</li>
<li>
<p><strong>signerName</strong> (string), required</p>
<p>signerName indicates the requested signer, and is a qualified name.</p>
<p>List/watch requests for CertificateSigningRequests can filter on this field using a "spec.signerName=NAME" fieldSelector.</p>
<p>Well-known Kubernetes signers are:</p>
<ol>
<li>"kubernetes.io/kube-apiserver-client": issues client certificates that can be used to authenticate to kube-apiserver.
Requests for this signer are never auto-approved by kube-controller-manager, can be issued by the "csrsigning" controller in kube-controller-manager.</li>
<li>"kubernetes.io/kube-apiserver-client-kubelet": issues client certificates that kubelets use to authenticate to kube-apiserver.
Requests for this signer can be auto-approved by the "csrapproving" controller in kube-controller-manager, and can be issued by the "csrsigning" controller in kube-controller-manager.</li>
<li>"kubernetes.io/kubelet-serving" issues serving certificates that kubelets use to serve TLS endpoints, which kube-apiserver can connect to securely.
Requests for this signer are never auto-approved by kube-controller-manager, and can be issued by the "csrsigning" controller in kube-controller-manager.</li>
</ol>
<p>More details are available at <a href=https://k8s.io/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers>https://k8s.io/docs/reference/access-authn-authz/certificate-signing-requests/#kubernetes-signers</a></p>
<p>Custom signerNames can also be specified. The signer defines:</p>
<ol>
<li>Trust distribution: how trust (CA bundles) are distributed.</li>
<li>Permitted subjects: and behavior when a disallowed subject is requested.</li>
<li>Required, permitted, or forbidden x509 extensions in the request (including whether subjectAltNames are allowed, which types, restrictions on allowed values) and behavior when a disallowed extension is requested.</li>
<li>Required, permitted, or forbidden key usages / extended key usages.</li>
<li>Expiration/certificate lifetime: whether it is fixed by the signer, configurable by the admin.</li>
<li>Whether or not requests for CA certificates are allowed.</li>
</ol>
</li>
<li>
<p><strong>expirationSeconds</strong> (int32)</p>
<p>expirationSeconds is the requested duration of validity of the issued certificate. The certificate signer may issue a certificate with a different validity duration so a client must check the delta between the notBefore and and notAfter fields in the issued certificate to determine the actual duration.</p>
<p>The v1.22+ in-tree implementations of the well-known Kubernetes signers will honor this field as long as the requested duration is not greater than the maximum duration they will honor per the --cluster-signing-duration CLI flag to the Kubernetes controller manager.</p>
<p>Certificate signers may not honor this field for various reasons:</p>
<ol>
<li>Old signer that is unaware of the field (such as the in-tree
implementations prior to v1.22)</li>
<li>Signer whose configured maximum is shorter than the requested duration</li>
<li>Signer whose configured minimum is longer than the requested duration</li>
</ol>
<p>The minimum valid value for expirationSeconds is 600, i.e. 10 minutes.</p>
<p>As of v1.22, this field is beta and is controlled via the CSRDuration feature gate.</p>
</li>
<li>
<p><strong>extra</strong> (map[string][]string)</p>
<p>extra contains extra attributes of the user that created the CertificateSigningRequest. Populated by the API server on creation and immutable.</p>
</li>
<li>
<p><strong>groups</strong> ([]string)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>groups contains group membership of the user that created the CertificateSigningRequest. Populated by the API server on creation and immutable.</p>
</li>
<li>
<p><strong>uid</strong> (string)</p>
<p>uid contains the uid of the user that created the CertificateSigningRequest. Populated by the API server on creation and immutable.</p>
</li>
<li>
<p><strong>usages</strong> ([]string)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>usages specifies a set of key usages requested in the issued certificate.</p>
<p>Requests for TLS client certificates typically request: "digital signature", "key encipherment", "client auth".</p>
<p>Requests for TLS serving certificates typically request: "key encipherment", "digital signature", "server auth".</p>
<p>Valid values are:
"signing", "digital signature", "content commitment",
"key encipherment", "key agreement", "data encipherment",
"cert sign", "crl sign", "encipher only", "decipher only", "any",
"server auth", "client auth",
"code signing", "email protection", "s/mime",
"ipsec end system", "ipsec tunnel", "ipsec user",
"timestamping", "ocsp signing", "microsoft sgc", "netscape sgc"</p>
</li>
<li>
<p><strong>username</strong> (string)</p>
<p>username contains the name of the user that created the CertificateSigningRequest. Populated by the API server on creation and immutable.</p>
</li>
</ul>
<h2 id=CertificateSigningRequestStatus>CertificateSigningRequestStatus</h2>
<p>CertificateSigningRequestStatus contains conditions used to indicate approved/denied/failed status of the request, and the issued certificate.</p>
<hr>
<ul>
<li>
<p><strong>certificate</strong> ([]byte)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>certificate is populated with an issued certificate by the signer after an Approved condition is present. This field is set via the /status subresource. Once populated, this field is immutable.</p>
<p>If the certificate signing request is denied, a condition of type "Denied" is added and this field remains empty. If the signer cannot issue the certificate, a condition of type "Failed" is added and this field remains empty.</p>
<p>Validation requirements:</p>
<ol>
<li>certificate must contain one or more PEM blocks.</li>
<li>All PEM blocks must have the "CERTIFICATE" label, contain no headers, and the encoded data
must be a BER-encoded ASN.1 Certificate structure as described in section 4 of RFC5280.</li>
<li>Non-PEM content may appear before or after the "CERTIFICATE" PEM blocks and is unvalidated,
to allow for explanatory text as described in section 5.2 of RFC7468.</li>
</ol>
<p>If more than one PEM block is present, and the definition of the requested spec.signerName does not indicate otherwise, the first block is the issued certificate, and subsequent blocks should be treated as intermediate certificates and presented in TLS handshakes.</p>
<p>The certificate is encoded in PEM format.</p>
<p>When serialized as JSON or YAML, the data is additionally base64-encoded, so it consists of:</p>
<pre><code>base64(
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
)
</code></pre>
</li>
<li>
<p><strong>conditions</strong> ([]CertificateSigningRequestCondition)</p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p>conditions applied to the request. Known conditions are "Approved", "Denied", and "Failed".</p>
<p><a name=CertificateSigningRequestCondition></a>
<em>CertificateSigningRequestCondition describes a condition of a CertificateSigningRequest object</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>status of the condition, one of True, False, Unknown. Approved, Denied, and Failed conditions may not be "False" or "Unknown".</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>type of the condition. Known conditions are "Approved", "Denied", and "Failed".</p>
<p>An "Approved" condition is added via the /approval subresource, indicating the request was approved and should be issued by the signer.</p>
<p>A "Denied" condition is added via the /approval subresource, indicating the request was denied and should not be issued by the signer.</p>
<p>A "Failed" condition is added via the /status subresource, indicating the signer failed to issue the certificate.</p>
<p>Approved and Denied conditions are mutually exclusive. Approved, Denied, and Failed conditions cannot be removed once added.</p>
<p>Only one condition of a given type is allowed.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>lastTransitionTime is the time the condition last transitioned from one status to another. If unset, when a new condition type is added or an existing condition's status is changed, the server defaults this to the current time.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.lastUpdateTime</strong> (Time)</p>
<p>lastUpdateTime is the time of the last update to this condition</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>message contains a human readable message with details about the request state</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>reason indicates a brief reason for the request state</p>
</li>
</ul>
</li>
</ul>
<h2 id=CertificateSigningRequestList>CertificateSigningRequestList</h2>
<p>CertificateSigningRequestList is a collection of CertificateSigningRequest objects</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: certificates.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CertificateSigningRequestList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>), required</p>
<p>items is a collection of CertificateSigningRequest objects</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-certificatesigningrequest><code>get</code> read the specified CertificateSigningRequest</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-approval-of-the-specified-certificatesigningrequest><code>get</code> read approval of the specified CertificateSigningRequest</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/approval</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-certificatesigningrequest><code>get</code> read status of the specified CertificateSigningRequest</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/status</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-certificatesigningrequest><code>list</code> list or watch objects of kind CertificateSigningRequest</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/certificates.k8s.io/v1/certificatesigningrequests</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequestList>CertificateSigningRequestList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-certificatesigningrequest><code>create</code> create a CertificateSigningRequest</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/certificates.k8s.io/v1/certificatesigningrequests</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-certificatesigningrequest><code>update</code> replace the specified CertificateSigningRequest</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-approval-of-the-specified-certificatesigningrequest><code>update</code> replace approval of the specified CertificateSigningRequest</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/approval</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-certificatesigningrequest><code>update</code> replace status of the specified CertificateSigningRequest</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PUT /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-certificatesigningrequest><code>patch</code> partially update the specified CertificateSigningRequest</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-approval-of-the-specified-certificatesigningrequest><code>patch</code> partially update approval of the specified CertificateSigningRequest</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>PATCH /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/approval</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-certificatesigningrequest><code>patch</code> partially update status of the specified CertificateSigningRequest</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>PATCH /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}/status</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authentication-resources/certificate-signing-request-v1/#CertificateSigningRequest>CertificateSigningRequest</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-certificatesigningrequest><code>delete</code> delete a CertificateSigningRequest</h3>
<h4 id=http-request-11>HTTP Request</h4>
<p>DELETE /apis/certificates.k8s.io/v1/certificatesigningrequests/{name}</p>
<h4 id=parameters-11>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CertificateSigningRequest</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-11>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-certificatesigningrequest><code>deletecollection</code> delete collection of CertificateSigningRequest</h3>
<h4 id=http-request-12>HTTP Request</h4>
<p>DELETE /apis/certificates.k8s.io/v1/certificatesigningrequests</p>
<h4 id=parameters-12>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-12>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5362c9a7583eca653d4a705ba4e460ff>5.5 - Authorization Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-253b0f85df0c0013b6476358e72b05f6>5.5.1 - LocalSubjectAccessReview</h1>
<div class=lead>LocalSubjectAccessReview checks whether or not a user or group can perform an action in a given namespace.</div>
<p><code>apiVersion: authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/authorization/v1"</code></p>
<h2 id=LocalSubjectAccessReview>LocalSubjectAccessReview</h2>
<p>LocalSubjectAccessReview checks whether or not a user or group can perform an action in a given namespace. Having a namespace scoped resource makes it much easier to grant namespace scoped policy that includes permissions checking.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: LocalSubjectAccessReview</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewSpec>SubjectAccessReviewSpec</a>), required</p>
<p>Spec holds information about the request being evaluated. spec.namespace must be equal to the namespace you made the request against. If empty, it is defaulted.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewStatus>SubjectAccessReviewStatus</a>)</p>
<p>Status is filled in by the server and indicates whether the request is allowed or not</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-a-localsubjectaccessreview><code>create</code> create a LocalSubjectAccessReview</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /apis/authorization.k8s.io/v1/namespaces/{namespace}/localsubjectaccessreviews</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/local-subject-access-review-v1/#LocalSubjectAccessReview>LocalSubjectAccessReview</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3798a3911313b78a780825aa1a00827d>5.5.2 - SelfSubjectAccessReview</h1>
<div class=lead>SelfSubjectAccessReview checks whether or the current user can perform an action.</div>
<p><code>apiVersion: authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/authorization/v1"</code></p>
<h2 id=SelfSubjectAccessReview>SelfSubjectAccessReview</h2>
<p>SelfSubjectAccessReview checks whether or the current user can perform an action. Not filling in a spec.namespace means "in all namespaces". Self is a special case, because users should always be able to check whether they can perform an action</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: SelfSubjectAccessReview</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReviewSpec>SelfSubjectAccessReviewSpec</a>), required</p>
<p>Spec holds information about the request being evaluated. user and groups must be empty</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewStatus>SubjectAccessReviewStatus</a>)</p>
<p>Status is filled in by the server and indicates whether the request is allowed or not</p>
</li>
</ul>
<h2 id=SelfSubjectAccessReviewSpec>SelfSubjectAccessReviewSpec</h2>
<p>SelfSubjectAccessReviewSpec is a description of the access request. Exactly one of ResourceAuthorizationAttributes and NonResourceAuthorizationAttributes must be set</p>
<hr>
<ul>
<li>
<p><strong>nonResourceAttributes</strong> (NonResourceAttributes)</p>
<p>NonResourceAttributes describes information for a non-resource access request</p>
<p><a name=NonResourceAttributes></a>
<em>NonResourceAttributes includes the authorization attributes available for non-resource requests to the Authorizer interface</em></p>
<ul>
<li>
<p><strong>nonResourceAttributes.path</strong> (string)</p>
<p>Path is the URL path of the request</p>
</li>
<li>
<p><strong>nonResourceAttributes.verb</strong> (string)</p>
<p>Verb is the standard HTTP verb</p>
</li>
</ul>
</li>
<li>
<p><strong>resourceAttributes</strong> (ResourceAttributes)</p>
<p>ResourceAuthorizationAttributes describes information for a resource access request</p>
<p><a name=ResourceAttributes></a>
<em>ResourceAttributes includes the authorization attributes available for resource requests to the Authorizer interface</em></p>
<ul>
<li>
<p><strong>resourceAttributes.group</strong> (string)</p>
<p>Group is the API Group of the Resource. "*" means all.</p>
</li>
<li>
<p><strong>resourceAttributes.name</strong> (string)</p>
<p>Name is the name of the resource being requested for a "get" or deleted for a "delete". "" (empty) means all.</p>
</li>
<li>
<p><strong>resourceAttributes.namespace</strong> (string)</p>
<p>Namespace is the namespace of the action being requested. Currently, there is no distinction between no namespace and all namespaces "" (empty) is defaulted for LocalSubjectAccessReviews "" (empty) is empty for cluster-scoped resources "" (empty) means "all" for namespace scoped resources from a SubjectAccessReview or SelfSubjectAccessReview</p>
</li>
<li>
<p><strong>resourceAttributes.resource</strong> (string)</p>
<p>Resource is one of the existing resource types. "*" means all.</p>
</li>
<li>
<p><strong>resourceAttributes.subresource</strong> (string)</p>
<p>Subresource is one of the existing resource types. "" means none.</p>
</li>
<li>
<p><strong>resourceAttributes.verb</strong> (string)</p>
<p>Verb is a kubernetes resource API verb, like: get, list, watch, create, update, delete, proxy. "*" means all.</p>
</li>
<li>
<p><strong>resourceAttributes.version</strong> (string)</p>
<p>Version is the API Version of the Resource. "*" means all.</p>
</li>
</ul>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-a-selfsubjectaccessreview><code>create</code> create a SelfSubjectAccessReview</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /apis/authorization.k8s.io/v1/selfsubjectaccessreviews</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-access-review-v1/#SelfSubjectAccessReview>SelfSubjectAccessReview</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ea1fed61553ac63709679a375b1ec442>5.5.3 - SelfSubjectRulesReview</h1>
<div class=lead>SelfSubjectRulesReview enumerates the set of actions the current user can perform within a namespace.</div>
<p><code>apiVersion: authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/authorization/v1"</code></p>
<h2 id=SelfSubjectRulesReview>SelfSubjectRulesReview</h2>
<p>SelfSubjectRulesReview enumerates the set of actions the current user can perform within a namespace. The returned list of actions may be incomplete depending on the server's authorization mode, and any errors experienced during the evaluation. SelfSubjectRulesReview should be used by UIs to show/hide actions, or to quickly let an end user reason about their permissions. It should NOT Be used by external systems to drive authorization decisions as this raises confused deputy, cache lifetime/revocation, and correctness concerns. SubjectAccessReview, and LocalAccessReview are the correct way to defer authorization decisions to the API server.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: SelfSubjectRulesReview</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReviewSpec>SelfSubjectRulesReviewSpec</a>), required</p>
<p>Spec holds information about the request being evaluated.</p>
</li>
<li>
<p><strong>status</strong> (SubjectRulesReviewStatus)</p>
<p>Status is filled in by the server and indicates the set of actions a user can perform.</p>
<p><a name=SubjectRulesReviewStatus></a>
<em>SubjectRulesReviewStatus contains the result of a rules check. This check can be incomplete depending on the set of authorizers the server is configured with and any errors experienced during evaluation. Because authorization rules are additive, if a rule appears in a list it's safe to assume the subject has that permission, even if that list is incomplete.</em></p>
<ul>
<li>
<p><strong>status.incomplete</strong> (boolean), required</p>
<p>Incomplete is true when the rules returned by this call are incomplete. This is most commonly encountered when an authorizer, such as an external authorizer, doesn't support rules evaluation.</p>
</li>
<li>
<p><strong>status.nonResourceRules</strong> ([]NonResourceRule), required</p>
<p>NonResourceRules is the list of actions the subject is allowed to perform on non-resources. The list ordering isn't significant, may contain duplicates, and possibly be incomplete.</p>
<p><a name=NonResourceRule></a>
<em>NonResourceRule holds information that describes a rule for the non-resource</em></p>
<ul>
<li>
<p><strong>status.nonResourceRules.verbs</strong> ([]string), required</p>
<p>Verb is a list of kubernetes non-resource API verbs, like: get, post, put, delete, patch, head, options. "*" means all.</p>
</li>
<li>
<p><strong>status.nonResourceRules.nonResourceURLs</strong> ([]string)</p>
<p>NonResourceURLs is a set of partial urls that a user should have access to. <em>s are allowed, but only as the full, final step in the path. "</em>" means all.</p>
</li>
</ul>
</li>
<li>
<p><strong>status.resourceRules</strong> ([]ResourceRule), required</p>
<p>ResourceRules is the list of actions the subject is allowed to perform on resources. The list ordering isn't significant, may contain duplicates, and possibly be incomplete.</p>
<p><a name=ResourceRule></a>
<em>ResourceRule is the list of actions the subject is allowed to perform on resources. The list ordering isn't significant, may contain duplicates, and possibly be incomplete.</em></p>
<ul>
<li>
<p><strong>status.resourceRules.verbs</strong> ([]string), required</p>
<p>Verb is a list of kubernetes resource API verbs, like: get, list, watch, create, update, delete, proxy. "*" means all.</p>
</li>
<li>
<p><strong>status.resourceRules.apiGroups</strong> ([]string)</p>
<p>APIGroups is the name of the APIGroup that contains the resources. If multiple API groups are specified, any action requested against one of the enumerated resources in any API group will be allowed. "*" means all.</p>
</li>
<li>
<p><strong>status.resourceRules.resourceNames</strong> ([]string)</p>
<p>ResourceNames is an optional white list of names that the rule applies to. An empty set means that everything is allowed. "*" means all.</p>
</li>
<li>
<p><strong>status.resourceRules.resources</strong> ([]string)</p>
<p>Resources is a list of resources this rule applies to. "<em>" means all in the specified apiGroups.
"</em>/foo" represents the subresource 'foo' for all resources in the specified apiGroups.</p>
</li>
</ul>
</li>
<li>
<p><strong>status.evaluationError</strong> (string)</p>
<p>EvaluationError can appear in combination with Rules. It indicates an error occurred during rule evaluation, such as an authorizer that doesn't support rule evaluation, and that ResourceRules and/or NonResourceRules may be incomplete.</p>
</li>
</ul>
</li>
</ul>
<h2 id=SelfSubjectRulesReviewSpec>SelfSubjectRulesReviewSpec</h2>
<p>SelfSubjectRulesReviewSpec defines the specification for SelfSubjectRulesReview.</p>
<hr>
<ul>
<li>
<p><strong>namespace</strong> (string)</p>
<p>Namespace to evaluate rules for. Required.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-a-selfsubjectrulesreview><code>create</code> create a SelfSubjectRulesReview</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /apis/authorization.k8s.io/v1/selfsubjectrulesreviews</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/self-subject-rules-review-v1/#SelfSubjectRulesReview>SelfSubjectRulesReview</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5a4c4b387f450c2b81962bec144749fc>5.5.4 - SubjectAccessReview</h1>
<div class=lead>SubjectAccessReview checks whether or not a user or group can perform an action.</div>
<p><code>apiVersion: authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/authorization/v1"</code></p>
<h2 id=SubjectAccessReview>SubjectAccessReview</h2>
<p>SubjectAccessReview checks whether or not a user or group can perform an action.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: SubjectAccessReview</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewSpec>SubjectAccessReviewSpec</a>), required</p>
<p>Spec holds information about the request being evaluated</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReviewStatus>SubjectAccessReviewStatus</a>)</p>
<p>Status is filled in by the server and indicates whether the request is allowed or not</p>
</li>
</ul>
<h2 id=SubjectAccessReviewSpec>SubjectAccessReviewSpec</h2>
<p>SubjectAccessReviewSpec is a description of the access request. Exactly one of ResourceAuthorizationAttributes and NonResourceAuthorizationAttributes must be set</p>
<hr>
<ul>
<li>
<p><strong>extra</strong> (map[string][]string)</p>
<p>Extra corresponds to the user.Info.GetExtra() method from the authenticator. Since that is input to the authorizer it needs a reflection here.</p>
</li>
<li>
<p><strong>groups</strong> ([]string)</p>
<p>Groups is the groups you're testing for.</p>
</li>
<li>
<p><strong>nonResourceAttributes</strong> (NonResourceAttributes)</p>
<p>NonResourceAttributes describes information for a non-resource access request</p>
<p><a name=NonResourceAttributes></a>
<em>NonResourceAttributes includes the authorization attributes available for non-resource requests to the Authorizer interface</em></p>
<ul>
<li>
<p><strong>nonResourceAttributes.path</strong> (string)</p>
<p>Path is the URL path of the request</p>
</li>
<li>
<p><strong>nonResourceAttributes.verb</strong> (string)</p>
<p>Verb is the standard HTTP verb</p>
</li>
</ul>
</li>
<li>
<p><strong>resourceAttributes</strong> (ResourceAttributes)</p>
<p>ResourceAuthorizationAttributes describes information for a resource access request</p>
<p><a name=ResourceAttributes></a>
<em>ResourceAttributes includes the authorization attributes available for resource requests to the Authorizer interface</em></p>
<ul>
<li>
<p><strong>resourceAttributes.group</strong> (string)</p>
<p>Group is the API Group of the Resource. "*" means all.</p>
</li>
<li>
<p><strong>resourceAttributes.name</strong> (string)</p>
<p>Name is the name of the resource being requested for a "get" or deleted for a "delete". "" (empty) means all.</p>
</li>
<li>
<p><strong>resourceAttributes.namespace</strong> (string)</p>
<p>Namespace is the namespace of the action being requested. Currently, there is no distinction between no namespace and all namespaces "" (empty) is defaulted for LocalSubjectAccessReviews "" (empty) is empty for cluster-scoped resources "" (empty) means "all" for namespace scoped resources from a SubjectAccessReview or SelfSubjectAccessReview</p>
</li>
<li>
<p><strong>resourceAttributes.resource</strong> (string)</p>
<p>Resource is one of the existing resource types. "*" means all.</p>
</li>
<li>
<p><strong>resourceAttributes.subresource</strong> (string)</p>
<p>Subresource is one of the existing resource types. "" means none.</p>
</li>
<li>
<p><strong>resourceAttributes.verb</strong> (string)</p>
<p>Verb is a kubernetes resource API verb, like: get, list, watch, create, update, delete, proxy. "*" means all.</p>
</li>
<li>
<p><strong>resourceAttributes.version</strong> (string)</p>
<p>Version is the API Version of the Resource. "*" means all.</p>
</li>
</ul>
</li>
<li>
<p><strong>uid</strong> (string)</p>
<p>UID information about the requesting user.</p>
</li>
<li>
<p><strong>user</strong> (string)</p>
<p>User is the user you're testing for. If you specify "User" but not "Groups", then is it interpreted as "What if User were not a member of any groups</p>
</li>
</ul>
<h2 id=SubjectAccessReviewStatus>SubjectAccessReviewStatus</h2>
<p>SubjectAccessReviewStatus</p>
<hr>
<ul>
<li>
<p><strong>allowed</strong> (boolean), required</p>
<p>Allowed is required. True if the action would be allowed, false otherwise.</p>
</li>
<li>
<p><strong>denied</strong> (boolean)</p>
<p>Denied is optional. True if the action would be denied, otherwise false. If both allowed is false and denied is false, then the authorizer has no opinion on whether to authorize the action. Denied may not be true if Allowed is true.</p>
</li>
<li>
<p><strong>evaluationError</strong> (string)</p>
<p>EvaluationError is an indication that some error occurred during the authorization check. It is entirely possible to get an error and be able to continue determine authorization status in spite of it. For instance, RBAC can be missing a role, but enough roles are still present and bound to reason about the request.</p>
</li>
<li>
<p><strong>reason</strong> (string)</p>
<p>Reason is optional. It indicates why a request was allowed or denied.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-a-subjectaccessreview><code>create</code> create a SubjectAccessReview</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /apis/authorization.k8s.io/v1/subjectaccessreviews</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/subject-access-review-v1/#SubjectAccessReview>SubjectAccessReview</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4701a95c93d869e797bb11d9fc883748>5.5.5 - ClusterRole</h1>
<div class=lead>ClusterRole is a cluster level, logical grouping of PolicyRules that can be referenced as a unit by a RoleBinding or ClusterRoleBinding.</div>
<p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/rbac/v1"</code></p>
<h2 id=ClusterRole>ClusterRole</h2>
<p>ClusterRole is a cluster level, logical grouping of PolicyRules that can be referenced as a unit by a RoleBinding or ClusterRoleBinding.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: ClusterRole</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>aggregationRule</strong> (AggregationRule)</p>
<p>AggregationRule is an optional field that describes how to build the Rules for this ClusterRole. If AggregationRule is set, then the Rules are controller managed and direct changes to Rules will be stomped by the controller.</p>
<p><a name=AggregationRule></a>
<em>AggregationRule describes how to locate ClusterRoles to aggregate into the ClusterRole</em></p>
<ul>
<li>
<p><strong>aggregationRule.clusterRoleSelectors</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>ClusterRoleSelectors holds a list of selectors which will be used to find ClusterRoles and create the rules. If any of the selectors match, then the ClusterRole's permissions will be added</p>
</li>
</ul>
</li>
<li>
<p><strong>rules</strong> ([]PolicyRule)</p>
<p>Rules holds all the PolicyRules for this ClusterRole</p>
<p><a name=PolicyRule></a>
<em>PolicyRule holds information that describes a policy rule, but does not contain information about who the rule applies to or which namespace the rule applies to.</em></p>
<ul>
<li>
<p><strong>rules.apiGroups</strong> ([]string)</p>
<p>APIGroups is the name of the APIGroup that contains the resources. If multiple API groups are specified, any action requested against one of the enumerated resources in any API group will be allowed.</p>
</li>
<li>
<p><strong>rules.resources</strong> ([]string)</p>
<p>Resources is a list of resources this rule applies to. '*' represents all resources.</p>
</li>
<li>
<p><strong>rules.verbs</strong> ([]string), required</p>
<p>Verbs is a list of Verbs that apply to ALL the ResourceKinds and AttributeRestrictions contained in this rule. '*' represents all verbs.</p>
</li>
<li>
<p><strong>rules.resourceNames</strong> ([]string)</p>
<p>ResourceNames is an optional white list of names that the rule applies to. An empty set means that everything is allowed.</p>
</li>
<li>
<p><strong>rules.nonResourceURLs</strong> ([]string)</p>
<p>NonResourceURLs is a set of partial urls that a user should have access to. *s are allowed, but only as the full, final step in the path Since non-resource URLs are not namespaced, this field is only applicable for ClusterRoles referenced from a ClusterRoleBinding. Rules can either apply to API resources (such as "pods" or "secrets") or non-resource URL paths (such as "/api"), but not both.</p>
</li>
</ul>
</li>
</ul>
<h2 id=ClusterRoleList>ClusterRoleList</h2>
<p>ClusterRoleList is a collection of ClusterRoles</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: ClusterRoleList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>), required</p>
<p>Items is a list of ClusterRoles</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-clusterrole><code>get</code> read the specified ClusterRole</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRole</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-clusterrole><code>list</code> list or watch objects of kind ClusterRole</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/clusterroles</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRoleList>ClusterRoleList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-clusterrole><code>create</code> create a ClusterRole</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/rbac.authorization.k8s.io/v1/clusterroles</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-clusterrole><code>update</code> replace the specified ClusterRole</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRole</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-clusterrole><code>patch</code> partially update the specified ClusterRole</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRole</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-v1/#ClusterRole>ClusterRole</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-clusterrole><code>delete</code> delete a ClusterRole</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterroles/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRole</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-clusterrole><code>deletecollection</code> delete collection of ClusterRole</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterroles</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c05906bc1a365bcc4d4d92b4b3f4f192>5.5.6 - ClusterRoleBinding</h1>
<div class=lead>ClusterRoleBinding references a ClusterRole, but not contain it.</div>
<p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/rbac/v1"</code></p>
<h2 id=ClusterRoleBinding>ClusterRoleBinding</h2>
<p>ClusterRoleBinding references a ClusterRole, but not contain it. It can reference a ClusterRole in the global namespace, and adds who information via Subject.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: ClusterRoleBinding</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>roleRef</strong> (RoleRef), required</p>
<p>RoleRef can only reference a ClusterRole in the global namespace. If the RoleRef cannot be resolved, the Authorizer must return an error.</p>
<p><a name=RoleRef></a>
<em>RoleRef contains information that points to the role being used</em></p>
<ul>
<li>
<p><strong>roleRef.apiGroup</strong> (string), required</p>
<p>APIGroup is the group for the resource being referenced</p>
</li>
<li>
<p><strong>roleRef.kind</strong> (string), required</p>
<p>Kind is the type of resource being referenced</p>
</li>
<li>
<p><strong>roleRef.name</strong> (string), required</p>
<p>Name is the name of resource being referenced</p>
</li>
</ul>
</li>
<li>
<p><strong>subjects</strong> ([]Subject)</p>
<p>Subjects holds references to the objects the role applies to.</p>
<p><a name=Subject></a>
<em>Subject contains a reference to the object or user identities a role binding applies to. This can either hold a direct API object reference, or a value for non-objects such as user and group names.</em></p>
<ul>
<li>
<p><strong>subjects.kind</strong> (string), required</p>
<p>Kind of object being referenced. Values defined by this API group are "User", "Group", and "ServiceAccount". If the Authorizer does not recognized the kind value, the Authorizer should report an error.</p>
</li>
<li>
<p><strong>subjects.name</strong> (string), required</p>
<p>Name of the object being referenced.</p>
</li>
<li>
<p><strong>subjects.apiGroup</strong> (string)</p>
<p>APIGroup holds the API group of the referenced subject. Defaults to "" for ServiceAccount subjects. Defaults to "rbac.authorization.k8s.io" for User and Group subjects.</p>
</li>
<li>
<p><strong>subjects.namespace</strong> (string)</p>
<p>Namespace of the referenced object. If the object kind is non-namespace, such as "User" or "Group", and this value is not empty the Authorizer should report an error.</p>
</li>
</ul>
</li>
</ul>
<h2 id=ClusterRoleBindingList>ClusterRoleBindingList</h2>
<p>ClusterRoleBindingList is a collection of ClusterRoleBindings</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: ClusterRoleBindingList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>), required</p>
<p>Items is a list of ClusterRoleBindings</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-clusterrolebinding><code>get</code> read the specified ClusterRoleBinding</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRoleBinding</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-clusterrolebinding><code>list</code> list or watch objects of kind ClusterRoleBinding</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/clusterrolebindings</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBindingList>ClusterRoleBindingList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-clusterrolebinding><code>create</code> create a ClusterRoleBinding</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/rbac.authorization.k8s.io/v1/clusterrolebindings</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-clusterrolebinding><code>update</code> replace the specified ClusterRoleBinding</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRoleBinding</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-clusterrolebinding><code>patch</code> partially update the specified ClusterRoleBinding</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRoleBinding</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/cluster-role-binding-v1/#ClusterRoleBinding>ClusterRoleBinding</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-clusterrolebinding><code>delete</code> delete a ClusterRoleBinding</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterrolebindings/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ClusterRoleBinding</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-clusterrolebinding><code>deletecollection</code> delete collection of ClusterRoleBinding</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/clusterrolebindings</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f0f12b8c869ff195f7b0b0388a88e76c>5.5.7 - Role</h1>
<div class=lead>Role is a namespaced, logical grouping of PolicyRules that can be referenced as a unit by a RoleBinding.</div>
<p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/rbac/v1"</code></p>
<h2 id=Role>Role</h2>
<p>Role is a namespaced, logical grouping of PolicyRules that can be referenced as a unit by a RoleBinding.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: Role</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>rules</strong> ([]PolicyRule)</p>
<p>Rules holds all the PolicyRules for this Role</p>
<p><a name=PolicyRule></a>
<em>PolicyRule holds information that describes a policy rule, but does not contain information about who the rule applies to or which namespace the rule applies to.</em></p>
<ul>
<li>
<p><strong>rules.apiGroups</strong> ([]string)</p>
<p>APIGroups is the name of the APIGroup that contains the resources. If multiple API groups are specified, any action requested against one of the enumerated resources in any API group will be allowed.</p>
</li>
<li>
<p><strong>rules.resources</strong> ([]string)</p>
<p>Resources is a list of resources this rule applies to. '*' represents all resources.</p>
</li>
<li>
<p><strong>rules.verbs</strong> ([]string), required</p>
<p>Verbs is a list of Verbs that apply to ALL the ResourceKinds and AttributeRestrictions contained in this rule. '*' represents all verbs.</p>
</li>
<li>
<p><strong>rules.resourceNames</strong> ([]string)</p>
<p>ResourceNames is an optional white list of names that the rule applies to. An empty set means that everything is allowed.</p>
</li>
<li>
<p><strong>rules.nonResourceURLs</strong> ([]string)</p>
<p>NonResourceURLs is a set of partial urls that a user should have access to. *s are allowed, but only as the full, final step in the path Since non-resource URLs are not namespaced, this field is only applicable for ClusterRoles referenced from a ClusterRoleBinding. Rules can either apply to API resources (such as "pods" or "secrets") or non-resource URL paths (such as "/api"), but not both.</p>
</li>
</ul>
</li>
</ul>
<h2 id=RoleList>RoleList</h2>
<p>RoleList is a collection of Roles</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: RoleList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>), required</p>
<p>Items is a list of Roles</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-role><code>get</code> read the specified Role</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Role</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-role><code>list</code> list or watch objects of kind Role</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#RoleList>RoleList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-role-1><code>list</code> list or watch objects of kind Role</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/roles</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#RoleList>RoleList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-role><code>create</code> create a Role</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-role><code>update</code> replace the specified Role</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Role</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-role><code>patch</code> partially update the specified Role</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Role</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-v1/#Role>Role</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-role><code>delete</code> delete a Role</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Role</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-role><code>deletecollection</code> delete collection of Role</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/roles</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-337599e35c879ffc4ba442b2e98758e1>5.5.8 - RoleBinding</h1>
<div class=lead>RoleBinding references a role, but does not contain it.</div>
<p><code>apiVersion: rbac.authorization.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/rbac/v1"</code></p>
<h2 id=RoleBinding>RoleBinding</h2>
<p>RoleBinding references a role, but does not contain it. It can reference a Role in the same namespace or a ClusterRole in the global namespace. It adds who information via Subjects and namespace information by which namespace it exists in. RoleBindings in a given namespace only have effect in that namespace.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: RoleBinding</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>roleRef</strong> (RoleRef), required</p>
<p>RoleRef can reference a Role in the current namespace or a ClusterRole in the global namespace. If the RoleRef cannot be resolved, the Authorizer must return an error.</p>
<p><a name=RoleRef></a>
<em>RoleRef contains information that points to the role being used</em></p>
<ul>
<li>
<p><strong>roleRef.apiGroup</strong> (string), required</p>
<p>APIGroup is the group for the resource being referenced</p>
</li>
<li>
<p><strong>roleRef.kind</strong> (string), required</p>
<p>Kind is the type of resource being referenced</p>
</li>
<li>
<p><strong>roleRef.name</strong> (string), required</p>
<p>Name is the name of resource being referenced</p>
</li>
</ul>
</li>
<li>
<p><strong>subjects</strong> ([]Subject)</p>
<p>Subjects holds references to the objects the role applies to.</p>
<p><a name=Subject></a>
<em>Subject contains a reference to the object or user identities a role binding applies to. This can either hold a direct API object reference, or a value for non-objects such as user and group names.</em></p>
<ul>
<li>
<p><strong>subjects.kind</strong> (string), required</p>
<p>Kind of object being referenced. Values defined by this API group are "User", "Group", and "ServiceAccount". If the Authorizer does not recognized the kind value, the Authorizer should report an error.</p>
</li>
<li>
<p><strong>subjects.name</strong> (string), required</p>
<p>Name of the object being referenced.</p>
</li>
<li>
<p><strong>subjects.apiGroup</strong> (string)</p>
<p>APIGroup holds the API group of the referenced subject. Defaults to "" for ServiceAccount subjects. Defaults to "rbac.authorization.k8s.io" for User and Group subjects.</p>
</li>
<li>
<p><strong>subjects.namespace</strong> (string)</p>
<p>Namespace of the referenced object. If the object kind is non-namespace, such as "User" or "Group", and this value is not empty the Authorizer should report an error.</p>
</li>
</ul>
</li>
</ul>
<h2 id=RoleBindingList>RoleBindingList</h2>
<p>RoleBindingList is a collection of RoleBindings</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: rbac.authorization.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: RoleBindingList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata.</p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>), required</p>
<p>Items is a list of RoleBindings</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-rolebinding><code>get</code> read the specified RoleBinding</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RoleBinding</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-rolebinding><code>list</code> list or watch objects of kind RoleBinding</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBindingList>RoleBindingList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-rolebinding-1><code>list</code> list or watch objects of kind RoleBinding</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/rbac.authorization.k8s.io/v1/rolebindings</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBindingList>RoleBindingList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-rolebinding><code>create</code> create a RoleBinding</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-rolebinding><code>update</code> replace the specified RoleBinding</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RoleBinding</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-rolebinding><code>patch</code> partially update the specified RoleBinding</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RoleBinding</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/authorization-resources/role-binding-v1/#RoleBinding>RoleBinding</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-rolebinding><code>delete</code> delete a RoleBinding</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RoleBinding</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-rolebinding><code>deletecollection</code> delete collection of RoleBinding</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/rbac.authorization.k8s.io/v1/namespaces/{namespace}/rolebindings</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d8857a338d5c6dc04752576100c946d9>5.6 - Policy Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-0831e36c3a644ba6bb53595de785976d>5.6.1 - LimitRange</h1>
<div class=lead>LimitRange sets resource usage limits for each kind of resource in a Namespace.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=LimitRange>LimitRange</h2>
<p>LimitRange sets resource usage limits for each kind of resource in a Namespace.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: LimitRange</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRangeSpec>LimitRangeSpec</a>)</p>
<p>Spec defines the limits enforced. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=LimitRangeSpec>LimitRangeSpec</h2>
<p>LimitRangeSpec defines a min/max usage limit for resources that match on kind.</p>
<hr>
<ul>
<li>
<p><strong>limits</strong> ([]LimitRangeItem), required</p>
<p>Limits is the list of LimitRangeItem objects that are enforced.</p>
<p><a name=LimitRangeItem></a>
<em>LimitRangeItem defines a min/max usage limit for any resource that matches on kind.</em></p>
<ul>
<li>
<p><strong>limits.type</strong> (string), required</p>
<p>Type of resource that this limit applies to.</p>
</li>
<li>
<p><strong>limits.default</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Default resource requirement limit value by resource name if resource limit is omitted.</p>
</li>
<li>
<p><strong>limits.defaultRequest</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>DefaultRequest is the default resource requirement request value by resource name if resource request is omitted.</p>
</li>
<li>
<p><strong>limits.max</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Max usage constraints on this kind by resource name.</p>
</li>
<li>
<p><strong>limits.maxLimitRequestRatio</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>MaxLimitRequestRatio if specified, the named resource must have a request and limit that are both non-zero where limit divided by request is less than or equal to the enumerated value; this represents the max burst for the named resource.</p>
</li>
<li>
<p><strong>limits.min</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Min usage constraints on this kind by resource name.</p>
</li>
</ul>
</li>
</ul>
<h2 id=LimitRangeList>LimitRangeList</h2>
<p>LimitRangeList is a list of LimitRange items.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: LimitRangeList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>), required</p>
<p>Items is a list of LimitRange objects. More info: <a href=https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/>https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-limitrange><code>get</code> read the specified LimitRange</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/limitranges/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the LimitRange</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-limitrange><code>list</code> list or watch objects of kind LimitRange</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/limitranges</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRangeList>LimitRangeList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-limitrange-1><code>list</code> list or watch objects of kind LimitRange</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/limitranges</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRangeList>LimitRangeList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-limitrange><code>create</code> create a LimitRange</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/limitranges</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-limitrange><code>update</code> replace the specified LimitRange</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/limitranges/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the LimitRange</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-limitrange><code>patch</code> partially update the specified LimitRange</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/limitranges/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the LimitRange</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/limit-range-v1/#LimitRange>LimitRange</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-limitrange><code>delete</code> delete a LimitRange</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/limitranges/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the LimitRange</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-limitrange><code>deletecollection</code> delete collection of LimitRange</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/limitranges</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-10c2069205c27f566d7476dc73169165>5.6.2 - ResourceQuota</h1>
<div class=lead>ResourceQuota sets aggregate quota restrictions enforced per namespace.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=ResourceQuota>ResourceQuota</h2>
<p>ResourceQuota sets aggregate quota restrictions enforced per namespace</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ResourceQuota</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaSpec>ResourceQuotaSpec</a>)</p>
<p>Spec defines the desired quota. <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaStatus>ResourceQuotaStatus</a>)</p>
<p>Status defines the actual enforced quota and its current usage. <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=ResourceQuotaSpec>ResourceQuotaSpec</h2>
<p>ResourceQuotaSpec defines the desired hard limits to enforce for Quota.</p>
<hr>
<ul>
<li>
<p><strong>hard</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>hard is the set of desired hard limits for each named resource. More info: <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>https://kubernetes.io/docs/concepts/policy/resource-quotas/</a></p>
</li>
<li>
<p><strong>scopeSelector</strong> (ScopeSelector)</p>
<p>scopeSelector is also a collection of filters like scopes that must match each object tracked by a quota but expressed using ScopeSelectorOperator in combination with possible values. For a resource to match, both scopes AND scopeSelector (if specified in spec), must be matched.</p>
<p><a name=ScopeSelector></a>
<em>A scope selector represents the AND of the selectors represented by the scoped-resource selector requirements.</em></p>
<ul>
<li>
<p><strong>scopeSelector.matchExpressions</strong> ([]ScopedResourceSelectorRequirement)</p>
<p>A list of scope selector requirements by scope of the resources.</p>
<p><a name=ScopedResourceSelectorRequirement></a>
<em>A scoped-resource selector requirement is a selector that contains values, a scope name, and an operator that relates the scope name and values.</em></p>
<ul>
<li>
<p><strong>scopeSelector.matchExpressions.operator</strong> (string), required</p>
<p>Represents a scope's relationship to a set of values. Valid operators are In, NotIn, Exists, DoesNotExist.</p>
</li>
<li>
<p><strong>scopeSelector.matchExpressions.scopeName</strong> (string), required</p>
<p>The name of the scope that the selector applies to.</p>
</li>
<li>
<p><strong>scopeSelector.matchExpressions.values</strong> ([]string)</p>
<p>An array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>scopes</strong> ([]string)</p>
<p>A collection of filters that must match each object tracked by a quota. If not specified, the quota matches all objects.</p>
</li>
</ul>
<h2 id=ResourceQuotaStatus>ResourceQuotaStatus</h2>
<p>ResourceQuotaStatus defines the enforced hard limits and observed use.</p>
<hr>
<ul>
<li>
<p><strong>hard</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Hard is the set of enforced hard limits for each named resource. More info: <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>https://kubernetes.io/docs/concepts/policy/resource-quotas/</a></p>
</li>
<li>
<p><strong>used</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Used is the current observed total usage of the resource in the namespace.</p>
</li>
</ul>
<h2 id=ResourceQuotaList>ResourceQuotaList</h2>
<p>ResourceQuotaList is a list of ResourceQuota items.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ResourceQuotaList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>), required</p>
<p>Items is a list of ResourceQuota objects. More info: <a href=https://kubernetes.io/docs/concepts/policy/resource-quotas/>https://kubernetes.io/docs/concepts/policy/resource-quotas/</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-resourcequota><code>get</code> read the specified ResourceQuota</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/resourcequotas/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-resourcequota><code>get</code> read status of the specified ResourceQuota</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/resourcequotas/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-resourcequota><code>list</code> list or watch objects of kind ResourceQuota</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/namespaces/{namespace}/resourcequotas</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaList>ResourceQuotaList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-resourcequota-1><code>list</code> list or watch objects of kind ResourceQuota</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /api/v1/resourcequotas</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuotaList>ResourceQuotaList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-resourcequota><code>create</code> create a ResourceQuota</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/resourcequotas</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-resourcequota><code>update</code> replace the specified ResourceQuota</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/resourcequotas/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-resourcequota><code>update</code> replace status of the specified ResourceQuota</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{namespace}/resourcequotas/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-resourcequota><code>patch</code> partially update the specified ResourceQuota</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/resourcequotas/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-resourcequota><code>patch</code> partially update status of the specified ResourceQuota</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{namespace}/resourcequotas/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-resourcequota><code>delete</code> delete a ResourceQuota</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/resourcequotas/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ResourceQuota</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/resource-quota-v1/#ResourceQuota>ResourceQuota</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-resourcequota><code>deletecollection</code> delete collection of ResourceQuota</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{namespace}/resourcequotas</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1e1d84ecddba19848ff49b8f10e5b3bc>5.6.3 - NetworkPolicy</h1>
<div class=lead>NetworkPolicy describes what network traffic is allowed for a set of Pods.</div>
<p><code>apiVersion: networking.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/networking/v1"</code></p>
<h2 id=NetworkPolicy>NetworkPolicy</h2>
<p>NetworkPolicy describes what network traffic is allowed for a set of Pods</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: networking.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: NetworkPolicy</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicySpec>NetworkPolicySpec</a>)</p>
<p>Specification of the desired behavior for this NetworkPolicy.</p>
</li>
</ul>
<h2 id=NetworkPolicySpec>NetworkPolicySpec</h2>
<p>NetworkPolicySpec provides the specification of a NetworkPolicy</p>
<hr>
<ul>
<li>
<p><strong>podSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>), required</p>
<p>Selects the pods to which this NetworkPolicy object applies. The array of ingress rules is applied to any pods selected by this field. Multiple network policies can select the same set of pods. In this case, the ingress rules for each are combined additively. This field is NOT optional and follows standard label selector semantics. An empty podSelector matches all pods in this namespace.</p>
</li>
<li>
<p><strong>policyTypes</strong> ([]string)</p>
<p>List of rule types that the NetworkPolicy relates to. Valid options are ["Ingress"], ["Egress"], or ["Ingress", "Egress"]. If this field is not specified, it will default based on the existence of Ingress or Egress rules; policies that contain an Egress section are assumed to affect Egress, and all policies (whether or not they contain an Ingress section) are assumed to affect Ingress. If you want to write an egress-only policy, you must explicitly specify policyTypes [ "Egress" ]. Likewise, if you want to write a policy that specifies that no egress is allowed, you must specify a policyTypes value that include "Egress" (since such a policy would not include an Egress section and would otherwise default to just [ "Ingress" ]). This field is beta-level in 1.8</p>
</li>
<li>
<p><strong>ingress</strong> ([]NetworkPolicyIngressRule)</p>
<p>List of ingress rules to be applied to the selected pods. Traffic is allowed to a pod if there are no NetworkPolicies selecting the pod (and cluster policy otherwise allows the traffic), OR if the traffic source is the pod's local node, OR if the traffic matches at least one ingress rule across all of the NetworkPolicy objects whose podSelector matches the pod. If this field is empty then this NetworkPolicy does not allow any traffic (and serves solely to ensure that the pods it selects are isolated by default)</p>
<p><a name=NetworkPolicyIngressRule></a>
<em>NetworkPolicyIngressRule describes a particular set of traffic that is allowed to the pods matched by a NetworkPolicySpec's podSelector. The traffic must match both ports and from.</em></p>
<ul>
<li>
<p><strong>ingress.from</strong> ([]NetworkPolicyPeer)</p>
<p>List of sources which should be able to access the pods selected for this rule. Items in this list are combined using a logical OR operation. If this field is empty or missing, this rule matches all sources (traffic not restricted by source). If this field is present and contains at least one item, this rule allows traffic only if the traffic matches at least one item in the from list.</p>
<p><a name=NetworkPolicyPeer></a>
<em>NetworkPolicyPeer describes a peer to allow traffic to/from. Only certain combinations of fields are allowed</em></p>
<ul>
<li>
<p><strong>ingress.from.ipBlock</strong> (IPBlock)</p>
<p>IPBlock defines policy on a particular IPBlock. If this field is set then neither of the other fields can be.</p>
<p><a name=IPBlock></a>
<em>IPBlock describes a particular CIDR (Ex. "192.168.1.1/24","2001:db9::/64") that is allowed to the pods matched by a NetworkPolicySpec's podSelector. The except entry describes CIDRs that should not be included within this rule.</em></p>
<ul>
<li>
<p><strong>ingress.from.ipBlock.cidr</strong> (string), required</p>
<p>CIDR is a string representing the IP Block Valid examples are "192.168.1.1/24" or "2001:db9::/64"</p>
</li>
<li>
<p><strong>ingress.from.ipBlock.except</strong> ([]string)</p>
<p>Except is a slice of CIDRs that should not be included within an IP Block Valid examples are "192.168.1.1/24" or "2001:db9::/64" Except values will be rejected if they are outside the CIDR range</p>
</li>
</ul>
</li>
<li>
<p><strong>ingress.from.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>Selects Namespaces using cluster-scoped labels. This field follows standard label selector semantics; if present but empty, it selects all namespaces.</p>
<p>If PodSelector is also set, then the NetworkPolicyPeer as a whole selects the Pods matching PodSelector in the Namespaces selected by NamespaceSelector. Otherwise it selects all Pods in the Namespaces selected by NamespaceSelector.</p>
</li>
<li>
<p><strong>ingress.from.podSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>This is a label selector which selects Pods. This field follows standard label selector semantics; if present but empty, it selects all pods.</p>
<p>If NamespaceSelector is also set, then the NetworkPolicyPeer as a whole selects the Pods matching PodSelector in the Namespaces selected by NamespaceSelector. Otherwise it selects the Pods matching PodSelector in the policy's own Namespace.</p>
</li>
</ul>
</li>
<li>
<p><strong>ingress.ports</strong> ([]NetworkPolicyPort)</p>
<p>List of ports which should be made accessible on the pods selected for this rule. Each item in this list is combined using a logical OR. If this field is empty or missing, this rule matches all ports (traffic not restricted by port). If this field is present and contains at least one item, then this rule allows traffic only if the traffic matches at least one port in the list.</p>
<p><a name=NetworkPolicyPort></a>
<em>NetworkPolicyPort describes a port to allow traffic on</em></p>
<ul>
<li>
<p><strong>ingress.ports.port</strong> (IntOrString)</p>
<p>The port on the given protocol. This can either be a numerical or named port on a pod. If this field is not provided, this matches all port names and numbers. If present, only traffic on the specified protocol AND port will be matched.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>ingress.ports.endPort</strong> (int32)</p>
<p>If set, indicates that the range of ports from port to endPort, inclusive, should be allowed by the policy. This field cannot be defined if the port field is not defined or if the port field is defined as a named (string) port. The endPort must be equal or greater than port. This feature is in Beta state and is enabled by default. It can be disabled using the Feature Gate "NetworkPolicyEndPort".</p>
</li>
<li>
<p><strong>ingress.ports.protocol</strong> (string)</p>
<p>The protocol (TCP, UDP, or SCTP) which traffic must match. If not specified, this field defaults to TCP.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>egress</strong> ([]NetworkPolicyEgressRule)</p>
<p>List of egress rules to be applied to the selected pods. Outgoing traffic is allowed if there are no NetworkPolicies selecting the pod (and cluster policy otherwise allows the traffic), OR if the traffic matches at least one egress rule across all of the NetworkPolicy objects whose podSelector matches the pod. If this field is empty then this NetworkPolicy limits all outgoing traffic (and serves solely to ensure that the pods it selects are isolated by default). This field is beta-level in 1.8</p>
<p><a name=NetworkPolicyEgressRule></a>
<em>NetworkPolicyEgressRule describes a particular set of traffic that is allowed out of pods matched by a NetworkPolicySpec's podSelector. The traffic must match both ports and to. This type is beta-level in 1.8</em></p>
<ul>
<li>
<p><strong>egress.to</strong> ([]NetworkPolicyPeer)</p>
<p>List of destinations for outgoing traffic of pods selected for this rule. Items in this list are combined using a logical OR operation. If this field is empty or missing, this rule matches all destinations (traffic not restricted by destination). If this field is present and contains at least one item, this rule allows traffic only if the traffic matches at least one item in the to list.</p>
<p><a name=NetworkPolicyPeer></a>
<em>NetworkPolicyPeer describes a peer to allow traffic to/from. Only certain combinations of fields are allowed</em></p>
<ul>
<li>
<p><strong>egress.to.ipBlock</strong> (IPBlock)</p>
<p>IPBlock defines policy on a particular IPBlock. If this field is set then neither of the other fields can be.</p>
<p><a name=IPBlock></a>
<em>IPBlock describes a particular CIDR (Ex. "192.168.1.1/24","2001:db9::/64") that is allowed to the pods matched by a NetworkPolicySpec's podSelector. The except entry describes CIDRs that should not be included within this rule.</em></p>
<ul>
<li>
<p><strong>egress.to.ipBlock.cidr</strong> (string), required</p>
<p>CIDR is a string representing the IP Block Valid examples are "192.168.1.1/24" or "2001:db9::/64"</p>
</li>
<li>
<p><strong>egress.to.ipBlock.except</strong> ([]string)</p>
<p>Except is a slice of CIDRs that should not be included within an IP Block Valid examples are "192.168.1.1/24" or "2001:db9::/64" Except values will be rejected if they are outside the CIDR range</p>
</li>
</ul>
</li>
<li>
<p><strong>egress.to.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>Selects Namespaces using cluster-scoped labels. This field follows standard label selector semantics; if present but empty, it selects all namespaces.</p>
<p>If PodSelector is also set, then the NetworkPolicyPeer as a whole selects the Pods matching PodSelector in the Namespaces selected by NamespaceSelector. Otherwise it selects all Pods in the Namespaces selected by NamespaceSelector.</p>
</li>
<li>
<p><strong>egress.to.podSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>This is a label selector which selects Pods. This field follows standard label selector semantics; if present but empty, it selects all pods.</p>
<p>If NamespaceSelector is also set, then the NetworkPolicyPeer as a whole selects the Pods matching PodSelector in the Namespaces selected by NamespaceSelector. Otherwise it selects the Pods matching PodSelector in the policy's own Namespace.</p>
</li>
</ul>
</li>
<li>
<p><strong>egress.ports</strong> ([]NetworkPolicyPort)</p>
<p>List of destination ports for outgoing traffic. Each item in this list is combined using a logical OR. If this field is empty or missing, this rule matches all ports (traffic not restricted by port). If this field is present and contains at least one item, then this rule allows traffic only if the traffic matches at least one port in the list.</p>
<p><a name=NetworkPolicyPort></a>
<em>NetworkPolicyPort describes a port to allow traffic on</em></p>
<ul>
<li>
<p><strong>egress.ports.port</strong> (IntOrString)</p>
<p>The port on the given protocol. This can either be a numerical or named port on a pod. If this field is not provided, this matches all port names and numbers. If present, only traffic on the specified protocol AND port will be matched.</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>egress.ports.endPort</strong> (int32)</p>
<p>If set, indicates that the range of ports from port to endPort, inclusive, should be allowed by the policy. This field cannot be defined if the port field is not defined or if the port field is defined as a named (string) port. The endPort must be equal or greater than port. This feature is in Beta state and is enabled by default. It can be disabled using the Feature Gate "NetworkPolicyEndPort".</p>
</li>
<li>
<p><strong>egress.ports.protocol</strong> (string)</p>
<p>The protocol (TCP, UDP, or SCTP) which traffic must match. If not specified, this field defaults to TCP.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=NetworkPolicyList>NetworkPolicyList</h2>
<p>NetworkPolicyList is a list of NetworkPolicy objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: networking.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: NetworkPolicyList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>), required</p>
<p>Items is a list of schema objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-networkpolicy><code>get</code> read the specified NetworkPolicy</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the NetworkPolicy</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-networkpolicy><code>list</code> list or watch objects of kind NetworkPolicy</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicyList>NetworkPolicyList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-networkpolicy-1><code>list</code> list or watch objects of kind NetworkPolicy</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/networking.k8s.io/v1/networkpolicies</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicyList>NetworkPolicyList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-networkpolicy><code>create</code> create a NetworkPolicy</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-networkpolicy><code>update</code> replace the specified NetworkPolicy</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the NetworkPolicy</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-networkpolicy><code>patch</code> partially update the specified NetworkPolicy</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the NetworkPolicy</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/network-policy-v1/#NetworkPolicy>NetworkPolicy</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-networkpolicy><code>delete</code> delete a NetworkPolicy</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the NetworkPolicy</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-networkpolicy><code>deletecollection</code> delete collection of NetworkPolicy</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/networking.k8s.io/v1/namespaces/{namespace}/networkpolicies</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2e75f782721e263954f44aea4709a9d5>5.6.4 - PodDisruptionBudget</h1>
<div class=lead>PodDisruptionBudget is an object to define the max disruption that can be caused to a collection of pods.</div>
<p><code>apiVersion: policy/v1</code></p>
<p><code>import "k8s.io/api/policy/v1"</code></p>
<h2 id=PodDisruptionBudget>PodDisruptionBudget</h2>
<p>PodDisruptionBudget is an object to define the max disruption that can be caused to a collection of pods</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: policy/v1</p>
</li>
<li>
<p><strong>kind</strong>: PodDisruptionBudget</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetSpec>PodDisruptionBudgetSpec</a>)</p>
<p>Specification of the desired behavior of the PodDisruptionBudget.</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetStatus>PodDisruptionBudgetStatus</a>)</p>
<p>Most recently observed status of the PodDisruptionBudget.</p>
</li>
</ul>
<h2 id=PodDisruptionBudgetSpec>PodDisruptionBudgetSpec</h2>
<p>PodDisruptionBudgetSpec is a description of a PodDisruptionBudget.</p>
<hr>
<ul>
<li>
<p><strong>maxUnavailable</strong> (IntOrString)</p>
<p>An eviction is allowed if at most "maxUnavailable" pods selected by "selector" are unavailable after the eviction, i.e. even in absence of the evicted pod. For example, one can prevent all voluntary evictions by specifying 0. This is a mutually exclusive setting with "minAvailable".</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>minAvailable</strong> (IntOrString)</p>
<p>An eviction is allowed if at least "minAvailable" pods selected by "selector" will still be available after the eviction, i.e. even in the absence of the evicted pod. So for example you can prevent all voluntary evictions by specifying "100%".</p>
<p><a name=IntOrString></a>
<em>IntOrString is a type that can hold an int32 or a string. When used in JSON or YAML marshalling and unmarshalling, it produces or consumes the inner type. This allows you to have, for example, a JSON field that can accept a name or number.</em></p>
</li>
<li>
<p><strong>selector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>Label query over pods whose evictions are managed by the disruption budget. A null selector will match no pods, while an empty ({}) selector will select all pods within the namespace.</p>
</li>
</ul>
<h2 id=PodDisruptionBudgetStatus>PodDisruptionBudgetStatus</h2>
<p>PodDisruptionBudgetStatus represents information about the status of a PodDisruptionBudget. Status may trail the actual state of a system.</p>
<hr>
<ul>
<li>
<p><strong>currentHealthy</strong> (int32), required</p>
<p>current number of healthy pods</p>
</li>
<li>
<p><strong>desiredHealthy</strong> (int32), required</p>
<p>minimum desired number of healthy pods</p>
</li>
<li>
<p><strong>disruptionsAllowed</strong> (int32), required</p>
<p>Number of pod disruptions that are currently allowed.</p>
</li>
<li>
<p><strong>expectedPods</strong> (int32), required</p>
<p>total number of pods counted by this disruption budget</p>
</li>
<li>
<p><strong>conditions</strong> ([]Condition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p>Conditions contain conditions for PDB. The disruption controller sets the DisruptionAllowed condition. The following are known values for the reason field (additional reasons could be added in the future): - SyncFailed: The controller encountered an error and wasn't able to compute
the number of allowed disruptions. Therefore no disruptions are
allowed and the status of the condition will be False.</p>
<ul>
<li>InsufficientPods: The number of pods are either at or below the number
required by the PodDisruptionBudget. No disruptions are
allowed and the status of the condition will be False.</li>
<li>SufficientPods: There are more pods than required by the PodDisruptionBudget.
The condition will be True, and the number of allowed
disruptions are provided by the disruptionsAllowed property.</li>
</ul>
<p><a name=Condition></a>
<em>Condition contains details for one aspect of the current state of this API Resource.</em></p>
<ul>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time), required</p>
<p>lastTransitionTime is the last time the condition transitioned from one status to another. This should be when the underlying condition changed. If that is not known, then using the time when the API field changed is acceptable.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string), required</p>
<p>message is a human readable message indicating details about the transition. This may be an empty string.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string), required</p>
<p>reason contains a programmatic identifier indicating the reason for the condition's last transition. Producers of specific condition types may define expected values and meanings for this field, and whether the values are considered a guaranteed API. The value should be a CamelCase string. This field may not be empty.</p>
</li>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>type of condition in CamelCase or in foo.example.com/CamelCase.</p>
</li>
<li>
<p><strong>conditions.observedGeneration</strong> (int64)</p>
<p>observedGeneration represents the .metadata.generation that the condition was set based upon. For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date with respect to the current state of the instance.</p>
</li>
</ul>
</li>
<li>
<p><strong>disruptedPods</strong> (map[string]Time)</p>
<p>DisruptedPods contains information about pods whose eviction was processed by the API server eviction subresource handler but has not yet been observed by the PodDisruptionBudget controller. A pod will be in this map from the time when the API server processed the eviction request to the time when the pod is seen by PDB controller as having been marked for deletion (or after a timeout). The key in the map is the name of the pod and the value is the time when the API server processed the eviction request. If the deletion didn't occur and a pod is still there it will be removed from the list automatically by PodDisruptionBudget controller after some time. If everything goes smooth this map should be empty for the most of the time. Large number of entries in the map may indicate problems with pod deletions.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>observedGeneration</strong> (int64)</p>
<p>Most recent generation observed when updating this PDB status. DisruptionsAllowed and other status information is valid only if observedGeneration equals to PDB's object generation.</p>
</li>
</ul>
<h2 id=PodDisruptionBudgetList>PodDisruptionBudgetList</h2>
<p>PodDisruptionBudgetList is a collection of PodDisruptionBudgets.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: policy/v1</p>
</li>
<li>
<p><strong>kind</strong>: PodDisruptionBudgetList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>), required</p>
<p>Items is a list of PodDisruptionBudgets</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-poddisruptionbudget><code>get</code> read the specified PodDisruptionBudget</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-poddisruptionbudget><code>get</code> read status of the specified PodDisruptionBudget</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-poddisruptionbudget><code>list</code> list or watch objects of kind PodDisruptionBudget</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetList>PodDisruptionBudgetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-poddisruptionbudget-1><code>list</code> list or watch objects of kind PodDisruptionBudget</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>GET /apis/policy/v1/poddisruptionbudgets</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudgetList>PodDisruptionBudgetList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-poddisruptionbudget><code>create</code> create a PodDisruptionBudget</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>POST /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-poddisruptionbudget><code>update</code> replace the specified PodDisruptionBudget</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-poddisruptionbudget><code>update</code> replace status of the specified PodDisruptionBudget</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-poddisruptionbudget><code>patch</code> partially update the specified PodDisruptionBudget</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-poddisruptionbudget><code>patch</code> partially update status of the specified PodDisruptionBudget</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-disruption-budget-v1/#PodDisruptionBudget>PodDisruptionBudget</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-poddisruptionbudget><code>delete</code> delete a PodDisruptionBudget</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodDisruptionBudget</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-poddisruptionbudget><code>deletecollection</code> delete collection of PodDisruptionBudget</h3>
<h4 id=http-request-10>HTTP Request</h4>
<p>DELETE /apis/policy/v1/namespaces/{namespace}/poddisruptionbudgets</p>
<h4 id=parameters-10>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-10>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-249dbcad3167d59d62d9fd394bc275a7>5.6.5 - PodSecurityPolicy v1beta1</h1>
<div class=lead>PodSecurityPolicy governs the ability to make requests that affect the Security Context that will be applied to a pod and container.</div>
<p><code>apiVersion: policy/v1beta1</code></p>
<p><code>import "k8s.io/api/policy/v1beta1"</code></p>
<h2 id=PodSecurityPolicy>PodSecurityPolicy</h2>
<p>PodSecurityPolicy governs the ability to make requests that affect the Security Context that will be applied to a pod and container. Deprecated in 1.21.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: policy/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: PodSecurityPolicy</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicySpec>PodSecurityPolicySpec</a>)</p>
<p>spec defines the policy enforced.</p>
</li>
</ul>
<h2 id=PodSecurityPolicySpec>PodSecurityPolicySpec</h2>
<p>PodSecurityPolicySpec defines the policy enforced.</p>
<hr>
<ul>
<li>
<p><strong>runAsUser</strong> (RunAsUserStrategyOptions), required</p>
<p>runAsUser is the strategy that will dictate the allowable RunAsUser values that may be set.</p>
<p><a name=RunAsUserStrategyOptions></a>
<em>RunAsUserStrategyOptions defines the strategy type and any options used to create the strategy.</em></p>
<ul>
<li>
<p><strong>runAsUser.rule</strong> (string), required</p>
<p>rule is the strategy that will dictate the allowable RunAsUser values that may be set.</p>
</li>
<li>
<p><strong>runAsUser.ranges</strong> ([]IDRange)</p>
<p>ranges are the allowed ranges of uids that may be used. If you would like to force a single uid then supply a single range with the same start and end. Required for MustRunAs.</p>
<p><a name=IDRange></a>
<em>IDRange provides a min/max of an allowed range of IDs.</em></p>
<ul>
<li>
<p><strong>runAsUser.ranges.max</strong> (int64), required</p>
<p>max is the end of the range, inclusive.</p>
</li>
<li>
<p><strong>runAsUser.ranges.min</strong> (int64), required</p>
<p>min is the start of the range, inclusive.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>runAsGroup</strong> (RunAsGroupStrategyOptions)</p>
<p>RunAsGroup is the strategy that will dictate the allowable RunAsGroup values that may be set. If this field is omitted, the pod's RunAsGroup can take any value. This field requires the RunAsGroup feature gate to be enabled.</p>
<p><a name=RunAsGroupStrategyOptions></a>
<em>RunAsGroupStrategyOptions defines the strategy type and any options used to create the strategy.</em></p>
<ul>
<li>
<p><strong>runAsGroup.rule</strong> (string), required</p>
<p>rule is the strategy that will dictate the allowable RunAsGroup values that may be set.</p>
</li>
<li>
<p><strong>runAsGroup.ranges</strong> ([]IDRange)</p>
<p>ranges are the allowed ranges of gids that may be used. If you would like to force a single gid then supply a single range with the same start and end. Required for MustRunAs.</p>
<p><a name=IDRange></a>
<em>IDRange provides a min/max of an allowed range of IDs.</em></p>
<ul>
<li>
<p><strong>runAsGroup.ranges.max</strong> (int64), required</p>
<p>max is the end of the range, inclusive.</p>
</li>
<li>
<p><strong>runAsGroup.ranges.min</strong> (int64), required</p>
<p>min is the start of the range, inclusive.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>fsGroup</strong> (FSGroupStrategyOptions), required</p>
<p>fsGroup is the strategy that will dictate what fs group is used by the SecurityContext.</p>
<p><a name=FSGroupStrategyOptions></a>
<em>FSGroupStrategyOptions defines the strategy type and options used to create the strategy.</em></p>
<ul>
<li>
<p><strong>fsGroup.ranges</strong> ([]IDRange)</p>
<p>ranges are the allowed ranges of fs groups. If you would like to force a single fs group then supply a single range with the same start and end. Required for MustRunAs.</p>
<p><a name=IDRange></a>
<em>IDRange provides a min/max of an allowed range of IDs.</em></p>
<ul>
<li>
<p><strong>fsGroup.ranges.max</strong> (int64), required</p>
<p>max is the end of the range, inclusive.</p>
</li>
<li>
<p><strong>fsGroup.ranges.min</strong> (int64), required</p>
<p>min is the start of the range, inclusive.</p>
</li>
</ul>
</li>
<li>
<p><strong>fsGroup.rule</strong> (string)</p>
<p>rule is the strategy that will dictate what FSGroup is used in the SecurityContext.</p>
</li>
</ul>
</li>
<li>
<p><strong>supplementalGroups</strong> (SupplementalGroupsStrategyOptions), required</p>
<p>supplementalGroups is the strategy that will dictate what supplemental groups are used by the SecurityContext.</p>
<p><a name=SupplementalGroupsStrategyOptions></a>
<em>SupplementalGroupsStrategyOptions defines the strategy type and options used to create the strategy.</em></p>
<ul>
<li>
<p><strong>supplementalGroups.ranges</strong> ([]IDRange)</p>
<p>ranges are the allowed ranges of supplemental groups. If you would like to force a single supplemental group then supply a single range with the same start and end. Required for MustRunAs.</p>
<p><a name=IDRange></a>
<em>IDRange provides a min/max of an allowed range of IDs.</em></p>
<ul>
<li>
<p><strong>supplementalGroups.ranges.max</strong> (int64), required</p>
<p>max is the end of the range, inclusive.</p>
</li>
<li>
<p><strong>supplementalGroups.ranges.min</strong> (int64), required</p>
<p>min is the start of the range, inclusive.</p>
</li>
</ul>
</li>
<li>
<p><strong>supplementalGroups.rule</strong> (string)</p>
<p>rule is the strategy that will dictate what supplemental groups is used in the SecurityContext.</p>
</li>
</ul>
</li>
<li>
<p><strong>seLinux</strong> (SELinuxStrategyOptions), required</p>
<p>seLinux is the strategy that will dictate the allowable labels that may be set.</p>
<p><a name=SELinuxStrategyOptions></a>
<em>SELinuxStrategyOptions defines the strategy type and any options used to create the strategy.</em></p>
<ul>
<li>
<p><strong>seLinux.rule</strong> (string), required</p>
<p>rule is the strategy that will dictate the allowable labels that may be set.</p>
</li>
<li>
<p><strong>seLinux.seLinuxOptions</strong> (SELinuxOptions)</p>
<p>seLinuxOptions required to run as; required for MustRunAs More info: <a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/>https://kubernetes.io/docs/tasks/configure-pod-container/security-context/</a></p>
<p><a name=SELinuxOptions></a>
<em>SELinuxOptions are the labels to be applied to the container</em></p>
<ul>
<li>
<p><strong>seLinux.seLinuxOptions.level</strong> (string)</p>
<p>Level is SELinux level label that applies to the container.</p>
</li>
<li>
<p><strong>seLinux.seLinuxOptions.role</strong> (string)</p>
<p>Role is a SELinux role label that applies to the container.</p>
</li>
<li>
<p><strong>seLinux.seLinuxOptions.type</strong> (string)</p>
<p>Type is a SELinux type label that applies to the container.</p>
</li>
<li>
<p><strong>seLinux.seLinuxOptions.user</strong> (string)</p>
<p>User is a SELinux user label that applies to the container.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>readOnlyRootFilesystem</strong> (boolean)</p>
<p>readOnlyRootFilesystem when set to true will force containers to run with a read only root file system. If the container specifically requests to run with a non-read only root file system the PSP should deny the pod. If set to false the container may run with a read only root file system if it wishes but it will not be forced to.</p>
</li>
<li>
<p><strong>privileged</strong> (boolean)</p>
<p>privileged determines if a pod can request to be run as privileged.</p>
</li>
<li>
<p><strong>allowPrivilegeEscalation</strong> (boolean)</p>
<p>allowPrivilegeEscalation determines if a pod can request to allow privilege escalation. If unspecified, defaults to true.</p>
</li>
<li>
<p><strong>defaultAllowPrivilegeEscalation</strong> (boolean)</p>
<p>defaultAllowPrivilegeEscalation controls the default setting for whether a process can gain more privileges than its parent process.</p>
</li>
<li>
<p><strong>allowedCSIDrivers</strong> ([]AllowedCSIDriver)</p>
<p>AllowedCSIDrivers is an allowlist of inline CSI drivers that must be explicitly set to be embedded within a pod spec. An empty value indicates that any CSI driver can be used for inline ephemeral volumes. This is a beta field, and is only honored if the API server enables the CSIInlineVolume feature gate.</p>
<p><a name=AllowedCSIDriver></a>
<em>AllowedCSIDriver represents a single inline CSI Driver that is allowed to be used.</em></p>
<ul>
<li>
<p><strong>allowedCSIDrivers.name</strong> (string), required</p>
<p>Name is the registered name of the CSI driver</p>
</li>
</ul>
</li>
<li>
<p><strong>allowedCapabilities</strong> ([]string)</p>
<p>allowedCapabilities is a list of capabilities that can be requested to add to the container. Capabilities in this field may be added at the pod author's discretion. You must not list a capability in both allowedCapabilities and requiredDropCapabilities.</p>
</li>
<li>
<p><strong>requiredDropCapabilities</strong> ([]string)</p>
<p>requiredDropCapabilities are the capabilities that will be dropped from the container. These are required to be dropped and cannot be added.</p>
</li>
<li>
<p><strong>defaultAddCapabilities</strong> ([]string)</p>
<p>defaultAddCapabilities is the default set of capabilities that will be added to the container unless the pod spec specifically drops the capability. You may not list a capability in both defaultAddCapabilities and requiredDropCapabilities. Capabilities added here are implicitly allowed, and need not be included in the allowedCapabilities list.</p>
</li>
<li>
<p><strong>allowedFlexVolumes</strong> ([]AllowedFlexVolume)</p>
<p>allowedFlexVolumes is an allowlist of Flexvolumes. Empty or nil indicates that all Flexvolumes may be used. This parameter is effective only when the usage of the Flexvolumes is allowed in the "volumes" field.</p>
<p><a name=AllowedFlexVolume></a>
<em>AllowedFlexVolume represents a single Flexvolume that is allowed to be used.</em></p>
<ul>
<li>
<p><strong>allowedFlexVolumes.driver</strong> (string), required</p>
<p>driver is the name of the Flexvolume driver.</p>
</li>
</ul>
</li>
<li>
<p><strong>allowedHostPaths</strong> ([]AllowedHostPath)</p>
<p>allowedHostPaths is an allowlist of host paths. Empty indicates that all host paths may be used.</p>
<p><a name=AllowedHostPath></a>
<em>AllowedHostPath defines the host volume conditions that will be enabled by a policy for pods to use. It requires the path prefix to be defined.</em></p>
<ul>
<li>
<p><strong>allowedHostPaths.pathPrefix</strong> (string)</p>
<p>pathPrefix is the path prefix that the host volume must match. It does not support <code>*</code>. Trailing slashes are trimmed when validating the path prefix with a host path.</p>
<p>Examples: <code>/foo</code> would allow <code>/foo</code>, <code>/foo/</code> and <code>/foo/bar</code> <code>/foo</code> would not allow <code>/food</code> or <code>/etc/foo</code></p>
</li>
<li>
<p><strong>allowedHostPaths.readOnly</strong> (boolean)</p>
<p>when set to true, will allow host volumes matching the pathPrefix only if all volume mounts are readOnly.</p>
</li>
</ul>
</li>
<li>
<p><strong>allowedProcMountTypes</strong> ([]string)</p>
<p>AllowedProcMountTypes is an allowlist of allowed ProcMountTypes. Empty or nil indicates that only the DefaultProcMountType may be used. This requires the ProcMountType feature flag to be enabled.</p>
</li>
<li>
<p><strong>allowedUnsafeSysctls</strong> ([]string)</p>
<p>allowedUnsafeSysctls is a list of explicitly allowed unsafe sysctls, defaults to none. Each entry is either a plain sysctl name or ends in "*" in which case it is considered as a prefix of allowed sysctls. Single * means all unsafe sysctls are allowed. Kubelet has to allowlist all allowed unsafe sysctls explicitly to avoid rejection.</p>
<p>Examples: e.g. "foo/<em>" allows "foo/bar", "foo/baz", etc. e.g. "foo.</em>" allows "foo.bar", "foo.baz", etc.</p>
</li>
<li>
<p><strong>forbiddenSysctls</strong> ([]string)</p>
<p>forbiddenSysctls is a list of explicitly forbidden sysctls, defaults to none. Each entry is either a plain sysctl name or ends in "*" in which case it is considered as a prefix of forbidden sysctls. Single * means all sysctls are forbidden.</p>
<p>Examples: e.g. "foo/<em>" forbids "foo/bar", "foo/baz", etc. e.g. "foo.</em>" forbids "foo.bar", "foo.baz", etc.</p>
</li>
<li>
<p><strong>hostIPC</strong> (boolean)</p>
<p>hostIPC determines if the policy allows the use of HostIPC in the pod spec.</p>
</li>
<li>
<p><strong>hostNetwork</strong> (boolean)</p>
<p>hostNetwork determines if the policy allows the use of HostNetwork in the pod spec.</p>
</li>
<li>
<p><strong>hostPID</strong> (boolean)</p>
<p>hostPID determines if the policy allows the use of HostPID in the pod spec.</p>
</li>
<li>
<p><strong>hostPorts</strong> ([]HostPortRange)</p>
<p>hostPorts determines which host port ranges are allowed to be exposed.</p>
<p><a name=HostPortRange></a>
<em>HostPortRange defines a range of host ports that will be enabled by a policy for pods to use. It requires both the start and end to be defined.</em></p>
<ul>
<li>
<p><strong>hostPorts.max</strong> (int32), required</p>
<p>max is the end of the range, inclusive.</p>
</li>
<li>
<p><strong>hostPorts.min</strong> (int32), required</p>
<p>min is the start of the range, inclusive.</p>
</li>
</ul>
</li>
<li>
<p><strong>runtimeClass</strong> (RuntimeClassStrategyOptions)</p>
<p>runtimeClass is the strategy that will dictate the allowable RuntimeClasses for a pod. If this field is omitted, the pod's runtimeClassName field is unrestricted. Enforcement of this field depends on the RuntimeClass feature gate being enabled.</p>
<p><a name=RuntimeClassStrategyOptions></a>
<em>RuntimeClassStrategyOptions define the strategy that will dictate the allowable RuntimeClasses for a pod.</em></p>
<ul>
<li>
<p><strong>runtimeClass.allowedRuntimeClassNames</strong> ([]string), required</p>
<p>allowedRuntimeClassNames is an allowlist of RuntimeClass names that may be specified on a pod. A value of "*" means that any RuntimeClass name is allowed, and must be the only item in the list. An empty list requires the RuntimeClassName field to be unset.</p>
</li>
<li>
<p><strong>runtimeClass.defaultRuntimeClassName</strong> (string)</p>
<p>defaultRuntimeClassName is the default RuntimeClassName to set on the pod. The default MUST be allowed by the allowedRuntimeClassNames list. A value of nil does not mutate the Pod.</p>
</li>
</ul>
</li>
<li>
<p><strong>volumes</strong> ([]string)</p>
<p>volumes is an allowlist of volume plugins. Empty indicates that no volumes may be used. To allow all volumes you may use '*'.</p>
</li>
</ul>
<h2 id=PodSecurityPolicyList>PodSecurityPolicyList</h2>
<p>PodSecurityPolicyList is a list of PodSecurityPolicy objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: policy/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: PodSecurityPolicyList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>), required</p>
<p>items is a list of schema objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-podsecuritypolicy><code>get</code> read the specified PodSecurityPolicy</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/policy/v1beta1/podsecuritypolicies/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodSecurityPolicy</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-podsecuritypolicy><code>list</code> list or watch objects of kind PodSecurityPolicy</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/policy/v1beta1/podsecuritypolicies</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicyList>PodSecurityPolicyList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-podsecuritypolicy><code>create</code> create a PodSecurityPolicy</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/policy/v1beta1/podsecuritypolicies</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-podsecuritypolicy><code>update</code> replace the specified PodSecurityPolicy</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/policy/v1beta1/podsecuritypolicies/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodSecurityPolicy</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-podsecuritypolicy><code>patch</code> partially update the specified PodSecurityPolicy</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/policy/v1beta1/podsecuritypolicies/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodSecurityPolicy</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-podsecuritypolicy><code>delete</code> delete a PodSecurityPolicy</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/policy/v1beta1/podsecuritypolicies/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PodSecurityPolicy</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/policy-resources/pod-security-policy-v1beta1/#PodSecurityPolicy>PodSecurityPolicy</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-podsecuritypolicy><code>deletecollection</code> delete collection of PodSecurityPolicy</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/policy/v1beta1/podsecuritypolicies</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-020d8f776dea9802131630c210dc4c0a>5.7 - Extend Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-0a375cb95d28aa4cec341c561ccf6e83>5.7.1 - CustomResourceDefinition</h1>
<div class=lead>CustomResourceDefinition represents a resource that should be exposed on the API server.</div>
<p><code>apiVersion: apiextensions.k8s.io/v1</code></p>
<p><code>import "k8s.io/apiextensions-apiserver/pkg/apis/apiextensions/v1"</code></p>
<h2 id=CustomResourceDefinition>CustomResourceDefinition</h2>
<p>CustomResourceDefinition represents a resource that should be exposed on the API server. Its name MUST be in the format &lt;.spec.name>.&lt;.spec.group>.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apiextensions.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: CustomResourceDefinition</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinitionSpec>CustomResourceDefinitionSpec</a>), required</p>
<p>spec describes how the user wants the resources to appear</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinitionStatus>CustomResourceDefinitionStatus</a>)</p>
<p>status indicates the actual state of the CustomResourceDefinition</p>
</li>
</ul>
<h2 id=CustomResourceDefinitionSpec>CustomResourceDefinitionSpec</h2>
<p>CustomResourceDefinitionSpec describes how a user wants their resource to appear</p>
<hr>
<ul>
<li>
<p><strong>group</strong> (string), required</p>
<p>group is the API group of the defined custom resource. The custom resources are served under <code>/apis/\&lt;group>/...</code>. Must match the name of the CustomResourceDefinition (in the form <code>\&lt;names.plural>.\&lt;group></code>).</p>
</li>
<li>
<p><strong>names</strong> (CustomResourceDefinitionNames), required</p>
<p>names specify the resource and kind names for the custom resource.</p>
<p><a name=CustomResourceDefinitionNames></a>
<em>CustomResourceDefinitionNames indicates the names to serve this CustomResourceDefinition</em></p>
<ul>
<li>
<p><strong>names.kind</strong> (string), required</p>
<p>kind is the serialized kind of the resource. It is normally CamelCase and singular. Custom resource instances will use this value as the <code>kind</code> attribute in API calls.</p>
</li>
<li>
<p><strong>names.plural</strong> (string), required</p>
<p>plural is the plural name of the resource to serve. The custom resources are served under <code>/apis/\&lt;group>/\&lt;version>/.../\&lt;plural></code>. Must match the name of the CustomResourceDefinition (in the form <code>\&lt;names.plural>.\&lt;group></code>). Must be all lowercase.</p>
</li>
<li>
<p><strong>names.categories</strong> ([]string)</p>
<p>categories is a list of grouped resources this custom resource belongs to (e.g. 'all'). This is published in API discovery documents, and used by clients to support invocations like <code>kubectl get all</code>.</p>
</li>
<li>
<p><strong>names.listKind</strong> (string)</p>
<p>listKind is the serialized kind of the list for this resource. Defaults to "<code>kind</code>List".</p>
</li>
<li>
<p><strong>names.shortNames</strong> ([]string)</p>
<p>shortNames are short names for the resource, exposed in API discovery documents, and used by clients to support invocations like <code>kubectl get \&lt;shortname></code>. It must be all lowercase.</p>
</li>
<li>
<p><strong>names.singular</strong> (string)</p>
<p>singular is the singular name of the resource. It must be all lowercase. Defaults to lowercased <code>kind</code>.</p>
</li>
</ul>
</li>
<li>
<p><strong>scope</strong> (string), required</p>
<p>scope indicates whether the defined custom resource is cluster- or namespace-scoped. Allowed values are <code>Cluster</code> and <code>Namespaced</code>.</p>
</li>
<li>
<p><strong>versions</strong> ([]CustomResourceDefinitionVersion), required</p>
<p>versions is the list of all API versions of the defined custom resource. Version names are used to compute the order in which served versions are listed in API discovery. If the version string is "kube-like", it will sort above non "kube-like" version strings, which are ordered lexicographically. "Kube-like" versions start with a "v", then are followed by a number (the major version), then optionally the string "alpha" or "beta" and another number (the minor version). These are sorted first by GA > beta > alpha (where GA is a version with no suffix such as beta or alpha), and then by comparing major version, then minor version. An example sorted list of versions: v10, v2, v1, v11beta2, v10beta3, v3beta1, v12alpha1, v11alpha2, foo1, foo10.</p>
<p><a name=CustomResourceDefinitionVersion></a>
<em>CustomResourceDefinitionVersion describes a version for CRD.</em></p>
<ul>
<li>
<p><strong>versions.name</strong> (string), required</p>
<p>name is the version name, e.g. “v1”, “v2beta1”, etc. The custom resources are served under this version at <code>/apis/\&lt;group>/\&lt;version>/...</code> if <code>served</code> is true.</p>
</li>
<li>
<p><strong>versions.served</strong> (boolean), required</p>
<p>served is a flag enabling/disabling this version from being served via REST APIs</p>
</li>
<li>
<p><strong>versions.storage</strong> (boolean), required</p>
<p>storage indicates this version should be used when persisting custom resources to storage. There must be exactly one version with storage=true.</p>
</li>
<li>
<p><strong>versions.additionalPrinterColumns</strong> ([]CustomResourceColumnDefinition)</p>
<p>additionalPrinterColumns specifies additional columns returned in Table output. See <a href=https://kubernetes.io/docs/reference/using-api/api-concepts/#receiving-resources-as-tables>https://kubernetes.io/docs/reference/using-api/api-concepts/#receiving-resources-as-tables</a> for details. If no columns are specified, a single column displaying the age of the custom resource is used.</p>
<p><a name=CustomResourceColumnDefinition></a>
<em>CustomResourceColumnDefinition specifies a column for server side printing.</em></p>
<ul>
<li>
<p><strong>versions.additionalPrinterColumns.jsonPath</strong> (string), required</p>
<p>jsonPath is a simple JSON path (i.e. with array notation) which is evaluated against each custom resource to produce the value for this column.</p>
</li>
<li>
<p><strong>versions.additionalPrinterColumns.name</strong> (string), required</p>
<p>name is a human readable name for the column.</p>
</li>
<li>
<p><strong>versions.additionalPrinterColumns.type</strong> (string), required</p>
<p>type is an OpenAPI type definition for this column. See <a href=https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types>https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types</a> for details.</p>
</li>
<li>
<p><strong>versions.additionalPrinterColumns.description</strong> (string)</p>
<p>description is a human readable description of this column.</p>
</li>
<li>
<p><strong>versions.additionalPrinterColumns.format</strong> (string)</p>
<p>format is an optional OpenAPI type definition for this column. The 'name' format is applied to the primary identifier column to assist in clients identifying column is the resource name. See <a href=https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types>https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#data-types</a> for details.</p>
</li>
<li>
<p><strong>versions.additionalPrinterColumns.priority</strong> (int32)</p>
<p>priority is an integer defining the relative importance of this column compared to others. Lower numbers are considered higher priority. Columns that may be omitted in limited space scenarios should be given a priority greater than 0.</p>
</li>
</ul>
</li>
<li>
<p><strong>versions.deprecated</strong> (boolean)</p>
<p>deprecated indicates this version of the custom resource API is deprecated. When set to true, API requests to this version receive a warning header in the server response. Defaults to false.</p>
</li>
<li>
<p><strong>versions.deprecationWarning</strong> (string)</p>
<p>deprecationWarning overrides the default warning returned to API clients. May only be set when <code>deprecated</code> is true. The default warning indicates this version is deprecated and recommends use of the newest served version of equal or greater stability, if one exists.</p>
</li>
<li>
<p><strong>versions.schema</strong> (CustomResourceValidation)</p>
<p>schema describes the schema used for validation, pruning, and defaulting of this version of the custom resource.</p>
<p><a name=CustomResourceValidation></a>
<em>CustomResourceValidation is a list of validation methods for CustomResources.</em></p>
<ul>
<li>
<p><strong>versions.schema.openAPIV3Schema</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
<p>openAPIV3Schema is the OpenAPI v3 schema to use for validation and pruning.</p>
</li>
</ul>
</li>
<li>
<p><strong>versions.subresources</strong> (CustomResourceSubresources)</p>
<p>subresources specify what subresources this version of the defined custom resource have.</p>
<p><a name=CustomResourceSubresources></a>
<em>CustomResourceSubresources defines the status and scale subresources for CustomResources.</em></p>
<ul>
<li>
<p><strong>versions.subresources.scale</strong> (CustomResourceSubresourceScale)</p>
<p>scale indicates the custom resource should serve a <code>/scale</code> subresource that returns an <code>autoscaling/v1</code> Scale object.</p>
<p><a name=CustomResourceSubresourceScale></a>
<em>CustomResourceSubresourceScale defines how to serve the scale subresource for CustomResources.</em></p>
<ul>
<li>
<p><strong>versions.subresources.scale.specReplicasPath</strong> (string), required</p>
<p>specReplicasPath defines the JSON path inside of a custom resource that corresponds to Scale <code>spec.replicas</code>. Only JSON paths without the array notation are allowed. Must be a JSON Path under <code>.spec</code>. If there is no value under the given path in the custom resource, the <code>/scale</code> subresource will return an error on GET.</p>
</li>
<li>
<p><strong>versions.subresources.scale.statusReplicasPath</strong> (string), required</p>
<p>statusReplicasPath defines the JSON path inside of a custom resource that corresponds to Scale <code>status.replicas</code>. Only JSON paths without the array notation are allowed. Must be a JSON Path under <code>.status</code>. If there is no value under the given path in the custom resource, the <code>status.replicas</code> value in the <code>/scale</code> subresource will default to 0.</p>
</li>
<li>
<p><strong>versions.subresources.scale.labelSelectorPath</strong> (string)</p>
<p>labelSelectorPath defines the JSON path inside of a custom resource that corresponds to Scale <code>status.selector</code>. Only JSON paths without the array notation are allowed. Must be a JSON Path under <code>.status</code> or <code>.spec</code>. Must be set to work with HorizontalPodAutoscaler. The field pointed by this JSON path must be a string field (not a complex selector struct) which contains a serialized label selector in string form. More info: <a href=https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions#scale-subresource>https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions#scale-subresource</a> If there is no value under the given path in the custom resource, the <code>status.selector</code> value in the <code>/scale</code> subresource will default to the empty string.</p>
</li>
</ul>
</li>
<li>
<p><strong>versions.subresources.status</strong> (CustomResourceSubresourceStatus)</p>
<p>status indicates the custom resource should serve a <code>/status</code> subresource. When enabled: 1. requests to the custom resource primary endpoint ignore changes to the <code>status</code> stanza of the object. 2. requests to the custom resource <code>/status</code> subresource ignore changes to anything other than the <code>status</code> stanza of the object.</p>
<p><a name=CustomResourceSubresourceStatus></a>
<em>CustomResourceSubresourceStatus defines how to serve the status subresource for CustomResources. Status is represented by the <code>.status</code> JSON path inside of a CustomResource. When set, * exposes a /status subresource for the custom resource * PUT requests to the /status subresource take a custom resource object, and ignore changes to anything except the status stanza * PUT/POST/PATCH requests to the custom resource ignore changes to the status stanza</em></p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>conversion</strong> (CustomResourceConversion)</p>
<p>conversion defines conversion settings for the CRD.</p>
<p><a name=CustomResourceConversion></a>
<em>CustomResourceConversion describes how to convert different versions of a CR.</em></p>
<ul>
<li>
<p><strong>conversion.strategy</strong> (string), required</p>
<p>strategy specifies how custom resources are converted between versions. Allowed values are: - <code>None</code>: The converter only change the apiVersion and would not touch any other field in the custom resource. - <code>Webhook</code>: API Server will call to an external webhook to do the conversion. Additional information
is needed for this option. This requires spec.preserveUnknownFields to be false, and spec.conversion.webhook to be set.</p>
</li>
<li>
<p><strong>conversion.webhook</strong> (WebhookConversion)</p>
<p>webhook describes how to call the conversion webhook. Required when <code>strategy</code> is set to <code>Webhook</code>.</p>
<p><a name=WebhookConversion></a>
<em>WebhookConversion describes how to call a conversion webhook</em></p>
<ul>
<li>
<p><strong>conversion.webhook.conversionReviewVersions</strong> ([]string), required</p>
<p>conversionReviewVersions is an ordered list of preferred <code>ConversionReview</code> versions the Webhook expects. The API server will use the first version in the list which it supports. If none of the versions specified in this list are supported by API server, conversion will fail for the custom resource. If a persisted Webhook configuration specifies allowed versions and does not include any versions known to the API Server, calls to the webhook will fail.</p>
</li>
<li>
<p><strong>conversion.webhook.clientConfig</strong> (WebhookClientConfig)</p>
<p>clientConfig is the instructions for how to call the webhook if strategy is <code>Webhook</code>.</p>
<p><a name=WebhookClientConfig></a>
<em>WebhookClientConfig contains the information to make a TLS connection with the webhook.</em></p>
<ul>
<li>
<p><strong>conversion.webhook.clientConfig.caBundle</strong> ([]byte)</p>
<p>caBundle is a PEM encoded CA bundle which will be used to validate the webhook's server certificate. If unspecified, system trust roots on the apiserver are used.</p>
</li>
<li>
<p><strong>conversion.webhook.clientConfig.service</strong> (ServiceReference)</p>
<p>service is a reference to the service for this webhook. Either service or url must be specified.</p>
<p>If the webhook is running within the cluster, then you should use <code>service</code>.</p>
<p><a name=ServiceReference></a>
<em>ServiceReference holds a reference to Service.legacy.k8s.io</em></p>
<ul>
<li>
<p><strong>conversion.webhook.clientConfig.service.name</strong> (string), required</p>
<p>name is the name of the service. Required</p>
</li>
<li>
<p><strong>conversion.webhook.clientConfig.service.namespace</strong> (string), required</p>
<p>namespace is the namespace of the service. Required</p>
</li>
<li>
<p><strong>conversion.webhook.clientConfig.service.path</strong> (string)</p>
<p>path is an optional URL path at which the webhook will be contacted.</p>
</li>
<li>
<p><strong>conversion.webhook.clientConfig.service.port</strong> (int32)</p>
<p>port is an optional service port at which the webhook will be contacted. <code>port</code> should be a valid port number (1-65535, inclusive). Defaults to 443 for backward compatibility.</p>
</li>
</ul>
</li>
<li>
<p><strong>conversion.webhook.clientConfig.url</strong> (string)</p>
<p>url gives the location of the webhook, in standard URL form (<code>scheme://host:port/path</code>). Exactly one of <code>url</code> or <code>service</code> must be specified.</p>
<p>The <code>host</code> should not refer to a service running in the cluster; use the <code>service</code> field instead. The host might be resolved via external DNS in some apiservers (e.g., <code>kube-apiserver</code> cannot resolve in-cluster DNS as that would be a layering violation). <code>host</code> may also be an IP address.</p>
<p>Please note that using <code>localhost</code> or <code>127.0.0.1</code> as a <code>host</code> is risky unless you take great care to run this webhook on all hosts which run an apiserver which might need to make calls to this webhook. Such installs are likely to be non-portable, i.e., not easy to turn up in a new cluster.</p>
<p>The scheme must be "https"; the URL must begin with "https://".</p>
<p>A path is optional, and if present may be any string permissible in a URL. You may use the path to pass an arbitrary string to the webhook, for example, a cluster identifier.</p>
<p>Attempting to use a user or basic auth e.g. "user:password@" is not allowed. Fragments ("#...") and query parameters ("?...") are not allowed, either.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>preserveUnknownFields</strong> (boolean)</p>
<p>preserveUnknownFields indicates that object fields which are not specified in the OpenAPI schema should be preserved when persisting to storage. apiVersion, kind, metadata and known fields inside metadata are always preserved. This field is deprecated in favor of setting <code>x-preserve-unknown-fields</code> to true in <code>spec.versions[*].schema.openAPIV3Schema</code>. See <a href=https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/#pruning-versus-preserving-unknown-fields>https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/#pruning-versus-preserving-unknown-fields</a> for details.</p>
</li>
</ul>
<h2 id=JSONSchemaProps>JSONSchemaProps</h2>
<p>JSONSchemaProps is a JSON-Schema following Specification Draft 4 (<a href=http://json-schema.org/)>http://json-schema.org/)</a>.</p>
<hr>
<ul>
<li>
<p><strong>$ref</strong> (string)</p>
</li>
<li>
<p><strong>$schema</strong> (string)</p>
</li>
<li>
<p><strong>additionalItems</strong> (JSONSchemaPropsOrBool)</p>
<p><a name=JSONSchemaPropsOrBool></a>
<em>JSONSchemaPropsOrBool represents JSONSchemaProps or a boolean value. Defaults to true for the boolean property.</em></p>
</li>
<li>
<p><strong>additionalProperties</strong> (JSONSchemaPropsOrBool)</p>
<p><a name=JSONSchemaPropsOrBool></a>
<em>JSONSchemaPropsOrBool represents JSONSchemaProps or a boolean value. Defaults to true for the boolean property.</em></p>
</li>
<li>
<p><strong>allOf</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>anyOf</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>default</strong> (JSON)</p>
<p>default is a default value for undefined object fields. Defaulting is a beta feature under the CustomResourceDefaulting feature gate. Defaulting requires spec.preserveUnknownFields to be false.</p>
<p><a name=JSON></a>
<em>JSON represents any valid JSON value. These types are supported: bool, int64, float64, string, []interface{}, map[string]interface{} and nil.</em></p>
</li>
<li>
<p><strong>definitions</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>dependencies</strong> (map[string]JSONSchemaPropsOrStringArray)</p>
<p><a name=JSONSchemaPropsOrStringArray></a>
<em>JSONSchemaPropsOrStringArray represents a JSONSchemaProps or a string array.</em></p>
</li>
<li>
<p><strong>description</strong> (string)</p>
</li>
<li>
<p><strong>enum</strong> ([]JSON)</p>
<p><a name=JSON></a>
<em>JSON represents any valid JSON value. These types are supported: bool, int64, float64, string, []interface{}, map[string]interface{} and nil.</em></p>
</li>
<li>
<p><strong>example</strong> (JSON)</p>
<p><a name=JSON></a>
<em>JSON represents any valid JSON value. These types are supported: bool, int64, float64, string, []interface{}, map[string]interface{} and nil.</em></p>
</li>
<li>
<p><strong>exclusiveMaximum</strong> (boolean)</p>
</li>
<li>
<p><strong>exclusiveMinimum</strong> (boolean)</p>
</li>
<li>
<p><strong>externalDocs</strong> (ExternalDocumentation)</p>
<p><a name=ExternalDocumentation></a>
<em>ExternalDocumentation allows referencing an external resource for extended documentation.</em></p>
<ul>
<li>
<p><strong>externalDocs.description</strong> (string)</p>
</li>
<li>
<p><strong>externalDocs.url</strong> (string)</p>
</li>
</ul>
</li>
<li>
<p><strong>format</strong> (string)</p>
<p>format is an OpenAPI v3 format string. Unknown formats are ignored. The following formats are validated:</p>
<ul>
<li>bsonobjectid: a bson object ID, i.e. a 24 characters hex string - uri: an URI as parsed by Golang net/url.ParseRequestURI - email: an email address as parsed by Golang net/mail.ParseAddress - hostname: a valid representation for an Internet host name, as defined by RFC 1034, section 3.1 [RFC1034]. - ipv4: an IPv4 IP as parsed by Golang net.ParseIP - ipv6: an IPv6 IP as parsed by Golang net.ParseIP - cidr: a CIDR as parsed by Golang net.ParseCIDR - mac: a MAC address as parsed by Golang net.ParseMAC - uuid: an UUID that allows uppercase defined by the regex (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{4}-?[0-9a-f]{12}$ - uuid3: an UUID3 that allows uppercase defined by the regex (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?3[0-9a-f]{3}-?[0-9a-f]{4}-?[0-9a-f]{12}$ - uuid4: an UUID4 that allows uppercase defined by the regex (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?4[0-9a-f]{3}-?[89ab][0-9a-f]{3}-?[0-9a-f]{12}$ - uuid5: an UUID5 that allows uppercase defined by the regex (?i)^[0-9a-f]{8}-?[0-9a-f]{4}-?5[0-9a-f]{3}-?[89ab][0-9a-f]{3}-?[0-9a-f]{12}$ - isbn: an ISBN10 or ISBN13 number string like "0321751043" or "978-0321751041" - isbn10: an ISBN10 number string like "0321751043" - isbn13: an ISBN13 number string like "978-0321751041" - creditcard: a credit card number defined by the regex ^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$ with any non digit characters mixed in - ssn: a U.S. social security number following the regex ^\d{3}[- ]?\d{2}[- ]?\d{4}$ - hexcolor: an hexadecimal color code like "#FFFFFF: following the regex ^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$ - rgbcolor: an RGB color code like rgb like "rgb(255,255,2559" - byte: base64 encoded binary data - password: any kind of string - date: a date string like "2006-01-02" as defined by full-date in RFC3339 - duration: a duration string like "22 ns" as parsed by Golang time.ParseDuration or compatible with Scala duration format - datetime: a date time string like "2014-12-15T19:30:20.000Z" as defined by date-time in RFC3339.</li>
</ul>
</li>
<li>
<p><strong>id</strong> (string)</p>
</li>
<li>
<p><strong>items</strong> (JSONSchemaPropsOrArray)</p>
<p><a name=JSONSchemaPropsOrArray></a>
<em>JSONSchemaPropsOrArray represents a value that can either be a JSONSchemaProps or an array of JSONSchemaProps. Mainly here for serialization purposes.</em></p>
</li>
<li>
<p><strong>maxItems</strong> (int64)</p>
</li>
<li>
<p><strong>maxLength</strong> (int64)</p>
</li>
<li>
<p><strong>maxProperties</strong> (int64)</p>
</li>
<li>
<p><strong>maximum</strong> (double)</p>
</li>
<li>
<p><strong>minItems</strong> (int64)</p>
</li>
<li>
<p><strong>minLength</strong> (int64)</p>
</li>
<li>
<p><strong>minProperties</strong> (int64)</p>
</li>
<li>
<p><strong>minimum</strong> (double)</p>
</li>
<li>
<p><strong>multipleOf</strong> (double)</p>
</li>
<li>
<p><strong>not</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>nullable</strong> (boolean)</p>
</li>
<li>
<p><strong>oneOf</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>pattern</strong> (string)</p>
</li>
<li>
<p><strong>patternProperties</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>properties</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#JSONSchemaProps>JSONSchemaProps</a>)</p>
</li>
<li>
<p><strong>required</strong> ([]string)</p>
</li>
<li>
<p><strong>title</strong> (string)</p>
</li>
<li>
<p><strong>type</strong> (string)</p>
</li>
<li>
<p><strong>uniqueItems</strong> (boolean)</p>
</li>
<li>
<p><strong>x-kubernetes-embedded-resource</strong> (boolean)</p>
<p>x-kubernetes-embedded-resource defines that the value is an embedded Kubernetes runtime.Object, with TypeMeta and ObjectMeta. The type must be object. It is allowed to further restrict the embedded object. kind, apiVersion and metadata are validated automatically. x-kubernetes-preserve-unknown-fields is allowed to be true, but does not have to be if the object is fully specified (up to kind, apiVersion, metadata).</p>
</li>
<li>
<p><strong>x-kubernetes-int-or-string</strong> (boolean)</p>
<p>x-kubernetes-int-or-string specifies that this value is either an integer or a string. If this is true, an empty type is allowed and type as child of anyOf is permitted if following one of the following patterns:</p>
<ol>
<li>anyOf:
<ul>
<li>type: integer</li>
<li>type: string</li>
</ul>
</li>
<li>allOf:
<ul>
<li>anyOf:
<ul>
<li>type: integer</li>
<li>type: string</li>
</ul>
</li>
<li>... zero or more</li>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>x-kubernetes-list-map-keys</strong> ([]string)</p>
<p>x-kubernetes-list-map-keys annotates an array with the x-kubernetes-list-type <code>map</code> by specifying the keys used as the index of the map.</p>
<p>This tag MUST only be used on lists that have the "x-kubernetes-list-type" extension set to "map". Also, the values specified for this attribute must be a scalar typed field of the child structure (no nesting is supported).</p>
<p>The properties specified must either be required or have a default value, to ensure those properties are present for all list items.</p>
</li>
<li>
<p><strong>x-kubernetes-list-type</strong> (string)</p>
<p>x-kubernetes-list-type annotates an array to further describe its topology. This extension must only be used on lists and may have 3 possible values:</p>
<ol>
<li><code>atomic</code>: the list is treated as a single entity, like a scalar.
Atomic lists will be entirely replaced when updated. This extension
may be used on any type of list (struct, scalar, ...).</li>
<li><code>set</code>:
Sets are lists that must not have multiple items with the same value. Each
value must be a scalar, an object with x-kubernetes-map-type <code>atomic</code> or an
array with x-kubernetes-list-type <code>atomic</code>.</li>
<li><code>map</code>:
These lists are like maps in that their elements have a non-index key
used to identify them. Order is preserved upon merge. The map tag
must only be used on a list with elements of type object.
Defaults to atomic for arrays.</li>
</ol>
</li>
<li>
<p><strong>x-kubernetes-map-type</strong> (string)</p>
<p>x-kubernetes-map-type annotates an object to further describe its topology. This extension must only be used when type is object and may have 2 possible values:</p>
<ol>
<li><code>granular</code>:
These maps are actual maps (key-value pairs) and each fields are independent
from each other (they can each be manipulated by separate actors). This is
the default behaviour for all maps.</li>
<li><code>atomic</code>: the list is treated as a single entity, like a scalar.
Atomic maps will be entirely replaced when updated.</li>
</ol>
</li>
<li>
<p><strong>x-kubernetes-preserve-unknown-fields</strong> (boolean)</p>
<p>x-kubernetes-preserve-unknown-fields stops the API server decoding step from pruning fields which are not specified in the validation schema. This affects fields recursively, but switches back to normal pruning behaviour if nested properties or additionalProperties are specified in the schema. This can either be true or undefined. False is forbidden.</p>
</li>
</ul>
<h2 id=CustomResourceDefinitionStatus>CustomResourceDefinitionStatus</h2>
<p>CustomResourceDefinitionStatus indicates the state of the CustomResourceDefinition</p>
<hr>
<ul>
<li>
<p><strong>acceptedNames</strong> (CustomResourceDefinitionNames)</p>
<p>acceptedNames are the names that are actually being used to serve discovery. They may be different than the names in spec.</p>
<p><a name=CustomResourceDefinitionNames></a>
<em>CustomResourceDefinitionNames indicates the names to serve this CustomResourceDefinition</em></p>
<ul>
<li>
<p><strong>acceptedNames.kind</strong> (string), required</p>
<p>kind is the serialized kind of the resource. It is normally CamelCase and singular. Custom resource instances will use this value as the <code>kind</code> attribute in API calls.</p>
</li>
<li>
<p><strong>acceptedNames.plural</strong> (string), required</p>
<p>plural is the plural name of the resource to serve. The custom resources are served under <code>/apis/\&lt;group>/\&lt;version>/.../\&lt;plural></code>. Must match the name of the CustomResourceDefinition (in the form <code>\&lt;names.plural>.\&lt;group></code>). Must be all lowercase.</p>
</li>
<li>
<p><strong>acceptedNames.categories</strong> ([]string)</p>
<p>categories is a list of grouped resources this custom resource belongs to (e.g. 'all'). This is published in API discovery documents, and used by clients to support invocations like <code>kubectl get all</code>.</p>
</li>
<li>
<p><strong>acceptedNames.listKind</strong> (string)</p>
<p>listKind is the serialized kind of the list for this resource. Defaults to "<code>kind</code>List".</p>
</li>
<li>
<p><strong>acceptedNames.shortNames</strong> ([]string)</p>
<p>shortNames are short names for the resource, exposed in API discovery documents, and used by clients to support invocations like <code>kubectl get \&lt;shortname></code>. It must be all lowercase.</p>
</li>
<li>
<p><strong>acceptedNames.singular</strong> (string)</p>
<p>singular is the singular name of the resource. It must be all lowercase. Defaults to lowercased <code>kind</code>.</p>
</li>
</ul>
</li>
<li>
<p><strong>conditions</strong> ([]CustomResourceDefinitionCondition)</p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p>conditions indicate state for particular aspects of a CustomResourceDefinition</p>
<p><a name=CustomResourceDefinitionCondition></a>
<em>CustomResourceDefinitionCondition contains details for the current condition of this pod.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>status is the status of the condition. Can be True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>type is the type of the condition. Types include Established, NamesAccepted and Terminating.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>lastTransitionTime last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>message is a human-readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>reason is a unique, one-word, CamelCase reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>storedVersions</strong> ([]string)</p>
<p>storedVersions lists all versions of CustomResources that were ever persisted. Tracking these versions allows a migration path for stored versions in etcd. The field is mutable so a migration controller can finish a migration to another version (ensuring no old objects are left in storage), and then remove the rest of the versions from this list. Versions may not be removed from <code>spec.versions</code> while they exist in this list.</p>
</li>
</ul>
<h2 id=CustomResourceDefinitionList>CustomResourceDefinitionList</h2>
<p>CustomResourceDefinitionList is a list of CustomResourceDefinition objects.</p>
<hr>
<ul>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>), required</p>
<p>items list individual CustomResourceDefinition objects</p>
</li>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p>
</li>
<li>
<p><strong>kind</strong> (string)</p>
<p>Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard object's metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-customresourcedefinition><code>get</code> read the specified CustomResourceDefinition</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-customresourcedefinition><code>get</code> read status of the specified CustomResourceDefinition</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-customresourcedefinition><code>list</code> list or watch objects of kind CustomResourceDefinition</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apiextensions.k8s.io/v1/customresourcedefinitions</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinitionList>CustomResourceDefinitionList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-customresourcedefinition><code>create</code> create a CustomResourceDefinition</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/apiextensions.k8s.io/v1/customresourcedefinitions</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-customresourcedefinition><code>update</code> replace the specified CustomResourceDefinition</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-customresourcedefinition><code>update</code> replace status of the specified CustomResourceDefinition</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-customresourcedefinition><code>patch</code> partially update the specified CustomResourceDefinition</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-customresourcedefinition><code>patch</code> partially update status of the specified CustomResourceDefinition</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/custom-resource-definition-v1/#CustomResourceDefinition>CustomResourceDefinition</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-customresourcedefinition><code>delete</code> delete a CustomResourceDefinition</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /apis/apiextensions.k8s.io/v1/customresourcedefinitions/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the CustomResourceDefinition</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-customresourcedefinition><code>deletecollection</code> delete collection of CustomResourceDefinition</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/apiextensions.k8s.io/v1/customresourcedefinitions</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ad24d230da8fe5a5c54bc6bff4169d24>5.7.2 - MutatingWebhookConfiguration</h1>
<div class=lead>MutatingWebhookConfiguration describes the configuration of and admission webhook that accept or reject and may change the object.</div>
<p><code>apiVersion: admissionregistration.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/admissionregistration/v1"</code></p>
<h2 id=MutatingWebhookConfiguration>MutatingWebhookConfiguration</h2>
<p>MutatingWebhookConfiguration describes the configuration of and admission webhook that accept or reject and may change the object.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: MutatingWebhookConfiguration</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object metadata; More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>.</p>
</li>
<li>
<p><strong>webhooks</strong> ([]MutatingWebhook)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>Webhooks is a list of webhooks and the affected resources and operations.</p>
<p><a name=MutatingWebhook></a>
<em>MutatingWebhook describes an admission webhook and the resources and operations it applies to.</em></p>
<ul>
<li>
<p><strong>webhooks.admissionReviewVersions</strong> ([]string), required</p>
<p>AdmissionReviewVersions is an ordered list of preferred <code>AdmissionReview</code> versions the Webhook expects. API server will try to use first version in the list which it supports. If none of the versions specified in this list supported by API server, validation will fail for this object. If a persisted webhook configuration specifies allowed versions and does not include any versions known to the API Server, calls to the webhook will fail and be subject to the failure policy.</p>
</li>
<li>
<p><strong>webhooks.clientConfig</strong> (WebhookClientConfig), required</p>
<p>ClientConfig defines how to communicate with the hook. Required</p>
<p><a name=WebhookClientConfig></a>
<em>WebhookClientConfig contains the information to make a TLS connection with the webhook</em></p>
<ul>
<li>
<p><strong>webhooks.clientConfig.caBundle</strong> ([]byte)</p>
<p><code>caBundle</code> is a PEM encoded CA bundle which will be used to validate the webhook's server certificate. If unspecified, system trust roots on the apiserver are used.</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service</strong> (ServiceReference)</p>
<p><code>service</code> is a reference to the service for this webhook. Either <code>service</code> or <code>url</code> must be specified.</p>
<p>If the webhook is running within the cluster, then you should use <code>service</code>.</p>
<p><a name=ServiceReference></a>
<em>ServiceReference holds a reference to Service.legacy.k8s.io</em></p>
<ul>
<li>
<p><strong>webhooks.clientConfig.service.name</strong> (string), required</p>
<p><code>name</code> is the name of the service. Required</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service.namespace</strong> (string), required</p>
<p><code>namespace</code> is the namespace of the service. Required</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service.path</strong> (string)</p>
<p><code>path</code> is an optional URL path which will be sent in any request to this service.</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service.port</strong> (int32)</p>
<p>If specified, the port on the service that hosting webhook. Default to 443 for backward compatibility. <code>port</code> should be a valid port number (1-65535, inclusive).</p>
</li>
</ul>
</li>
<li>
<p><strong>webhooks.clientConfig.url</strong> (string)</p>
<p><code>url</code> gives the location of the webhook, in standard URL form (<code>scheme://host:port/path</code>). Exactly one of <code>url</code> or <code>service</code> must be specified.</p>
<p>The <code>host</code> should not refer to a service running in the cluster; use the <code>service</code> field instead. The host might be resolved via external DNS in some apiservers (e.g., <code>kube-apiserver</code> cannot resolve in-cluster DNS as that would be a layering violation). <code>host</code> may also be an IP address.</p>
<p>Please note that using <code>localhost</code> or <code>127.0.0.1</code> as a <code>host</code> is risky unless you take great care to run this webhook on all hosts which run an apiserver which might need to make calls to this webhook. Such installs are likely to be non-portable, i.e., not easy to turn up in a new cluster.</p>
<p>The scheme must be "https"; the URL must begin with "https://".</p>
<p>A path is optional, and if present may be any string permissible in a URL. You may use the path to pass an arbitrary string to the webhook, for example, a cluster identifier.</p>
<p>Attempting to use a user or basic auth e.g. "user:password@" is not allowed. Fragments ("#...") and query parameters ("?...") are not allowed, either.</p>
</li>
</ul>
</li>
<li>
<p><strong>webhooks.name</strong> (string), required</p>
<p>The name of the admission webhook. Name should be fully qualified, e.g., imagepolicy.kubernetes.io, where "imagepolicy" is the name of the webhook, and kubernetes.io is the name of the organization. Required.</p>
</li>
<li>
<p><strong>webhooks.sideEffects</strong> (string), required</p>
<p>SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission chain and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p>
</li>
<li>
<p><strong>webhooks.failurePolicy</strong> (string)</p>
<p>FailurePolicy defines how unrecognized errors from the admission endpoint are handled - allowed values are Ignore or Fail. Defaults to Fail.</p>
</li>
<li>
<p><strong>webhooks.matchPolicy</strong> (string)</p>
<p>matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent".</p>
<ul>
<li>
<p>Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook.</p>
</li>
<li>
<p>Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook.</p>
</li>
</ul>
<p>Defaults to "Equivalent"</p>
</li>
<li>
<p><strong>webhooks.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>NamespaceSelector decides whether to run the webhook on an object based on whether the namespace for that object matches the selector. If the object itself is a namespace, the matching is performed on object.metadata.labels. If the object is another cluster scoped resource, it never skips the webhook.</p>
<p>For example, to run the webhook on any objects whose namespace is not associated with "runlevel" of "0" or "1"; you will set the selector as follows: "namespaceSelector": {
"matchExpressions": [
{
"key": "runlevel",
"operator": "NotIn",
"values": [
"0",
"1"
]
}
]
}</p>
<p>If instead you want to only run the webhook on any objects whose namespace is associated with the "environment" of "prod" or "staging"; you will set the selector as follows: "namespaceSelector": {
"matchExpressions": [
{
"key": "environment",
"operator": "In",
"values": [
"prod",
"staging"
]
}
]
}</p>
<p>See <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/</a> for more examples of label selectors.</p>
<p>Default to the empty LabelSelector, which matches everything.</p>
</li>
<li>
<p><strong>webhooks.objectSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p>
</li>
<li>
<p><strong>webhooks.reinvocationPolicy</strong> (string)</p>
<p>reinvocationPolicy indicates whether this webhook should be called multiple times as part of a single admission evaluation. Allowed values are "Never" and "IfNeeded".</p>
<p>Never: the webhook will not be called more than once in a single admission evaluation.</p>
<p>IfNeeded: the webhook will be called at least one additional time as part of the admission evaluation if the object being admitted is modified by other admission plugins after the initial webhook call. Webhooks that specify this option <em>must</em> be idempotent, able to process objects they previously admitted. Note: * the number of additional invocations is not guaranteed to be exactly one. * if additional invocations result in further modifications to the object, webhooks are not guaranteed to be invoked again. * webhooks that use this option may be reordered to minimize the number of additional invocations. * to validate an object after all mutations are guaranteed complete, use a validating admission webhook instead.</p>
<p>Defaults to "Never".</p>
</li>
<li>
<p><strong>webhooks.rules</strong> ([]RuleWithOperations)</p>
<p>Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule. However, in order to prevent ValidatingAdmissionWebhooks and MutatingAdmissionWebhooks from putting the cluster in a state which cannot be recovered from without completely disabling the plugin, ValidatingAdmissionWebhooks and MutatingAdmissionWebhooks are never called on admission requests for ValidatingWebhookConfiguration and MutatingWebhookConfiguration objects.</p>
<p><a name=RuleWithOperations></a>
<em>RuleWithOperations is a tuple of Operations and Resources. It is recommended to make sure that all the tuple expansions are valid.</em></p>
<ul>
<li>
<p><strong>webhooks.rules.apiGroups</strong> ([]string)</p>
<p>APIGroups is the API groups the resources belong to. '<em>' is all groups. If '</em>' is present, the length of the slice must be one. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.apiVersions</strong> ([]string)</p>
<p>APIVersions is the API versions the resources belong to. '<em>' is all versions. If '</em>' is present, the length of the slice must be one. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.operations</strong> ([]string)</p>
<p>Operations is the operations the admission hook cares about - CREATE, UPDATE, DELETE, CONNECT or * for all of those operations and any future admission operations that are added. If '*' is present, the length of the slice must be one. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.resources</strong> ([]string)</p>
<p>Resources is a list of resources this rule applies to.</p>
<p>For example: 'pods' means pods. 'pods/log' means the log subresource of pods. '<em>' means all resources, but not subresources. 'pods/</em>' means all subresources of pods. '<em>/scale' means all scale subresources. '</em>/*' means all resources and their subresources.</p>
<p>If wildcard is present, the validation rule will ensure resources do not overlap with each other.</p>
<p>Depending on the enclosing object, subresources might not be allowed. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.scope</strong> (string)</p>
<p>scope specifies the scope of this rule. Valid values are "Cluster", "Namespaced", and "<em>" "Cluster" means that only cluster-scoped resources will match this rule. Namespace API objects are cluster-scoped. "Namespaced" means that only namespaced resources will match this rule. "</em>" means that there are no scope restrictions. Subresources match the scope of their parent resource. Default is "*".</p>
</li>
</ul>
</li>
<li>
<p><strong>webhooks.timeoutSeconds</strong> (int32)</p>
<p>TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p>
</li>
</ul>
</li>
</ul>
<h2 id=MutatingWebhookConfigurationList>MutatingWebhookConfigurationList</h2>
<p>MutatingWebhookConfigurationList is a list of MutatingWebhookConfiguration.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: MutatingWebhookConfigurationList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>), required</p>
<p>List of MutatingWebhookConfiguration.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-mutatingwebhookconfiguration><code>get</code> read the specified MutatingWebhookConfiguration</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the MutatingWebhookConfiguration</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-mutatingwebhookconfiguration><code>list</code> list or watch objects of kind MutatingWebhookConfiguration</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfigurationList>MutatingWebhookConfigurationList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-mutatingwebhookconfiguration><code>create</code> create a MutatingWebhookConfiguration</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-mutatingwebhookconfiguration><code>update</code> replace the specified MutatingWebhookConfiguration</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the MutatingWebhookConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-mutatingwebhookconfiguration><code>patch</code> partially update the specified MutatingWebhookConfiguration</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the MutatingWebhookConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/mutating-webhook-configuration-v1/#MutatingWebhookConfiguration>MutatingWebhookConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-mutatingwebhookconfiguration><code>delete</code> delete a MutatingWebhookConfiguration</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the MutatingWebhookConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-mutatingwebhookconfiguration><code>deletecollection</code> delete collection of MutatingWebhookConfiguration</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/admissionregistration.k8s.io/v1/mutatingwebhookconfigurations</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ad9945bc57d13986240173bdc1448f1b>5.7.3 - ValidatingWebhookConfiguration</h1>
<div class=lead>ValidatingWebhookConfiguration describes the configuration of and admission webhook that accept or reject and object without changing it.</div>
<p><code>apiVersion: admissionregistration.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/admissionregistration/v1"</code></p>
<h2 id=ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</h2>
<p>ValidatingWebhookConfiguration describes the configuration of and admission webhook that accept or reject and object without changing it.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: ValidatingWebhookConfiguration</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object metadata; More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a>.</p>
</li>
<li>
<p><strong>webhooks</strong> ([]ValidatingWebhook)</p>
<p><em>Patch strategy: merge on key <code>name</code></em></p>
<p>Webhooks is a list of webhooks and the affected resources and operations.</p>
<p><a name=ValidatingWebhook></a>
<em>ValidatingWebhook describes an admission webhook and the resources and operations it applies to.</em></p>
<ul>
<li>
<p><strong>webhooks.admissionReviewVersions</strong> ([]string), required</p>
<p>AdmissionReviewVersions is an ordered list of preferred <code>AdmissionReview</code> versions the Webhook expects. API server will try to use first version in the list which it supports. If none of the versions specified in this list supported by API server, validation will fail for this object. If a persisted webhook configuration specifies allowed versions and does not include any versions known to the API Server, calls to the webhook will fail and be subject to the failure policy.</p>
</li>
<li>
<p><strong>webhooks.clientConfig</strong> (WebhookClientConfig), required</p>
<p>ClientConfig defines how to communicate with the hook. Required</p>
<p><a name=WebhookClientConfig></a>
<em>WebhookClientConfig contains the information to make a TLS connection with the webhook</em></p>
<ul>
<li>
<p><strong>webhooks.clientConfig.caBundle</strong> ([]byte)</p>
<p><code>caBundle</code> is a PEM encoded CA bundle which will be used to validate the webhook's server certificate. If unspecified, system trust roots on the apiserver are used.</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service</strong> (ServiceReference)</p>
<p><code>service</code> is a reference to the service for this webhook. Either <code>service</code> or <code>url</code> must be specified.</p>
<p>If the webhook is running within the cluster, then you should use <code>service</code>.</p>
<p><a name=ServiceReference></a>
<em>ServiceReference holds a reference to Service.legacy.k8s.io</em></p>
<ul>
<li>
<p><strong>webhooks.clientConfig.service.name</strong> (string), required</p>
<p><code>name</code> is the name of the service. Required</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service.namespace</strong> (string), required</p>
<p><code>namespace</code> is the namespace of the service. Required</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service.path</strong> (string)</p>
<p><code>path</code> is an optional URL path which will be sent in any request to this service.</p>
</li>
<li>
<p><strong>webhooks.clientConfig.service.port</strong> (int32)</p>
<p>If specified, the port on the service that hosting webhook. Default to 443 for backward compatibility. <code>port</code> should be a valid port number (1-65535, inclusive).</p>
</li>
</ul>
</li>
<li>
<p><strong>webhooks.clientConfig.url</strong> (string)</p>
<p><code>url</code> gives the location of the webhook, in standard URL form (<code>scheme://host:port/path</code>). Exactly one of <code>url</code> or <code>service</code> must be specified.</p>
<p>The <code>host</code> should not refer to a service running in the cluster; use the <code>service</code> field instead. The host might be resolved via external DNS in some apiservers (e.g., <code>kube-apiserver</code> cannot resolve in-cluster DNS as that would be a layering violation). <code>host</code> may also be an IP address.</p>
<p>Please note that using <code>localhost</code> or <code>127.0.0.1</code> as a <code>host</code> is risky unless you take great care to run this webhook on all hosts which run an apiserver which might need to make calls to this webhook. Such installs are likely to be non-portable, i.e., not easy to turn up in a new cluster.</p>
<p>The scheme must be "https"; the URL must begin with "https://".</p>
<p>A path is optional, and if present may be any string permissible in a URL. You may use the path to pass an arbitrary string to the webhook, for example, a cluster identifier.</p>
<p>Attempting to use a user or basic auth e.g. "user:password@" is not allowed. Fragments ("#...") and query parameters ("?...") are not allowed, either.</p>
</li>
</ul>
</li>
<li>
<p><strong>webhooks.name</strong> (string), required</p>
<p>The name of the admission webhook. Name should be fully qualified, e.g., imagepolicy.kubernetes.io, where "imagepolicy" is the name of the webhook, and kubernetes.io is the name of the organization. Required.</p>
</li>
<li>
<p><strong>webhooks.sideEffects</strong> (string), required</p>
<p>SideEffects states whether this webhook has side effects. Acceptable values are: None, NoneOnDryRun (webhooks created via v1beta1 may also specify Some or Unknown). Webhooks with side effects MUST implement a reconciliation system, since a request may be rejected by a future step in the admission chain and the side effects therefore need to be undone. Requests with the dryRun attribute will be auto-rejected if they match a webhook with sideEffects == Unknown or Some.</p>
</li>
<li>
<p><strong>webhooks.failurePolicy</strong> (string)</p>
<p>FailurePolicy defines how unrecognized errors from the admission endpoint are handled - allowed values are Ignore or Fail. Defaults to Fail.</p>
</li>
<li>
<p><strong>webhooks.matchPolicy</strong> (string)</p>
<p>matchPolicy defines how the "rules" list is used to match incoming requests. Allowed values are "Exact" or "Equivalent".</p>
<ul>
<li>
<p>Exact: match a request only if it exactly matches a specified rule. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, but "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would not be sent to the webhook.</p>
</li>
<li>
<p>Equivalent: match a request if modifies a resource listed in rules, even via another API group or version. For example, if deployments can be modified via apps/v1, apps/v1beta1, and extensions/v1beta1, and "rules" only included <code>apiGroups:["apps"], apiVersions:["v1"], resources: ["deployments"]</code>, a request to apps/v1beta1 or extensions/v1beta1 would be converted to apps/v1 and sent to the webhook.</p>
</li>
</ul>
<p>Defaults to "Equivalent"</p>
</li>
<li>
<p><strong>webhooks.namespaceSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>NamespaceSelector decides whether to run the webhook on an object based on whether the namespace for that object matches the selector. If the object itself is a namespace, the matching is performed on object.metadata.labels. If the object is another cluster scoped resource, it never skips the webhook.</p>
<p>For example, to run the webhook on any objects whose namespace is not associated with "runlevel" of "0" or "1"; you will set the selector as follows: "namespaceSelector": {
"matchExpressions": [
{
"key": "runlevel",
"operator": "NotIn",
"values": [
"0",
"1"
]
}
]
}</p>
<p>If instead you want to only run the webhook on any objects whose namespace is associated with the "environment" of "prod" or "staging"; you will set the selector as follows: "namespaceSelector": {
"matchExpressions": [
{
"key": "environment",
"operator": "In",
"values": [
"prod",
"staging"
]
}
]
}</p>
<p>See <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/labels>https://kubernetes.io/docs/concepts/overview/working-with-objects/labels</a> for more examples of label selectors.</p>
<p>Default to the empty LabelSelector, which matches everything.</p>
</li>
<li>
<p><strong>webhooks.objectSelector</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/label-selector/#LabelSelector>LabelSelector</a>)</p>
<p>ObjectSelector decides whether to run the webhook based on if the object has matching labels. objectSelector is evaluated against both the oldObject and newObject that would be sent to the webhook, and is considered to match if either object matches the selector. A null object (oldObject in the case of create, or newObject in the case of delete) or an object that cannot have labels (like a DeploymentRollback or a PodProxyOptions object) is not considered to match. Use the object selector only if the webhook is opt-in, because end users may skip the admission webhook by setting the labels. Default to the empty LabelSelector, which matches everything.</p>
</li>
<li>
<p><strong>webhooks.rules</strong> ([]RuleWithOperations)</p>
<p>Rules describes what operations on what resources/subresources the webhook cares about. The webhook cares about an operation if it matches <em>any</em> Rule. However, in order to prevent ValidatingAdmissionWebhooks and MutatingAdmissionWebhooks from putting the cluster in a state which cannot be recovered from without completely disabling the plugin, ValidatingAdmissionWebhooks and MutatingAdmissionWebhooks are never called on admission requests for ValidatingWebhookConfiguration and MutatingWebhookConfiguration objects.</p>
<p><a name=RuleWithOperations></a>
<em>RuleWithOperations is a tuple of Operations and Resources. It is recommended to make sure that all the tuple expansions are valid.</em></p>
<ul>
<li>
<p><strong>webhooks.rules.apiGroups</strong> ([]string)</p>
<p>APIGroups is the API groups the resources belong to. '<em>' is all groups. If '</em>' is present, the length of the slice must be one. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.apiVersions</strong> ([]string)</p>
<p>APIVersions is the API versions the resources belong to. '<em>' is all versions. If '</em>' is present, the length of the slice must be one. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.operations</strong> ([]string)</p>
<p>Operations is the operations the admission hook cares about - CREATE, UPDATE, DELETE, CONNECT or * for all of those operations and any future admission operations that are added. If '*' is present, the length of the slice must be one. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.resources</strong> ([]string)</p>
<p>Resources is a list of resources this rule applies to.</p>
<p>For example: 'pods' means pods. 'pods/log' means the log subresource of pods. '<em>' means all resources, but not subresources. 'pods/</em>' means all subresources of pods. '<em>/scale' means all scale subresources. '</em>/*' means all resources and their subresources.</p>
<p>If wildcard is present, the validation rule will ensure resources do not overlap with each other.</p>
<p>Depending on the enclosing object, subresources might not be allowed. Required.</p>
</li>
<li>
<p><strong>webhooks.rules.scope</strong> (string)</p>
<p>scope specifies the scope of this rule. Valid values are "Cluster", "Namespaced", and "<em>" "Cluster" means that only cluster-scoped resources will match this rule. Namespace API objects are cluster-scoped. "Namespaced" means that only namespaced resources will match this rule. "</em>" means that there are no scope restrictions. Subresources match the scope of their parent resource. Default is "*".</p>
</li>
</ul>
</li>
<li>
<p><strong>webhooks.timeoutSeconds</strong> (int32)</p>
<p>TimeoutSeconds specifies the timeout for this webhook. After the timeout passes, the webhook call will be ignored or the API call will fail based on the failure policy. The timeout value must be between 1 and 30 seconds. Default to 10 seconds.</p>
</li>
</ul>
</li>
</ul>
<h2 id=ValidatingWebhookConfigurationList>ValidatingWebhookConfigurationList</h2>
<p>ValidatingWebhookConfigurationList is a list of ValidatingWebhookConfiguration.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: admissionregistration.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: ValidatingWebhookConfigurationList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>), required</p>
<p>List of ValidatingWebhookConfiguration.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-validatingwebhookconfiguration><code>get</code> read the specified ValidatingWebhookConfiguration</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ValidatingWebhookConfiguration</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-validatingwebhookconfiguration><code>list</code> list or watch objects of kind ValidatingWebhookConfiguration</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfigurationList>ValidatingWebhookConfigurationList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-validatingwebhookconfiguration><code>create</code> create a ValidatingWebhookConfiguration</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-validatingwebhookconfiguration><code>update</code> replace the specified ValidatingWebhookConfiguration</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ValidatingWebhookConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-validatingwebhookconfiguration><code>patch</code> partially update the specified ValidatingWebhookConfiguration</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ValidatingWebhookConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/extend-resources/validating-webhook-configuration-v1/#ValidatingWebhookConfiguration>ValidatingWebhookConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-validatingwebhookconfiguration><code>delete</code> delete a ValidatingWebhookConfiguration</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ValidatingWebhookConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-validatingwebhookconfiguration><code>deletecollection</code> delete collection of ValidatingWebhookConfiguration</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/admissionregistration.k8s.io/v1/validatingwebhookconfigurations</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-692a25c0f0c88fc9b8c1e82cd0b0ee9e>5.8 - Cluster Resources</h1>
</div>
<div class=td-content>
<h1 id=pg-3ca7e8e10d76640701a022f9bac5e958>5.8.1 - Node</h1>
<div class=lead>Node is a worker node in Kubernetes.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Node>Node</h2>
<p>Node is a worker node in Kubernetes. Each node will have a unique identifier in the cache (i.e. in etcd).</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Node</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#NodeSpec>NodeSpec</a>)</p>
<p>Spec defines the behavior of a node. <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#NodeStatus>NodeStatus</a>)</p>
<p>Most recently observed status of the node. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=NodeSpec>NodeSpec</h2>
<p>NodeSpec describes the attributes that a node is created with.</p>
<hr>
<ul>
<li>
<p><strong>configSource</strong> (NodeConfigSource)</p>
<p>Deprecated. If specified, the source of the node's configuration. The DynamicKubeletConfig feature gate must be enabled for the Kubelet to use this field. This field is deprecated as of 1.22: <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></p>
<p><a name=NodeConfigSource></a>
<em>NodeConfigSource specifies a source of node configuration. Exactly one subfield (excluding metadata) must be non-nil. This API is deprecated since 1.22</em></p>
<ul>
<li>
<p><strong>configSource.configMap</strong> (ConfigMapNodeConfigSource)</p>
<p>ConfigMap is a reference to a Node's ConfigMap</p>
<p><a name=ConfigMapNodeConfigSource></a>
<em>ConfigMapNodeConfigSource contains the information to reference a ConfigMap as a config source for the Node. This API is deprecated since 1.22: <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></em></p>
<ul>
<li>
<p><strong>configSource.configMap.kubeletConfigKey</strong> (string), required</p>
<p>KubeletConfigKey declares which key of the referenced ConfigMap corresponds to the KubeletConfiguration structure This field is required in all cases.</p>
</li>
<li>
<p><strong>configSource.configMap.name</strong> (string), required</p>
<p>Name is the metadata.name of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>configSource.configMap.namespace</strong> (string), required</p>
<p>Namespace is the metadata.namespace of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>configSource.configMap.resourceVersion</strong> (string)</p>
<p>ResourceVersion is the metadata.ResourceVersion of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
<li>
<p><strong>configSource.configMap.uid</strong> (string)</p>
<p>UID is the metadata.UID of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>externalID</strong> (string)</p>
<p>Deprecated. Not all kubelets will set this field. Remove field after 1.13. see: <a href=https://issues.k8s.io/61966>https://issues.k8s.io/61966</a></p>
</li>
<li>
<p><strong>podCIDR</strong> (string)</p>
<p>PodCIDR represents the pod IP range assigned to the node.</p>
</li>
<li>
<p><strong>podCIDRs</strong> ([]string)</p>
<p>podCIDRs represents the IP ranges assigned to the node for usage by Pods on that node. If this field is specified, the 0th entry must match the podCIDR field. It may contain at most 1 value for each of IPv4 and IPv6.</p>
</li>
<li>
<p><strong>providerID</strong> (string)</p>
<p>ID of the node assigned by the cloud provider in the format: &lt;ProviderName>://&lt;ProviderSpecificNodeID></p>
</li>
<li>
<p><strong>taints</strong> ([]Taint)</p>
<p>If specified, the node's taints.</p>
<p><a name=Taint></a>
<em>The node this Taint is attached to has the "effect" on any pod that does not tolerate the Taint.</em></p>
<ul>
<li>
<p><strong>taints.effect</strong> (string), required</p>
<p>Required. The effect of the taint on pods that do not tolerate the taint. Valid effects are NoSchedule, PreferNoSchedule and NoExecute.</p>
</li>
<li>
<p><strong>taints.key</strong> (string), required</p>
<p>Required. The taint key to be applied to a node.</p>
</li>
<li>
<p><strong>taints.timeAdded</strong> (Time)</p>
<p>TimeAdded represents the time at which the taint was added. It is only written for NoExecute taints.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>taints.value</strong> (string)</p>
<p>The taint value corresponding to the taint key.</p>
</li>
</ul>
</li>
<li>
<p><strong>unschedulable</strong> (boolean)</p>
<p>Unschedulable controls node schedulability of new pods. By default, node is schedulable. More info: <a href=https://kubernetes.io/docs/concepts/nodes/node/#manual-node-administration>https://kubernetes.io/docs/concepts/nodes/node/#manual-node-administration</a></p>
</li>
</ul>
<h2 id=NodeStatus>NodeStatus</h2>
<p>NodeStatus is information about the current status of a node.</p>
<hr>
<ul>
<li>
<p><strong>addresses</strong> ([]NodeAddress)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>List of addresses reachable to the node. Queried from cloud provider, if available. More info: <a href=https://kubernetes.io/docs/concepts/nodes/node/#addresses>https://kubernetes.io/docs/concepts/nodes/node/#addresses</a> Note: This field is declared as mergeable, but the merge key is not sufficiently unique, which can cause data corruption when it is merged. Callers should instead use a full-replacement patch. See <a href=http://pr.k8s.io/79391>http://pr.k8s.io/79391</a> for an example.</p>
<p><a name=NodeAddress></a>
<em>NodeAddress contains information for the node's address.</em></p>
<ul>
<li>
<p><strong>addresses.address</strong> (string), required</p>
<p>The node address.</p>
</li>
<li>
<p><strong>addresses.type</strong> (string), required</p>
<p>Node address type, one of Hostname, ExternalIP or InternalIP.</p>
</li>
</ul>
</li>
<li>
<p><strong>allocatable</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Allocatable represents the resources of a node that are available for scheduling. Defaults to Capacity.</p>
</li>
<li>
<p><strong>capacity</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Capacity represents the total resources of a node. More info: <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes#capacity>https://kubernetes.io/docs/concepts/storage/persistent-volumes#capacity</a></p>
</li>
<li>
<p><strong>conditions</strong> ([]NodeCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Conditions is an array of current observed node conditions. More info: <a href=https://kubernetes.io/docs/concepts/nodes/node/#condition>https://kubernetes.io/docs/concepts/nodes/node/#condition</a></p>
<p><a name=NodeCondition></a>
<em>NodeCondition contains condition information for a node.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of node condition.</p>
</li>
<li>
<p><strong>conditions.lastHeartbeatTime</strong> (Time)</p>
<p>Last time we got an update on a given condition.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transit from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>Human readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>(brief) reason for the condition's last transition.</p>
</li>
</ul>
</li>
<li>
<p><strong>config</strong> (NodeConfigStatus)</p>
<p>Status of the config assigned to the node via the dynamic Kubelet config feature.</p>
<p><a name=NodeConfigStatus></a>
<em>NodeConfigStatus describes the status of the config assigned by Node.Spec.ConfigSource.</em></p>
<ul>
<li>
<p><strong>config.active</strong> (NodeConfigSource)</p>
<p>Active reports the checkpointed config the node is actively using. Active will represent either the current version of the Assigned config, or the current LastKnownGood config, depending on whether attempting to use the Assigned config results in an error.</p>
<p><a name=NodeConfigSource></a>
<em>NodeConfigSource specifies a source of node configuration. Exactly one subfield (excluding metadata) must be non-nil. This API is deprecated since 1.22</em></p>
<ul>
<li>
<p><strong>config.active.configMap</strong> (ConfigMapNodeConfigSource)</p>
<p>ConfigMap is a reference to a Node's ConfigMap</p>
<p><a name=ConfigMapNodeConfigSource></a>
<em>ConfigMapNodeConfigSource contains the information to reference a ConfigMap as a config source for the Node. This API is deprecated since 1.22: <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></em></p>
<ul>
<li>
<p><strong>config.active.configMap.kubeletConfigKey</strong> (string), required</p>
<p>KubeletConfigKey declares which key of the referenced ConfigMap corresponds to the KubeletConfiguration structure This field is required in all cases.</p>
</li>
<li>
<p><strong>config.active.configMap.name</strong> (string), required</p>
<p>Name is the metadata.name of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>config.active.configMap.namespace</strong> (string), required</p>
<p>Namespace is the metadata.namespace of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>config.active.configMap.resourceVersion</strong> (string)</p>
<p>ResourceVersion is the metadata.ResourceVersion of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
<li>
<p><strong>config.active.configMap.uid</strong> (string)</p>
<p>UID is the metadata.UID of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>config.assigned</strong> (NodeConfigSource)</p>
<p>Assigned reports the checkpointed config the node will try to use. When Node.Spec.ConfigSource is updated, the node checkpoints the associated config payload to local disk, along with a record indicating intended config. The node refers to this record to choose its config checkpoint, and reports this record in Assigned. Assigned only updates in the status after the record has been checkpointed to disk. When the Kubelet is restarted, it tries to make the Assigned config the Active config by loading and validating the checkpointed payload identified by Assigned.</p>
<p><a name=NodeConfigSource></a>
<em>NodeConfigSource specifies a source of node configuration. Exactly one subfield (excluding metadata) must be non-nil. This API is deprecated since 1.22</em></p>
<ul>
<li>
<p><strong>config.assigned.configMap</strong> (ConfigMapNodeConfigSource)</p>
<p>ConfigMap is a reference to a Node's ConfigMap</p>
<p><a name=ConfigMapNodeConfigSource></a>
<em>ConfigMapNodeConfigSource contains the information to reference a ConfigMap as a config source for the Node. This API is deprecated since 1.22: <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></em></p>
<ul>
<li>
<p><strong>config.assigned.configMap.kubeletConfigKey</strong> (string), required</p>
<p>KubeletConfigKey declares which key of the referenced ConfigMap corresponds to the KubeletConfiguration structure This field is required in all cases.</p>
</li>
<li>
<p><strong>config.assigned.configMap.name</strong> (string), required</p>
<p>Name is the metadata.name of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>config.assigned.configMap.namespace</strong> (string), required</p>
<p>Namespace is the metadata.namespace of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>config.assigned.configMap.resourceVersion</strong> (string)</p>
<p>ResourceVersion is the metadata.ResourceVersion of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
<li>
<p><strong>config.assigned.configMap.uid</strong> (string)</p>
<p>UID is the metadata.UID of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>config.error</strong> (string)</p>
<p>Error describes any problems reconciling the Spec.ConfigSource to the Active config. Errors may occur, for example, attempting to checkpoint Spec.ConfigSource to the local Assigned record, attempting to checkpoint the payload associated with Spec.ConfigSource, attempting to load or validate the Assigned config, etc. Errors may occur at different points while syncing config. Earlier errors (e.g. download or checkpointing errors) will not result in a rollback to LastKnownGood, and may resolve across Kubelet retries. Later errors (e.g. loading or validating a checkpointed config) will result in a rollback to LastKnownGood. In the latter case, it is usually possible to resolve the error by fixing the config assigned in Spec.ConfigSource. You can find additional information for debugging by searching the error message in the Kubelet log. Error is a human-readable description of the error state; machines can check whether or not Error is empty, but should not rely on the stability of the Error text across Kubelet versions.</p>
</li>
<li>
<p><strong>config.lastKnownGood</strong> (NodeConfigSource)</p>
<p>LastKnownGood reports the checkpointed config the node will fall back to when it encounters an error attempting to use the Assigned config. The Assigned config becomes the LastKnownGood config when the node determines that the Assigned config is stable and correct. This is currently implemented as a 10-minute soak period starting when the local record of Assigned config is updated. If the Assigned config is Active at the end of this period, it becomes the LastKnownGood. Note that if Spec.ConfigSource is reset to nil (use local defaults), the LastKnownGood is also immediately reset to nil, because the local default config is always assumed good. You should not make assumptions about the node's method of determining config stability and correctness, as this may change or become configurable in the future.</p>
<p><a name=NodeConfigSource></a>
<em>NodeConfigSource specifies a source of node configuration. Exactly one subfield (excluding metadata) must be non-nil. This API is deprecated since 1.22</em></p>
<ul>
<li>
<p><strong>config.lastKnownGood.configMap</strong> (ConfigMapNodeConfigSource)</p>
<p>ConfigMap is a reference to a Node's ConfigMap</p>
<p><a name=ConfigMapNodeConfigSource></a>
<em>ConfigMapNodeConfigSource contains the information to reference a ConfigMap as a config source for the Node. This API is deprecated since 1.22: <a href=https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration>https://git.k8s.io/enhancements/keps/sig-node/281-dynamic-kubelet-configuration</a></em></p>
<ul>
<li>
<p><strong>config.lastKnownGood.configMap.kubeletConfigKey</strong> (string), required</p>
<p>KubeletConfigKey declares which key of the referenced ConfigMap corresponds to the KubeletConfiguration structure This field is required in all cases.</p>
</li>
<li>
<p><strong>config.lastKnownGood.configMap.name</strong> (string), required</p>
<p>Name is the metadata.name of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>config.lastKnownGood.configMap.namespace</strong> (string), required</p>
<p>Namespace is the metadata.namespace of the referenced ConfigMap. This field is required in all cases.</p>
</li>
<li>
<p><strong>config.lastKnownGood.configMap.resourceVersion</strong> (string)</p>
<p>ResourceVersion is the metadata.ResourceVersion of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
<li>
<p><strong>config.lastKnownGood.configMap.uid</strong> (string)</p>
<p>UID is the metadata.UID of the referenced ConfigMap. This field is forbidden in Node.Spec, and required in Node.Status.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>daemonEndpoints</strong> (NodeDaemonEndpoints)</p>
<p>Endpoints of daemons running on the Node.</p>
<p><a name=NodeDaemonEndpoints></a>
<em>NodeDaemonEndpoints lists ports opened by daemons running on the Node.</em></p>
<ul>
<li>
<p><strong>daemonEndpoints.kubeletEndpoint</strong> (DaemonEndpoint)</p>
<p>Endpoint on which Kubelet is listening.</p>
<p><a name=DaemonEndpoint></a>
<em>DaemonEndpoint contains information about a single Daemon endpoint.</em></p>
<ul>
<li>
<p><strong>daemonEndpoints.kubeletEndpoint.Port</strong> (int32), required</p>
<p>Port number of the given endpoint.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>images</strong> ([]ContainerImage)</p>
<p>List of container images on this node</p>
<p><a name=ContainerImage></a>
<em>Describe a container image</em></p>
<ul>
<li>
<p><strong>images.names</strong> ([]string)</p>
<p>Names by which this image is known. e.g. ["k8s.gcr.io/hyperkube:v1.0.7", "dockerhub.io/google_containers/hyperkube:v1.0.7"]</p>
</li>
<li>
<p><strong>images.sizeBytes</strong> (int64)</p>
<p>The size of the image in bytes.</p>
</li>
</ul>
</li>
<li>
<p><strong>nodeInfo</strong> (NodeSystemInfo)</p>
<p>Set of ids/uuids to uniquely identify the node. More info: <a href=https://kubernetes.io/docs/concepts/nodes/node/#info>https://kubernetes.io/docs/concepts/nodes/node/#info</a></p>
<p><a name=NodeSystemInfo></a>
<em>NodeSystemInfo is a set of ids/uuids to uniquely identify the node.</em></p>
<ul>
<li>
<p><strong>nodeInfo.architecture</strong> (string), required</p>
<p>The Architecture reported by the node</p>
</li>
<li>
<p><strong>nodeInfo.bootID</strong> (string), required</p>
<p>Boot ID reported by the node.</p>
</li>
<li>
<p><strong>nodeInfo.containerRuntimeVersion</strong> (string), required</p>
<p>ContainerRuntime Version reported by the node through runtime remote API (e.g. docker://1.5.0).</p>
</li>
<li>
<p><strong>nodeInfo.kernelVersion</strong> (string), required</p>
<p>Kernel Version reported by the node from 'uname -r' (e.g. 3.16.0-0.bpo.4-amd64).</p>
</li>
<li>
<p><strong>nodeInfo.kubeProxyVersion</strong> (string), required</p>
<p>KubeProxy Version reported by the node.</p>
</li>
<li>
<p><strong>nodeInfo.kubeletVersion</strong> (string), required</p>
<p>Kubelet Version reported by the node.</p>
</li>
<li>
<p><strong>nodeInfo.machineID</strong> (string), required</p>
<p>MachineID reported by the node. For unique machine identification in the cluster this field is preferred. Learn more from man(5) machine-id: <a href=http://man7.org/linux/man-pages/man5/machine-id.5.html>http://man7.org/linux/man-pages/man5/machine-id.5.html</a></p>
</li>
<li>
<p><strong>nodeInfo.operatingSystem</strong> (string), required</p>
<p>The Operating System reported by the node</p>
</li>
<li>
<p><strong>nodeInfo.osImage</strong> (string), required</p>
<p>OS Image reported by the node from /etc/os-release (e.g. Debian GNU/Linux 7 (wheezy)).</p>
</li>
<li>
<p><strong>nodeInfo.systemUUID</strong> (string), required</p>
<p>SystemUUID reported by the node. For unique machine identification MachineID is preferred. This field is specific to Red Hat hosts <a href=https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/rhsm/uuid>https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html/rhsm/uuid</a></p>
</li>
</ul>
</li>
<li>
<p><strong>phase</strong> (string)</p>
<p>NodePhase is the recently observed lifecycle phase of the node. More info: <a href=https://kubernetes.io/docs/concepts/nodes/node/#phase>https://kubernetes.io/docs/concepts/nodes/node/#phase</a> The field is never populated, and now is deprecated.</p>
</li>
<li>
<p><strong>volumesAttached</strong> ([]AttachedVolume)</p>
<p>List of volumes that are attached to the node.</p>
<p><a name=AttachedVolume></a>
<em>AttachedVolume describes a volume attached to a node</em></p>
<ul>
<li>
<p><strong>volumesAttached.devicePath</strong> (string), required</p>
<p>DevicePath represents the device path where the volume should be available</p>
</li>
<li>
<p><strong>volumesAttached.name</strong> (string), required</p>
<p>Name of the attached volume</p>
</li>
</ul>
</li>
<li>
<p><strong>volumesInUse</strong> ([]string)</p>
<p>List of attachable volumes in use (mounted) by the node.</p>
</li>
</ul>
<h2 id=NodeList>NodeList</h2>
<p>NodeList is the whole list of all Nodes which have been registered with master.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: NodeList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>), required</p>
<p>List of nodes</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-node><code>get</code> read the specified Node</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/nodes/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-node><code>get</code> read status of the specified Node</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/nodes/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-node><code>list</code> list or watch objects of kind Node</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/nodes</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#NodeList>NodeList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-node><code>create</code> create a Node</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/nodes</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-node><code>update</code> replace the specified Node</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/nodes/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-node><code>update</code> replace status of the specified Node</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/nodes/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-node><code>patch</code> partially update the specified Node</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /api/v1/nodes/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-node><code>patch</code> partially update status of the specified Node</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/nodes/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/node-v1/#Node>Node</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-node><code>delete</code> delete a Node</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /api/v1/nodes/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Node</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-node><code>deletecollection</code> delete collection of Node</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/nodes</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a96e40f7c68d5bb9604dcaa7f5b69d0b>5.8.2 - Namespace</h1>
<div class=lead>Namespace provides a scope for Names.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Namespace>Namespace</h2>
<p>Namespace provides a scope for Names. Use of multiple namespaces is optional.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Namespace</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#NamespaceSpec>NamespaceSpec</a>)</p>
<p>Spec defines the behavior of the Namespace. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#NamespaceStatus>NamespaceStatus</a>)</p>
<p>Status describes the current status of a Namespace. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=NamespaceSpec>NamespaceSpec</h2>
<p>NamespaceSpec describes the attributes on a Namespace.</p>
<hr>
<ul>
<li>
<p><strong>finalizers</strong> ([]string)</p>
<p>Finalizers is an opaque list of values that must be empty to permanently remove object from storage. More info: <a href=https://kubernetes.io/docs/tasks/administer-cluster/namespaces/>https://kubernetes.io/docs/tasks/administer-cluster/namespaces/</a></p>
</li>
</ul>
<h2 id=NamespaceStatus>NamespaceStatus</h2>
<p>NamespaceStatus is information about the current status of a Namespace.</p>
<hr>
<ul>
<li>
<p><strong>conditions</strong> ([]NamespaceCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>Represents the latest available observations of a namespace's current state.</p>
<p><a name=NamespaceCondition></a>
<em>NamespaceCondition contains details about state of namespace.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition, one of True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of namespace controller condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
</li>
</ul>
</li>
<li>
<p><strong>phase</strong> (string)</p>
<p>Phase is the current lifecycle phase of the namespace. More info: <a href=https://kubernetes.io/docs/tasks/administer-cluster/namespaces/>https://kubernetes.io/docs/tasks/administer-cluster/namespaces/</a></p>
</li>
</ul>
<h2 id=NamespaceList>NamespaceList</h2>
<p>NamespaceList is a list of Namespaces.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: NamespaceList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>), required</p>
<p>Items is the list of Namespace objects in the list. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/>https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/</a></p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-namespace><code>get</code> read the specified Namespace</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/namespaces/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-namespace><code>get</code> read status of the specified Namespace</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/namespaces/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-namespace><code>list</code> list or watch objects of kind Namespace</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /api/v1/namespaces</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#NamespaceList>NamespaceList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-namespace><code>create</code> create a Namespace</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /api/v1/namespaces</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-namespace><code>update</code> replace the specified Namespace</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-finalize-of-the-specified-namespace><code>update</code> replace finalize of the specified Namespace</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{name}/finalize</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-namespace><code>update</code> replace status of the specified Namespace</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PUT /api/v1/namespaces/{name}/status</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-namespace><code>patch</code> partially update the specified Namespace</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{name}</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-namespace><code>patch</code> partially update status of the specified Namespace</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>PATCH /api/v1/namespaces/{name}/status</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/namespace-v1/#Namespace>Namespace</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-namespace><code>delete</code> delete a Namespace</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /api/v1/namespaces/{name}</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Namespace</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e034843297b0ae20140d70f0d6df2378>5.8.3 - Event</h1>
<div class=lead>Event is a report of an event somewhere in the cluster.</div>
<p><code>apiVersion: events.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/events/v1"</code></p>
<h2 id=Event>Event</h2>
<p>Event is a report of an event somewhere in the cluster. It generally denotes some state change in the system. Events have a limited retention time and triggers and messages may evolve with time. Event consumers should not rely on the timing of an event with a given Reason reflecting a consistent underlying trigger, or the continued existence of events with that Reason. Events should be treated as informative, best-effort, supplemental data.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: events.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: Event</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>eventTime</strong> (MicroTime), required</p>
<p>eventTime is the time when this Event was first observed. It is required.</p>
<p><a name=MicroTime></a>
<em>MicroTime is version of Time with microsecond level precision.</em></p>
</li>
<li>
<p><strong>action</strong> (string)</p>
<p>action is what action was taken/failed regarding to the regarding object. It is machine-readable. This field cannot be empty for new Events and it can have at most 128 characters.</p>
</li>
<li>
<p><strong>deprecatedCount</strong> (int32)</p>
<p>deprecatedCount is the deprecated field assuring backward compatibility with core.v1 Event type.</p>
</li>
<li>
<p><strong>deprecatedFirstTimestamp</strong> (Time)</p>
<p>deprecatedFirstTimestamp is the deprecated field assuring backward compatibility with core.v1 Event type.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>deprecatedLastTimestamp</strong> (Time)</p>
<p>deprecatedLastTimestamp is the deprecated field assuring backward compatibility with core.v1 Event type.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>deprecatedSource</strong> (EventSource)</p>
<p>deprecatedSource is the deprecated field assuring backward compatibility with core.v1 Event type.</p>
<p><a name=EventSource></a>
<em>EventSource contains information for an event.</em></p>
<ul>
<li>
<p><strong>deprecatedSource.component</strong> (string)</p>
<p>Component from which the event is generated.</p>
</li>
<li>
<p><strong>deprecatedSource.host</strong> (string)</p>
<p>Node name on which the event is generated.</p>
</li>
</ul>
</li>
<li>
<p><strong>note</strong> (string)</p>
<p>note is a human-readable description of the status of this operation. Maximal length of the note is 1kB, but libraries should be prepared to handle values up to 64kB.</p>
</li>
<li>
<p><strong>reason</strong> (string)</p>
<p>reason is why the action was taken. It is human-readable. This field cannot be empty for new Events and it can have at most 128 characters.</p>
</li>
<li>
<p><strong>regarding</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>regarding contains the object this Event is about. In most cases it's an Object reporting controller implements, e.g. ReplicaSetController implements ReplicaSets and this event is emitted because it acts on some changes in a ReplicaSet object.</p>
</li>
<li>
<p><strong>related</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>)</p>
<p>related is the optional secondary object for more complex actions. E.g. when regarding object triggers a creation or deletion of related object.</p>
</li>
<li>
<p><strong>reportingController</strong> (string)</p>
<p>reportingController is the name of the controller that emitted this Event, e.g. <code>kubernetes.io/kubelet</code>. This field cannot be empty for new Events.</p>
</li>
<li>
<p><strong>reportingInstance</strong> (string)</p>
<p>reportingInstance is the ID of the controller instance, e.g. <code>kubelet-xyzf</code>. This field cannot be empty for new Events and it can have at most 128 characters.</p>
</li>
<li>
<p><strong>series</strong> (EventSeries)</p>
<p>series is data about the Event series this event represents or nil if it's a singleton Event.</p>
<p><a name=EventSeries></a>
<em>EventSeries contain information on series of events, i.e. thing that was/is happening continuously for some time. How often to update the EventSeries is up to the event reporters. The default event reporter in "k8s.io/client-go/tools/events/event_broadcaster.go" shows how this struct is updated on heartbeats and can guide customized reporter implementations.</em></p>
<ul>
<li>
<p><strong>series.count</strong> (int32), required</p>
<p>count is the number of occurrences in this series up to the last heartbeat time.</p>
</li>
<li>
<p><strong>series.lastObservedTime</strong> (MicroTime), required</p>
<p>lastObservedTime is the time when last Event from the series was seen before last heartbeat.</p>
<p><a name=MicroTime></a>
<em>MicroTime is version of Time with microsecond level precision.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>type</strong> (string)</p>
<p>type is the type of this event (Normal, Warning), new types could be added in the future. It is machine-readable. This field cannot be empty for new Events.</p>
</li>
</ul>
<h2 id=EventList>EventList</h2>
<p>EventList is a list of Event objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: events.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: EventList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>), required</p>
<p>items is a list of schema objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-event><code>get</code> read the specified Event</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Event</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-event><code>list</code> list or watch objects of kind Event</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/events.k8s.io/v1/namespaces/{namespace}/events</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#EventList>EventList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-event-1><code>list</code> list or watch objects of kind Event</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/events.k8s.io/v1/events</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#EventList>EventList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-an-event><code>create</code> create an Event</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/events.k8s.io/v1/namespaces/{namespace}/events</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-event><code>update</code> replace the specified Event</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Event</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-event><code>patch</code> partially update the specified Event</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Event</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/#Event>Event</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-an-event><code>delete</code> delete an Event</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/events.k8s.io/v1/namespaces/{namespace}/events/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Event</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-event><code>deletecollection</code> delete collection of Event</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/events.k8s.io/v1/namespaces/{namespace}/events</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-311b31c9ea6c6923cab8e14e36e62fbe>5.8.4 - APIService</h1>
<div class=lead>APIService represents a server for a particular GroupVersion.</div>
<p><code>apiVersion: apiregistration.k8s.io/v1</code></p>
<p><code>import "k8s.io/kube-aggregator/pkg/apis/apiregistration/v1"</code></p>
<h2 id=APIService>APIService</h2>
<p>APIService represents a server for a particular GroupVersion. Name must be "version.group".</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apiregistration.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: APIService</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIServiceSpec>APIServiceSpec</a>)</p>
<p>Spec contains information for locating and communicating with a server</p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIServiceStatus>APIServiceStatus</a>)</p>
<p>Status contains derived information about an API server</p>
</li>
</ul>
<h2 id=APIServiceSpec>APIServiceSpec</h2>
<p>APIServiceSpec contains information for locating and communicating with a server. Only https is supported, though you are able to disable certificate verification.</p>
<hr>
<ul>
<li>
<p><strong>groupPriorityMinimum</strong> (int32), required</p>
<p>GroupPriorityMininum is the priority this group should have at least. Higher priority means that the group is preferred by clients over lower priority ones. Note that other versions of this group might specify even higher GroupPriorityMininum values such that the whole group gets a higher priority. The primary sort is based on GroupPriorityMinimum, ordered highest number to lowest (20 before 10). The secondary sort is based on the alphabetical comparison of the name of the object. (v1.bar before v1.foo) We'd recommend something like: *.k8s.io (except extensions) at 18000 and PaaSes (OpenShift, Deis) are recommended to be in the 2000s</p>
</li>
<li>
<p><strong>versionPriority</strong> (int32), required</p>
<p>VersionPriority controls the ordering of this API version inside of its group. Must be greater than zero. The primary sort is based on VersionPriority, ordered highest to lowest (20 before 10). Since it's inside of a group, the number can be small, probably in the 10s. In case of equal version priorities, the version string will be used to compute the order inside a group. If the version string is "kube-like", it will sort above non "kube-like" version strings, which are ordered lexicographically. "Kube-like" versions start with a "v", then are followed by a number (the major version), then optionally the string "alpha" or "beta" and another number (the minor version). These are sorted first by GA > beta > alpha (where GA is a version with no suffix such as beta or alpha), and then by comparing major version, then minor version. An example sorted list of versions: v10, v2, v1, v11beta2, v10beta3, v3beta1, v12alpha1, v11alpha2, foo1, foo10.</p>
</li>
<li>
<p><strong>caBundle</strong> ([]byte)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>CABundle is a PEM encoded CA bundle which will be used to validate an API server's serving certificate. If unspecified, system trust roots on the apiserver are used.</p>
</li>
<li>
<p><strong>group</strong> (string)</p>
<p>Group is the API group name this server hosts</p>
</li>
<li>
<p><strong>insecureSkipTLSVerify</strong> (boolean)</p>
<p>InsecureSkipTLSVerify disables TLS certificate verification when communicating with this server. This is strongly discouraged. You should use the CABundle instead.</p>
</li>
<li>
<p><strong>service</strong> (ServiceReference)</p>
<p>Service is a reference to the service for this API server. It must communicate on port 443. If the Service is nil, that means the handling for the API groupversion is handled locally on this server. The call will simply delegate to the normal handler chain to be fulfilled.</p>
<p><a name=ServiceReference></a>
<em>ServiceReference holds a reference to Service.legacy.k8s.io</em></p>
<ul>
<li>
<p><strong>service.name</strong> (string)</p>
<p>Name is the name of the service</p>
</li>
<li>
<p><strong>service.namespace</strong> (string)</p>
<p>Namespace is the namespace of the service</p>
</li>
<li>
<p><strong>service.port</strong> (int32)</p>
<p>If specified, the port on the service that hosting webhook. Default to 443 for backward compatibility. <code>port</code> should be a valid port number (1-65535, inclusive).</p>
</li>
</ul>
</li>
<li>
<p><strong>version</strong> (string)</p>
<p>Version is the API version this server hosts. For example, "v1"</p>
</li>
</ul>
<h2 id=APIServiceStatus>APIServiceStatus</h2>
<p>APIServiceStatus contains derived information about an API server</p>
<hr>
<ul>
<li>
<p><strong>conditions</strong> ([]APIServiceCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p>Current service state of apiService.</p>
<p><a name=APIServiceCondition></a>
<em>APIServiceCondition describes the state of an APIService at a particular point</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status is the status of the condition. Can be True, False, Unknown.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type is the type of the condition.</p>
</li>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p>Last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>Human-readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p>Unique, one-word, CamelCase reason for the condition's last transition.</p>
</li>
</ul>
</li>
</ul>
<h2 id=APIServiceList>APIServiceList</h2>
<p>APIServiceList is a list of APIService objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: apiregistration.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: APIServiceList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>), required</p>
<p>Items is the list of APIService</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-apiservice><code>get</code> read the specified APIService</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/apiregistration.k8s.io/v1/apiservices/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-apiservice><code>get</code> read status of the specified APIService</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/apiregistration.k8s.io/v1/apiservices/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-apiservice><code>list</code> list or watch objects of kind APIService</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/apiregistration.k8s.io/v1/apiservices</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIServiceList>APIServiceList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-an-apiservice><code>create</code> create an APIService</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/apiregistration.k8s.io/v1/apiservices</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-apiservice><code>update</code> replace the specified APIService</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/apiregistration.k8s.io/v1/apiservices/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-apiservice><code>update</code> replace status of the specified APIService</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/apiregistration.k8s.io/v1/apiservices/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-apiservice><code>patch</code> partially update the specified APIService</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /apis/apiregistration.k8s.io/v1/apiservices/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-apiservice><code>patch</code> partially update status of the specified APIService</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/apiregistration.k8s.io/v1/apiservices/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/api-service-v1/#APIService>APIService</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-an-apiservice><code>delete</code> delete an APIService</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /apis/apiregistration.k8s.io/v1/apiservices/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the APIService</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-apiservice><code>deletecollection</code> delete collection of APIService</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/apiregistration.k8s.io/v1/apiservices</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7ac923a0ef2a5ce2605b428b72f9e5eb>5.8.5 - Lease</h1>
<div class=lead>Lease defines a lease concept.</div>
<p><code>apiVersion: coordination.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/coordination/v1"</code></p>
<h2 id=Lease>Lease</h2>
<p>Lease defines a lease concept.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: coordination.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: Lease</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#LeaseSpec>LeaseSpec</a>)</p>
<p>Specification of the Lease. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=LeaseSpec>LeaseSpec</h2>
<p>LeaseSpec is a specification of a Lease.</p>
<hr>
<ul>
<li>
<p><strong>acquireTime</strong> (MicroTime)</p>
<p>acquireTime is a time when the current lease was acquired.</p>
<p><a name=MicroTime></a>
<em>MicroTime is version of Time with microsecond level precision.</em></p>
</li>
<li>
<p><strong>holderIdentity</strong> (string)</p>
<p>holderIdentity contains the identity of the holder of a current lease.</p>
</li>
<li>
<p><strong>leaseDurationSeconds</strong> (int32)</p>
<p>leaseDurationSeconds is a duration that candidates for a lease need to wait to force acquire it. This is measure against time of last observed RenewTime.</p>
</li>
<li>
<p><strong>leaseTransitions</strong> (int32)</p>
<p>leaseTransitions is the number of transitions of a lease between holders.</p>
</li>
<li>
<p><strong>renewTime</strong> (MicroTime)</p>
<p>renewTime is a time when the current holder of a lease has last updated the lease.</p>
<p><a name=MicroTime></a>
<em>MicroTime is version of Time with microsecond level precision.</em></p>
</li>
</ul>
<h2 id=LeaseList>LeaseList</h2>
<p>LeaseList is a list of Lease objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: coordination.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: LeaseList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>), required</p>
<p>Items is a list of schema objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-lease><code>get</code> read the specified Lease</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Lease</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-lease><code>list</code> list or watch objects of kind Lease</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#LeaseList>LeaseList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-lease-1><code>list</code> list or watch objects of kind Lease</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/coordination.k8s.io/v1/leases</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#LeaseList>LeaseList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-lease><code>create</code> create a Lease</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-lease><code>update</code> replace the specified Lease</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Lease</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-lease><code>patch</code> partially update the specified Lease</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PATCH /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Lease</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/lease-v1/#Lease>Lease</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-lease><code>delete</code> delete a Lease</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Lease</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-lease><code>deletecollection</code> delete collection of Lease</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>DELETE /apis/coordination.k8s.io/v1/namespaces/{namespace}/leases</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d1a53525d01a18b0dc630fcbc2411a03>5.8.6 - RuntimeClass</h1>
<div class=lead>RuntimeClass defines a class of container runtime supported in the cluster.</div>
<p><code>apiVersion: node.k8s.io/v1</code></p>
<p><code>import "k8s.io/api/node/v1"</code></p>
<h2 id=RuntimeClass>RuntimeClass</h2>
<p>RuntimeClass defines a class of container runtime supported in the cluster. The RuntimeClass is used to determine which container runtime is used to run all containers in a pod. RuntimeClasses are manually defined by a user or cluster provisioner, and referenced in the PodSpec. The Kubelet is responsible for resolving the RuntimeClassName reference before running the pod. For more details, see <a href=https://kubernetes.io/docs/concepts/containers/runtime-class/>https://kubernetes.io/docs/concepts/containers/runtime-class/</a></p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: node.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: RuntimeClass</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>handler</strong> (string), required</p>
<p>Handler specifies the underlying runtime and configuration that the CRI implementation will use to handle pods of this class. The possible values are specific to the node & CRI configuration. It is assumed that all handlers are available on every node, and handlers of the same name are equivalent on every node. For example, a handler called "runc" might specify that the runc OCI runtime (using native Linux containers) will be used to run the containers in a pod. The Handler must be lowercase, conform to the DNS Label (RFC 1123) requirements, and is immutable.</p>
</li>
<li>
<p><strong>overhead</strong> (Overhead)</p>
<p>Overhead represents the resource overhead associated with running a pod for a given RuntimeClass. For more details, see
<a href=https://kubernetes.io/docs/concepts/scheduling-eviction/pod-overhead/>https://kubernetes.io/docs/concepts/scheduling-eviction/pod-overhead/</a>
This field is in beta starting v1.18 and is only honored by servers that enable the PodOverhead feature.</p>
<p><a name=Overhead></a>
<em>Overhead structure represents the resource overhead associated with running a pod.</em></p>
<ul>
<li>
<p><strong>overhead.podFixed</strong> (map[string]<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>PodFixed represents the fixed resource overhead associated with running a pod.</p>
</li>
</ul>
</li>
<li>
<p><strong>scheduling</strong> (Scheduling)</p>
<p>Scheduling holds the scheduling constraints to ensure that pods running with this RuntimeClass are scheduled to nodes that support it. If scheduling is nil, this RuntimeClass is assumed to be supported by all nodes.</p>
<p><a name=Scheduling></a>
<em>Scheduling specifies the scheduling constraints for nodes supporting a RuntimeClass.</em></p>
<ul>
<li>
<p><strong>scheduling.nodeSelector</strong> (map[string]string)</p>
<p>nodeSelector lists labels that must be present on nodes that support this RuntimeClass. Pods using this RuntimeClass can only be scheduled to a node matched by this selector. The RuntimeClass nodeSelector is merged with a pod's existing nodeSelector. Any conflicts will cause the pod to be rejected in admission.</p>
</li>
<li>
<p><strong>scheduling.tolerations</strong> ([]Toleration)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>tolerations are appended (excluding duplicates) to pods running with this RuntimeClass during admission, effectively unioning the set of nodes tolerated by the pod and the RuntimeClass.</p>
<p><a name=Toleration></a>
<em>The pod this Toleration is attached to tolerates any taint that matches the triple &lt;key,value,effect> using the matching operator <operator>.</em></p>
<ul>
<li>
<p><strong>scheduling.tolerations.key</strong> (string)</p>
<p>Key is the taint key that the toleration applies to. Empty means match all taint keys. If the key is empty, operator must be Exists; this combination means to match all values and all keys.</p>
</li>
<li>
<p><strong>scheduling.tolerations.operator</strong> (string)</p>
<p>Operator represents a key's relationship to the value. Valid operators are Exists and Equal. Defaults to Equal. Exists is equivalent to wildcard for value, so that a pod can tolerate all taints of a particular category.</p>
</li>
<li>
<p><strong>scheduling.tolerations.value</strong> (string)</p>
<p>Value is the taint value the toleration matches to. If the operator is Exists, the value should be empty, otherwise just a regular string.</p>
</li>
<li>
<p><strong>scheduling.tolerations.effect</strong> (string)</p>
<p>Effect indicates the taint effect to match. Empty means match all taint effects. When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.</p>
</li>
<li>
<p><strong>scheduling.tolerations.tolerationSeconds</strong> (int64)</p>
<p>TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=RuntimeClassList>RuntimeClassList</h2>
<p>RuntimeClassList is a list of RuntimeClass objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: node.k8s.io/v1</p>
</li>
<li>
<p><strong>kind</strong>: RuntimeClassList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>), required</p>
<p>Items is a list of schema objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-runtimeclass><code>get</code> read the specified RuntimeClass</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/node.k8s.io/v1/runtimeclasses/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RuntimeClass</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-runtimeclass><code>list</code> list or watch objects of kind RuntimeClass</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/node.k8s.io/v1/runtimeclasses</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClassList>RuntimeClassList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-runtimeclass><code>create</code> create a RuntimeClass</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>POST /apis/node.k8s.io/v1/runtimeclasses</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-runtimeclass><code>update</code> replace the specified RuntimeClass</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>PUT /apis/node.k8s.io/v1/runtimeclasses/{name}</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RuntimeClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-runtimeclass><code>patch</code> partially update the specified RuntimeClass</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PATCH /apis/node.k8s.io/v1/runtimeclasses/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RuntimeClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/runtime-class-v1/#RuntimeClass>RuntimeClass</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-runtimeclass><code>delete</code> delete a RuntimeClass</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>DELETE /apis/node.k8s.io/v1/runtimeclasses/{name}</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the RuntimeClass</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-runtimeclass><code>deletecollection</code> delete collection of RuntimeClass</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>DELETE /apis/node.k8s.io/v1/runtimeclasses</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-eefad9c55010d108230b223241b95f78>5.8.7 - FlowSchema v1beta1</h1>
<div class=lead>FlowSchema defines the schema of a group of flows.</div>
<p><code>apiVersion: flowcontrol.apiserver.k8s.io/v1beta1</code></p>
<p><code>import "k8s.io/api/flowcontrol/v1beta1"</code></p>
<h2 id=FlowSchema>FlowSchema</h2>
<p>FlowSchema defines the schema of a group of flows. Note that a flow is made up of a set of inbound API requests with similar attributes and is identified by a pair of strings: the name of the FlowSchema and a "flow distinguisher".</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: FlowSchema</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p><code>metadata</code> is the standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchemaSpec>FlowSchemaSpec</a>)</p>
<p><code>spec</code> is the specification of the desired behavior of a FlowSchema. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchemaStatus>FlowSchemaStatus</a>)</p>
<p><code>status</code> is the current status of a FlowSchema. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=FlowSchemaSpec>FlowSchemaSpec</h2>
<p>FlowSchemaSpec describes how the FlowSchema's specification looks like.</p>
<hr>
<ul>
<li>
<p><strong>priorityLevelConfiguration</strong> (PriorityLevelConfigurationReference), required</p>
<p><code>priorityLevelConfiguration</code> should reference a PriorityLevelConfiguration in the cluster. If the reference cannot be resolved, the FlowSchema will be ignored and marked as invalid in its status. Required.</p>
<p><a name=PriorityLevelConfigurationReference></a>
<em>PriorityLevelConfigurationReference contains information that points to the "request-priority" being used.</em></p>
<ul>
<li>
<p><strong>priorityLevelConfiguration.name</strong> (string), required</p>
<p><code>name</code> is the name of the priority level configuration being referenced Required.</p>
</li>
</ul>
</li>
<li>
<p><strong>distinguisherMethod</strong> (FlowDistinguisherMethod)</p>
<p><code>distinguisherMethod</code> defines how to compute the flow distinguisher for requests that match this schema. <code>nil</code> specifies that the distinguisher is disabled and thus will always be the empty string.</p>
<p><a name=FlowDistinguisherMethod></a>
<em>FlowDistinguisherMethod specifies the method of a flow distinguisher.</em></p>
<ul>
<li>
<p><strong>distinguisherMethod.type</strong> (string), required</p>
<p><code>type</code> is the type of flow distinguisher method The supported types are "ByUser" and "ByNamespace". Required.</p>
</li>
</ul>
</li>
<li>
<p><strong>matchingPrecedence</strong> (int32)</p>
<p><code>matchingPrecedence</code> is used to choose among the FlowSchemas that match a given request. The chosen FlowSchema is among those with the numerically lowest (which we take to be logically highest) MatchingPrecedence. Each MatchingPrecedence value must be ranged in [1,10000]. Note that if the precedence is not specified, it will be set to 1000 as default.</p>
</li>
<li>
<p><strong>rules</strong> ([]PolicyRulesWithSubjects)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p><code>rules</code> describes which requests will match this flow schema. This FlowSchema matches a request if and only if at least one member of rules matches the request. if it is an empty slice, there will be no requests matching the FlowSchema.</p>
<p><a name=PolicyRulesWithSubjects></a>
<em>PolicyRulesWithSubjects prescribes a test that applies to a request to an apiserver. The test considers the subject making the request, the verb being requested, and the resource to be acted upon. This PolicyRulesWithSubjects matches a request if and only if both (a) at least one member of subjects matches the request and (b) at least one member of resourceRules or nonResourceRules matches the request.</em></p>
<ul>
<li>
<p><strong>rules.subjects</strong> ([]Subject), required</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p>subjects is the list of normal user, serviceaccount, or group that this rule cares about. There must be at least one member in this slice. A slice that includes both the system:authenticated and system:unauthenticated user groups matches every request. Required.</p>
<p><a name=Subject></a>
<em>Subject matches the originator of a request, as identified by the request authentication system. There are three ways of matching an originator; by user, group, or service account.</em></p>
<ul>
<li>
<p><strong>rules.subjects.kind</strong> (string), required</p>
<p><code>kind</code> indicates which one of the other fields is non-empty. Required</p>
</li>
<li>
<p><strong>rules.subjects.group</strong> (GroupSubject)</p>
<p><code>group</code> matches based on user group name.</p>
<p><a name=GroupSubject></a>
<em>GroupSubject holds detailed information for group-kind subject.</em></p>
<ul>
<li>
<p><strong>rules.subjects.group.name</strong> (string), required</p>
<p>name is the user group that matches, or "*" to match all user groups. See <a href=https://github.com/kubernetes/apiserver/blob/master/pkg/authentication/user/user.go>https://github.com/kubernetes/apiserver/blob/master/pkg/authentication/user/user.go</a> for some well-known group names. Required.</p>
</li>
</ul>
</li>
<li>
<p><strong>rules.subjects.serviceAccount</strong> (ServiceAccountSubject)</p>
<p><code>serviceAccount</code> matches ServiceAccounts.</p>
<p><a name=ServiceAccountSubject></a>
<em>ServiceAccountSubject holds detailed information for service-account-kind subject.</em></p>
<ul>
<li>
<p><strong>rules.subjects.serviceAccount.name</strong> (string), required</p>
<p><code>name</code> is the name of matching ServiceAccount objects, or "*" to match regardless of name. Required.</p>
</li>
<li>
<p><strong>rules.subjects.serviceAccount.namespace</strong> (string), required</p>
<p><code>namespace</code> is the namespace of matching ServiceAccount objects. Required.</p>
</li>
</ul>
</li>
<li>
<p><strong>rules.subjects.user</strong> (UserSubject)</p>
<p><code>user</code> matches based on username.</p>
<p><a name=UserSubject></a>
<em>UserSubject holds detailed information for user-kind subject.</em></p>
<ul>
<li>
<p><strong>rules.subjects.user.name</strong> (string), required</p>
<p><code>name</code> is the username that matches, or "*" to match all usernames. Required.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>rules.nonResourceRules</strong> ([]NonResourcePolicyRule)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p><code>nonResourceRules</code> is a list of NonResourcePolicyRules that identify matching requests according to their verb and the target non-resource URL.</p>
<p><a name=NonResourcePolicyRule></a>
<em>NonResourcePolicyRule is a predicate that matches non-resource requests according to their verb and the target non-resource URL. A NonResourcePolicyRule matches a request if and only if both (a) at least one member of verbs matches the request and (b) at least one member of nonResourceURLs matches the request.</em></p>
<ul>
<li>
<p><strong>rules.nonResourceRules.nonResourceURLs</strong> ([]string), required</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p><code>nonResourceURLs</code> is a set of url prefixes that a user should have access to and may not be empty. For example:</p>
<ul>
<li>"/healthz" is legal</li>
<li>"/hea*" is illegal</li>
<li>"/hea" is legal but matches nothing</li>
<li>"/hea/*" also matches nothing</li>
<li>"/healthz/<em>" matches all per-component health checks.
"</em>" matches all non-resource urls. if it is present, it must be the only entry. Required.</li>
</ul>
</li>
<li>
<p><strong>rules.nonResourceRules.verbs</strong> ([]string), required</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p><code>verbs</code> is a list of matching verbs and may not be empty. "*" matches all verbs. If it is present, it must be the only entry. Required.</p>
</li>
</ul>
</li>
<li>
<p><strong>rules.resourceRules</strong> ([]ResourcePolicyRule)</p>
<p><em>Atomic: will be replaced during a merge</em></p>
<p><code>resourceRules</code> is a slice of ResourcePolicyRules that identify matching requests according to their verb and the target resource. At least one of <code>resourceRules</code> and <code>nonResourceRules</code> has to be non-empty.</p>
<p><a name=ResourcePolicyRule></a>
<em>ResourcePolicyRule is a predicate that matches some resource requests, testing the request's verb and the target resource. A ResourcePolicyRule matches a resource request if and only if: (a) at least one member of verbs matches the request, (b) at least one member of apiGroups matches the request, (c) at least one member of resources matches the request, and (d) least one member of namespaces matches the request.</em></p>
<ul>
<li>
<p><strong>rules.resourceRules.apiGroups</strong> ([]string), required</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p><code>apiGroups</code> is a list of matching API groups and may not be empty. "*" matches all API groups and, if present, must be the only entry. Required.</p>
</li>
<li>
<p><strong>rules.resourceRules.resources</strong> ([]string), required</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p><code>resources</code> is a list of matching resources (i.e., lowercase and plural) with, if desired, subresource. For example, [ "services", "nodes/status" ]. This list may not be empty. "*" matches all resources and, if present, must be the only entry. Required.</p>
</li>
<li>
<p><strong>rules.resourceRules.verbs</strong> ([]string), required</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p><code>verbs</code> is a list of matching verbs and may not be empty. "*" matches all verbs and, if present, must be the only entry. Required.</p>
</li>
<li>
<p><strong>rules.resourceRules.clusterScope</strong> (boolean)</p>
<p><code>clusterScope</code> indicates whether to match requests that do not specify a namespace (which happens either because the resource is not namespaced or the request targets all namespaces). If this field is omitted or false then the <code>namespaces</code> field must contain a non-empty list.</p>
</li>
<li>
<p><strong>rules.resourceRules.namespaces</strong> ([]string)</p>
<p><em>Set: unique values will be kept during a merge</em></p>
<p><code>namespaces</code> is a list of target namespaces that restricts matches. A request that specifies a target namespace matches only if either (a) this list contains that target namespace or (b) this list contains "<em>". Note that "</em>" matches any specified namespace but does not match a request that <em>does not specify</em> a namespace (see the <code>clusterScope</code> field for that). This list may be empty, but only if <code>clusterScope</code> is true.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=FlowSchemaStatus>FlowSchemaStatus</h2>
<p>FlowSchemaStatus represents the current state of a FlowSchema.</p>
<hr>
<ul>
<li>
<p><strong>conditions</strong> ([]FlowSchemaCondition)</p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p><code>conditions</code> is a list of the current states of FlowSchema.</p>
<p><a name=FlowSchemaCondition></a>
<em>FlowSchemaCondition describes conditions for a FlowSchema.</em></p>
<ul>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p><code>lastTransitionTime</code> is the last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p><code>message</code> is a human-readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p><code>reason</code> is a unique, one-word, CamelCase reason for the condition's last transition.</p>
</li>
<li>
<p><strong>conditions.status</strong> (string)</p>
<p><code>status</code> is the status of the condition. Can be True, False, Unknown. Required.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string)</p>
<p><code>type</code> is the type of the condition. Required.</p>
</li>
</ul>
</li>
</ul>
<h2 id=FlowSchemaList>FlowSchemaList</h2>
<p>FlowSchemaList is a list of FlowSchema objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: FlowSchemaList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p><code>metadata</code> is the standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>), required</p>
<p><code>items</code> is a list of FlowSchemas.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-flowschema><code>get</code> read the specified FlowSchema</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-flowschema><code>get</code> read status of the specified FlowSchema</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-flowschema><code>list</code> list or watch objects of kind FlowSchema</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchemaList>FlowSchemaList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-flowschema><code>create</code> create a FlowSchema</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-flowschema><code>update</code> replace the specified FlowSchema</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-flowschema><code>update</code> replace status of the specified FlowSchema</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-flowschema><code>patch</code> partially update the specified FlowSchema</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-flowschema><code>patch</code> partially update status of the specified FlowSchema</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/flow-schema-v1beta1/#FlowSchema>FlowSchema</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-flowschema><code>delete</code> delete a FlowSchema</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the FlowSchema</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-flowschema><code>deletecollection</code> delete collection of FlowSchema</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta1/flowschemas</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fc6d9938d29eb2669c1cfee2f77ba1f0>5.8.8 - PriorityLevelConfiguration v1beta1</h1>
<div class=lead>PriorityLevelConfiguration represents the configuration of a priority level.</div>
<p><code>apiVersion: flowcontrol.apiserver.k8s.io/v1beta1</code></p>
<p><code>import "k8s.io/api/flowcontrol/v1beta1"</code></p>
<h2 id=PriorityLevelConfiguration>PriorityLevelConfiguration</h2>
<p>PriorityLevelConfiguration represents the configuration of a priority level.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p><code>metadata</code> is the standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>spec</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfigurationSpec>PriorityLevelConfigurationSpec</a>)</p>
<p><code>spec</code> is the specification of the desired behavior of a "request-priority". More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
<li>
<p><strong>status</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfigurationStatus>PriorityLevelConfigurationStatus</a>)</p>
<p><code>status</code> is the current status of a "request-priority". More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
<h2 id=PriorityLevelConfigurationSpec>PriorityLevelConfigurationSpec</h2>
<p>PriorityLevelConfigurationSpec specifies the configuration of a priority level.</p>
<hr>
<ul>
<li>
<p><strong>type</strong> (string), required</p>
<p><code>type</code> indicates whether this priority level is subject to limitation on request execution. A value of <code>"Exempt"</code> means that requests of this priority level are not subject to a limit (and thus are never queued) and do not detract from the capacity made available to other priority levels. A value of <code>"Limited"</code> means that (a) requests of this priority level <em>are</em> subject to limits and (b) some of the server's limited capacity is made available exclusively to this priority level. Required.</p>
</li>
<li>
<p><strong>limited</strong> (LimitedPriorityLevelConfiguration)</p>
<p><code>limited</code> specifies how requests are handled for a Limited priority level. This field must be non-empty if and only if <code>type</code> is <code>"Limited"</code>.</p>
<p><a name=LimitedPriorityLevelConfiguration></a>
*LimitedPriorityLevelConfiguration specifies how to handle requests that are subject to limits. It addresses two issues:</p>
<ul>
<li>How are requests for this priority level limited?</li>
<li>What should be done with requests that exceed the limit?*</li>
</ul>
<ul>
<li>
<p><strong>limited.assuredConcurrencyShares</strong> (int32)</p>
<p><code>assuredConcurrencyShares</code> (ACS) configures the execution limit, which is a limit on the number of requests of this priority level that may be exeucting at a given time. ACS must be a positive number. The server's concurrency limit (SCL) is divided among the concurrency-controlled priority levels in proportion to their assured concurrency shares. This produces the assured concurrency value (ACV) --- the number of requests that may be executing at a time --- for each such priority level:</p>
<pre><code>        ACV(l) = ceil( SCL * ACS(l) / ( sum[priority levels k] ACS(k) ) )
</code></pre>
<p>bigger numbers of ACS mean more reserved concurrent requests (at the expense of every other PL). This field has a default value of 30.</p>
</li>
<li>
<p><strong>limited.limitResponse</strong> (LimitResponse)</p>
<p><code>limitResponse</code> indicates what to do with requests that can not be executed right now</p>
<p><a name=LimitResponse></a>
<em>LimitResponse defines how to handle requests that can not be executed right now.</em></p>
<ul>
<li>
<p><strong>limited.limitResponse.type</strong> (string), required</p>
<p><code>type</code> is "Queue" or "Reject". "Queue" means that requests that can not be executed upon arrival are held in a queue until they can be executed or a queuing limit is reached. "Reject" means that requests that can not be executed upon arrival are rejected. Required.</p>
</li>
<li>
<p><strong>limited.limitResponse.queuing</strong> (QueuingConfiguration)</p>
<p><code>queuing</code> holds the configuration parameters for queuing. This field may be non-empty only if <code>type</code> is <code>"Queue"</code>.</p>
<p><a name=QueuingConfiguration></a>
<em>QueuingConfiguration holds the configuration parameters for queuing</em></p>
<ul>
<li>
<p><strong>limited.limitResponse.queuing.handSize</strong> (int32)</p>
<p><code>handSize</code> is a small positive number that configures the shuffle sharding of requests into queues. When enqueuing a request at this priority level the request's flow identifier (a string pair) is hashed and the hash value is used to shuffle the list of queues and deal a hand of the size specified here. The request is put into one of the shortest queues in that hand. <code>handSize</code> must be no larger than <code>queues</code>, and should be significantly smaller (so that a few heavy flows do not saturate most of the queues). See the user-facing documentation for more extensive guidance on setting this field. This field has a default value of 8.</p>
</li>
<li>
<p><strong>limited.limitResponse.queuing.queueLengthLimit</strong> (int32)</p>
<p><code>queueLengthLimit</code> is the maximum number of requests allowed to be waiting in a given queue of this priority level at a time; excess requests are rejected. This value must be positive. If not specified, it will be defaulted to 50.</p>
</li>
<li>
<p><strong>limited.limitResponse.queuing.queues</strong> (int32)</p>
<p><code>queues</code> is the number of queues for this priority level. The queues exist independently at each apiserver. The value must be positive. Setting it to 1 effectively precludes shufflesharding and thus makes the distinguisher method of associated flow schemas irrelevant. This field has a default value of 64.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id=PriorityLevelConfigurationStatus>PriorityLevelConfigurationStatus</h2>
<p>PriorityLevelConfigurationStatus represents the current state of a "request-priority".</p>
<hr>
<ul>
<li>
<p><strong>conditions</strong> ([]PriorityLevelConfigurationCondition)</p>
<p><em>Map: unique values on key type will be kept during a merge</em></p>
<p><code>conditions</code> is the current state of "request-priority".</p>
<p><a name=PriorityLevelConfigurationCondition></a>
<em>PriorityLevelConfigurationCondition defines the condition of priority level.</em></p>
<ul>
<li>
<p><strong>conditions.lastTransitionTime</strong> (Time)</p>
<p><code>lastTransitionTime</code> is the last time the condition transitioned from one status to another.</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p><code>message</code> is a human-readable message indicating details about last transition.</p>
</li>
<li>
<p><strong>conditions.reason</strong> (string)</p>
<p><code>reason</code> is a unique, one-word, CamelCase reason for the condition's last transition.</p>
</li>
<li>
<p><strong>conditions.status</strong> (string)</p>
<p><code>status</code> is the status of the condition. Can be True, False, Unknown. Required.</p>
</li>
<li>
<p><strong>conditions.type</strong> (string)</p>
<p><code>type</code> is the type of the condition. Required.</p>
</li>
</ul>
</li>
</ul>
<h2 id=PriorityLevelConfigurationList>PriorityLevelConfigurationList</h2>
<p>PriorityLevelConfigurationList is a list of PriorityLevelConfiguration objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: flowcontrol.apiserver.k8s.io/v1beta1</p>
</li>
<li>
<p><strong>kind</strong>: PriorityLevelConfigurationList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p><code>metadata</code> is the standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>), required</p>
<p><code>items</code> is a list of request-priorities.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-prioritylevelconfiguration><code>get</code> read the specified PriorityLevelConfiguration</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=get-read-status-of-the-specified-prioritylevelconfiguration><code>get</code> read status of the specified PriorityLevelConfiguration</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}/status</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-or-watch-objects-of-kind-prioritylevelconfiguration><code>list</code> list or watch objects of kind PriorityLevelConfiguration</h3>
<h4 id=http-request-2>HTTP Request</h4>
<p>GET /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations</p>
<h4 id=parameters-2>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-2>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfigurationList>PriorityLevelConfigurationList</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=create-create-a-prioritylevelconfiguration><code>create</code> create a PriorityLevelConfiguration</h3>
<h4 id=http-request-3>HTTP Request</h4>
<p>POST /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations</p>
<h4 id=parameters-3>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-3>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-the-specified-prioritylevelconfiguration><code>update</code> replace the specified PriorityLevelConfiguration</h3>
<h4 id=http-request-4>HTTP Request</h4>
<p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}</p>
<h4 id=parameters-4>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-4>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=update-replace-status-of-the-specified-prioritylevelconfiguration><code>update</code> replace status of the specified PriorityLevelConfiguration</h3>
<h4 id=http-request-5>HTTP Request</h4>
<p>PUT /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}/status</p>
<h4 id=parameters-5>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-5>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-the-specified-prioritylevelconfiguration><code>patch</code> partially update the specified PriorityLevelConfiguration</h3>
<h4 id=http-request-6>HTTP Request</h4>
<p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}</p>
<h4 id=parameters-6>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-6>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=patch-partially-update-status-of-the-specified-prioritylevelconfiguration><code>patch</code> partially update status of the specified PriorityLevelConfiguration</h3>
<h4 id=http-request-7>HTTP Request</h4>
<p>PATCH /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}/status</p>
<h4 id=parameters-7>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/patch/#Patch>Patch</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>force</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#force>force</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-7>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/priority-level-configuration-v1beta1/#PriorityLevelConfiguration>PriorityLevelConfiguration</a>): Created</p>
<p>401: Unauthorized</p>
<h3 id=delete-delete-a-prioritylevelconfiguration><code>delete</code> delete a PriorityLevelConfiguration</h3>
<h4 id=http-request-8>HTTP Request</h4>
<p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations/{name}</p>
<h4 id=parameters-8>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the PriorityLevelConfiguration</p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
</ul>
<h4 id=response-8>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=deletecollection-delete-collection-of-prioritylevelconfiguration><code>deletecollection</code> delete collection of PriorityLevelConfiguration</h3>
<h4 id=http-request-9>HTTP Request</h4>
<p>DELETE /apis/flowcontrol.apiserver.k8s.io/v1beta1/prioritylevelconfigurations</p>
<h4 id=parameters-9>Parameters</h4>
<ul>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/delete-options/#DeleteOptions>DeleteOptions</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#gracePeriodSeconds>gracePeriodSeconds</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>propagationPolicy</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#propagationPolicy>propagationPolicy</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
</ul>
<h4 id=response-9>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/status/#Status>Status</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-76c59f2971e8baa82f76c4bea291baa5>5.8.9 - Binding</h1>
<div class=lead>Binding ties one object to another; for example, a pod is bound to a node by a scheduler.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=Binding>Binding</h2>
<p>Binding ties one object to another; for example, a pod is bound to a node by a scheduler. Deprecated in 1.7, please use the bindings subresource of pods instead.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: Binding</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>target</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-reference/#ObjectReference>ObjectReference</a>), required</p>
<p>The target object that you want to bind to the standard object.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=create-create-a-binding><code>create</code> create a Binding</h3>
<h4 id=http-request>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/bindings</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Accepted</p>
<p>401: Unauthorized</p>
<h3 id=create-create-binding-of-a-pod><code>create</code> create binding of a Pod</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>POST /api/v1/namespaces/{namespace}/pods/{name}/binding</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the Binding</p>
</li>
<li>
<p><strong>namespace</strong> (<em>in path</em>): string, required</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#namespace>namespace</a></p>
</li>
<li>
<p><strong>body</strong>: <a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>, required</p>
</li>
<li>
<p><strong>dryRun</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#dryRun>dryRun</a></p>
</li>
<li>
<p><strong>fieldManager</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldManager>fieldManager</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): OK</p>
<p>201 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Created</p>
<p>202 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/binding-v1/#Binding>Binding</a>): Accepted</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4fd67a09c76a0614445c034348adc0a7>5.8.10 - ComponentStatus</h1>
<div class=lead>ComponentStatus (and ComponentStatusList) holds the cluster validation info.</div>
<p><code>apiVersion: v1</code></p>
<p><code>import "k8s.io/api/core/v1"</code></p>
<h2 id=ComponentStatus>ComponentStatus</h2>
<p>ComponentStatus (and ComponentStatusList) holds the cluster validation info. Deprecated: This API is deprecated in v1.19+</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ComponentStatus</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/object-meta/#ObjectMeta>ObjectMeta</a>)</p>
<p>Standard object's metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
</li>
<li>
<p><strong>conditions</strong> ([]ComponentCondition)</p>
<p><em>Patch strategy: merge on key <code>type</code></em></p>
<p>List of component conditions observed</p>
<p><a name=ComponentCondition></a>
<em>Information about the condition of a component.</em></p>
<ul>
<li>
<p><strong>conditions.status</strong> (string), required</p>
<p>Status of the condition for a component. Valid values for "Healthy": "True", "False", or "Unknown".</p>
</li>
<li>
<p><strong>conditions.type</strong> (string), required</p>
<p>Type of condition for a component. Valid value: "Healthy"</p>
</li>
<li>
<p><strong>conditions.error</strong> (string)</p>
<p>Condition error code for a component. For example, a health check error code.</p>
</li>
<li>
<p><strong>conditions.message</strong> (string)</p>
<p>Message about the condition for a component. For example, information about a health check.</p>
</li>
</ul>
</li>
</ul>
<h2 id=ComponentStatusList>ComponentStatusList</h2>
<p>Status of all the conditions for the component as a list of ComponentStatus objects. Deprecated: This API is deprecated in v1.19+</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong>: v1</p>
</li>
<li>
<p><strong>kind</strong>: ComponentStatusList</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>items</strong> ([]<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/component-status-v1/#ComponentStatus>ComponentStatus</a>), required</p>
<p>List of ComponentStatus objects.</p>
</li>
</ul>
<h2 id=Operations>Operations</h2>
<hr>
<h3 id=get-read-the-specified-componentstatus><code>get</code> read the specified ComponentStatus</h3>
<h4 id=http-request>HTTP Request</h4>
<p>GET /api/v1/componentstatuses/{name}</p>
<h4 id=parameters>Parameters</h4>
<ul>
<li>
<p><strong>name</strong> (<em>in path</em>): string, required</p>
<p>name of the ComponentStatus</p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
</ul>
<h4 id=response>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/component-status-v1/#ComponentStatus>ComponentStatus</a>): OK</p>
<p>401: Unauthorized</p>
<h3 id=list-list-objects-of-kind-componentstatus><code>list</code> list objects of kind ComponentStatus</h3>
<h4 id=http-request-1>HTTP Request</h4>
<p>GET /api/v1/componentstatuses</p>
<h4 id=parameters-1>Parameters</h4>
<ul>
<li>
<p><strong>allowWatchBookmarks</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#allowWatchBookmarks>allowWatchBookmarks</a></p>
</li>
<li>
<p><strong>continue</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#continue>continue</a></p>
</li>
<li>
<p><strong>fieldSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#fieldSelector>fieldSelector</a></p>
</li>
<li>
<p><strong>labelSelector</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#labelSelector>labelSelector</a></p>
</li>
<li>
<p><strong>limit</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#limit>limit</a></p>
</li>
<li>
<p><strong>pretty</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#pretty>pretty</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersion>resourceVersion</a></p>
</li>
<li>
<p><strong>resourceVersionMatch</strong> (<em>in query</em>): string</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#resourceVersionMatch>resourceVersionMatch</a></p>
</li>
<li>
<p><strong>timeoutSeconds</strong> (<em>in query</em>): integer</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#timeoutSeconds>timeoutSeconds</a></p>
</li>
<li>
<p><strong>watch</strong> (<em>in query</em>): boolean</p>
<p><a href=https://kubernetes.io/docs/reference/kubernetes-api/common-parameters/common-parameters/#watch>watch</a></p>
</li>
</ul>
<h4 id=response-1>Response</h4>
<p>200 (<a href=https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/component-status-v1/#ComponentStatusList>ComponentStatusList</a>): OK</p>
<p>401: Unauthorized</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0a260d85a5da2504fce8c56b77c45024>5.9 - Common Definitions</h1>
</div>
<div class=td-content>
<h1 id=pg-9eba5edb3c1d93f9a74827e3a71014dd>5.9.1 - DeleteOptions</h1>
<div class=lead>DeleteOptions may be provided when deleting an API object.</div>
<p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p>
<p>DeleteOptions may be provided when deleting an API object.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p>
</li>
<li>
<p><strong>dryRun</strong> ([]string)</p>
<p>When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed</p>
</li>
<li>
<p><strong>gracePeriodSeconds</strong> (int64)</p>
<p>The duration in seconds before the object should be deleted. Value must be non-negative integer. The value zero indicates delete immediately. If this value is nil, the default grace period for the specified type will be used. Defaults to a per object value if not specified. zero means delete immediately.</p>
</li>
<li>
<p><strong>kind</strong> (string)</p>
<p>Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>orphanDependents</strong> (boolean)</p>
<p>Deprecated: please use the PropagationPolicy, this field will be deprecated in 1.7. Should the dependent objects be orphaned. If true/false, the "orphan" finalizer will be added to/removed from the object's finalizers list. Either this field or PropagationPolicy may be set, but not both.</p>
</li>
<li>
<p><strong>preconditions</strong> (Preconditions)</p>
<p>Must be fulfilled before a deletion is carried out. If not possible, a 409 Conflict status will be returned.</p>
<p><a name=Preconditions></a>
<em>Preconditions must be fulfilled before an operation (update, delete, etc.) is carried out.</em></p>
<ul>
<li>
<p><strong>preconditions.resourceVersion</strong> (string)</p>
<p>Specifies the target ResourceVersion</p>
</li>
<li>
<p><strong>preconditions.uid</strong> (string)</p>
<p>Specifies the target UID.</p>
</li>
</ul>
</li>
<li>
<p><strong>propagationPolicy</strong> (string)</p>
<p>Whether and how garbage collection will be performed. Either this field or OrphanDependents may be set, but not both. The default policy is decided by the existing finalizer set in the metadata.finalizers and the resource-specific default policy. Acceptable values are: 'Orphan' - orphan the dependents; 'Background' - allow the garbage collector to delete the dependents in the background; 'Foreground' - a cascading policy that deletes all dependents in the foreground.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-26234b02eb0546f7a178da9c373cb197>5.9.2 - LabelSelector</h1>
<div class=lead>A label selector is a label query over a set of resources.</div>
<p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p>
<p>A label selector is a label query over a set of resources. The result of matchLabels and matchExpressions are ANDed. An empty label selector matches all objects. A null label selector matches no objects.</p>
<hr>
<ul>
<li>
<p><strong>matchExpressions</strong> ([]LabelSelectorRequirement)</p>
<p>matchExpressions is a list of label selector requirements. The requirements are ANDed.</p>
<p><a name=LabelSelectorRequirement></a>
<em>A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.</em></p>
<ul>
<li>
<p><strong>matchExpressions.key</strong> (string), required</p>
<p><em>Patch strategy: merge on key <code>key</code></em></p>
<p>key is the label key that the selector applies to.</p>
</li>
<li>
<p><strong>matchExpressions.operator</strong> (string), required</p>
<p>operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.</p>
</li>
<li>
<p><strong>matchExpressions.values</strong> ([]string)</p>
<p>values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.</p>
</li>
</ul>
</li>
<li>
<p><strong>matchLabels</strong> (map[string]string)</p>
<p>matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-dbe3b11fb1cfde0aac65f945d84b11d6>5.9.3 - ListMeta</h1>
<div class=lead>ListMeta describes metadata that synthetic resources must have, including lists and various status objects.</div>
<p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p>
<p>ListMeta describes metadata that synthetic resources must have, including lists and various status objects. A resource may have only one of {ObjectMeta, ListMeta}.</p>
<hr>
<ul>
<li>
<p><strong>continue</strong> (string)</p>
<p>continue may be set if the user set a limit on the number of items returned, and indicates that the server has more data available. The value is opaque and may be used to issue another request to the endpoint that served this list to retrieve the next set of available objects. Continuing a consistent list may not be possible if the server configuration has changed or more than a few minutes have passed. The resourceVersion field returned when using this continue value will be identical to the value in the first response, unless you have received this token from an error message.</p>
</li>
<li>
<p><strong>remainingItemCount</strong> (int64)</p>
<p>remainingItemCount is the number of subsequent items in the list which are not included in this list response. If the list request contained label or field selectors, then the number of remaining items is unknown and the field will be left unset and omitted during serialization. If the list is complete (either because it is not chunking or because this is the last chunk), then there are no more remaining items and this field will be left unset and omitted during serialization. Servers older than v1.15 do not set this field. The intended use of the remainingItemCount is <em>estimating</em> the size of a collection. Clients should not rely on the remainingItemCount to be set or to be exact.</p>
</li>
<li>
<p><strong>resourceVersion</strong> (string)</p>
<p>String that identifies the server's internal version of this object that can be used by clients to determine when objects have changed. Value must be treated as opaque by clients and passed unmodified back to the server. Populated by the system. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency</a></p>
</li>
<li>
<p><strong>selfLink</strong> (string)</p>
<p>selfLink is a URL representing this object. Populated by the system. Read-only.</p>
<p>DEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-026383e0b43a68744a8b27a82bb4926d>5.9.4 - LocalObjectReference</h1>
<div class=lead>LocalObjectReference contains enough information to let you locate the referenced object inside the same namespace.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<p>LocalObjectReference contains enough information to let you locate the referenced object inside the same namespace.</p>
<hr>
<ul>
<li>
<p><strong>name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-deb2d19043a047688f72480af2f1b1e0>5.9.5 - NodeSelectorRequirement</h1>
<div class=lead>A node selector requirement is a selector that contains values, a key, and an operator that relates the key and values.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<p>A node selector requirement is a selector that contains values, a key, and an operator that relates the key and values.</p>
<hr>
<ul>
<li>
<p><strong>key</strong> (string), required</p>
<p>The label key that the selector applies to.</p>
</li>
<li>
<p><strong>operator</strong> (string), required</p>
<p>Represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists, DoesNotExist. Gt, and Lt.</p>
</li>
<li>
<p><strong>values</strong> ([]string)</p>
<p>An array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. If the operator is Gt or Lt, the values array must have a single element, which will be interpreted as an integer. This array is replaced during a strategic merge patch.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-47b6e1916665dd55bbeb2b33847653ed>5.9.6 - ObjectFieldSelector</h1>
<div class=lead>ObjectFieldSelector selects an APIVersioned field of an object.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<p>ObjectFieldSelector selects an APIVersioned field of an object.</p>
<hr>
<ul>
<li>
<p><strong>fieldPath</strong> (string), required</p>
<p>Path of the field to select in the specified API version.</p>
</li>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>Version of the schema the FieldPath is written in terms of, defaults to "v1".</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-77f040b7d1c00efcedc11902ed78fc08>5.9.7 - ObjectMeta</h1>
<div class=lead>ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.</div>
<p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p>
<p>ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.</p>
<hr>
<ul>
<li>
<p><strong>name</strong> (string)</p>
<p>Name must be unique within a namespace. Is required when creating resources, although some resources may allow a client to request the generation of an appropriate name automatically. Name is primarily intended for creation idempotence and configuration definition. Cannot be updated. More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p>
</li>
<li>
<p><strong>generateName</strong> (string)</p>
<p>GenerateName is an optional prefix, used by the server, to generate a unique name ONLY IF the Name field has not been provided. If this field is used, the name returned to the client will be different than the name passed. This value will also be combined with a unique suffix. The provided value has the same validation rules as the Name field, and may be truncated by the length of the suffix required to make the value unique on the server.</p>
<p>If this field is specified and the generated name exists, the server will NOT return a 409 - instead, it will either return 201 Created or 500 with Reason ServerTimeout indicating a unique name could not be found in the time allotted, and the client should retry (optionally after the time indicated in the Retry-After header).</p>
<p>Applied only if Name is not specified. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#idempotency</a></p>
</li>
<li>
<p><strong>namespace</strong> (string)</p>
<p>Namespace defines the space within which each name must be unique. An empty namespace is equivalent to the "default" namespace, but "default" is the canonical representation. Not all objects are required to be scoped to a namespace - the value of this field for those objects will be empty.</p>
<p>Must be a DNS_LABEL. Cannot be updated. More info: <a href=http://kubernetes.io/docs/user-guide/namespaces>http://kubernetes.io/docs/user-guide/namespaces</a></p>
</li>
<li>
<p><strong>labels</strong> (map[string]string)</p>
<p>Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: <a href=http://kubernetes.io/docs/user-guide/labels>http://kubernetes.io/docs/user-guide/labels</a></p>
</li>
<li>
<p><strong>annotations</strong> (map[string]string)</p>
<p>Annotations is an unstructured key value map stored with a resource that may be set by external tools to store and retrieve arbitrary metadata. They are not queryable and should be preserved when modifying objects. More info: <a href=http://kubernetes.io/docs/user-guide/annotations>http://kubernetes.io/docs/user-guide/annotations</a></p>
</li>
</ul>
<h3 id=System>System</h3>
<ul>
<li>
<p><strong>finalizers</strong> ([]string)</p>
<p>Must be empty before the object is deleted from the registry. Each entry is an identifier for the responsible component that will remove the entry from the list. If the deletionTimestamp of the object is non-nil, entries in this list can only be removed. Finalizers may be processed and removed in any order. Order is NOT enforced because it introduces significant risk of stuck finalizers. finalizers is a shared field, any actor with permission can reorder it. If the finalizer list is processed in order, then this can lead to a situation in which the component responsible for the first finalizer in the list is waiting for a signal (field value, external system, or other) produced by a component responsible for a finalizer later in the list, resulting in a deadlock. Without enforced ordering finalizers are free to order amongst themselves and are not vulnerable to ordering changes in the list.</p>
</li>
<li>
<p><strong>managedFields</strong> ([]ManagedFieldsEntry)</p>
<p>ManagedFields maps workflow-id and version to the set of fields that are managed by that workflow. This is mostly for internal housekeeping, and users typically shouldn't need to set or understand this field. A workflow can be the user's name, a controller's name, or the name of a specific apply path like "ci-cd". The set of fields is always in the version that the workflow used when modifying the object.</p>
<p><a name=ManagedFieldsEntry></a>
<em>ManagedFieldsEntry is a workflow-id, a FieldSet and the group version of the resource that the fieldset applies to.</em></p>
<ul>
<li>
<p><strong>managedFields.apiVersion</strong> (string)</p>
<p>APIVersion defines the version of this resource that this field set applies to. The format is "group/version" just like the top-level APIVersion field. It is necessary to track the version of a field set because it cannot be automatically converted.</p>
</li>
<li>
<p><strong>managedFields.fieldsType</strong> (string)</p>
<p>FieldsType is the discriminator for the different fields format and version. There is currently only one possible value: "FieldsV1"</p>
</li>
<li>
<p><strong>managedFields.fieldsV1</strong> (FieldsV1)</p>
<p>FieldsV1 holds the first JSON version format as described in the "FieldsV1" type.</p>
<p><a name=FieldsV1></a>
*FieldsV1 stores a set of fields in a data structure like a Trie, in JSON format.</p>
<p>Each key is either a '.' representing the field itself, and will always map to an empty set, or a string representing a sub-field or item. The string will follow one of these four formats: 'f:<name>', where <name> is the name of a field in a struct, or key in a map 'v:<value>', where <value> is the exact json formatted value of a list item 'i:<index>', where <index> is position of a item in a list 'k:<keys>', where <keys> is a map of a list item's key fields to their unique values If a key maps to an empty Fields value, the field that key represents is part of the set.</p>
<p>The exact format is defined in sigs.k8s.io/structured-merge-diff*</p>
</li>
<li>
<p><strong>managedFields.manager</strong> (string)</p>
<p>Manager is an identifier of the workflow managing these fields.</p>
</li>
<li>
<p><strong>managedFields.operation</strong> (string)</p>
<p>Operation is the type of operation which lead to this ManagedFieldsEntry being created. The only valid values for this field are 'Apply' and 'Update'.</p>
</li>
<li>
<p><strong>managedFields.subresource</strong> (string)</p>
<p>Subresource is the name of the subresource used to update that object, or empty string if the object was updated through the main resource. The value of this field is used to distinguish between managers, even if they share the same name. For example, a status update will be distinct from a regular update using the same manager name. Note that the APIVersion field is not related to the Subresource field and it always corresponds to the version of the main resource.</p>
</li>
<li>
<p><strong>managedFields.time</strong> (Time)</p>
<p>Time is timestamp of when these fields were set. It should always be empty if Operation is 'Apply'</p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>ownerReferences</strong> ([]OwnerReference)</p>
<p><em>Patch strategy: merge on key <code>uid</code></em></p>
<p>List of objects depended by this object. If ALL objects in the list have been deleted, this object will be garbage collected. If this object is managed by a controller, then an entry in this list will point to this controller, with the controller field set to true. There cannot be more than one managing controller.</p>
<p><a name=OwnerReference></a>
<em>OwnerReference contains enough information to let you identify an owning object. An owning object must be in the same namespace as the dependent, or be cluster-scoped, so there is no namespace field.</em></p>
<ul>
<li>
<p><strong>ownerReferences.apiVersion</strong> (string), required</p>
<p>API version of the referent.</p>
</li>
<li>
<p><strong>ownerReferences.kind</strong> (string), required</p>
<p>Kind of the referent. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>ownerReferences.name</strong> (string), required</p>
<p>Name of the referent. More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#names>http://kubernetes.io/docs/user-guide/identifiers#names</a></p>
</li>
<li>
<p><strong>ownerReferences.uid</strong> (string), required</p>
<p>UID of the referent. More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#uids>http://kubernetes.io/docs/user-guide/identifiers#uids</a></p>
</li>
<li>
<p><strong>ownerReferences.blockOwnerDeletion</strong> (boolean)</p>
<p>If true, AND if the owner has the "foregroundDeletion" finalizer, then the owner cannot be deleted from the key-value store until this reference is removed. Defaults to false. To set this field, a user needs "delete" permission of the owner, otherwise 422 (Unprocessable Entity) will be returned.</p>
</li>
<li>
<p><strong>ownerReferences.controller</strong> (boolean)</p>
<p>If true, this reference points to the managing controller.</p>
</li>
</ul>
</li>
</ul>
<h3 id=Read-only>Read-only</h3>
<ul>
<li>
<p><strong>creationTimestamp</strong> (Time)</p>
<p>CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.</p>
<p>Populated by the system. Read-only. Null for lists. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>deletionGracePeriodSeconds</strong> (int64)</p>
<p>Number of seconds allowed for this object to gracefully terminate before it will be removed from the system. Only set when deletionTimestamp is also set. May only be shortened. Read-only.</p>
</li>
<li>
<p><strong>deletionTimestamp</strong> (Time)</p>
<p>DeletionTimestamp is RFC 3339 date and time at which this resource will be deleted. This field is set by the server when a graceful deletion is requested by the user, and is not directly settable by a client. The resource is expected to be deleted (no longer visible from resource lists, and not reachable by name) after the time in this field, once the finalizers list is empty. As long as the finalizers list contains items, deletion is blocked. Once the deletionTimestamp is set, this value may not be unset or be set further into the future, although it may be shortened or the resource may be deleted prior to this time. For example, a user may request that a pod is deleted in 30 seconds. The Kubelet will react by sending a graceful termination signal to the containers in the pod. After that 30 seconds, the Kubelet will send a hard termination signal (SIGKILL) to the container and after cleanup, remove the pod from the API. In the presence of network partitions, this object may still exist after this timestamp, until an administrator or automated process can determine the resource is fully terminated. If not set, graceful deletion of the object has not been requested.</p>
<p>Populated by the system when a graceful deletion is requested. Read-only. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata</a></p>
<p><a name=Time></a>
<em>Time is a wrapper around time.Time which supports correct marshaling to YAML and JSON. Wrappers are provided for many of the factory methods that the time package offers.</em></p>
</li>
<li>
<p><strong>generation</strong> (int64)</p>
<p>A sequence number representing a specific generation of the desired state. Populated by the system. Read-only.</p>
</li>
<li>
<p><strong>resourceVersion</strong> (string)</p>
<p>An opaque value that represents the internal version of this object that can be used by clients to determine when objects have changed. May be used for optimistic concurrency, change detection, and the watch operation on a resource or set of resources. Clients must treat these values as opaque and passed unmodified back to the server. They may only be valid for a particular resource or set of resources.</p>
<p>Populated by the system. Read-only. Value must be treated as opaque by clients and . More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency</a></p>
</li>
<li>
<p><strong>selfLink</strong> (string)</p>
<p>SelfLink is a URL representing this object. Populated by the system. Read-only.</p>
<p>DEPRECATED Kubernetes will stop propagating this field in 1.20 release and the field is planned to be removed in 1.21 release.</p>
</li>
<li>
<p><strong>uid</strong> (string)</p>
<p>UID is the unique in time and space value for this object. It is typically generated by the server on successful creation of a resource and is not allowed to change on PUT operations.</p>
<p>Populated by the system. Read-only. More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#uids>http://kubernetes.io/docs/user-guide/identifiers#uids</a></p>
</li>
</ul>
<h3 id=Ignored>Ignored</h3>
<ul>
<li>
<p><strong>clusterName</strong> (string)</p>
<p>The name of the cluster which the object belongs to. This is used to distinguish resources with same name and namespace in different clusters. This field is not set anywhere right now and apiserver is going to ignore it if set in create or update request.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-cf854f859540243f660c2798d641498c>5.9.8 - ObjectReference</h1>
<div class=lead>ObjectReference contains enough information to let you inspect or modify the referred object.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<p>ObjectReference contains enough information to let you inspect or modify the referred object.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>API version of the referent.</p>
</li>
<li>
<p><strong>fieldPath</strong> (string)</p>
<p>If referring to a piece of an object instead of an entire object, this string should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2]. For example, if the object reference is to a container within a pod, this would take on a value like: "spec.containers{name}" (where "name" refers to the name of the container that triggered the event) or if no container name is specified "spec.containers[2]" (container with index 2 in this pod). This syntax is chosen only to have some well-defined way of referencing a part of an object.</p>
</li>
<li>
<p><strong>kind</strong> (string)</p>
<p>Kind of the referent. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>name</strong> (string)</p>
<p>Name of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names</a></p>
</li>
<li>
<p><strong>namespace</strong> (string)</p>
<p>Namespace of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/>https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/</a></p>
</li>
<li>
<p><strong>resourceVersion</strong> (string)</p>
<p>Specific resourceVersion to which this reference is made, if any. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency</a></p>
</li>
<li>
<p><strong>uid</strong> (string)</p>
<p>UID of the referent. More info: <a href=https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids>https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids</a></p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1997570a6710a3eaf78270f2e2535167>5.9.9 - Patch</h1>
<div class=lead>Patch is provided to give a concrete name and type to the Kubernetes PATCH request body.</div>
<p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p>
<p>Patch is provided to give a concrete name and type to the Kubernetes PATCH request body.</p>
<hr>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-51b0e3fdb6e89030bd9e49dbb990918c>5.9.10 - Quantity</h1>
<div class=lead>Quantity is a fixed-point representation of a number.</div>
<p><code>import "k8s.io/apimachinery/pkg/api/resource"</code></p>
<p>Quantity is a fixed-point representation of a number. It provides convenient marshaling/unmarshaling in JSON and YAML, in addition to String() and AsInt64() accessors.</p>
<p>The serialization format is:</p>
<p>&lt;quantity> ::= &lt;signedNumber>&lt;suffix>
(Note that &lt;suffix> may be empty, from the "" case in &lt;decimalSI>.)
&lt;digit> ::= 0 | 1 | ... | 9 &lt;digits> ::= &lt;digit> | &lt;digit>&lt;digits> &lt;number> ::= &lt;digits> | &lt;digits>.&lt;digits> | &lt;digits>. | .&lt;digits> &lt;sign> ::= "+" | "-" &lt;signedNumber> ::= &lt;number> | &lt;sign>&lt;number> &lt;suffix> ::= &lt;binarySI> | &lt;decimalExponent> | &lt;decimalSI> &lt;binarySI> ::= Ki | Mi | Gi | Ti | Pi | Ei
(International System of units; See: <a href=http://physics.nist.gov/cuu/Units/binary.html>http://physics.nist.gov/cuu/Units/binary.html</a>)
&lt;decimalSI> ::= m | "" | k | M | G | T | P | E
(Note that 1024 = 1Ki but 1000 = 1k; I didn't choose the capitalization.)
&lt;decimalExponent> ::= "e" &lt;signedNumber> | "E" &lt;signedNumber></p>
<p>No matter which of the three exponent forms is used, no quantity may represent a number greater than 2^63-1 in magnitude, nor may it have more than 3 decimal places. Numbers larger or more precise will be capped or rounded up. (E.g.: 0.1m will rounded up to 1m.) This may be extended in the future if we require larger or smaller quantities.</p>
<p>When a Quantity is parsed from a string, it will remember the type of suffix it had, and will use the same type again when it is serialized.</p>
<p>Before serializing, Quantity will be put in "canonical form". This means that Exponent/suffix will be adjusted up or down (with a corresponding increase or decrease in Mantissa) such that:
a. No precision is lost
b. No fractional digits will be emitted
c. The exponent (or suffix) is as large as possible.
The sign will be omitted unless the number is negative.</p>
<p>Examples:
1.5 will be serialized as "1500m"
1.5Gi will be serialized as "1536Mi"</p>
<p>Note that the quantity will NEVER be internally represented by a floating point number. That is the whole point of this exercise.</p>
<p>Non-canonical values will still parse as long as they are well formed, but will be re-emitted in their canonical form. (So always use canonical form, or don't diff.)</p>
<p>This format is intended to make it difficult to use these numbers without writing some sort of special handling code in the hopes that that will cause implementors to also use a fixed point implementation.</p>
<hr>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-406fd6938a5a3283ee7a816347603389>5.9.11 - ResourceFieldSelector</h1>
<div class=lead>ResourceFieldSelector represents container resources (cpu, memory) and their output format.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<p>ResourceFieldSelector represents container resources (cpu, memory) and their output format</p>
<hr>
<ul>
<li>
<p><strong>resource</strong> (string), required</p>
<p>Required: resource to select</p>
</li>
<li>
<p><strong>containerName</strong> (string)</p>
<p>Container name: required for volumes, optional for env vars</p>
</li>
<li>
<p><strong>divisor</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/quantity/#Quantity>Quantity</a>)</p>
<p>Specifies the output format of the exposed resources, defaults to "1"</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b86f72d0a9c9625228b55ff79c154b63>5.9.12 - Status</h1>
<div class=lead>Status is a return value for calls that don't return other objects.</div>
<p><code>import "k8s.io/apimachinery/pkg/apis/meta/v1"</code></p>
<p>Status is a return value for calls that don't return other objects.</p>
<hr>
<ul>
<li>
<p><strong>apiVersion</strong> (string)</p>
<p>APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources</a></p>
</li>
<li>
<p><strong>code</strong> (int32)</p>
<p>Suggested HTTP return code for this status, 0 if not set.</p>
</li>
<li>
<p><strong>details</strong> (StatusDetails)</p>
<p>Extended data associated with the reason. Each reason may define its own extended details. This field is optional and the data returned is not guaranteed to conform to any schema except that defined by the reason type.</p>
<p><a name=StatusDetails></a>
<em>StatusDetails is a set of additional properties that MAY be set by the server to provide additional information about a response. The Reason field of a Status object defines what attributes will be set. Clients must ignore fields that do not match the defined type of each attribute, and should assume that any attribute may be empty, invalid, or under defined.</em></p>
<ul>
<li>
<p><strong>details.causes</strong> ([]StatusCause)</p>
<p>The Causes array includes more details associated with the StatusReason failure. Not all StatusReasons may provide detailed causes.</p>
<p><a name=StatusCause></a>
<em>StatusCause provides more information about an api.Status failure, including cases when multiple errors are encountered.</em></p>
<ul>
<li>
<p><strong>details.causes.field</strong> (string)</p>
<p>The field of the resource that has caused this error, as named by its JSON serialization. May include dot and postfix notation for nested attributes. Arrays are zero-indexed. Fields may appear more than once in an array of causes due to fields having multiple errors. Optional.</p>
<p>Examples:
"name" - the field "name" on the current resource
"items[0].name" - the field "name" on the first array entry in "items"</p>
</li>
<li>
<p><strong>details.causes.message</strong> (string)</p>
<p>A human-readable description of the cause of the error. This field may be presented as-is to a reader.</p>
</li>
<li>
<p><strong>details.causes.reason</strong> (string)</p>
<p>A machine-readable description of the cause of the error. If this value is empty there is no information available.</p>
</li>
</ul>
</li>
<li>
<p><strong>details.group</strong> (string)</p>
<p>The group attribute of the resource associated with the status StatusReason.</p>
</li>
<li>
<p><strong>details.kind</strong> (string)</p>
<p>The kind attribute of the resource associated with the status StatusReason. On some operations may differ from the requested resource Kind. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>details.name</strong> (string)</p>
<p>The name attribute of the resource associated with the status StatusReason (when there is a single name which can be described).</p>
</li>
<li>
<p><strong>details.retryAfterSeconds</strong> (int32)</p>
<p>If specified, the time in seconds before the operation should be retried. Some errors may indicate the client must take an alternate action - for those errors this field may indicate how long to wait before taking the alternate action.</p>
</li>
<li>
<p><strong>details.uid</strong> (string)</p>
<p>UID of the resource. (when there is a single resource which can be described). More info: <a href=http://kubernetes.io/docs/user-guide/identifiers#uids>http://kubernetes.io/docs/user-guide/identifiers#uids</a></p>
</li>
</ul>
</li>
<li>
<p><strong>kind</strong> (string)</p>
<p>Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>message</strong> (string)</p>
<p>A human-readable description of the status of this operation.</p>
</li>
<li>
<p><strong>metadata</strong> (<a href=https://kubernetes.io/docs/reference/kubernetes-api/common-definitions/list-meta/#ListMeta>ListMeta</a>)</p>
<p>Standard list metadata. More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds</a></p>
</li>
<li>
<p><strong>reason</strong> (string)</p>
<p>A machine-readable description of why this operation is in the "Failure" status. If this value is empty there is no information available. A Reason clarifies an HTTP status code but does not override it.</p>
</li>
<li>
<p><strong>status</strong> (string)</p>
<p>Status of the operation. One of: "Success" or "Failure". More info: <a href=https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status>https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status</a></p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ad5a39cd0d4233c0afb2a1daf17b95b3>5.9.13 - TypedLocalObjectReference</h1>
<div class=lead>TypedLocalObjectReference contains enough information to let you locate the typed referenced object inside the same namespace.</div>
<p><code>import "k8s.io/api/core/v1"</code></p>
<p>TypedLocalObjectReference contains enough information to let you locate the typed referenced object inside the same namespace.</p>
<hr>
<ul>
<li>
<p><strong>kind</strong> (string), required</p>
<p>Kind is the type of resource being referenced</p>
</li>
<li>
<p><strong>name</strong> (string), required</p>
<p>Name is the name of resource being referenced</p>
</li>
<li>
<p><strong>apiGroup</strong> (string)</p>
<p>APIGroup is the group for the resource being referenced. If APIGroup is not specified, the specified Kind must be in the core API group. For any other third-party types, APIGroup is required.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6fbe4a9bf41cfee30909689bd978c45f>5.10 - Common Parameters</h1>
<h2 id=allowWatchBookmarks>allowWatchBookmarks</h2>
<p>allowWatchBookmarks requests watch events with type "BOOKMARK". Servers that do not implement bookmarks may ignore this flag and bookmarks are sent at the server's discretion. Clients should not assume bookmarks are returned at any specific interval, nor may they assume the server will send any BOOKMARK event during a session. If this is not a watch, this field is ignored.</p>
<hr>
<h2 id=continue>continue</h2>
<p>The continue option should be set when retrieving more results from the server. Since this value is server defined, clients may only use the continue value from a previous query result with identical query parameters (except for the value of continue) and the server may reject a continue value it does not recognize. If the specified continue value is no longer valid whether due to expiration (generally five to fifteen minutes) or a configuration change on the server, the server will respond with a 410 ResourceExpired error together with a continue token. If the client needs a consistent list, it must restart their list without the continue field. Otherwise, the client may send another list request with the token received with the 410 error, the server will respond with a list starting from the next key, but from the latest snapshot, which is inconsistent from the previous list results - objects that are created, modified, or deleted after the first list request will be included in the response, as long as their keys are after the "next key".</p>
<p>This field is not supported when watch is true. Clients may start a watch from the last resourceVersion value returned by the server and not miss any modifications.</p>
<hr>
<h2 id=dryRun>dryRun</h2>
<p>When present, indicates that modifications should not be persisted. An invalid or unrecognized dryRun directive will result in an error response and no further processing of the request. Valid values are: - All: all dry run stages will be processed</p>
<hr>
<h2 id=fieldManager>fieldManager</h2>
<p>fieldManager is a name associated with the actor or entity that is making these changes. The value must be less than or 128 characters long, and only contain printable characters, as defined by <a href=https://golang.org/pkg/unicode/#IsPrint>https://golang.org/pkg/unicode/#IsPrint</a>.</p>
<hr>
<h2 id=fieldSelector>fieldSelector</h2>
<p>A selector to restrict the list of returned objects by their fields. Defaults to everything.</p>
<hr>
<h2 id=force>force</h2>
<p>Force is going to "force" Apply requests. It means user will re-acquire conflicting fields owned by other people. Force flag must be unset for non-apply patch requests.</p>
<hr>
<h2 id=gracePeriodSeconds>gracePeriodSeconds</h2>
<p>The duration in seconds before the object should be deleted. Value must be non-negative integer. The value zero indicates delete immediately. If this value is nil, the default grace period for the specified type will be used. Defaults to a per object value if not specified. zero means delete immediately.</p>
<hr>
<h2 id=labelSelector>labelSelector</h2>
<p>A selector to restrict the list of returned objects by their labels. Defaults to everything.</p>
<hr>
<h2 id=limit>limit</h2>
<p>limit is a maximum number of responses to return for a list call. If more items exist, the server will set the <code>continue</code> field on the list metadata to a value that can be used with the same initial query to retrieve the next set of results. Setting a limit may return fewer than the requested amount of items (up to zero items) in the event all requested objects are filtered out and clients should only use the presence of the continue field to determine whether more results are available. Servers may choose not to support the limit argument and will return all of the available results. If limit is specified and the continue field is empty, clients may assume that no more results are available. This field is not supported if watch is true.</p>
<p>The server guarantees that the objects returned when using continue will be identical to issuing a single list call without a limit - that is, no objects created, modified, or deleted after the first request is issued will be included in any subsequent continued requests. This is sometimes referred to as a consistent snapshot, and ensures that a client that is using limit to receive smaller chunks of a very large result can ensure they see all possible objects. If objects are updated during a chunked list the version of the object that was present at the time the first list result was calculated is returned.</p>
<hr>
<h2 id=namespace>namespace</h2>
<p>object name and auth scope, such as for teams and projects</p>
<hr>
<h2 id=pretty>pretty</h2>
<p>If 'true', then the output is pretty printed.</p>
<hr>
<h2 id=propagationPolicy>propagationPolicy</h2>
<p>Whether and how garbage collection will be performed. Either this field or OrphanDependents may be set, but not both. The default policy is decided by the existing finalizer set in the metadata.finalizers and the resource-specific default policy. Acceptable values are: 'Orphan' - orphan the dependents; 'Background' - allow the garbage collector to delete the dependents in the background; 'Foreground' - a cascading policy that deletes all dependents in the foreground.</p>
<hr>
<h2 id=resourceVersion>resourceVersion</h2>
<p>resourceVersion sets a constraint on what resource versions a request may be served from. See <a href=https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions>https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions</a> for details.</p>
<p>Defaults to unset</p>
<hr>
<h2 id=resourceVersionMatch>resourceVersionMatch</h2>
<p>resourceVersionMatch determines how resourceVersion is applied to list calls. It is highly recommended that resourceVersionMatch be set for list calls where resourceVersion is set See <a href=https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions>https://kubernetes.io/docs/reference/using-api/api-concepts/#resource-versions</a> for details.</p>
<p>Defaults to unset</p>
<hr>
<h2 id=timeoutSeconds>timeoutSeconds</h2>
<p>Timeout for the list/watch call. This limits the duration of the call, regardless of any activity or inactivity.</p>
<hr>
<h2 id=watch>watch</h2>
<p>Watch for changes to the described resources and return them as a stream of add, update, and remove notifications. Specify resourceVersion.</p>
<hr>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-af7c1f9168ec67f957edc504f43faf9a>6 - Kubernetes Issues and Security</h1>
</div>
<div class=td-content>
<h1 id=pg-980c0542a3b195a20cfd4358792e2a38>6.1 - Kubernetes Issue Tracker</h1>
<p>To report a security issue, please follow the <a href=/docs/reference/issues-security/security/#report-a-vulnerability>Kubernetes security disclosure process</a>.</p>
<p>Work on Kubernetes code and public issues are tracked using <a href=https://github.com/kubernetes/kubernetes/issues/>GitHub Issues</a>.</p>
<ul>
<li><a href="https://github.com/kubernetes/kubernetes/issues?utf8=%E2%9C%93&q=is%3Aissue+label%3Aarea%2Fsecurity+in%3Atitle+CVE">CVE-related issues</a></li>
</ul>
<p>Security-related announcements are sent to the <a href=https://groups.google.com/forum/#!forum/kubernetes-security-announce>kubernetes-security-announce@googlegroups.com</a> mailing list.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1f7dc06f1cc1ea2cdde4480e54d5fb34>6.2 - Kubernetes Security and Disclosure Information</h1>
<p>This page describes Kubernetes security and disclosure information.</p>
<h2 id=security-announcements>Security Announcements</h2>
<p>Join the <a href=https://groups.google.com/forum/#!forum/kubernetes-security-announce>kubernetes-security-announce</a> group for emails about security and major API announcements.</p>
<p>You can also subscribe to an RSS feed of the above using <a href="https://groups.google.com/forum/feed/kubernetes-security-announce/msgs/rss_v2_0.xml?num=50">this link</a>.</p>
<h2 id=report-a-vulnerability>Report a Vulnerability</h2>
<p>We're extremely grateful for security researchers and users that report vulnerabilities to the Kubernetes Open Source Community. All reports are thoroughly investigated by a set of community volunteers.</p>
<p>To make a report, submit your vulnerability to the <a href=https://hackerone.com/kubernetes>Kubernetes bug bounty program</a>. This allows triage and handling of the vulnerability with standardized response times.</p>
<p>You can also email the private <a href=mailto:security@kubernetes.io>security@kubernetes.io</a> list with the security details and the details expected for <a href=https://github.com/kubernetes/kubernetes/blob/master/.github/ISSUE_TEMPLATE/bug-report.yaml>all Kubernetes bug reports</a>.</p>
<p>You may encrypt your email to this list using the GPG keys of the <a href=https://git.k8s.io/security/README.md#product-security-committee-psc>Security Response Committee members</a>. Encryption using GPG is NOT required to make a disclosure.</p>
<h3 id=when-should-i-report-a-vulnerability>When Should I Report a Vulnerability?</h3>
<ul>
<li>You think you discovered a potential security vulnerability in Kubernetes</li>
<li>You are unsure how a vulnerability affects Kubernetes</li>
<li>You think you discovered a vulnerability in another project that Kubernetes depends on
<ul>
<li>For projects with their own vulnerability reporting and disclosure process, please report it directly there</li>
</ul>
</li>
</ul>
<h3 id=when-should-i-not-report-a-vulnerability>When Should I NOT Report a Vulnerability?</h3>
<ul>
<li>You need help tuning Kubernetes components for security</li>
<li>You need help applying security related updates</li>
<li>Your issue is not security related</li>
</ul>
<h2 id=security-vulnerability-response>Security Vulnerability Response</h2>
<p>Each report is acknowledged and analyzed by Security Response Committee members within 3 working days. This will set off the <a href=https://git.k8s.io/security/security-release-process.md#disclosures>Security Release Process</a>.</p>
<p>Any vulnerability information shared with Security Response Committee stays within Kubernetes project and will not be disseminated to other projects unless it is necessary to get the issue fixed.</p>
<p>As the security issue moves from triage, to identified fix, to release planning we will keep the reporter updated.</p>
<h2 id=public-disclosure-timing>Public Disclosure Timing</h2>
<p>A public disclosure date is negotiated by the Kubernetes Security Response Committee and the bug submitter. We prefer to fully disclose the bug as soon as possible once a user mitigation is available. It is reasonable to delay disclosure when the bug or the fix is not yet fully understood, the solution is not well-tested, or for vendor coordination. The timeframe for disclosure is from immediate (especially if it's already publicly known) to a few weeks. For a vulnerability with a straightforward mitigation, we expect report date to disclosure date to be on the order of 7 days. The Kubernetes Security Response Committee holds the final say when setting a disclosure date.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-df8ff2190764e70c3de2015e2cb46b14>7 - Ports and Protocols</h1>
<p>When running Kubernetes in an environment with strict network boundaries, such
as on-premises datacenter with physical network firewalls or Virtual
Networks in Public Cloud, it is useful to be aware of the ports and protocols
used by Kubernetes components</p>
<h2 id=control-plane>Control plane</h2>
<table>
<thead>
<tr>
<th>Protocol</th>
<th>Direction</th>
<th>Port Range</th>
<th>Purpose</th>
<th>Used By</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>6443</td>
<td>Kubernetes API server</td>
<td>All</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>2379-2380</td>
<td>etcd server client API</td>
<td>kube-apiserver, etcd</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10250</td>
<td>Kubelet API</td>
<td>Self, Control plane</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10259</td>
<td>kube-scheduler</td>
<td>Self</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10257</td>
<td>kube-controller-manager</td>
<td>Self</td>
</tr>
</tbody>
</table>
<p>Although etcd ports are included in control plane section, you can also host your own
etcd cluster externally or on custom ports.</p>
<h2 id=node>Worker node(s)</h2>
<table>
<thead>
<tr>
<th>Protocol</th>
<th>Direction</th>
<th>Port Range</th>
<th>Purpose</th>
<th>Used By</th>
</tr>
</thead>
<tbody>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>10250</td>
<td>Kubelet API</td>
<td>Self, Control plane</td>
</tr>
<tr>
<td>TCP</td>
<td>Inbound</td>
<td>30000-32767</td>
<td>NodePort Services†</td>
<td>All</td>
</tr>
</tbody>
</table>
<p>† Default port range for <a href=/docs/concepts/services-networking/service/>NodePort Services</a>.</p>
<p>All default port numbers can be overridden. When custom ports are used those
ports need to be open instead of defaults mentioned here.</p>
<p>One common example is API server port that is sometimes switched
to 443. Alternatively, the default port is kept as is and API server is put
behind a load balancer that listens on 443 and routes the requests to API server
on the default port.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5bbbc5163b35431b3bff029ab9ec57d3>8 - Setup tools</h1>
</div>
<div class=td-content>
<h1 id=pg-f351ced098abbb076bc8c4be1053672b>8.1 - Kubeadm</h1>
<p><img src=/images/kubeadm-stacked-color.png align=right width=150px>Kubeadm is a tool built to provide <code>kubeadm init</code> and <code>kubeadm join</code> as best-practice "fast paths" for creating Kubernetes clusters.</p>
<p>kubeadm performs the actions necessary to get a minimum viable cluster up and running. By design, it cares only about bootstrapping, not about provisioning machines. Likewise, installing various nice-to-have addons, like the Kubernetes Dashboard, monitoring solutions, and cloud-specific addons, is not in scope.</p>
<p>Instead, we expect higher-level and more tailored tooling to be built on top of kubeadm, and ideally, using kubeadm as the basis of all deployments will make it easier to create conformant clusters.</p>
<h2 id=how-to-install>How to install</h2>
<p>To install kubeadm, see the <a href=/docs/setup/production-environment/tools/kubeadm/install-kubeadm>installation guide</a>.</p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join>kubeadm join</a> to bootstrap a Kubernetes worker node and join it to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-upgrade>kubeadm upgrade</a> to upgrade a Kubernetes cluster to a newer version</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-config>kubeadm config</a> if you initialized your cluster using kubeadm v1.7.x or lower, to configure your cluster for <code>kubeadm upgrade</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-token>kubeadm token</a> to manage tokens for <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-certs>kubeadm certs</a> to manage Kubernetes certificates</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-kubeconfig>kubeadm kubeconfig</a> to manage kubeconfig files</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-version>kubeadm version</a> to print the kubeadm version</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-alpha>kubeadm alpha</a> to preview a set of features made available for gathering feedback from the community</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-36c22b52e8447eb3d2452d4f56fbea9b>8.1.1 - Kubeadm Generated</h1>
</div>
<div class=td-content>
<h1 id=pg-fd3ad295c1f10bfa333f841bbdffba81>8.1.1.1 - </h1>
<p>kubeadm: easily bootstrap a secure Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<pre><code>┌──────────────────────────────────────────────────────────┐
│ KUBEADM                                                  │
│ Easily bootstrap a secure Kubernetes cluster             │
│                                                          │
│ Please give us feedback at:                              │
│ https://github.com/kubernetes/kubeadm/issues             │
└──────────────────────────────────────────────────────────┘
</code></pre>
<p>Example usage:</p>
<pre><code>Create a two-machine cluster with one control-plane node
(which controls the cluster), and one worker node
(where your workloads, like Pods and Deployments run).

┌──────────────────────────────────────────────────────────┐
│ On the first machine:                                    │
├──────────────────────────────────────────────────────────┤
│ control-plane# kubeadm init                              │
└──────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────┐
│ On the second machine:                                   │
├──────────────────────────────────────────────────────────┤
│ worker# kubeadm join &amp;lt;arguments-returned-from-init&amp;gt;      │
└──────────────────────────────────────────────────────────┘

You can then repeat the second step on as many other machines as you like.
</code></pre>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeadm</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8df9aba508b2736a6712ef46227eea7d>8.1.1.2 - </h1>
<p>Commands related to handling kubernetes certificates</p>
<h3 id=synopsis>Synopsis</h3>
<p>Commands related to handling kubernetes certificates</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certs</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-018648dfc6f28bc9b969f45af0563cae>8.1.1.3 - </h1>
<p>Generate certificate keys</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will print out a secure randomly-generated certificate key that can be used with
the "init" command.</p>
<p>You can also use "kubeadm init --upload-certs" without specifying a certificate key and it will
generate and print one for you.</p>
<pre><code>kubeadm certs certificate-key [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certificate-key</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4a1ff27cdf01c1c47d034278048e776b>8.1.1.4 - </h1>
<p>Check certificates expiration for a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Checks expiration for the certificates in the local PKI managed by kubeadm.</p>
<pre><code>kubeadm certs check-expiration [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for check-expiration</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5d6b2999153cd86f56329534249fc4ec>8.1.1.5 - </h1>
<p>Generate keys and certificate signing requests</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates keys and certificate signing requests (CSRs) for all the certificates required to run the control plane. This command also generates partial kubeconfig files with private key data in the "users > user > client-key-data" field, and for each kubeconfig file an accompanying ".csr" file is created.</p>
<p>This command is designed for use in <a href=https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#external-ca-mode>Kubeadm External CA Mode</a>. It generates CSRs which you can then submit to your external certificate authority for signing.</p>
<p>The PEM encoded signed certificates should then be saved alongside the key files, using ".crt" as the file extension, or in the case of kubeconfig files, the PEM encoded signed certificate should be base64 encoded and added to the kubeconfig file in the "users > user > client-certificate-data" field.</p>
<pre><code>kubeadm certs generate-csr [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # The following command will generate keys and CSRs for all control-plane certificates and kubeconfig files:
  kubeadm certs generate-csr --kubeconfig-dir /tmp/etc-k8s --cert-dir /tmp/etc-k8s/pki
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for generate-csr</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-adb5eecdc351074cc2e0cc2b1b4f04a8>8.1.1.6 - </h1>
<p>Renew certificates for a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm certs renew [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for renew</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-df4c2dc6cba0be90d8d7de2fca9b87f7>8.1.1.7 - </h1>
<p>Renew the certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew admin.conf [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for admin.conf</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6d6746e8ac1f1602f7dab1056b27e5c2>8.1.1.8 - </h1>
<p>Renew all available certificates</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew all known certificates necessary to run the control plane. Renewals are run unconditionally, regardless of expiration date. Renewals can also be run individually for more control.</p>
<pre><code>kubeadm certs renew all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7449c7fa06f25b967cf531e937b0f4b2>8.1.1.9 - </h1>
<p>Renew the certificate the apiserver uses to access etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate the apiserver uses to access etcd.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew apiserver-etcd-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-etcd-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b5c6ae77d3be9bd358c68667006cfc18>8.1.1.10 - </h1>
<p>Renew the certificate for the API server to connect to kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for the API server to connect to kubelet.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew apiserver-kubelet-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-kubelet-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4f804e59ec1739e733807d2b591d771f>8.1.1.11 - </h1>
<p>Renew the certificate for serving the Kubernetes API</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for serving the Kubernetes API.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew apiserver [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f5cf8caa95834803b133d53c321ab4a9>8.1.1.12 - </h1>
<p>Renew the certificate embedded in the kubeconfig file for the controller manager to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate embedded in the kubeconfig file for the controller manager to use.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew controller-manager.conf [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for controller-manager.conf</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ee770858e2bb767b79d572b4882af656>8.1.1.13 - </h1>
<p>Renew the certificate for liveness probes to healthcheck etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for liveness probes to healthcheck etcd.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew etcd-healthcheck-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-healthcheck-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7484bf11b6183f4c329b1f66734cc886>8.1.1.14 - </h1>
<p>Renew the certificate for etcd nodes to communicate with each other</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for etcd nodes to communicate with each other.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew etcd-peer [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-peer</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bf444d915ab856dba693c36294c5427b>8.1.1.15 - </h1>
<p>Renew the certificate for serving etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for serving etcd.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew etcd-server [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-server</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f5c087e087714c5290b4967dd7924b3b>8.1.1.16 - </h1>
<p>Renew the certificate for the front proxy client</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for the front proxy client.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew front-proxy-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for front-proxy-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-20703ce1c236264ad78cb1ad7244723e>8.1.1.17 - </h1>
<p>Renew the certificate embedded in the kubeconfig file for the scheduler manager to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate embedded in the kubeconfig file for the scheduler manager to use.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew scheduler.conf [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for scheduler.conf</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-49aaa494ef75de67609987a43e5ee520>8.1.1.18 - </h1>
<p>Output shell completion code for the specified shell (bash or zsh)</p>
<h3 id=synopsis>Synopsis</h3>
<p>Output shell completion code for the specified shell (bash or zsh).
The shell code must be evaluated to provide interactive
completion of kubeadm commands. This can be done by sourcing it from
the .bash_profile.</p>
<p>Note: this requires the bash-completion framework.</p>
<p>To install it on Mac use homebrew:
$ brew install bash-completion
Once installed, bash_completion must be evaluated. This can be done by adding the
following line to the .bash_profile
$ source $(brew --prefix)/etc/bash_completion</p>
<p>If bash-completion is not installed on Linux, please install the 'bash-completion' package
via your distribution's package manager.</p>
<p>Note for zsh users: [1] zsh completions are only supported in versions of zsh >= 5.2</p>
<pre><code>kubeadm completion SHELL [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>
# Install bash completion on a Mac using homebrew
brew install bash-completion
printf &quot;\n# Bash completion support\nsource $(brew --prefix)/etc/bash_completion\n&quot; &gt;&gt; $HOME/.bash_profile
source $HOME/.bash_profile

# Load the kubeadm completion code for bash into the current shell
source &lt;(kubeadm completion bash)

# Write bash completion code to a file and source it from .bash_profile
kubeadm completion bash &gt; ~/.kube/kubeadm_completion.bash.inc
printf &quot;\n# Kubeadm shell completion\nsource '$HOME/.kube/kubeadm_completion.bash.inc'\n&quot; &gt;&gt; $HOME/.bash_profile
source $HOME/.bash_profile

# Load the kubeadm completion code for zsh[1] into the current shell
source &lt;(kubeadm completion zsh)
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for completion</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d63311c16e6468f5a5940aadd902faa7>8.1.1.19 - </h1>
<p>Manage configuration for a kubeadm cluster persisted in a ConfigMap in the cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>There is a ConfigMap in the kube-system namespace called "kubeadm-config" that kubeadm uses to store internal configuration about the
cluster. kubeadm CLI v1.8.0+ automatically creates this ConfigMap with the config used with 'kubeadm init', but if you
initialized your cluster using kubeadm v1.7.x or lower, you must use the 'config upload' command to create this
ConfigMap. This is required so that 'kubeadm upgrade' can configure your upgraded cluster correctly.</p>
<pre><code>kubeadm config [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for config</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6678a79b85306310066616185153377d>8.1.1.20 - </h1>
<p>Interact with container images used by kubeadm</p>
<h3 id=synopsis>Synopsis</h3>
<p>Interact with container images used by kubeadm</p>
<pre><code>kubeadm config images [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for images</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8f73e208cc67d221165f6294393881a7>8.1.1.21 - </h1>
<p>Print a list of images kubeadm will use. The configuration file is used in case any images or image repositories are customized</p>
<h3 id=synopsis>Synopsis</h3>
<p>Print a list of images kubeadm will use. The configuration file is used in case any images or image repositories are customized</p>
<pre><code>kubeadm config images list [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-missing-template-keys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-o, --experimental-output string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Output format. One of: text|json|yaml|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for list</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--show-managed-fields</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, keep the managedFields when printing objects in JSON or YAML format.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9aec3477159c105a46f4479de1c21418>8.1.1.22 - </h1>
<p>Pull images used by kubeadm</p>
<h3 id=synopsis>Synopsis</h3>
<p>Pull images used by kubeadm</p>
<pre><code>kubeadm config images pull [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for pull</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-045e41c28798930e21f77a90c3a90263>8.1.1.23 - </h1>
<p>Read an older version of the kubeadm configuration API types from a file, and output the similar config object for the newer version</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command lets you convert configuration objects of older versions to the latest supported version,
locally in the CLI tool without ever touching anything in the cluster.
In this version of kubeadm, the following API versions are supported:</p>
<ul>
<li>kubeadm.k8s.io/v1beta3</li>
</ul>
<p>Further, kubeadm can only write out config of version "kubeadm.k8s.io/v1beta3", but read both types.
So regardless of what version you pass to the --old-config parameter here, the API object will be
read, deserialized, defaulted, converted, validated, and re-serialized when written to stdout or
--new-config if specified.</p>
<p>In other words, the output of this command is what kubeadm actually would read internally if you
submitted this file to "kubeadm init"</p>
<pre><code>kubeadm config migrate [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for migrate</p></td>
</tr>
<tr>
<td colspan=2>--new-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the resulting equivalent kubeadm config file using the new API version. Optional, if not specified output will be sent to STDOUT.</p></td>
</tr>
<tr>
<td colspan=2>--old-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the kubeadm config file that is using an old API version and should be converted. This flag is mandatory.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e7d83478123771ad14f475ee44440303>8.1.1.24 - </h1>
<p>Print configuration</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command prints configurations for subcommands provided.
For details, see: <a href=https://pkg.go.dev/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm#section-directories>https://pkg.go.dev/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm#section-directories</a></p>
<pre><code>kubeadm config print [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for print</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-57a6b20d9571220989a7a445d4459468>8.1.1.25 - </h1>
<p>Print default init configuration, that can be used for 'kubeadm init'</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command prints objects such as the default init configuration that is used for 'kubeadm init'.</p>
<p>Note that sensitive values like the Bootstrap Token fields are replaced with placeholder values like "abcdef.0123456789abcdef" in order to pass validation but
not perform the real computation for creating a token.</p>
<pre><code>kubeadm config print init-defaults [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--component-configs strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list for component config API objects to print the default values for. Available values: [KubeProxyConfiguration KubeletConfiguration]. If this flag is not set, no component configs will be printed.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for init-defaults</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-92a2c11eef37937af846b55d9b87a544>8.1.1.26 - </h1>
<p>Print default join configuration, that can be used for 'kubeadm join'</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command prints objects such as the default join configuration that is used for 'kubeadm join'.</p>
<p>Note that sensitive values like the Bootstrap Token fields are replaced with placeholder values like "abcdef.0123456789abcdef" in order to pass validation but
not perform the real computation for creating a token.</p>
<pre><code>kubeadm config print join-defaults [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--component-configs strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list for component config API objects to print the default values for. Available values: [KubeProxyConfiguration KubeletConfiguration]. If this flag is not set, no component configs will be printed.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for join-defaults</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-dcfffcaafb438cd650475945ddc129ee>8.1.1.27 - </h1>
<p>Run this command in order to set up the Kubernetes control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run this command in order to set up the Kubernetes control plane</p>
<p>The "init" command executes the following phases:</p>
<pre><code>preflight                    Run pre-flight checks
certs                        Certificate generation
  /ca                          Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components
  /apiserver                   Generate the certificate for serving the Kubernetes API
  /apiserver-kubelet-client    Generate the certificate for the API server to connect to kubelet
  /front-proxy-ca              Generate the self-signed CA to provision identities for front proxy
  /front-proxy-client          Generate the certificate for the front proxy client
  /etcd-ca                     Generate the self-signed CA to provision identities for etcd
  /etcd-server                 Generate the certificate for serving etcd
  /etcd-peer                   Generate the certificate for etcd nodes to communicate with each other
  /etcd-healthcheck-client     Generate the certificate for liveness probes to healthcheck etcd
  /apiserver-etcd-client       Generate the certificate the apiserver uses to access etcd
  /sa                          Generate a private key for signing service account tokens along with its public key
kubeconfig                   Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file
  /admin                       Generate a kubeconfig file for the admin to use and for kubeadm itself
  /kubelet                     Generate a kubeconfig file for the kubelet to use *only* for cluster bootstrapping purposes
  /controller-manager          Generate a kubeconfig file for the controller manager to use
  /scheduler                   Generate a kubeconfig file for the scheduler to use
kubelet-start                Write kubelet settings and (re)start the kubelet
control-plane                Generate all static Pod manifest files necessary to establish the control plane
  /apiserver                   Generates the kube-apiserver static Pod manifest
  /controller-manager          Generates the kube-controller-manager static Pod manifest
  /scheduler                   Generates the kube-scheduler static Pod manifest
etcd                         Generate static Pod manifest file for local etcd
  /local                       Generate the static Pod manifest file for a local, single-node local etcd instance
upload-config                Upload the kubeadm and kubelet configuration to a ConfigMap
  /kubeadm                     Upload the kubeadm ClusterConfiguration to a ConfigMap
  /kubelet                     Upload the kubelet component config to a ConfigMap
upload-certs                 Upload certificates to kubeadm-certs
mark-control-plane           Mark a node as a control-plane
bootstrap-token              Generates bootstrap tokens used to join a node to a cluster
kubelet-finalize             Updates settings relevant to the kubelet after TLS bootstrap
  /experimental-cert-rotation  Enable kubelet client certificate rotation
addon                        Install required addons for passing conformance tests
  /coredns                     Install the CoreDNS addon to a Kubernetes cluster
  /kube-proxy                  Install the kube-proxy addon to a Kubernetes cluster
</code></pre><pre><code>kubeadm init [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-cert-extra-sans strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Key used to encrypt the control-plane certificates in the kubeadm-certs Secret.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for init</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "registry.k8s.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
<tr>
<td colspan=2>--skip-certificate-key-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't print the key used to encrypt the control-plane certificates.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
<tr>
<td colspan=2>--skip-token-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Skip printing of the default bootstrap token generated by 'kubeadm init'.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The token to use for establishing bidirectional trust between nodes and control-plane nodes. The format is [a-z0-9]{6}.[a-z0-9]{16} - e.g. abcdef.0123456789abcdef</p></td>
</tr>
<tr>
<td colspan=2>--token-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration before the token is automatically deleted (e.g. 1s, 2m, 3h). If set to '0', the token will never expire</p></td>
</tr>
<tr>
<td colspan=2>--upload-certs</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Upload control-plane certificates to the kubeadm-certs Secret.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6eaa2624c512051ff2a9cdbc6ee54949>8.1.1.28 - </h1>
<p>Use this command to invoke single phase of the init workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the init workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4b7ada30e3923594b2907dcb8b431080>8.1.1.29 - </h1>
<p>Install required addons for passing conformance tests</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase addon [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for addon</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6d1154da2e554de858cf4e7b37c054fa>8.1.1.30 - </h1>
<p>Install all the addons</p>
<h3 id=synopsis>Synopsis</h3>
<p>Install all the addons</p>
<pre><code>kubeadm init phase addon all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d3a16914ddc849435ed864163978ddbf>8.1.1.31 - </h1>
<p>Install the CoreDNS addon to a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Install the CoreDNS addon components via the API server. Please note that although the DNS server is deployed, it will not be scheduled until CNI is installed.</p>
<pre><code>kubeadm init phase addon coredns [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for coredns</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8a257337ea78e5d9a0c54aa971eaf991>8.1.1.32 - </h1>
<p>Install the kube-proxy addon to a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Install the kube-proxy addon components via the API server.</p>
<pre><code>kubeadm init phase addon kube-proxy [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-proxy</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-77759011117e7974cbfee9694b6f8801>8.1.1.33 - </h1>
<p>Generates bootstrap tokens used to join a node to a cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Bootstrap tokens are used for establishing bidirectional trust between a node joining the cluster and a control-plane node.</p>
<p>This command makes all the configurations required to make bootstrap tokens works and then creates an initial token.</p>
<pre><code>kubeadm init phase bootstrap-token [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Make all the bootstrap token configurations and create an initial token, functionally
  # equivalent to what generated by kubeadm init.
  kubeadm init phase bootstrap-token
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for bootstrap-token</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--skip-token-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Skip printing of the default bootstrap token generated by 'kubeadm init'.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8e1920b2caaa8de839cd3997edca80e9>8.1.1.34 - </h1>
<p>Certificate generation</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase certs [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certs</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-00aa8c2e4b3b2fd3a4b7986976b7bfda>8.1.1.35 - </h1>
<p>Generate all certificates</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate all certificates</p>
<pre><code>kubeadm init phase certs all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-cert-extra-sans strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-316aa97ee5719be5a723ac1b77c44f5a>8.1.1.36 - </h1>
<p>Generate the certificate the apiserver uses to access etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate the apiserver uses to access etcd, and save them into apiserver-etcd-client.crt and apiserver-etcd-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs apiserver-etcd-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-etcd-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-759e85e62b32c0697ab37c214e99a864>8.1.1.37 - </h1>
<p>Generate the certificate for the API server to connect to kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for the API server to connect to kubelet, and save them into apiserver-kubelet-client.crt and apiserver-kubelet-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs apiserver-kubelet-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-kubelet-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2e7091074560abc2a8e7b897cdd8a7b6>8.1.1.38 - </h1>
<p>Generate the certificate for serving the Kubernetes API</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for serving the Kubernetes API, and save them into apiserver.crt and apiserver.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs apiserver [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-cert-extra-sans strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-eedb8f5a6ed4cff1dfb1a5d14176b5b3>8.1.1.39 - </h1>
<p>Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components, and save them into ca.crt and ca.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs ca [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for ca</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c55f2fa6bdaa124b37da090a3ef90902>8.1.1.40 - </h1>
<p>Generate the self-signed CA to provision identities for etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the self-signed CA to provision identities for etcd, and save them into etcd/ca.crt and etcd/ca.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-ca [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-ca</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-10f416336efdcee22d691869e7585b9f>8.1.1.41 - </h1>
<p>Generate the certificate for liveness probes to healthcheck etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for liveness probes to healthcheck etcd, and save them into etcd/healthcheck-client.crt and etcd/healthcheck-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-healthcheck-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-healthcheck-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c4b6d149cda7cac896f4374c821b7fc6>8.1.1.42 - </h1>
<p>Generate the certificate for etcd nodes to communicate with each other</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for etcd nodes to communicate with each other, and save them into etcd/peer.crt and etcd/peer.key files.</p>
<p>Default SANs are localhost, 127.0.0.1, 127.0.0.1, ::1</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-peer [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-peer</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1db087626f4f368e932df6f12993a5ab>8.1.1.43 - </h1>
<p>Generate the certificate for serving etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for serving etcd, and save them into etcd/server.crt and etcd/server.key files.</p>
<p>Default SANs are localhost, 127.0.0.1, 127.0.0.1, ::1</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-server [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-server</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e85da83e18a50e472eb56320af55768a>8.1.1.44 - </h1>
<p>Generate the self-signed CA to provision identities for front proxy</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the self-signed CA to provision identities for front proxy, and save them into front-proxy-ca.crt and front-proxy-ca.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs front-proxy-ca [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for front-proxy-ca</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-eb911bdcb8bb53ceb8b253089ab0d814>8.1.1.45 - </h1>
<p>Generate the certificate for the front proxy client</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for the front proxy client, and save them into front-proxy-client.crt and front-proxy-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs front-proxy-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for front-proxy-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-62c5dc89c39f3ecd6aee57545d12891a>8.1.1.46 - </h1>
<p>Generate a private key for signing service account tokens along with its public key</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the private key for signing service account tokens along with its public key, and save them into sa.key and sa.pub files. If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs sa [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for sa</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2a79e12b9455f0ca1a6d5b00a9841249>8.1.1.47 - </h1>
<p>Generate all static Pod manifest files necessary to establish the control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a2c8efac328fcf416e558bf167ef417d>8.1.1.48 - </h1>
<p>Generate all static Pod manifest files</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate all static Pod manifest files</p>
<pre><code>kubeadm init phase control-plane all [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Generates all static Pod manifest files for control plane components,
  # functionally equivalent to what is generated by kubeadm init.
  kubeadm init phase control-plane all
  
  # Generates all static Pod manifest files using options read from a configuration file.
  kubeadm init phase control-plane all --config config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the API Server or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--controller-manager-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Controller Manager or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
<tr>
<td colspan=2>--scheduler-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Scheduler or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d93bd37094201bdefdb3908c9a6c86b3>8.1.1.49 - </h1>
<p>Generates the kube-apiserver static Pod manifest</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates the kube-apiserver static Pod manifest</p>
<pre><code>kubeadm init phase control-plane apiserver [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the API Server or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-efa9ae4c92ed1c26dc04bb049db38cec>8.1.1.50 - </h1>
<p>Generates the kube-controller-manager static Pod manifest</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates the kube-controller-manager static Pod manifest</p>
<pre><code>kubeadm init phase control-plane controller-manager [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--controller-manager-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Controller Manager or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for controller-manager</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-576c00359074987304b3b418cec9a5b1>8.1.1.51 - </h1>
<p>Generates the kube-scheduler static Pod manifest</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates the kube-scheduler static Pod manifest</p>
<pre><code>kubeadm init phase control-plane scheduler [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for scheduler</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--scheduler-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Scheduler or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e6097fe5dd013abd9f356c2566ef7b63>8.1.1.52 - </h1>
<p>Generate static Pod manifest file for local etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase etcd [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5ab65eab2498cc1893af5b3bf8fe08fc>8.1.1.53 - </h1>
<p>Generate the static Pod manifest file for a local, single-node local etcd instance</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the static Pod manifest file for a local, single-node local etcd instance</p>
<pre><code>kubeadm init phase etcd local [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Generates the static Pod manifest file for etcd, functionally
  # equivalent to what is generated by kubeadm init.
  kubeadm init phase etcd local
  
  # Generates the static Pod manifest file for etcd using options
  # read from a configuration file.
  kubeadm init phase etcd local --config config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for local</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fcb78718510a9d3027d1bb9d379c0c17>8.1.1.54 - </h1>
<p>Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase kubeconfig [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeconfig</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a0e1457f667eb757f82f8c42901aa6c5>8.1.1.55 - </h1>
<p>Generate a kubeconfig file for the admin to use and for kubeadm itself</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the admin and for kubeadm itself, and save it to admin.conf file.</p>
<pre><code>kubeadm init phase kubeconfig admin [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for admin</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-59e362bf565041872395d165e99eafc1>8.1.1.56 - </h1>
<p>Generate all kubeconfig files</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate all kubeconfig files</p>
<pre><code>kubeadm init phase kubeconfig all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2a5040747a02ae2b2326c9901f1725d3>8.1.1.57 - </h1>
<p>Generate a kubeconfig file for the controller manager to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the controller manager to use and save it to controller-manager.conf file</p>
<pre><code>kubeadm init phase kubeconfig controller-manager [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for controller-manager</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-043bd19497eefb77a6ed30a4d704fe7c>8.1.1.58 - </h1>
<p>Generate a kubeconfig file for the kubelet to use <em>only</em> for cluster bootstrapping purposes</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the kubelet to use and save it to kubelet.conf file.</p>
<p>Please note that this should <em>only</em> be used for cluster bootstrapping purposes. After your control plane is up, you should request all kubelet credentials from the CSR API.</p>
<pre><code>kubeadm init phase kubeconfig kubelet [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bffb0d67824e75ade7232d09754b9718>8.1.1.59 - </h1>
<p>Generate a kubeconfig file for the scheduler to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the scheduler to use and save it to scheduler.conf file.</p>
<pre><code>kubeadm init phase kubeconfig scheduler [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for scheduler</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a37b5872c572c71775e389df50fca215>8.1.1.60 - </h1>
<p>Updates settings relevant to the kubelet after TLS bootstrap</p>
<h3 id=synopsis>Synopsis</h3>
<p>Updates settings relevant to the kubelet after TLS bootstrap</p>
<pre><code>kubeadm init phase kubelet-finalize [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Updates settings relevant to the kubelet after TLS bootstrap&quot;
  kubeadm init phase kubelet-finalize all --config
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-finalize</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3f49598c499c3356d89d98fdc8c8ad79>8.1.1.61 - </h1>
<p>Run all kubelet-finalize phases</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run all kubelet-finalize phases</p>
<pre><code>kubeadm init phase kubelet-finalize all [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Updates settings relevant to the kubelet after TLS bootstrap&quot;
  kubeadm init phase kubelet-finalize all --config
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7d68ac74e5301f789ddd2e25dd36218e>8.1.1.62 - </h1>
<p>Enable kubelet client certificate rotation</p>
<h3 id=synopsis>Synopsis</h3>
<p>Enable kubelet client certificate rotation</p>
<pre><code>kubeadm init phase kubelet-finalize experimental-cert-rotation [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for experimental-cert-rotation</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e7c1ae3d905d9b6854216e26651955cd>8.1.1.63 - </h1>
<p>Write kubelet settings and (re)start the kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Write a file with KubeletConfiguration and an environment file with node specific kubelet settings, and then (re)start kubelet.</p>
<pre><code>kubeadm init phase kubelet-start [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Writes a dynamic environment file with kubelet flags from a InitConfiguration file.
  kubeadm init phase kubelet-start --config config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-start</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-967a98823c19c8338bfc0e1338a20fb1>8.1.1.64 - </h1>
<p>Mark a node as a control-plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Mark a node as a control-plane</p>
<pre><code>kubeadm init phase mark-control-plane [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Applies control-plane label and taint to the current node, functionally equivalent to what executed by kubeadm init.
  kubeadm init phase mark-control-plane --config config.yaml
  
  # Applies control-plane label and taint to a specific node
  kubeadm init phase mark-control-plane --node-name myNode
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for mark-control-plane</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b5838cc93a3fdb37b61afd201a71edd9>8.1.1.65 - </h1>
<p>Run pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm init.</p>
<pre><code>kubeadm init phase preflight [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Run pre-flight checks for kubeadm init using a config file.
  kubeadm init phase preflight --config kubeadm-config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f54c84a0fdada369a87b2ced6ccfc38f>8.1.1.66 - </h1>
<p>Upload certificates to kubeadm-certs</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase upload-certs [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Key used to encrypt the control-plane certificates in the kubeadm-certs Secret.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for upload-certs</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--skip-certificate-key-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't print the key used to encrypt the control-plane certificates.</p></td>
</tr>
<tr>
<td colspan=2>--upload-certs</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Upload control-plane certificates to the kubeadm-certs Secret.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-0d96e214c09a8f014e984a6b980522b3>8.1.1.67 - </h1>
<p>Upload the kubeadm and kubelet configuration to a ConfigMap</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase upload-config [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for upload-config</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-48afa88840a20edf1ad613c18480d4fc>8.1.1.68 - </h1>
<p>Upload all configuration to a config map</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upload all configuration to a config map</p>
<pre><code>kubeadm init phase upload-config all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-14da359f76a0f36af507d289dd4a5050>8.1.1.69 - </h1>
<p>Upload the kubeadm ClusterConfiguration to a ConfigMap</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upload the kubeadm ClusterConfiguration to a ConfigMap called kubeadm-config in the kube-system namespace. This enables correct configuration of system components and a seamless user experience when upgrading.</p>
<p>Alternatively, you can use kubeadm config.</p>
<pre><code>kubeadm init phase upload-config kubeadm [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # upload the configuration of your cluster
  kubeadm init phase upload-config --config=myConfig.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeadm</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3fda282409b804a14879b9c65c035797>8.1.1.70 - </h1>
<p>Upload the kubelet component config to a ConfigMap</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upload kubelet configuration extracted from the kubeadm InitConfiguration object to a ConfigMap of the form kubelet-config-1.X in the cluster, where X is the minor version of the current (API Server) Kubernetes version.</p>
<pre><code>kubeadm init phase upload-config kubelet [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Upload the kubelet configuration from the kubeadm Config file to a ConfigMap in the cluster.
  kubeadm init phase upload-config kubelet --config kubeadm.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e044e6c69c2b1512c8d89430e0400771>8.1.1.71 - </h1>
<p>Run this on any machine you wish to join an existing cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>When joining a kubeadm initialized cluster, we need to establish
bidirectional trust. This is split into discovery (having the Node
trust the Kubernetes Control Plane) and TLS bootstrap (having the
Kubernetes Control Plane trust the Node).</p>
<p>There are 2 main schemes for discovery. The first is to use a shared
token along with the IP address of the API server. The second is to
provide a file - a subset of the standard kubeconfig file. This file
can be a local file or downloaded via an HTTPS URL. The forms are
kubeadm join --discovery-token abcdef.1234567890abcdef 1.2.3.4:6443,
kubeadm join --discovery-file path/to/file.conf, or kubeadm join
--discovery-file https://url/file.conf. Only one form can be used. If
the discovery information is loaded from a URL, HTTPS must be used.
Also, in that case the host installed CA bundle is used to verify
the connection.</p>
<p>If you use a shared token for discovery, you should also pass the
--discovery-token-ca-cert-hash flag to validate the public key of the
root certificate authority (CA) presented by the Kubernetes Control Plane.
The value of this flag is specified as "&lt;hash-type>:&lt;hex-encoded-value>",
where the supported hash type is "sha256". The hash is calculated over
the bytes of the Subject Public Key Info (SPKI) object (as in RFC7469).
This value is available in the output of "kubeadm init" or can be
calculated using standard tools. The --discovery-token-ca-cert-hash flag
may be repeated multiple times to allow more than one public key.</p>
<p>If you cannot know the CA public key hash ahead of time, you can pass
the --discovery-token-unsafe-skip-ca-verification flag to disable this
verification. This weakens the kubeadm security model since other nodes
can potentially impersonate the Kubernetes Control Plane.</p>
<p>The TLS bootstrap mechanism is also driven via a shared token. This is
used to temporarily authenticate with the Kubernetes Control Plane to submit a
certificate signing request (CSR) for a locally created key pair. By
default, kubeadm will set up the Kubernetes Control Plane to automatically
approve these signing requests. This token is passed in with the
--tls-bootstrap-token abcdef.1234567890abcdef flag.</p>
<p>Often times the same token is used for both parts. In this case, the
--token flag can be used instead of specifying each token individually.</p>
<p>The "join [api-server-endpoint]" command executes the following phases:</p>
<pre><code>preflight              Run join pre-flight checks
control-plane-prepare  Prepare the machine for serving a control plane
  /download-certs        [EXPERIMENTAL] Download certificates shared among control-plane nodes from the kubeadm-certs Secret
  /certs                 Generate the certificates for the new control plane components
  /kubeconfig            Generate the kubeconfig for the new control plane components
  /control-plane         Generate the manifests for the new control plane components
kubelet-start          Write kubelet settings, certificates and (re)start the kubelet
control-plane-join     Join a machine as a control plane instance
  /etcd                  Add a new local etcd member
  /update-status         Register the new control-plane node into the ClusterStatus maintained in the kubeadm-config ConfigMap (DEPRECATED)
  /mark-control-plane    Mark a node as a control-plane
</code></pre><pre><code>kubeadm join [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for join</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-9f968809f867b76728697577492429e8>8.1.1.72 - </h1>
<p>Use this command to invoke single phase of the join workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the join workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c3c506c1683aed34398a34ab66d609da>8.1.1.73 - </h1>
<p>Join a machine as a control plane instance</p>
<h3 id=synopsis>Synopsis</h3>
<p>Join a machine as a control plane instance</p>
<pre><code>kubeadm join phase control-plane-join [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Joins a machine as a control plane instance
  kubeadm join phase control-plane-join all
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane-join</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2c1a5a4405dca745ef50b4e86f5977c7>8.1.1.74 - </h1>
<p>Join a machine as a control plane instance</p>
<h3 id=synopsis>Synopsis</h3>
<p>Join a machine as a control plane instance</p>
<pre><code>kubeadm join phase control-plane-join all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-003aaef561d065ecdaeb2c325b6b9253>8.1.1.75 - </h1>
<p>Add a new local etcd member</p>
<h3 id=synopsis>Synopsis</h3>
<p>Add a new local etcd member</p>
<pre><code>kubeadm join phase control-plane-join etcd [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-535f050663a6d8db3a61df2b19a0714b>8.1.1.76 - </h1>
<p>Mark a node as a control-plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Mark a node as a control-plane</p>
<pre><code>kubeadm join phase control-plane-join mark-control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for mark-control-plane</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2f0a684baffe3cdf830c16693412f8e0>8.1.1.77 - </h1>
<p>Register the new control-plane node into the ClusterStatus maintained in the kubeadm-config ConfigMap (DEPRECATED)</p>
<h3 id=synopsis>Synopsis</h3>
<p>Register the new control-plane node into the ClusterStatus maintained in the kubeadm-config ConfigMap (DEPRECATED)</p>
<pre><code>kubeadm join phase control-plane-join update-status [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for update-status</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-aba528e06c437710b269f4e41f854fdd>8.1.1.78 - </h1>
<p>Prepare the machine for serving a control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Prepare the machine for serving a control plane</p>
<pre><code>kubeadm join phase control-plane-prepare [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Prepares the machine for serving a control plane
  kubeadm join phase control-plane-prepare all
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane-prepare</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1d7987a759cd1519def4d433710cdff1>8.1.1.79 - </h1>
<p>Prepare the machine for serving a control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Prepare the machine for serving a control plane</p>
<pre><code>kubeadm join phase control-plane-prepare all [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-33216a69b333c330cb8b305a119abc7c>8.1.1.80 - </h1>
<p>Generate the certificates for the new control plane components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificates for the new control plane components</p>
<pre><code>kubeadm join phase control-plane-prepare certs [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certs</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-53abd743076fc859067264f3e8e676e0>8.1.1.81 - </h1>
<p>Generate the manifests for the new control plane components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the manifests for the new control plane components</p>
<pre><code>kubeadm join phase control-plane-prepare control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3a08eb202d572e417768a942ad24c59f>8.1.1.82 - </h1>
<p>[EXPERIMENTAL] Download certificates shared among control-plane nodes from the kubeadm-certs Secret</p>
<h3 id=synopsis>Synopsis</h3>
<p>[EXPERIMENTAL] Download certificates shared among control-plane nodes from the kubeadm-certs Secret</p>
<pre><code>kubeadm join phase control-plane-prepare download-certs [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for download-certs</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-11ed4820a6c3b411d9c4b87163cf0ae7>8.1.1.83 - </h1>
<p>Generate the kubeconfig for the new control plane components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig for the new control plane components</p>
<pre><code>kubeadm join phase control-plane-prepare kubeconfig [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeconfig</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e81c9d9320242b5ed4b063beea6696f8>8.1.1.84 - </h1>
<p>Write kubelet settings, certificates and (re)start the kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Write a file with KubeletConfiguration and an environment file with node specific kubelet settings, and then (re)start kubelet.</p>
<pre><code>kubeadm join phase kubelet-start [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-start</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-47f2d404188d6eb1fbf6fffd7fba4e48>8.1.1.85 - </h1>
<p>Run join pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm join.</p>
<pre><code>kubeadm join phase preflight [api-server-endpoint] [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Run join pre-flight checks using a config file.
  kubeadm join phase preflight --config kubeadm-config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-257824537b4c6c6b33249aa786461156>8.1.1.86 - </h1>
<p>Kubeconfig file utilities</p>
<h3 id=synopsis>Synopsis</h3>
<p>Kubeconfig file utilities.</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeconfig</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e10faf6f940de61052258af59e036518>8.1.1.87 - </h1>
<p>Output a kubeconfig file for an additional user</p>
<h3 id=synopsis>Synopsis</h3>
<p>Output a kubeconfig file for an additional user.</p>
<pre><code>kubeadm kubeconfig user [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Output a kubeconfig file for an additional user named foo using a kubeadm config file bar
  kubeadm kubeconfig user --client-name=foo --config=bar
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--client-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The name of user. It will be used as the CN if client certificates are created</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for user</p></td>
</tr>
<tr>
<td colspan=2>--org strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The orgnizations of the client certificate. It will be used as the O if client certificates are created</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The token that should be used as the authentication mechanism for this kubeconfig, instead of client certificates</p></td>
</tr>
<tr>
<td colspan=2>--validity-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 8760h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The validity period of the client certificate. It is an offset from the current time.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a46a193f2322aa88cb3b2de2447b0461>8.1.1.88 - </h1>
<p>Performs a best effort revert of changes made to this host by 'kubeadm init' or 'kubeadm join'</p>
<h3 id=synopsis>Synopsis</h3>
<p>Performs a best effort revert of changes made to this host by 'kubeadm init' or 'kubeadm join'</p>
<p>The "reset" command executes the following phases:</p>
<pre><code>preflight              Run reset pre-flight checks
update-cluster-status  Remove this node from the ClusterStatus object (DEPRECATED).
remove-etcd-member     Remove a local etcd member.
cleanup-node           Run cleanup node.
</code></pre><pre><code>kubeadm reset [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the directory where the certificates are stored. If specified, clean this directory.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>-f, --force</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Reset the node without prompting for confirmation.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for reset</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f5b27d7bd0eeed918f8635c68d220dc5>8.1.1.89 - </h1>
<p>Use this command to invoke single phase of the reset workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the reset workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-370e9ffda66b4c48dfa54ea37c3aad21>8.1.1.90 - </h1>
<p>Run cleanup node.</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run cleanup node.</p>
<pre><code>kubeadm reset phase cleanup-node [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the directory where the certificates are stored. If specified, clean this directory.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for cleanup-node</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6bd27042c883aa5c498647d37762392c>8.1.1.91 - </h1>
<p>Run reset pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm reset.</p>
<pre><code>kubeadm reset phase preflight [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-f, --force</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Reset the node without prompting for confirmation.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-3a000435e1cca0be398b44b487f530c8>8.1.1.92 - </h1>
<p>Remove a local etcd member.</p>
<h3 id=synopsis>Synopsis</h3>
<p>Remove a local etcd member for a control plane node.</p>
<pre><code>kubeadm reset phase remove-etcd-member [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for remove-etcd-member</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-97fbe97ca22de377e7fbf2517e0451b6>8.1.1.93 - </h1>
<p>Remove this node from the ClusterStatus object (DEPRECATED).</p>
<h3 id=synopsis>Synopsis</h3>
<p>Remove this node from the ClusterStatus object (DEPRECATED).</p>
<pre><code>kubeadm reset phase update-cluster-status [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for update-cluster-status</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bee6749065a369c2ab5b311eb43c40ba>8.1.1.94 - </h1>
<p>Manage bootstrap tokens</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command manages bootstrap tokens. It is optional and needed only for advanced use cases.</p>
<p>In short, bootstrap tokens are used for establishing bidirectional trust between a client and a server.
A bootstrap token can be used when a client (for example a node that is about to join the cluster) needs
to trust the server it is talking to. Then a bootstrap token with the "signing" usage can be used.
bootstrap tokens can also function as a way to allow short-lived authentication to the API Server
(the token serves as a way for the API Server to trust the client), for example for doing the TLS Bootstrap.</p>
<p>What is a bootstrap token more exactly?</p>
<ul>
<li>It is a Secret in the kube-system namespace of type "bootstrap.kubernetes.io/token".</li>
<li>A bootstrap token must be of the form "[a-z0-9]{6}.[a-z0-9]{16}". The former part is the public token ID,
while the latter is the Token Secret and it must be kept private at all circumstances!</li>
<li>The name of the Secret must be named "bootstrap-token-(token-id)".</li>
</ul>
<p>You can read more about bootstrap tokens here:
<a href=https://kubernetes.io/docs/admin/bootstrap-tokens/>https://kubernetes.io/docs/admin/bootstrap-tokens/</a></p>
<pre><code>kubeadm token [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for token</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bdd9680ec894593d17f782d5e5665fd4>8.1.1.95 - </h1>
<p>Create bootstrap tokens on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will create a bootstrap token for you.
You can specify the usages for this token, the "time to live" and an optional human friendly description.</p>
<p>The [token] is the actual token to write.
This should be a securely generated random token of the form "[a-z0-9]{6}.[a-z0-9]{16}".
If no [token] is given, kubeadm will generate a random token instead.</p>
<pre><code>kubeadm token create [token]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>When used together with '--print-join-command', print the full 'kubeadm join' flag needed to join the cluster as a control-plane. To create a new certificate key you must use 'kubeadm init phase upload-certs --upload-certs'.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--description string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A human friendly description of how this token is used.</p></td>
</tr>
<tr>
<td colspan=2>--groups strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "system:bootstrappers:kubeadm:default-node-token"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Extra groups that this token will authenticate as when used for authentication. Must match "\Asystem:bootstrappers:[a-z0-9:-]{0,255}[a-z0-9]\z"</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for create</p></td>
</tr>
<tr>
<td colspan=2>--print-join-command</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Instead of printing only the token, print the full 'kubeadm join' flag needed to join the cluster using the token.</p></td>
</tr>
<tr>
<td colspan=2>--ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration before the token is automatically deleted (e.g. 1s, 2m, 3h). If set to '0', the token will never expire</p></td>
</tr>
<tr>
<td colspan=2>--usages strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "signing,authentication"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Describes the ways in which this token can be used. You can pass --usages multiple times or provide a comma separated list of options. Valid options: [signing,authentication]</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1d005baad1a1e217d7ae0210fec96c3f>8.1.1.96 - </h1>
<p>Delete bootstrap tokens on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will delete a list of bootstrap tokens for you.</p>
<p>The [token-value] is the full Token of the form "[a-z0-9]{6}.[a-z0-9]{16}" or the
Token ID of the form "[a-z0-9]{6}" to delete.</p>
<pre><code>kubeadm token delete [token-value] ...
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for delete</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c79d11d27bed54caac743c93e0b2fb24>8.1.1.97 - </h1>
<p>Generate and print a bootstrap token, but do not create it on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will print out a randomly-generated bootstrap token that can be used with
the "init" and "join" commands.</p>
<p>You don't have to use this command in order to generate a token. You can do so
yourself as long as it is in the format "[a-z0-9]{6}.[a-z0-9]{16}". This
command is provided for convenience to generate tokens in the given format.</p>
<p>You can also use "kubeadm init" without specifying a token and it will
generate and print one for you.</p>
<pre><code>kubeadm token generate [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for generate</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ba78e64c325e4131dd741235e2a1b2c0>8.1.1.98 - </h1>
<p>List bootstrap tokens on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will list all bootstrap tokens for you.</p>
<pre><code>kubeadm token list [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-missing-template-keys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.</p></td>
</tr>
<tr>
<td colspan=2>-o, --experimental-output string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Output format. One of: text|json|yaml|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for list</p></td>
</tr>
<tr>
<td colspan=2>--show-managed-fields</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, keep the managedFields when printing objects in JSON or YAML format.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-872d33f1fbc83cb2f0bf89b4bd545174>8.1.1.99 - </h1>
<p>Upgrade your cluster smoothly to a newer version with this command</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade your cluster smoothly to a newer version with this command</p>
<pre><code>kubeadm upgrade [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for upgrade</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-7d8c1710684742ca940f580674225d9d>8.1.1.100 - </h1>
<p>Upgrade your Kubernetes cluster to the specified version</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade your Kubernetes cluster to the specified version</p>
<pre><code>kubeadm upgrade apply [version]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-experimental-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show unstable versions of Kubernetes as an upgrade alternative and allow upgrading to an alpha/beta/release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--allow-release-candidate-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show release candidate versions of Kubernetes as an upgrade alternative and allow upgrading to a release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-renewal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the renewal of certificates used by component changed during upgrades.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output what actions would be performed.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade of etcd.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-f, --force</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Force upgrading although some requirements might not be met. This also implies non-interactive mode.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apply</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--print-config</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specifies whether the configuration file that will be used in the upgrade should be printed or not.</p></td>
</tr>
<tr>
<td colspan=2>-y, --yes</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade and do not prompt for confirmation (non-interactive mode).</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-28dcf20d89c7bb1c8e7a3873d7703d5d>8.1.1.101 - </h1>
<p>Show what differences would be applied to existing static pod manifests. See also: kubeadm upgrade apply --dry-run</p>
<h3 id=synopsis>Synopsis</h3>
<p>Show what differences would be applied to existing static pod manifests. See also: kubeadm upgrade apply --dry-run</p>
<pre><code>kubeadm upgrade diff [version] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--api-server-manifest string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/manifests/kube-apiserver.yaml"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>path to API server manifest</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-c, --context-lines int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 3</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>How many lines of context in the diff</p></td>
</tr>
<tr>
<td colspan=2>--controller-manager-manifest string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/manifests/kube-controller-manager.yaml"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>path to controller manifest</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for diff</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--scheduler-manifest string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/manifests/kube-scheduler.yaml"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>path to scheduler manifest</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f869b6331e40c6f9eb01314f96d3113e>8.1.1.102 - </h1>
<p>Upgrade commands for a node in the cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade commands for a node in the cluster</p>
<p>The "node" command executes the following phases:</p>
<pre><code>preflight       Run upgrade node pre-flight checks
control-plane   Upgrade the control plane instance deployed on this node, if any
kubelet-config  Upgrade the kubelet configuration for this node
</code></pre><pre><code>kubeadm upgrade node [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-renewal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the renewal of certificates used by component changed during upgrades.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output the actions that would be performed.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade of etcd.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for node</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-19a94d2f7649959b218952cef00729f4>8.1.1.103 - </h1>
<p>Use this command to invoke single phase of the node workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the node workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b22d3ed181fb7f926ae2081f8fc8c14d>8.1.1.104 - </h1>
<p>Upgrade the control plane instance deployed on this node, if any</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade the control plane instance deployed on this node, if any</p>
<pre><code>kubeadm upgrade node phase control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-renewal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the renewal of certificates used by component changed during upgrades.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output the actions that would be performed.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade of etcd.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ae1ea74c2c21b25a3c1eacdaf549274b>8.1.1.105 - </h1>
<p>Upgrade the kubelet configuration for this node</p>
<h3 id=synopsis>Synopsis</h3>
<p>Download the kubelet configuration from a ConfigMap of the form "kubelet-config-1.X" in the cluster, where X is the minor version of the kubelet. kubeadm uses the KuberneteVersion field in the kubeadm-config ConfigMap to determine what the <em>desired</em> kubelet version is.</p>
<pre><code>kubeadm upgrade node phase kubelet-config [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output the actions that would be performed.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-config</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-633020ef232bc34f60c82153578a6c9b>8.1.1.106 - </h1>
<p>Run upgrade node pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm upgrade node.</p>
<pre><code>kubeadm upgrade node phase preflight [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e938edeb3d824f9b364de617a1f10a93>8.1.1.107 - </h1>
<p>Check which versions are available to upgrade to and validate whether your current cluster is upgradeable. To skip the internet check, pass in the optional [version] parameter</p>
<h3 id=synopsis>Synopsis</h3>
<p>Check which versions are available to upgrade to and validate whether your current cluster is upgradeable. To skip the internet check, pass in the optional [version] parameter</p>
<pre><code>kubeadm upgrade plan [version] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-experimental-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show unstable versions of Kubernetes as an upgrade alternative and allow upgrading to an alpha/beta/release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--allow-release-candidate-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show release candidate versions of Kubernetes as an upgrade alternative and allow upgrading to a release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for plan</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--print-config</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specifies whether the configuration file that will be used in the upgrade should be printed or not.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-aa9f718186487df2ab6885cae45f5d37>8.1.1.108 - </h1>
<p>Print the version of kubeadm</p>
<h3 id=synopsis>Synopsis</h3>
<p>Print the version of kubeadm</p>
<pre><code>kubeadm version [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for version</p></td>
</tr>
<tr>
<td colspan=2>-o, --output string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Output format; available options are 'yaml', 'json' and 'short'</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-60d816e74ec8e0301cc484b19d7694e6>8.1.1.109 - </h1>
<p>All files in this directory are auto-generated from other repos. <strong>Do not edit them manually. You must edit them in their upstream repo.</strong></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-82b2fcf985bae77dcb754387a9fcc64f>8.1.2 - kubeadm init</h1>
<p>This command initializes a Kubernetes control-plane node.</p>
<p>Run this command in order to set up the Kubernetes control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run this command in order to set up the Kubernetes control plane</p>
<p>The "init" command executes the following phases:</p>
<pre><code>preflight                    Run pre-flight checks
certs                        Certificate generation
  /ca                          Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components
  /apiserver                   Generate the certificate for serving the Kubernetes API
  /apiserver-kubelet-client    Generate the certificate for the API server to connect to kubelet
  /front-proxy-ca              Generate the self-signed CA to provision identities for front proxy
  /front-proxy-client          Generate the certificate for the front proxy client
  /etcd-ca                     Generate the self-signed CA to provision identities for etcd
  /etcd-server                 Generate the certificate for serving etcd
  /etcd-peer                   Generate the certificate for etcd nodes to communicate with each other
  /etcd-healthcheck-client     Generate the certificate for liveness probes to healthcheck etcd
  /apiserver-etcd-client       Generate the certificate the apiserver uses to access etcd
  /sa                          Generate a private key for signing service account tokens along with its public key
kubeconfig                   Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file
  /admin                       Generate a kubeconfig file for the admin to use and for kubeadm itself
  /kubelet                     Generate a kubeconfig file for the kubelet to use *only* for cluster bootstrapping purposes
  /controller-manager          Generate a kubeconfig file for the controller manager to use
  /scheduler                   Generate a kubeconfig file for the scheduler to use
kubelet-start                Write kubelet settings and (re)start the kubelet
control-plane                Generate all static Pod manifest files necessary to establish the control plane
  /apiserver                   Generates the kube-apiserver static Pod manifest
  /controller-manager          Generates the kube-controller-manager static Pod manifest
  /scheduler                   Generates the kube-scheduler static Pod manifest
etcd                         Generate static Pod manifest file for local etcd
  /local                       Generate the static Pod manifest file for a local, single-node local etcd instance
upload-config                Upload the kubeadm and kubelet configuration to a ConfigMap
  /kubeadm                     Upload the kubeadm ClusterConfiguration to a ConfigMap
  /kubelet                     Upload the kubelet component config to a ConfigMap
upload-certs                 Upload certificates to kubeadm-certs
mark-control-plane           Mark a node as a control-plane
bootstrap-token              Generates bootstrap tokens used to join a node to a cluster
kubelet-finalize             Updates settings relevant to the kubelet after TLS bootstrap
  /experimental-cert-rotation  Enable kubelet client certificate rotation
addon                        Install required addons for passing conformance tests
  /coredns                     Install the CoreDNS addon to a Kubernetes cluster
  /kube-proxy                  Install the kube-proxy addon to a Kubernetes cluster
</code></pre><pre><code>kubeadm init [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-cert-extra-sans strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Key used to encrypt the control-plane certificates in the kubeadm-certs Secret.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for init</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "registry.k8s.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
<tr>
<td colspan=2>--skip-certificate-key-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't print the key used to encrypt the control-plane certificates.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
<tr>
<td colspan=2>--skip-token-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Skip printing of the default bootstrap token generated by 'kubeadm init'.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The token to use for establishing bidirectional trust between nodes and control-plane nodes. The format is [a-z0-9]{6}.[a-z0-9]{16} - e.g. abcdef.0123456789abcdef</p></td>
</tr>
<tr>
<td colspan=2>--token-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration before the token is automatically deleted (e.g. 1s, 2m, 3h). If set to '0', the token will never expire</p></td>
</tr>
<tr>
<td colspan=2>--upload-certs</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Upload control-plane certificates to the kubeadm-certs Secret.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h3 id=init-workflow>Init workflow</h3>
<p><code>kubeadm init</code> bootstraps a Kubernetes control-plane node by executing the
following steps:</p>
<ol>
<li>
<p>Runs a series of pre-flight checks to validate the system state
before making changes. Some checks only trigger warnings, others are
considered errors and will exit kubeadm until the problem is corrected or the
user specifies <code>--ignore-preflight-errors=&lt;list-of-errors></code>.</p>
</li>
<li>
<p>Generates a self-signed CA to set up identities for each component in the cluster. The user can provide their
own CA cert and/or key by dropping it in the cert directory configured via <code>--cert-dir</code>
(<code>/etc/kubernetes/pki</code> by default).
The APIServer certs will have additional SAN entries for any <code>--apiserver-cert-extra-sans</code> arguments, lowercased if necessary.</p>
</li>
<li>
<p>Writes kubeconfig files in <code>/etc/kubernetes/</code> for
the kubelet, the controller-manager and the scheduler to use to connect to the
API server, each with its own identity, as well as an additional
kubeconfig file for administration named <code>admin.conf</code>.</p>
</li>
<li>
<p>Generates static Pod manifests for the API server,
controller-manager and scheduler. In case an external etcd is not provided,
an additional static Pod manifest is generated for etcd.</p>
<p>Static Pod manifests are written to <code>/etc/kubernetes/manifests</code>; the kubelet
watches this directory for Pods to create on startup.</p>
<p>Once control plane Pods are up and running, the <code>kubeadm init</code> sequence can continue.</p>
</li>
<li>
<p>Apply labels and taints to the control-plane node so that no additional workloads will
run there.</p>
</li>
<li>
<p>Generates the token that additional nodes can use to register
themselves with a control-plane in the future. Optionally, the user can provide a
token via <code>--token</code>, as described in the
<a href=/docs/reference/setup-tools/kubeadm/kubeadm-token/>kubeadm token</a> docs.</p>
</li>
<li>
<p>Makes all the necessary configurations for allowing node joining with the
<a href=/docs/reference/access-authn-authz/bootstrap-tokens/>Bootstrap Tokens</a> and
<a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/>TLS Bootstrap</a>
mechanism:</p>
<ul>
<li>
<p>Write a ConfigMap for making available all the information required
for joining, and set up related RBAC access rules.</p>
</li>
<li>
<p>Let Bootstrap Tokens access the CSR signing API.</p>
</li>
<li>
<p>Configure auto-approval for new CSR requests.</p>
</li>
</ul>
<p>See <a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> for additional info.</p>
</li>
<li>
<p>Installs a DNS server (CoreDNS) and the kube-proxy addon components via the API server.
In Kubernetes version 1.11 and later CoreDNS is the default DNS server.
Please note that although the DNS server is deployed, it will not be scheduled until CNI is installed.</p>
<div class="alert alert-danger warning callout" role=alert>
<strong>Warning:</strong> kube-dns usage with kubeadm is deprecated as of v1.18 and is removed in v1.21.
</div>
</li>
</ol>
<h3 id=init-phases>Using init phases with kubeadm</h3>
<p>Kubeadm allows you to create a control-plane node in phases using the <code>kubeadm init phase</code> command.</p>
<p>To view the ordered list of phases and sub-phases you can call <code>kubeadm init --help</code>. The list will be located at the top of the help screen and each phase will have a description next to it.
Note that by calling <code>kubeadm init</code> all of the phases and sub-phases will be executed in this exact order.</p>
<p>Some phases have unique flags, so if you want to have a look at the list of available options add <code>--help</code>, for example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo kubeadm init phase control-plane controller-manager --help
</code></pre></div><p>You can also use <code>--help</code> to see the list of sub-phases for a certain parent phase:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo kubeadm init phase control-plane --help
</code></pre></div><p><code>kubeadm init</code> also exposes a flag called <code>--skip-phases</code> that can be used to skip certain phases. The flag accepts a list of phase names and the names can be taken from the above ordered list.</p>
<p>An example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo kubeadm init phase control-plane all --config<span style=color:#666>=</span>configfile.yaml
sudo kubeadm init phase etcd <span style=color:#a2f>local</span> --config<span style=color:#666>=</span>configfile.yaml
<span style=color:#080;font-style:italic># you can now modify the control plane and etcd manifest files</span>
sudo kubeadm init --skip-phases<span style=color:#666>=</span>control-plane,etcd --config<span style=color:#666>=</span>configfile.yaml
</code></pre></div><p>What this example would do is write the manifest files for the control plane and etcd in <code>/etc/kubernetes/manifests</code> based on the configuration in <code>configfile.yaml</code>. This allows you to modify the files and then skip these phases using <code>--skip-phases</code>. By calling the last command you will create a control plane node with the custom manifest files.</p>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [beta]</code>
</div>
<p>Alternatively, you can use the <code>skipPhases</code> field under <code>InitConfiguration</code>.</p>
<h3 id=config-file>Using kubeadm init with a configuration file</h3>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> The config file is still considered beta and may change in future versions.
</div>
<p>It's possible to configure <code>kubeadm init</code> with a configuration file instead of command
line flags, and some more advanced features may only be available as
configuration file options. This file is passed using the <code>--config</code> flag and it must
contain a <code>ClusterConfiguration</code> structure and optionally more structures separated by <code>---\n</code>
Mixing <code>--config</code> with others flags may not be allowed in some cases.</p>
<p>The default configuration can be printed out using the
<a href=/docs/reference/setup-tools/kubeadm/kubeadm-config/>kubeadm config print</a> command.</p>
<p>If your configuration is not using the latest version it is <strong>recommended</strong> that you migrate using
the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-config/>kubeadm config migrate</a> command.</p>
<p>For more information on the fields and usage of the configuration you can navigate to our
<a href=/docs/reference/config-api/kubeadm-config.v1beta3/>API reference page</a>.</p>
<h3 id=kube-proxy>Adding kube-proxy parameters</h3>
<p>For information about kube-proxy parameters in the kubeadm configuration see:</p>
<ul>
<li><a href=/docs/reference/config-api/kube-proxy-config.v1alpha1/>kube-proxy reference</a></li>
</ul>
<p>For information about enabling IPVS mode with kubeadm see:</p>
<ul>
<li><a href=https://github.com/kubernetes/kubernetes/blob/master/pkg/proxy/ipvs/README.md>IPVS</a></li>
</ul>
<h3 id=control-plane-flags>Passing custom flags to control plane components</h3>
<p>For information about passing flags to control plane components see:</p>
<ul>
<li><a href=/docs/setup/production-environment/tools/kubeadm/control-plane-flags/>control-plane-flags</a></li>
</ul>
<h3 id=without-internet-connection>Running kubeadm without an Internet connection</h3>
<p>For running kubeadm without an Internet connection you have to pre-pull the required control-plane images.</p>
<p>You can list and pull the images using the <code>kubeadm config images</code> sub-command:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm config images list
kubeadm config images pull
</code></pre></div><p>You can pass <code>--config</code> to the above commands with a <a href=#config-file>kubeadm configuration file</a>
to control the <code>kubernetesVersion</code> and <code>imageRepository</code> fields.</p>
<p>All default <code>registry.k8s.io</code> images that kubeadm requires support multiple architectures.</p>
<h3 id=custom-images>Using custom images</h3>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> For Kubernetes v1.22.0 through to v1.22.16, kubeadm used images from <code>k8s.gcr.io</code> by default. See <a href=https://k8s.io/blog/2022/11/28/registry-k8s-io-faster-cheaper-ga/>registry.k8s.io: faster, cheaper and Generally Available</a>.
</div>
<p>By default, kubeadm pulls images from <code>registry.k8s.io</code>. If the
requested Kubernetes version is a CI label (such as <code>ci/latest</code>)
<code>gcr.io/k8s-staging-ci-images</code> is used.</p>
<p>You can override this behavior by using <a href=#config-file>kubeadm with a configuration file</a>.
Allowed customization are:</p>
<ul>
<li>To provide <code>kubernetesVersion</code> which affects the version of the images.</li>
<li>To provide an alternative <code>imageRepository</code> to be used instead of
<code>registry.k8s.io</code>.</li>
<li>To provide a specific <code>imageRepository</code> and <code>imageTag</code> for etcd or CoreDNS.</li>
</ul>
<p>Image paths between the default <code>registry.k8s.io</code> and a custom repository specified using
<code>imageRepository</code> may differ for backwards compatibility reasons. For example,
one image might have a subpath at <code>registry.k8s.io/subpath/image</code>, but be defaulted
to <code>my.customrepository.io/image</code> when using a custom repository.</p>
<p>To ensure you push the images to your custom repository in paths that kubeadm
can consume, you must:</p>
<ul>
<li>Pull images from the defaults paths at <code>registry.k8s.io</code> using <code>kubeadm config images {list|pull}</code>.</li>
<li>Push images to the paths from <code>kubeadm config images list --config=config.yaml</code>,
where <code>config.yaml</code> contains the custom <code>imageRepository</code>, and/or <code>imageTag</code>
for etcd and CoreDNS.</li>
<li>Pass the same <code>config.yaml</code> to <code>kubeadm init</code>.</li>
</ul>
<h3 id=uploading-control-plane-certificates-to-the-cluster>Uploading control-plane certificates to the cluster</h3>
<p>By adding the flag <code>--upload-certs</code> to <code>kubeadm init</code> you can temporary upload
the control-plane certificates to a Secret in the cluster. Please note that this Secret
will expire automatically after 2 hours. The certificates are encrypted using
a 32byte key that can be specified using <code>--certificate-key</code>. The same key can be used
to download the certificates when additional control-plane nodes are joining, by passing
<code>--control-plane</code> and <code>--certificate-key</code> to <code>kubeadm join</code>.</p>
<p>The following phase command can be used to re-upload the certificates after expiration:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm init phase upload-certs --upload-certs --certificate-key<span style=color:#666>=</span>SOME_VALUE --config<span style=color:#666>=</span>SOME_YAML_FILE
</code></pre></div><p>If the flag <code>--certificate-key</code> is not passed to <code>kubeadm init</code> and
<code>kubeadm init phase upload-certs</code> a new key will be generated automatically.</p>
<p>The following command can be used to generate a new key on demand:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm certs certificate-key
</code></pre></div><h3 id=certificate-management-with-kubeadm>Certificate management with kubeadm</h3>
<p>For detailed information on certificate management with kubeadm see
<a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/>Certificate Management with kubeadm</a>.
The document includes information about using external CA, custom certificates
and certificate renewal.</p>
<h3 id=kubelet-drop-in>Managing the kubeadm drop-in file for the kubelet</h3>
<p>The <code>kubeadm</code> package ships with a configuration file for running the <code>kubelet</code> by <code>systemd</code>. Note that the kubeadm CLI never touches this drop-in file. This drop-in file is part of the kubeadm DEB/RPM package.</p>
<p>For further information, see <a href=/docs/setup/production-environment/tools/kubeadm/kubelet-integration/#the-kubelet-drop-in-file-for-systemd>Managing the kubeadm drop-in file for systemd</a>.</p>
<h3 id=use-kubeadm-with-cri-runtimes>Use kubeadm with CRI runtimes</h3>
<p>By default kubeadm attempts to detect your container runtime. For more details on this detection, see
the <a href=/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-runtime>kubeadm CRI installation guide</a>.</p>
<h3 id=setting-the-node-name>Setting the node name</h3>
<p>By default, <code>kubeadm</code> assigns a node name based on a machine's host address. You can override this setting with the <code>--node-name</code> flag.
The flag passes the appropriate <a href=/docs/reference/command-line-tools-reference/kubelet/#options><code>--hostname-override</code></a>
value to the kubelet.</p>
<p>Be aware that overriding the hostname can <a href=https://github.com/kubernetes/website/pull/8873>interfere with cloud providers</a>.</p>
<h3 id=automating-kubeadm>Automating kubeadm</h3>
<p>Rather than copying the token you obtained from <code>kubeadm init</code> to each node, as
in the <a href=/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/>basic kubeadm tutorial</a>, you can parallelize the
token distribution for easier automation. To implement this automation, you must
know the IP address that the control-plane node will have after it is started,
or use a DNS name or an address of a load balancer.</p>
<ol>
<li>
<p>Generate a token. This token must have the form <code>&lt;6 character string>.&lt;16 character string></code>. More formally, it must match the regex:
<code>[a-z0-9]{6}\.[a-z0-9]{16}</code>.</p>
<p>kubeadm can generate a token for you:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell> kubeadm token generate
</code></pre></div></li>
<li>
<p>Start both the control-plane node and the worker nodes concurrently with this token.
As they come up they should find each other and form the cluster. The same
<code>--token</code> argument can be used on both <code>kubeadm init</code> and <code>kubeadm join</code>.</p>
</li>
<li>
<p>Similar can be done for <code>--certificate-key</code> when joining additional control-plane
nodes. The key can be generated using:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm certs certificate-key
</code></pre></div></li>
</ol>
<p>Once the cluster is up, you can grab the admin credentials from the control-plane node
at <code>/etc/kubernetes/admin.conf</code> and use that to talk to the cluster.</p>
<p>Note that this style of bootstrap has some relaxed security guarantees because
it does not allow the root CA hash to be validated with
<code>--discovery-token-ca-cert-hash</code> (since it's not generated when the nodes are
provisioned). For details, see the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a>.</p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/>kubeadm init phase</a> to understand more about
<code>kubeadm init</code> phases</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to bootstrap a Kubernetes worker node and join it to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/>kubeadm upgrade</a> to upgrade a Kubernetes cluster to a newer version</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2a2b5f34806b4b1bd2c12682ac170d68>8.1.3 - kubeadm join</h1>
<p>This command initializes a Kubernetes worker node and joins it to the cluster.</p>
<p>Run this on any machine you wish to join an existing cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>When joining a kubeadm initialized cluster, we need to establish
bidirectional trust. This is split into discovery (having the Node
trust the Kubernetes Control Plane) and TLS bootstrap (having the
Kubernetes Control Plane trust the Node).</p>
<p>There are 2 main schemes for discovery. The first is to use a shared
token along with the IP address of the API server. The second is to
provide a file - a subset of the standard kubeconfig file. This file
can be a local file or downloaded via an HTTPS URL. The forms are
kubeadm join --discovery-token abcdef.1234567890abcdef 1.2.3.4:6443,
kubeadm join --discovery-file path/to/file.conf, or kubeadm join
--discovery-file https://url/file.conf. Only one form can be used. If
the discovery information is loaded from a URL, HTTPS must be used.
Also, in that case the host installed CA bundle is used to verify
the connection.</p>
<p>If you use a shared token for discovery, you should also pass the
--discovery-token-ca-cert-hash flag to validate the public key of the
root certificate authority (CA) presented by the Kubernetes Control Plane.
The value of this flag is specified as "&lt;hash-type>:&lt;hex-encoded-value>",
where the supported hash type is "sha256". The hash is calculated over
the bytes of the Subject Public Key Info (SPKI) object (as in RFC7469).
This value is available in the output of "kubeadm init" or can be
calculated using standard tools. The --discovery-token-ca-cert-hash flag
may be repeated multiple times to allow more than one public key.</p>
<p>If you cannot know the CA public key hash ahead of time, you can pass
the --discovery-token-unsafe-skip-ca-verification flag to disable this
verification. This weakens the kubeadm security model since other nodes
can potentially impersonate the Kubernetes Control Plane.</p>
<p>The TLS bootstrap mechanism is also driven via a shared token. This is
used to temporarily authenticate with the Kubernetes Control Plane to submit a
certificate signing request (CSR) for a locally created key pair. By
default, kubeadm will set up the Kubernetes Control Plane to automatically
approve these signing requests. This token is passed in with the
--tls-bootstrap-token abcdef.1234567890abcdef flag.</p>
<p>Often times the same token is used for both parts. In this case, the
--token flag can be used instead of specifying each token individually.</p>
<p>The "join [api-server-endpoint]" command executes the following phases:</p>
<pre><code>preflight              Run join pre-flight checks
control-plane-prepare  Prepare the machine for serving a control plane
  /download-certs        [EXPERIMENTAL] Download certificates shared among control-plane nodes from the kubeadm-certs Secret
  /certs                 Generate the certificates for the new control plane components
  /kubeconfig            Generate the kubeconfig for the new control plane components
  /control-plane         Generate the manifests for the new control plane components
kubelet-start          Write kubelet settings, certificates and (re)start the kubelet
control-plane-join     Join a machine as a control plane instance
  /etcd                  Add a new local etcd member
  /update-status         Register the new control-plane node into the ClusterStatus maintained in the kubeadm-config ConfigMap (DEPRECATED)
  /mark-control-plane    Mark a node as a control-plane
</code></pre><pre><code>kubeadm join [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for join</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h3 id=join-workflow>The join workflow</h3>
<p><code>kubeadm join</code> bootstraps a Kubernetes worker node or a control-plane node and adds it to the cluster.
This action consists of the following steps for worker nodes:</p>
<ol>
<li>
<p>kubeadm downloads necessary cluster information from the API server.
By default, it uses the bootstrap token and the CA key hash to verify the
authenticity of that data. The root CA can also be discovered directly via a
file or URL.</p>
</li>
<li>
<p>Once the cluster information is known, kubelet can start the TLS bootstrapping
process.</p>
<p>The TLS bootstrap uses the shared token to temporarily authenticate
with the Kubernetes API server to submit a certificate signing request (CSR); by
default the control plane signs this CSR request automatically.</p>
</li>
<li>
<p>Finally, kubeadm configures the local kubelet to connect to the API
server with the definitive identity assigned to the node.</p>
</li>
</ol>
<p>For control-plane nodes additional steps are performed:</p>
<ol>
<li>
<p>Downloading certificates shared among control-plane nodes from the cluster
(if explicitly requested by the user).</p>
</li>
<li>
<p>Generating control-plane component manifests, certificates and kubeconfig.</p>
</li>
<li>
<p>Adding new local etcd member.</p>
</li>
<li>
<p>Adding this node to the ClusterStatus of the kubeadm cluster.</p>
</li>
</ol>
<h3 id=join-phases>Using join phases with kubeadm</h3>
<p>Kubeadm allows you join a node to the cluster in phases using <code>kubeadm join phase</code>.</p>
<p>To view the ordered list of phases and sub-phases you can call <code>kubeadm join --help</code>. The list will be located
at the top of the help screen and each phase will have a description next to it.
Note that by calling <code>kubeadm join</code> all of the phases and sub-phases will be executed in this exact order.</p>
<p>Some phases have unique flags, so if you want to have a look at the list of available options add <code>--help</code>, for example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm join phase kubelet-start --help
</code></pre></div><p>Similar to the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#init-phases>kubeadm init phase</a>
command, <code>kubeadm join phase</code> allows you to skip a list of phases using the <code>--skip-phases</code> flag.</p>
<p>For example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo kubeadm join --skip-phases<span style=color:#666>=</span>preflight --config<span style=color:#666>=</span>config.yaml
</code></pre></div>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.22 [beta]</code>
</div>
<p>Alternatively, you can use the <code>skipPhases</code> field in <code>JoinConfiguration</code>.</p>
<h3 id=discovering-what-cluster-ca-to-trust>Discovering what cluster CA to trust</h3>
<p>The kubeadm discovery has several options, each with security tradeoffs.
The right method for your environment depends on how you provision nodes and the
security expectations you have about your network and node lifecycles.</p>
<h4 id=token-based-discovery-with-ca-pinning>Token-based discovery with CA pinning</h4>
<p>This is the default mode in kubeadm. In this mode, kubeadm downloads
the cluster configuration (including root CA) and validates it using the token
as well as validating that the root CA public key matches the provided hash and
that the API server certificate is valid under the root CA.</p>
<p>The CA key hash has the format <code>sha256:&lt;hex_encoded_hash></code>. By default, the hash value is returned in the <code>kubeadm join</code> command printed at the end of <code>kubeadm init</code> or in the output of <code>kubeadm token create --print-join-command</code>. It is in a standard format (see <a href=https://tools.ietf.org/html/rfc7469#section-2.4>RFC7469</a>) and can also be calculated by 3rd party tools or provisioning systems. For example, using the OpenSSL CLI:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>openssl x509 -pubkey -in /etc/kubernetes/pki/ca.crt | openssl rsa -pubin -outform der 2&gt;/dev/null | openssl dgst -sha256 -hex | sed <span style=color:#b44>&#39;s/^.* //&#39;</span>
</code></pre></div><p><strong>Example <code>kubeadm join</code> commands:</strong></p>
<p>For worker nodes:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm join --discovery-token abcdef.1234567890abcdef --discovery-token-ca-cert-hash sha256:1234..cdef 1.2.3.4:6443
</code></pre></div><p>For control-plane nodes:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm join --discovery-token abcdef.1234567890abcdef --discovery-token-ca-cert-hash sha256:1234..cdef --control-plane 1.2.3.4:6443
</code></pre></div><p>You can also call <code>join</code> for a control-plane node with <code>--certificate-key</code> to copy certificates to this node,
if the <code>kubeadm init</code> command was called with <code>--upload-certs</code>.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>
<p>Allows bootstrapping nodes to securely discover a root of trust for the
control-plane node even if other worker nodes or the network are compromised.</p>
</li>
<li>
<p>Convenient to execute manually since all of the information required fits
into a single <code>kubeadm join</code> command.</p>
</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>The CA hash is not normally known until the control-plane node has been provisioned,
which can make it more difficult to build automated provisioning tools that
use kubeadm. By generating your CA in beforehand, you may workaround this
limitation.</li>
</ul>
<h4 id=token-based-discovery-without-ca-pinning>Token-based discovery without CA pinning</h4>
<p>This mode relies only on the symmetric token to sign
(HMAC-SHA256) the discovery information that establishes the root of trust for
the control-plane. To use the mode the joining nodes must skip the hash validation of the
CA public key, using <code>--discovery-token-unsafe-skip-ca-verification</code>. You should consider
using one of the other modes if possible.</p>
<p><strong>Example <code>kubeadm join</code> command:</strong></p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm join --token abcdef.1234567890abcdef --discovery-token-unsafe-skip-ca-verification 1.2.3.4:6443
</code></pre></div><p><strong>Advantages:</strong></p>
<ul>
<li>
<p>Still protects against many network-level attacks.</p>
</li>
<li>
<p>The token can be generated ahead of time and shared with the control-plane node and
worker nodes, which can then bootstrap in parallel without coordination. This
allows it to be used in many provisioning scenarios.</p>
</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>If an attacker is able to steal a bootstrap token via some vulnerability,
they can use that token (along with network-level access) to impersonate the
control-plane node to other bootstrapping nodes. This may or may not be an appropriate
tradeoff in your environment.</li>
</ul>
<h4 id=file-or-https-based-discovery>File or HTTPS-based discovery</h4>
<p>This provides an out-of-band way to establish a root of trust between the control-plane node
and bootstrapping nodes. Consider using this mode if you are building automated provisioning
using kubeadm. The format of the discovery file is a regular Kubernetes
<a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>kubeconfig</a> file.</p>
<p>In case the discovery file does not contain credentials, the TLS discovery token will be used.</p>
<p><strong>Example <code>kubeadm join</code> commands:</strong></p>
<ul>
<li>
<p><code>kubeadm join --discovery-file path/to/file.conf</code> (local file)</p>
</li>
<li>
<p><code>kubeadm join --discovery-file https://url/file.conf</code> (remote HTTPS URL)</p>
</li>
</ul>
<p><strong>Advantages:</strong></p>
<ul>
<li>Allows bootstrapping nodes to securely discover a root of trust for the
control-plane node even if the network or other worker nodes are compromised.</li>
</ul>
<p><strong>Disadvantages:</strong></p>
<ul>
<li>Requires that you have some way to carry the discovery information from
the control-plane node to the bootstrapping nodes. If the discovery file contains credentials
you must keep it secret and transfer it over a secure channel. This might be possible with your
cloud provider or provisioning tool.</li>
</ul>
<h3 id=securing-more>Securing your installation even more</h3>
<p>The defaults for kubeadm may not work for everyone. This section documents how to tighten up a kubeadm installation
at the cost of some usability.</p>
<h4 id=turning-off-auto-approval-of-node-client-certificates>Turning off auto-approval of node client certificates</h4>
<p>By default, there is a CSR auto-approver enabled that basically approves any client certificate request
for a kubelet when a Bootstrap Token was used when authenticating. If you don't want the cluster to
automatically approve kubelet client certs, you can turn it off by executing this command:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl delete clusterrolebinding kubeadm:node-autoapprove-bootstrap
</code></pre></div><p>After that, <code>kubeadm join</code> will block until the admin has manually approved the CSR in flight:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get csr
</code></pre></div><p>The output is similar to this:</p>
<pre><code>NAME                                                   AGE       REQUESTOR                 CONDITION
node-csr-c69HXe7aYcqkS1bKmH4faEnHAWxn6i2bHZ2mD04jZyQ   18s       system:bootstrap:878f07   Pending
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl certificate approve node-csr-c69HXe7aYcqkS1bKmH4faEnHAWxn6i2bHZ2mD04jZyQ
</code></pre></div><p>The output is similar to this:</p>
<pre><code>certificatesigningrequest &quot;node-csr-c69HXe7aYcqkS1bKmH4faEnHAWxn6i2bHZ2mD04jZyQ&quot; approved
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get csr
</code></pre></div><p>The output is similar to this:</p>
<pre><code>NAME                                                   AGE       REQUESTOR                 CONDITION
node-csr-c69HXe7aYcqkS1bKmH4faEnHAWxn6i2bHZ2mD04jZyQ   1m        system:bootstrap:878f07   Approved,Issued
</code></pre><p>This forces the workflow that <code>kubeadm join</code> will only succeed if <code>kubectl certificate approve</code> has been run.</p>
<h4 id=turning-off-public-access-to-the-cluster-info-configmap>Turning off public access to the cluster-info ConfigMap</h4>
<p>In order to achieve the joining flow using the token as the only piece of validation information, a
ConfigMap with some data needed for validation of the control-plane node's identity is exposed publicly by
default. While there is no private data in this ConfigMap, some users might wish to turn
it off regardless. Doing so will disable the ability to use the <code>--discovery-token</code> flag of the
<code>kubeadm join</code> flow. Here are the steps to do so:</p>
<ul>
<li>Fetch the <code>cluster-info</code> file from the API Server:</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl -n kube-public get cm cluster-info -o yaml | grep <span style=color:#b44>&#34;kubeconfig:&#34;</span> -A11 | grep <span style=color:#b44>&#34;apiVersion&#34;</span> -A10 | sed <span style=color:#b44>&#34;s/    //&#34;</span> | tee cluster-info.yaml
</code></pre></div><p>The output is similar to this:</p>
<pre><code>apiVersion: v1
kind: Config
clusters:
- cluster:
    certificate-authority-data: &lt;ca-cert&gt;
    server: https://&lt;ip&gt;:&lt;port&gt;
  name: &quot;&quot;
contexts: []
current-context: &quot;&quot;
preferences: {}
users: []
</code></pre><ul>
<li>
<p>Use the <code>cluster-info.yaml</code> file as an argument to <code>kubeadm join --discovery-file</code>.</p>
</li>
<li>
<p>Turn off public access to the <code>cluster-info</code> ConfigMap:</p>
</li>
</ul>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl -n kube-public delete rolebinding kubeadm:bootstrap-signer-clusterinfo
</code></pre></div><p>These commands should be run after <code>kubeadm init</code> but before <code>kubeadm join</code>.</p>
<h3 id=config-file>Using kubeadm join with a configuration file</h3>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> The config file is still considered beta and may change in future versions.
</div>
<p>It's possible to configure <code>kubeadm join</code> with a configuration file instead of command
line flags, and some more advanced features may only be available as
configuration file options. This file is passed using the <code>--config</code> flag and it must
contain a <code>JoinConfiguration</code> structure. Mixing <code>--config</code> with others flags may not be
allowed in some cases.</p>
<p>The default configuration can be printed out using the
<a href=/docs/reference/setup-tools/kubeadm/kubeadm-config/>kubeadm config print</a> command.</p>
<p>If your configuration is not using the latest version it is <strong>recommended</strong> that you migrate using
the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-config/>kubeadm config migrate</a> command.</p>
<p>For more information on the fields and usage of the configuration you can navigate to our
<a href=/docs/reference/config-api/kubeadm-config.v1beta3/>API reference</a>.</p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-token/>kubeadm token</a> to manage tokens for <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-2c20539d9fabf5982e2dd931742714bd>8.1.4 - kubeadm upgrade</h1>
<p><code>kubeadm upgrade</code> is a user-friendly command that wraps complex upgrading logic
behind one command, with support for both planning an upgrade and actually performing it.</p>
<h2 id=kubeadm-upgrade-guidance>kubeadm upgrade guidance</h2>
<p>The steps for performing an upgrade using kubeadm are outlined in <a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-upgrade/>this document</a>.
For older versions of kubeadm, please refer to older documentation sets of the Kubernetes website.</p>
<p>You can use <code>kubeadm upgrade diff</code> to see the changes that would be applied to static pod manifests.</p>
<p>In Kubernetes v1.15.0 and later, <code>kubeadm upgrade apply</code> and <code>kubeadm upgrade node</code> will also
automatically renew the kubeadm managed certificates on this node, including those stored in kubeconfig files.
To opt-out, it is possible to pass the flag <code>--certificate-renewal=false</code>. For more details about certificate
renewal see the <a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs>certificate management documentation</a>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The commands <code>kubeadm upgrade apply</code> and <code>kubeadm upgrade plan</code> have a legacy <code>--config</code>
flag which makes it possible to reconfigure the cluster, while performing planning or upgrade of that particular
control-plane node. Please be aware that the upgrade workflow was not designed for this scenario and there are
reports of unexpected results.
</div>
<h2 id=cmd-upgrade-plan>kubeadm upgrade plan</h2>
<p>Check which versions are available to upgrade to and validate whether your current cluster is upgradeable. To skip the internet check, pass in the optional [version] parameter</p>
<h3 id=synopsis>Synopsis</h3>
<p>Check which versions are available to upgrade to and validate whether your current cluster is upgradeable. To skip the internet check, pass in the optional [version] parameter</p>
<pre><code>kubeadm upgrade plan [version] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-experimental-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show unstable versions of Kubernetes as an upgrade alternative and allow upgrading to an alpha/beta/release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--allow-release-candidate-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show release candidate versions of Kubernetes as an upgrade alternative and allow upgrading to a release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for plan</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--print-config</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specifies whether the configuration file that will be used in the upgrade should be printed or not.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-upgrade-apply>kubeadm upgrade apply </h2>
<p>Upgrade your Kubernetes cluster to the specified version</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade your Kubernetes cluster to the specified version</p>
<pre><code>kubeadm upgrade apply [version]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-experimental-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show unstable versions of Kubernetes as an upgrade alternative and allow upgrading to an alpha/beta/release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--allow-release-candidate-upgrades</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Show release candidate versions of Kubernetes as an upgrade alternative and allow upgrading to a release candidate versions of Kubernetes.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-renewal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the renewal of certificates used by component changed during upgrades.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output what actions would be performed.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade of etcd.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-f, --force</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Force upgrading although some requirements might not be met. This also implies non-interactive mode.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apply</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--print-config</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specifies whether the configuration file that will be used in the upgrade should be printed or not.</p></td>
</tr>
<tr>
<td colspan=2>-y, --yes</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade and do not prompt for confirmation (non-interactive mode).</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-upgrade-diff>kubeadm upgrade diff</h2>
<p>Show what differences would be applied to existing static pod manifests. See also: kubeadm upgrade apply --dry-run</p>
<h3 id=synopsis>Synopsis</h3>
<p>Show what differences would be applied to existing static pod manifests. See also: kubeadm upgrade apply --dry-run</p>
<pre><code>kubeadm upgrade diff [version] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--api-server-manifest string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/manifests/kube-apiserver.yaml"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>path to API server manifest</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-c, --context-lines int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 3</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>How many lines of context in the diff</p></td>
</tr>
<tr>
<td colspan=2>--controller-manager-manifest string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/manifests/kube-controller-manager.yaml"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>path to controller manifest</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for diff</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--scheduler-manifest string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/manifests/kube-scheduler.yaml"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>path to scheduler manifest</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-upgrade-node>kubeadm upgrade node</h2>
<p>Upgrade commands for a node in the cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade commands for a node in the cluster</p>
<p>The "node" command executes the following phases:</p>
<pre><code>preflight       Run upgrade node pre-flight checks
control-plane   Upgrade the control plane instance deployed on this node, if any
kubelet-config  Upgrade the kubelet configuration for this node
</code></pre><pre><code>kubeadm upgrade node [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-renewal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the renewal of certificates used by component changed during upgrades.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output the actions that would be performed.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade of etcd.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for node</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-config/>kubeadm config</a> if you initialized your cluster using kubeadm v1.7.x or lower, to configure your cluster for <code>kubeadm upgrade</code></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5042dc49c5348b3674d3878f37f7670b>8.1.5 - kubeadm config</h1>
<p>During <code>kubeadm init</code>, kubeadm uploads the <code>ClusterConfiguration</code> object to your cluster
in a ConfigMap called <code>kubeadm-config</code> in the <code>kube-system</code> namespace. This configuration is then read during
<code>kubeadm join</code>, <code>kubeadm reset</code> and <code>kubeadm upgrade</code>.</p>
<p>You can use <code>kubeadm config print</code> to print the default static configuration that kubeadm
uses for <code>kubeadm init</code> and <code>kubeadm join</code>.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The output of the command is meant to serve as an example. You must manually edit the output
of this command to adapt to your setup. Remove the fields that you are not certain about and kubeadm
will try to default them on runtime by examining the host.
</div>
<p>For more information on <code>init</code> and <code>join</code> navigate to
<a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#config-file>Using kubeadm init with a configuration file</a>
or <a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/#config-file>Using kubeadm join with a configuration file</a>.</p>
<p>For more information on using the kubeadm configuration API navigate to
<a href=/docs/setup/production-environment/tools/kubeadm/control-plane-flags>Customizing components with the kubeadm API</a>.</p>
<p>You can use <code>kubeadm config migrate</code> to convert your old configuration files that contain a deprecated
API version to a newer, supported API version.</p>
<p><code>kubeadm config images list</code> and <code>kubeadm config images pull</code> can be used to list and pull the images
that kubeadm requires.</p>
<h2 id=cmd-config-print>kubeadm config print</h2>
<p>Print configuration</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command prints configurations for subcommands provided.
For details, see: <a href=https://pkg.go.dev/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm#section-directories>https://pkg.go.dev/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm#section-directories</a></p>
<pre><code>kubeadm config print [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for print</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-config-print-init-defaults>kubeadm config print init-defaults</h2>
<p>Print default init configuration, that can be used for 'kubeadm init'</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command prints objects such as the default init configuration that is used for 'kubeadm init'.</p>
<p>Note that sensitive values like the Bootstrap Token fields are replaced with placeholder values like "abcdef.0123456789abcdef" in order to pass validation but
not perform the real computation for creating a token.</p>
<pre><code>kubeadm config print init-defaults [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--component-configs strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list for component config API objects to print the default values for. Available values: [KubeProxyConfiguration KubeletConfiguration]. If this flag is not set, no component configs will be printed.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for init-defaults</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-config-print-join-defaults>kubeadm config print join-defaults</h2>
<p>Print default join configuration, that can be used for 'kubeadm join'</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command prints objects such as the default join configuration that is used for 'kubeadm join'.</p>
<p>Note that sensitive values like the Bootstrap Token fields are replaced with placeholder values like "abcdef.0123456789abcdef" in order to pass validation but
not perform the real computation for creating a token.</p>
<pre><code>kubeadm config print join-defaults [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--component-configs strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list for component config API objects to print the default values for. Available values: [KubeProxyConfiguration KubeletConfiguration]. If this flag is not set, no component configs will be printed.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for join-defaults</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-config-migrate>kubeadm config migrate</h2>
<p>Read an older version of the kubeadm configuration API types from a file, and output the similar config object for the newer version</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command lets you convert configuration objects of older versions to the latest supported version,
locally in the CLI tool without ever touching anything in the cluster.
In this version of kubeadm, the following API versions are supported:</p>
<ul>
<li>kubeadm.k8s.io/v1beta3</li>
</ul>
<p>Further, kubeadm can only write out config of version "kubeadm.k8s.io/v1beta3", but read both types.
So regardless of what version you pass to the --old-config parameter here, the API object will be
read, deserialized, defaulted, converted, validated, and re-serialized when written to stdout or
--new-config if specified.</p>
<p>In other words, the output of this command is what kubeadm actually would read internally if you
submitted this file to "kubeadm init"</p>
<pre><code>kubeadm config migrate [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for migrate</p></td>
</tr>
<tr>
<td colspan=2>--new-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the resulting equivalent kubeadm config file using the new API version. Optional, if not specified output will be sent to STDOUT.</p></td>
</tr>
<tr>
<td colspan=2>--old-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the kubeadm config file that is using an old API version and should be converted. This flag is mandatory.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-config-images-list>kubeadm config images list</h2>
<p>Print a list of images kubeadm will use. The configuration file is used in case any images or image repositories are customized</p>
<h3 id=synopsis>Synopsis</h3>
<p>Print a list of images kubeadm will use. The configuration file is used in case any images or image repositories are customized</p>
<pre><code>kubeadm config images list [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-missing-template-keys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-o, --experimental-output string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Output format. One of: text|json|yaml|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for list</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--show-managed-fields</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, keep the managedFields when printing objects in JSON or YAML format.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-config-images-pull>kubeadm config images pull</h2>
<p>Pull images used by kubeadm</p>
<h3 id=synopsis>Synopsis</h3>
<p>Pull images used by kubeadm</p>
<pre><code>kubeadm config images pull [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for pull</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/>kubeadm upgrade</a> to upgrade a Kubernetes cluster to a newer version</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6eb5bc1e7114609930a76c683cc27c2b>8.1.6 - kubeadm reset</h1>
<p>Performs a best effort revert of changes made by <code>kubeadm init</code> or <code>kubeadm join</code>.</p>
<p>Performs a best effort revert of changes made to this host by 'kubeadm init' or 'kubeadm join'</p>
<h3 id=synopsis>Synopsis</h3>
<p>Performs a best effort revert of changes made to this host by 'kubeadm init' or 'kubeadm join'</p>
<p>The "reset" command executes the following phases:</p>
<pre><code>preflight              Run reset pre-flight checks
update-cluster-status  Remove this node from the ClusterStatus object (DEPRECATED).
remove-etcd-member     Remove a local etcd member.
cleanup-node           Run cleanup node.
</code></pre><pre><code>kubeadm reset [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the directory where the certificates are stored. If specified, clean this directory.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>-f, --force</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Reset the node without prompting for confirmation.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for reset</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--skip-phases strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of phases to be skipped</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h3 id=reset-workflow>Reset workflow</h3>
<p><code>kubeadm reset</code> is responsible for cleaning up a node local file system from files that were created using
the <code>kubeadm init</code> or <code>kubeadm join</code> commands. For control-plane nodes <code>reset</code> also removes the local stacked
etcd member of this node from the etcd cluster and also removes this node's information from the kubeadm
<code>ClusterStatus</code> object. <code>ClusterStatus</code> is a kubeadm managed Kubernetes API object that holds a list of kube-apiserver endpoints.</p>
<p><code>kubeadm reset phase</code> can be used to execute the separate phases of the above workflow.
To skip a list of phases you can use the <code>--skip-phases</code> flag, which works in a similar way to
the <code>kubeadm join</code> and <code>kubeadm init</code> phase runners.</p>
<h3 id=external-etcd-clean-up>External etcd clean up</h3>
<p><code>kubeadm reset</code> will not delete any etcd data if external etcd is used. This means that if you run <code>kubeadm init</code> again using the same etcd endpoints, you will see state from previous clusters.</p>
<p>To wipe etcd data it is recommended you use a client like etcdctl, such as:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>etcdctl del <span style=color:#b44>&#34;&#34;</span> --prefix
</code></pre></div><p>See the <a href=https://github.com/coreos/etcd/tree/master/etcdctl>etcd documentation</a> for more information.</p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to bootstrap a Kubernetes worker node and join it to the cluster</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-516f4705fb2f5f62c76c7742772726a3>8.1.7 - kubeadm token</h1>
<p>Bootstrap tokens are used for establishing bidirectional trust between a node joining
the cluster and a control-plane node, as described in <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>authenticating with bootstrap tokens</a>.</p>
<p><code>kubeadm init</code> creates an initial token with a 24-hour TTL. The following commands allow you to manage
such a token and also to create and manage new ones.</p>
<h2 id=cmd-token-create>kubeadm token create</h2>
<p>Create bootstrap tokens on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will create a bootstrap token for you.
You can specify the usages for this token, the "time to live" and an optional human friendly description.</p>
<p>The [token] is the actual token to write.
This should be a securely generated random token of the form "[a-z0-9]{6}.[a-z0-9]{16}".
If no [token] is given, kubeadm will generate a random token instead.</p>
<pre><code>kubeadm token create [token]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>When used together with '--print-join-command', print the full 'kubeadm join' flag needed to join the cluster as a control-plane. To create a new certificate key you must use 'kubeadm init phase upload-certs --upload-certs'.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--description string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A human friendly description of how this token is used.</p></td>
</tr>
<tr>
<td colspan=2>--groups strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "system:bootstrappers:kubeadm:default-node-token"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Extra groups that this token will authenticate as when used for authentication. Must match "\Asystem:bootstrappers:[a-z0-9:-]{0,255}[a-z0-9]\z"</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for create</p></td>
</tr>
<tr>
<td colspan=2>--print-join-command</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Instead of printing only the token, print the full 'kubeadm join' flag needed to join the cluster using the token.</p></td>
</tr>
<tr>
<td colspan=2>--ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration before the token is automatically deleted (e.g. 1s, 2m, 3h). If set to '0', the token will never expire</p></td>
</tr>
<tr>
<td colspan=2>--usages strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "signing,authentication"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Describes the ways in which this token can be used. You can pass --usages multiple times or provide a comma separated list of options. Valid options: [signing,authentication]</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-token-delete>kubeadm token delete</h2>
<p>Delete bootstrap tokens on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will delete a list of bootstrap tokens for you.</p>
<p>The [token-value] is the full Token of the form "[a-z0-9]{6}.[a-z0-9]{16}" or the
Token ID of the form "[a-z0-9]{6}" to delete.</p>
<pre><code>kubeadm token delete [token-value] ...
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for delete</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-token-generate>kubeadm token generate</h2>
<p>Generate and print a bootstrap token, but do not create it on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will print out a randomly-generated bootstrap token that can be used with
the "init" and "join" commands.</p>
<p>You don't have to use this command in order to generate a token. You can do so
yourself as long as it is in the format "[a-z0-9]{6}.[a-z0-9]{16}". This
command is provided for convenience to generate tokens in the given format.</p>
<p>You can also use "kubeadm init" without specifying a token and it will
generate and print one for you.</p>
<pre><code>kubeadm token generate [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for generate</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=cmd-token-list>kubeadm token list</h2>
<p>List bootstrap tokens on the server</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will list all bootstrap tokens for you.</p>
<pre><code>kubeadm token list [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--allow-missing-template-keys&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.</p></td>
</tr>
<tr>
<td colspan=2>-o, --experimental-output string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Output format. One of: text|json|yaml|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for list</p></td>
</tr>
<tr>
<td colspan=2>--show-managed-fields</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, keep the managedFields when printing objects in JSON or YAML format.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable dry-run mode or not</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to bootstrap a Kubernetes worker node and join it to the cluster</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-34c4af6f36d969ed08ba840e7fb64c6d>8.1.8 - kubeadm version</h1>
<p>This command prints the version of kubeadm.</p>
<p>Print the version of kubeadm</p>
<h3 id=synopsis>Synopsis</h3>
<p>Print the version of kubeadm</p>
<pre><code>kubeadm version [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for version</p></td>
</tr>
<tr>
<td colspan=2>-o, --output string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Output format; available options are 'yaml', 'json' and 'short'</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-92a39c69c3689119dd5fa12886cb73a3>8.1.9 - kubeadm alpha</h1>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> <code>kubeadm alpha</code> provides a preview of a set of features made available for gathering feedback
from the community. Please try it out and give us feedback!
</div>
<p>Currently there are no experimental commands under <code>kubeadm alpha</code>.</p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to connect a node to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-6a1fed09235bbf3644c804339928f10e>8.1.10 - kubeadm certs</h1>
<p><code>kubeadm certs</code> provides utilities for managing certificates.
For more details on how these commands can be used, see
<a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/>Certificate Management with kubeadm</a>.</p>
<h2 id=cmd-certs>kubeadm certs</h2>
<p>A collection of operations for operating Kubernetes certificates.</p>
<ul class="nav nav-tabs" id=tab-certs role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-certs-0 role=tab aria-controls=tab-certs-0 aria-selected=true>overview</a></li>
</ul>
<div class=tab-content id=tab-certs><div id=tab-certs-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-certs-0>
<p><p>Commands related to handling kubernetes certificates</p>
<h3 id=synopsis>Synopsis</h3>
<p>Commands related to handling kubernetes certificates</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certs</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-certs-renew>kubeadm certs renew</h2>
<p>You can renew all Kubernetes certificates using the <code>all</code> subcommand or renew them selectively.
For more details see <a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#manual-certificate-renewal>Manual certificate renewal</a>.</p>
<ul class="nav nav-tabs" id=tab-certs-renew role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-certs-renew-0 role=tab aria-controls=tab-certs-renew-0 aria-selected=true>renew</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-1 role=tab aria-controls=tab-certs-renew-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-2 role=tab aria-controls=tab-certs-renew-2>admin.conf</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-3 role=tab aria-controls=tab-certs-renew-3>apiserver-etcd-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-4 role=tab aria-controls=tab-certs-renew-4>apiserver-kubelet-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-5 role=tab aria-controls=tab-certs-renew-5>apiserver</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-6 role=tab aria-controls=tab-certs-renew-6>controller-manager.conf</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-7 role=tab aria-controls=tab-certs-renew-7>etcd-healthcheck-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-8 role=tab aria-controls=tab-certs-renew-8>etcd-peer</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-9 role=tab aria-controls=tab-certs-renew-9>etcd-server</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-10 role=tab aria-controls=tab-certs-renew-10>front-proxy-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-renew-11 role=tab aria-controls=tab-certs-renew-11>scheduler.conf</a></li></ul>
<div class=tab-content id=tab-certs-renew><div id=tab-certs-renew-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-certs-renew-0>
<p><p>Renew certificates for a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm certs renew [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for renew</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-1 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-1>
<p><p>Renew all available certificates</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew all known certificates necessary to run the control plane. Renewals are run unconditionally, regardless of expiration date. Renewals can also be run individually for more control.</p>
<pre><code>kubeadm certs renew all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-2 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-2>
<p><p>Renew the certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew admin.conf [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for admin.conf</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-3 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-3>
<p><p>Renew the certificate the apiserver uses to access etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate the apiserver uses to access etcd.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew apiserver-etcd-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-etcd-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-4 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-4>
<p><p>Renew the certificate for the API server to connect to kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for the API server to connect to kubelet.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew apiserver-kubelet-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-kubelet-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-5 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-5>
<p><p>Renew the certificate for serving the Kubernetes API</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for serving the Kubernetes API.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew apiserver [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-6 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-6>
<p><p>Renew the certificate embedded in the kubeconfig file for the controller manager to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate embedded in the kubeconfig file for the controller manager to use.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew controller-manager.conf [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for controller-manager.conf</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-7 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-7>
<p><p>Renew the certificate for liveness probes to healthcheck etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for liveness probes to healthcheck etcd.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew etcd-healthcheck-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-healthcheck-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-8 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-8>
<p><p>Renew the certificate for etcd nodes to communicate with each other</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for etcd nodes to communicate with each other.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew etcd-peer [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-peer</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-9 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-9>
<p><p>Renew the certificate for serving etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for serving etcd.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew etcd-server [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-server</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-10 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-10>
<p><p>Renew the certificate for the front proxy client</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate for the front proxy client.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew front-proxy-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for front-proxy-client</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-renew-11 class=tab-pane role=tabpanel aria-labelledby=tab-certs-renew-11>
<p><p>Renew the certificate embedded in the kubeconfig file for the scheduler manager to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Renew the certificate embedded in the kubeconfig file for the scheduler manager to use.</p>
<p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p>
<p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p>
<p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p>
<pre><code>kubeadm certs renew scheduler.conf [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for scheduler.conf</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-certs-certificate-key>kubeadm certs certificate-key</h2>
<p>This command can be used to generate a new control-plane certificate key.
The key can be passed as <code>--certificate-key</code> to <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init><code>kubeadm init</code></a>
and <a href=/docs/reference/setup-tools/kubeadm/kubeadm-join><code>kubeadm join</code></a>
to enable the automatic copy of certificates when joining additional control-plane nodes.</p>
<ul class="nav nav-tabs" id=tab-certs-certificate-key role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-certs-certificate-key-0 role=tab aria-controls=tab-certs-certificate-key-0 aria-selected=true>certificate-key</a></li>
</ul>
<div class=tab-content id=tab-certs-certificate-key><div id=tab-certs-certificate-key-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-certs-certificate-key-0>
<p><p>Generate certificate keys</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command will print out a secure randomly-generated certificate key that can be used with
the "init" command.</p>
<p>You can also use "kubeadm init --upload-certs" without specifying a certificate key and it will
generate and print one for you.</p>
<pre><code>kubeadm certs certificate-key [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certificate-key</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-certs-check-expiration>kubeadm certs check-expiration</h2>
<p>This command checks expiration for the certificates in the local PKI managed by kubeadm.
For more details see
<a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#check-certificate-expiration>Check certificate expiration</a>.</p>
<ul class="nav nav-tabs" id=tab-certs-check-expiration role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-certs-check-expiration-0 role=tab aria-controls=tab-certs-check-expiration-0 aria-selected=true>check-expiration</a></li>
</ul>
<div class=tab-content id=tab-certs-check-expiration><div id=tab-certs-check-expiration-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-certs-check-expiration-0>
<p><p>Check certificates expiration for a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Checks expiration for the certificates in the local PKI managed by kubeadm.</p>
<pre><code>kubeadm certs check-expiration [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for check-expiration</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-certs-generate-csr>kubeadm certs generate-csr</h2>
<p>This command can be used to generate keys and CSRs for all control-plane certificates and kubeconfig files.
The user can then sign the CSRs with a CA of their choice.</p>
<ul class="nav nav-tabs" id=tab-certs-generate-csr role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-certs-generate-csr-0 role=tab aria-controls=tab-certs-generate-csr-0 aria-selected=true>generate-csr</a></li>
</ul>
<div class=tab-content id=tab-certs-generate-csr><div id=tab-certs-generate-csr-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-certs-generate-csr-0>
<p><p>Generate keys and certificate signing requests</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates keys and certificate signing requests (CSRs) for all the certificates required to run the control plane. This command also generates partial kubeconfig files with private key data in the "users > user > client-key-data" field, and for each kubeconfig file an accompanying ".csr" file is created.</p>
<p>This command is designed for use in <a href=https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#external-ca-mode>Kubeadm External CA Mode</a>. It generates CSRs which you can then submit to your external certificate authority for signing.</p>
<p>The PEM encoded signed certificates should then be saved alongside the key files, using ".crt" as the file extension, or in the case of kubeconfig files, the PEM encoded signed certificate should be base64 encoded and added to the kubeconfig file in the "users > user > client-certificate-data" field.</p>
<pre><code>kubeadm certs generate-csr [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # The following command will generate keys and CSRs for all control-plane certificates and kubeconfig files:
  kubeadm certs generate-csr --kubeconfig-dir /tmp/etc-k8s --cert-dir /tmp/etc-k8s/pki
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the certificates</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for generate-csr</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to connect a node to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-fbe8dcd222ce5795a5c325670a26b067>8.1.11 - kubeadm init phase</h1>
<p><code>kubeadm init phase</code> enables you to invoke atomic steps of the bootstrap process.
Hence, you can let kubeadm do some of the work and you can fill in the gaps
if you wish to apply customization.</p>
<p><code>kubeadm init phase</code> is consistent with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#init-workflow>kubeadm init workflow</a>,
and behind the scene both use the same code.</p>
<h2 id=cmd-phase-preflight>kubeadm init phase preflight</h2>
<p>Using this command you can execute preflight checks on a control-plane node.</p>
<ul class="nav nav-tabs" id=tab-preflight role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-preflight-0 role=tab aria-controls=tab-preflight-0 aria-selected=true>preflight</a></li>
</ul>
<div class=tab-content id=tab-preflight><div id=tab-preflight-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-preflight-0>
<p><p>Run pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm init.</p>
<pre><code>kubeadm init phase preflight [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Run pre-flight checks for kubeadm init using a config file.
  kubeadm init phase preflight --config kubeadm-config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-kubelet-start>kubeadm init phase kubelet-start</h2>
<p>This phase will write the kubelet configuration file and environment file and then start the kubelet.</p>
<ul class="nav nav-tabs" id=tab-kubelet-start role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-kubelet-start-0 role=tab aria-controls=tab-kubelet-start-0 aria-selected=true>kubelet-start</a></li>
</ul>
<div class=tab-content id=tab-kubelet-start><div id=tab-kubelet-start-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-kubelet-start-0>
<p><p>Write kubelet settings and (re)start the kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Write a file with KubeletConfiguration and an environment file with node specific kubelet settings, and then (re)start kubelet.</p>
<pre><code>kubeadm init phase kubelet-start [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Writes a dynamic environment file with kubelet flags from a InitConfiguration file.
  kubeadm init phase kubelet-start --config config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-start</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-certs>kubeadm init phase certs</h2>
<p>Can be used to create all required certificates by kubeadm.</p>
<ul class="nav nav-tabs" id=tab-certs role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-certs-0 role=tab aria-controls=tab-certs-0 aria-selected=true>certs</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-1 role=tab aria-controls=tab-certs-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-2 role=tab aria-controls=tab-certs-2>ca</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-3 role=tab aria-controls=tab-certs-3>apiserver</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-4 role=tab aria-controls=tab-certs-4>apiserver-kubelet-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-5 role=tab aria-controls=tab-certs-5>front-proxy-ca</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-6 role=tab aria-controls=tab-certs-6>front-proxy-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-7 role=tab aria-controls=tab-certs-7>etcd-ca</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-8 role=tab aria-controls=tab-certs-8>etcd-server</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-9 role=tab aria-controls=tab-certs-9>etcd-peer</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-10 role=tab aria-controls=tab-certs-10>healthcheck-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-11 role=tab aria-controls=tab-certs-11>apiserver-etcd-client</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-certs-12 role=tab aria-controls=tab-certs-12>sa</a></li></ul>
<div class=tab-content id=tab-certs><div id=tab-certs-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-certs-0>
<p><p>Certificate generation</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase certs [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certs</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-1 class=tab-pane role=tabpanel aria-labelledby=tab-certs-1>
<p><p>Generate all certificates</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate all certificates</p>
<pre><code>kubeadm init phase certs all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-cert-extra-sans strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-2 class=tab-pane role=tabpanel aria-labelledby=tab-certs-2>
<p><p>Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the self-signed Kubernetes CA to provision identities for other Kubernetes components, and save them into ca.crt and ca.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs ca [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for ca</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-3 class=tab-pane role=tabpanel aria-labelledby=tab-certs-3>
<p><p>Generate the certificate for serving the Kubernetes API</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for serving the Kubernetes API, and save them into apiserver.crt and apiserver.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs apiserver [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-cert-extra-sans strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Optional extra Subject Alternative Names (SANs) to use for the API Server serving certificate. Can be both IP addresses and DNS names.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-4 class=tab-pane role=tabpanel aria-labelledby=tab-certs-4>
<p><p>Generate the certificate for the API server to connect to kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for the API server to connect to kubelet, and save them into apiserver-kubelet-client.crt and apiserver-kubelet-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs apiserver-kubelet-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-kubelet-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-5 class=tab-pane role=tabpanel aria-labelledby=tab-certs-5>
<p><p>Generate the self-signed CA to provision identities for front proxy</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the self-signed CA to provision identities for front proxy, and save them into front-proxy-ca.crt and front-proxy-ca.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs front-proxy-ca [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for front-proxy-ca</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-6 class=tab-pane role=tabpanel aria-labelledby=tab-certs-6>
<p><p>Generate the certificate for the front proxy client</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for the front proxy client, and save them into front-proxy-client.crt and front-proxy-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs front-proxy-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for front-proxy-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-7 class=tab-pane role=tabpanel aria-labelledby=tab-certs-7>
<p><p>Generate the self-signed CA to provision identities for etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the self-signed CA to provision identities for etcd, and save them into etcd/ca.crt and etcd/ca.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-ca [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-ca</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-8 class=tab-pane role=tabpanel aria-labelledby=tab-certs-8>
<p><p>Generate the certificate for serving etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for serving etcd, and save them into etcd/server.crt and etcd/server.key files.</p>
<p>Default SANs are localhost, 127.0.0.1, 127.0.0.1, ::1</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-server [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-server</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-9 class=tab-pane role=tabpanel aria-labelledby=tab-certs-9>
<p><p>Generate the certificate for etcd nodes to communicate with each other</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for etcd nodes to communicate with each other, and save them into etcd/peer.crt and etcd/peer.key files.</p>
<p>Default SANs are localhost, 127.0.0.1, 127.0.0.1, ::1</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-peer [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-peer</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-10 class=tab-pane role=tabpanel aria-labelledby=tab-certs-10>
<p><p>Generate the certificate for liveness probes to healthcheck etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate for liveness probes to healthcheck etcd, and save them into etcd/healthcheck-client.crt and etcd/healthcheck-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs etcd-healthcheck-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd-healthcheck-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-11 class=tab-pane role=tabpanel aria-labelledby=tab-certs-11>
<p><p>Generate the certificate the apiserver uses to access etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificate the apiserver uses to access etcd, and save them into apiserver-etcd-client.crt and apiserver-etcd-client.key files.</p>
<p>If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs apiserver-etcd-client [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver-etcd-client</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-certs-12 class=tab-pane role=tabpanel aria-labelledby=tab-certs-12>
<p><p>Generate a private key for signing service account tokens along with its public key</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the private key for signing service account tokens along with its public key, and save them into sa.key and sa.pub files. If both files already exist, kubeadm skips the generation step and existing files will be used.</p>
<p>Alpha Disclaimer: this command is currently alpha.</p>
<pre><code>kubeadm init phase certs sa [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for sa</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-kubeconfig>kubeadm init phase kubeconfig</h2>
<p>You can create all required kubeconfig files by calling the <code>all</code> subcommand or call them individually.</p>
<ul class="nav nav-tabs" id=tab-kubeconfig role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-kubeconfig-0 role=tab aria-controls=tab-kubeconfig-0 aria-selected=true>kubeconfig</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubeconfig-1 role=tab aria-controls=tab-kubeconfig-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubeconfig-2 role=tab aria-controls=tab-kubeconfig-2>admin</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubeconfig-3 role=tab aria-controls=tab-kubeconfig-3>kubelet</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubeconfig-4 role=tab aria-controls=tab-kubeconfig-4>controller-manager</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubeconfig-5 role=tab aria-controls=tab-kubeconfig-5>scheduler</a></li></ul>
<div class=tab-content id=tab-kubeconfig><div id=tab-kubeconfig-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-kubeconfig-0>
<p><p>Generate all kubeconfig files necessary to establish the control plane and the admin kubeconfig file</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase kubeconfig [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeconfig</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubeconfig-1 class=tab-pane role=tabpanel aria-labelledby=tab-kubeconfig-1>
<p><p>Generate all kubeconfig files</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate all kubeconfig files</p>
<pre><code>kubeadm init phase kubeconfig all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubeconfig-2 class=tab-pane role=tabpanel aria-labelledby=tab-kubeconfig-2>
<p><p>Generate a kubeconfig file for the admin to use and for kubeadm itself</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the admin and for kubeadm itself, and save it to admin.conf file.</p>
<pre><code>kubeadm init phase kubeconfig admin [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for admin</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubeconfig-3 class=tab-pane role=tabpanel aria-labelledby=tab-kubeconfig-3>
<p><p>Generate a kubeconfig file for the kubelet to use <em>only</em> for cluster bootstrapping purposes</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the kubelet to use and save it to kubelet.conf file.</p>
<p>Please note that this should <em>only</em> be used for cluster bootstrapping purposes. After your control plane is up, you should request all kubelet credentials from the CSR API.</p>
<pre><code>kubeadm init phase kubeconfig kubelet [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubeconfig-4 class=tab-pane role=tabpanel aria-labelledby=tab-kubeconfig-4>
<p><p>Generate a kubeconfig file for the controller manager to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the controller manager to use and save it to controller-manager.conf file</p>
<pre><code>kubeadm init phase kubeconfig controller-manager [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for controller-manager</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubeconfig-5 class=tab-pane role=tabpanel aria-labelledby=tab-kubeconfig-5>
<p><p>Generate a kubeconfig file for the scheduler to use</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig file for the scheduler to use and save it to scheduler.conf file.</p>
<pre><code>kubeadm init phase kubeconfig scheduler [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for scheduler</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save the kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-control-plane>kubeadm init phase control-plane</h2>
<p>Using this phase you can create all required static Pod files for the control plane components.</p>
<ul class="nav nav-tabs" id=tab-control-plane role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-control-plane-0 role=tab aria-controls=tab-control-plane-0 aria-selected=true>control-plane</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-1 role=tab aria-controls=tab-control-plane-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-2 role=tab aria-controls=tab-control-plane-2>apiserver</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-3 role=tab aria-controls=tab-control-plane-3>controller-manager</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-4 role=tab aria-controls=tab-control-plane-4>scheduler</a></li></ul>
<div class=tab-content id=tab-control-plane><div id=tab-control-plane-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-control-plane-0>
<p><p>Generate all static Pod manifest files necessary to establish the control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-1 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-1>
<p><p>Generate all static Pod manifest files</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate all static Pod manifest files</p>
<pre><code>kubeadm init phase control-plane all [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Generates all static Pod manifest files for control plane components,
  # functionally equivalent to what is generated by kubeadm init.
  kubeadm init phase control-plane all
  
  # Generates all static Pod manifest files using options read from a configuration file.
  kubeadm init phase control-plane all --config config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the API Server or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--controller-manager-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Controller Manager or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
<tr>
<td colspan=2>--scheduler-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Scheduler or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-2 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-2>
<p><p>Generates the kube-apiserver static Pod manifest</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates the kube-apiserver static Pod manifest</p>
<pre><code>kubeadm init phase control-plane apiserver [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the API Server or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for apiserver</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-3 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-3>
<p><p>Generates the kube-controller-manager static Pod manifest</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates the kube-controller-manager static Pod manifest</p>
<pre><code>kubeadm init phase control-plane controller-manager [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--controller-manager-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Controller Manager or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for controller-manager</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-4 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-4>
<p><p>Generates the kube-scheduler static Pod manifest</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generates the kube-scheduler static Pod manifest</p>
<pre><code>kubeadm init phase control-plane scheduler [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't apply any changes; just output what would be done.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for scheduler</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--scheduler-extra-args &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of extra flags to pass to the Scheduler or override default ones in form of &lt;flagname>=&lt;value></p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-etcd>kubeadm init phase etcd</h2>
<p>Use the following phase to create a local etcd instance based on a static Pod file.</p>
<ul class="nav nav-tabs" id=tab-etcd role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-etcd-0 role=tab aria-controls=tab-etcd-0 aria-selected=true>etcd</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-etcd-1 role=tab aria-controls=tab-etcd-1>local</a></li></ul>
<div class=tab-content id=tab-etcd><div id=tab-etcd-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-etcd-0>
<p><p>Generate static Pod manifest file for local etcd</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase etcd [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-etcd-1 class=tab-pane role=tabpanel aria-labelledby=tab-etcd-1>
<p><p>Generate the static Pod manifest file for a local, single-node local etcd instance</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the static Pod manifest file for a local, single-node local etcd instance</p>
<pre><code>kubeadm init phase etcd local [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Generates the static Pod manifest file for etcd, functionally
  # equivalent to what is generated by kubeadm init.
  kubeadm init phase etcd local
  
  # Generates the static Pod manifest file for etcd using options
  # read from a configuration file.
  kubeadm init phase etcd local --config config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for local</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-upload-config>kubeadm init phase upload-config</h2>
<p>You can use this command to upload the kubeadm configuration to your cluster.
Alternatively, you can use <a href=/docs/reference/setup-tools/kubeadm/kubeadm-config/>kubeadm config</a>.</p>
<ul class="nav nav-tabs" id=upload-config role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#upload-config-0 role=tab aria-controls=upload-config-0 aria-selected=true>upload-config</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#upload-config-1 role=tab aria-controls=upload-config-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#upload-config-2 role=tab aria-controls=upload-config-2>kubeadm</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#upload-config-3 role=tab aria-controls=upload-config-3>kubelet</a></li></ul>
<div class=tab-content id=upload-config><div id=upload-config-0 class="tab-pane show active" role=tabpanel aria-labelledby=upload-config-0>
<p><p>Upload the kubeadm and kubelet configuration to a ConfigMap</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase upload-config [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for upload-config</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=upload-config-1 class=tab-pane role=tabpanel aria-labelledby=upload-config-1>
<p><p>Upload all configuration to a config map</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upload all configuration to a config map</p>
<pre><code>kubeadm init phase upload-config all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=upload-config-2 class=tab-pane role=tabpanel aria-labelledby=upload-config-2>
<p><p>Upload the kubeadm ClusterConfiguration to a ConfigMap</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upload the kubeadm ClusterConfiguration to a ConfigMap called kubeadm-config in the kube-system namespace. This enables correct configuration of system components and a seamless user experience when upgrading.</p>
<p>Alternatively, you can use kubeadm config.</p>
<pre><code>kubeadm init phase upload-config kubeadm [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # upload the configuration of your cluster
  kubeadm init phase upload-config --config=myConfig.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeadm</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=upload-config-3 class=tab-pane role=tabpanel aria-labelledby=upload-config-3>
<p><p>Upload the kubelet component config to a ConfigMap</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upload kubelet configuration extracted from the kubeadm InitConfiguration object to a ConfigMap of the form kubelet-config-1.X in the cluster, where X is the minor version of the current (API Server) Kubernetes version.</p>
<pre><code>kubeadm init phase upload-config kubelet [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Upload the kubelet configuration from the kubeadm Config file to a ConfigMap in the cluster.
  kubeadm init phase upload-config kubelet --config kubeadm.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-upload-certs>kubeadm init phase upload-certs</h2>
<p>Use the following phase to upload control-plane certificates to the cluster.
By default the certs and encryption key expire after two hours.</p>
<ul class="nav nav-tabs" id=tab-upload-certs role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-upload-certs-0 role=tab aria-controls=tab-upload-certs-0 aria-selected=true>upload-certs</a></li>
</ul>
<div class=tab-content id=tab-upload-certs><div id=tab-upload-certs-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-upload-certs-0>
<p><p>Upload certificates to kubeadm-certs</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase upload-certs [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Key used to encrypt the control-plane certificates in the kubeadm-certs Secret.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for upload-certs</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--skip-certificate-key-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Don't print the key used to encrypt the control-plane certificates.</p></td>
</tr>
<tr>
<td colspan=2>--upload-certs</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Upload control-plane certificates to the kubeadm-certs Secret.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-mark-control-plane>kubeadm init phase mark-control-plane</h2>
<p>Use the following phase to label and taint the node with the <code>node-role.kubernetes.io/master=""</code> key-value pair.</p>
<ul class="nav nav-tabs" id=tab-mark-control-plane role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-mark-control-plane-0 role=tab aria-controls=tab-mark-control-plane-0 aria-selected=true>mark-control-plane</a></li>
</ul>
<div class=tab-content id=tab-mark-control-plane><div id=tab-mark-control-plane-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-mark-control-plane-0>
<p><p>Mark a node as a control-plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Mark a node as a control-plane</p>
<pre><code>kubeadm init phase mark-control-plane [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Applies control-plane label and taint to the current node, functionally equivalent to what executed by kubeadm init.
  kubeadm init phase mark-control-plane --config config.yaml
  
  # Applies control-plane label and taint to a specific node
  kubeadm init phase mark-control-plane --node-name myNode
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for mark-control-plane</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-bootstrap-token>kubeadm init phase bootstrap-token</h2>
<p>Use the following phase to configure bootstrap tokens.</p>
<ul class="nav nav-tabs" id=tab-bootstrap-token role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-bootstrap-token-0 role=tab aria-controls=tab-bootstrap-token-0 aria-selected=true>bootstrap-token</a></li>
</ul>
<div class=tab-content id=tab-bootstrap-token><div id=tab-bootstrap-token-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-bootstrap-token-0>
<p><p>Generates bootstrap tokens used to join a node to a cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Bootstrap tokens are used for establishing bidirectional trust between a node joining the cluster and a control-plane node.</p>
<p>This command makes all the configurations required to make bootstrap tokens works and then creates an initial token.</p>
<pre><code>kubeadm init phase bootstrap-token [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Make all the bootstrap token configurations and create an initial token, functionally
  # equivalent to what generated by kubeadm init.
  kubeadm init phase bootstrap-token
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for bootstrap-token</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--skip-token-print</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Skip printing of the default bootstrap token generated by 'kubeadm init'.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-kubelet-finalize-all>kubeadm init phase kubelet-finalize</h2>
<p>Use the following phase to update settings relevant to the kubelet after TLS
bootstrap. You can use the <code>all</code> subcommand to run all <code>kubelet-finalize</code>
phases.</p>
<ul class="nav nav-tabs" id=tab-kubelet-finalize role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-kubelet-finalize-0 role=tab aria-controls=tab-kubelet-finalize-0 aria-selected=true>kubelet-finalize</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubelet-finalize-1 role=tab aria-controls=tab-kubelet-finalize-1>kubelet-finalize-all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-kubelet-finalize-2 role=tab aria-controls=tab-kubelet-finalize-2>kubelet-finalize-cert-rotation</a></li></ul>
<div class=tab-content id=tab-kubelet-finalize><div id=tab-kubelet-finalize-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-kubelet-finalize-0>
<p><p>Updates settings relevant to the kubelet after TLS bootstrap</p>
<h3 id=synopsis>Synopsis</h3>
<p>Updates settings relevant to the kubelet after TLS bootstrap</p>
<pre><code>kubeadm init phase kubelet-finalize [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Updates settings relevant to the kubelet after TLS bootstrap&quot;
  kubeadm init phase kubelet-finalize all --config
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-finalize</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubelet-finalize-1 class=tab-pane role=tabpanel aria-labelledby=tab-kubelet-finalize-1>
<p><p>Run all kubelet-finalize phases</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run all kubelet-finalize phases</p>
<pre><code>kubeadm init phase kubelet-finalize all [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Updates settings relevant to the kubelet after TLS bootstrap&quot;
  kubeadm init phase kubelet-finalize all --config
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-kubelet-finalize-2 class=tab-pane role=tabpanel aria-labelledby=tab-kubelet-finalize-2>
<p><p>Enable kubelet client certificate rotation</p>
<h3 id=synopsis>Synopsis</h3>
<p>Enable kubelet client certificate rotation</p>
<pre><code>kubeadm init phase kubelet-finalize experimental-cert-rotation [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path where to save and store the certificates.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for experimental-cert-rotation</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-phase-addon>kubeadm init phase addon</h2>
<p>You can install all the available addons with the <code>all</code> subcommand, or
install them selectively.</p>
<ul class="nav nav-tabs" id=tab-addon role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-addon-0 role=tab aria-controls=tab-addon-0 aria-selected=true>addon</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-addon-1 role=tab aria-controls=tab-addon-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-addon-2 role=tab aria-controls=tab-addon-2>coredns</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-addon-3 role=tab aria-controls=tab-addon-3>kube-proxy</a></li></ul>
<div class=tab-content id=tab-addon><div id=tab-addon-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-addon-0>
<p><p>Install required addons for passing conformance tests</p>
<h3 id=synopsis>Synopsis</h3>
<p>This command is not meant to be run on its own. See list of available subcommands.</p>
<pre><code>kubeadm init phase addon [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for addon</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-addon-1 class=tab-pane role=tabpanel aria-labelledby=tab-addon-1>
<p><p>Install all the addons</p>
<h3 id=synopsis>Synopsis</h3>
<p>Install all the addons</p>
<pre><code>kubeadm init phase addon all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-addon-2 class=tab-pane role=tabpanel aria-labelledby=tab-addon-2>
<p><p>Install the CoreDNS addon to a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Install the CoreDNS addon components via the API server. Please note that although the DNS server is deployed, it will not be scheduled until CNI is installed.</p>
<pre><code>kubeadm init phase addon coredns [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for various features. Options are:<br>IPv6DualStack=true|false (BETA - default=true)<br>PublicKeysECDSA=true|false (ALPHA - default=false)<br>RootlessControlPlane=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for coredns</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--service-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "10.96.0.0/12"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative range of IP address for service VIPs.</p></td>
</tr>
<tr>
<td colspan=2>--service-dns-domain string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "cluster.local"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use alternative domain for services, e.g. "myorg.internal".</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-addon-3 class=tab-pane role=tabpanel aria-labelledby=tab-addon-3>
<p><p>Install the kube-proxy addon to a Kubernetes cluster</p>
<h3 id=synopsis>Synopsis</h3>
<p>Install the kube-proxy addon components via the API server.</p>
<pre><code>kubeadm init phase addon kube-proxy [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify a stable IP address or DNS name for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-proxy</p></td>
</tr>
<tr>
<td colspan=2>--image-repository string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "k8s.gcr.io"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a container registry to pull control plane images from</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "stable-1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Choose a specific Kubernetes version for the control plane.</p></td>
</tr>
<tr>
<td colspan=2>--pod-network-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify range of IP addresses for the pod network. If set, the control plane will automatically allocate CIDRs for every node.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<p>For more details on each field in the <code>v1beta3</code> configuration you can navigate to our
<a href=/docs/reference/config-api/kubeadm-config.v1beta3/>API reference pages.</a></p>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to connect a node to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-alpha/>kubeadm alpha</a> to try experimental functionality</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-62a742c564b0b5b7ac12a95e67cc425a>8.1.12 - kubeadm join phase</h1>
<p><code>kubeadm join phase</code> enables you to invoke atomic steps of the join process.
Hence, you can let kubeadm do some of the work and you can fill in the gaps
if you wish to apply customization.</p>
<p><code>kubeadm join phase</code> is consistent with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/#join-workflow>kubeadm join workflow</a>,
and behind the scene both use the same code.</p>
<h2 id=cmd-join-phase>kubeadm join phase</h2>
<ul class="nav nav-tabs" id=tab-phase role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-phase-0 role=tab aria-controls=tab-phase-0 aria-selected=true>phase</a></li>
</ul>
<div class=tab-content id=tab-phase><div id=tab-phase-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-phase-0>
<p><p>Use this command to invoke single phase of the join workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the join workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-join-phase-preflight>kubeadm join phase preflight</h2>
<p>Using this phase you can execute preflight checks on a joining node.</p>
<ul class="nav nav-tabs" id=tab-preflight role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-preflight-0 role=tab aria-controls=tab-preflight-0 aria-selected=true>preflight</a></li>
</ul>
<div class=tab-content id=tab-preflight><div id=tab-preflight-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-preflight-0>
<p><p>Run join pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm join.</p>
<pre><code>kubeadm join phase preflight [api-server-endpoint] [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Run join pre-flight checks using a config file.
  kubeadm join phase preflight --config kubeadm-config.yaml
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-join-phase-control-plane-prepare>kubeadm join phase control-plane-prepare</h2>
<p>Using this phase you can prepare a node for serving a control-plane.</p>
<ul class="nav nav-tabs" id=tab-control-plane-prepare role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-control-plane-prepare-0 role=tab aria-controls=tab-control-plane-prepare-0 aria-selected=true>control-plane-prepare</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-prepare-1 role=tab aria-controls=tab-control-plane-prepare-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-prepare-2 role=tab aria-controls=tab-control-plane-prepare-2>download-certs</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-prepare-3 role=tab aria-controls=tab-control-plane-prepare-3>certs</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-prepare-4 role=tab aria-controls=tab-control-plane-prepare-4>kubeconfig</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-prepare-5 role=tab aria-controls=tab-control-plane-prepare-5>control-plane</a></li></ul>
<div class=tab-content id=tab-control-plane-prepare><div id=tab-control-plane-prepare-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-control-plane-prepare-0>
<p><p>Prepare the machine for serving a control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Prepare the machine for serving a control plane</p>
<pre><code>kubeadm join phase control-plane-prepare [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Prepares the machine for serving a control plane
  kubeadm join phase control-plane-prepare all
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane-prepare</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-prepare-1 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-prepare-1>
<p><p>Prepare the machine for serving a control plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Prepare the machine for serving a control plane</p>
<pre><code>kubeadm join phase control-plane-prepare all [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-prepare-2 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-prepare-2>
<p><p>[EXPERIMENTAL] Download certificates shared among control-plane nodes from the kubeadm-certs Secret</p>
<h3 id=synopsis>Synopsis</h3>
<p>[EXPERIMENTAL] Download certificates shared among control-plane nodes from the kubeadm-certs Secret</p>
<pre><code>kubeadm join phase control-plane-prepare download-certs [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for download-certs</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-prepare-3 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-prepare-3>
<p><p>Generate the certificates for the new control plane components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the certificates for the new control plane components</p>
<pre><code>kubeadm join phase control-plane-prepare certs [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for certs</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-prepare-4 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-prepare-4>
<p><p>Generate the kubeconfig for the new control plane components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the kubeconfig for the new control plane components</p>
<pre><code>kubeadm join phase control-plane-prepare kubeconfig [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this key to decrypt the certificate secrets uploaded by init.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeconfig</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-prepare-5 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-prepare-5>
<p><p>Generate the manifests for the new control plane components</p>
<h3 id=synopsis>Synopsis</h3>
<p>Generate the manifests for the new control plane components</p>
<pre><code>kubeadm join phase control-plane-prepare control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-bind-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the port for the API Server to bind to.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-join-phase-kubelet-start>kubeadm join phase kubelet-start</h2>
<p>Using this phase you can write the kubelet settings, certificates and (re)start the kubelet.</p>
<ul class="nav nav-tabs" id=tab-kubelet-start role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-kubelet-start-0 role=tab aria-controls=tab-kubelet-start-0 aria-selected=true>kubelet-start</a></li>
</ul>
<div class=tab-content id=tab-kubelet-start><div id=tab-kubelet-start-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-kubelet-start-0>
<p><p>Write kubelet settings, certificates and (re)start the kubelet</p>
<h3 id=synopsis>Synopsis</h3>
<p>Write a file with KubeletConfiguration and an environment file with node specific kubelet settings, and then (re)start kubelet.</p>
<pre><code>kubeadm join phase kubelet-start [api-server-endpoint] [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For file-based discovery, a file or URL from which to load cluster information.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, the token used to validate cluster information fetched from the API server.</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-ca-cert-hash strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, validate that the root CA public key matches this hash (format: "&lt;type>:&lt;value>").</p></td>
</tr>
<tr>
<td colspan=2>--discovery-token-unsafe-skip-ca-verification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>For token-based discovery, allow joining without --discovery-token-ca-cert-hash pinning.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-start</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--tls-bootstrap-token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the token used to temporarily authenticate with the Kubernetes Control Plane while joining the node.</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use this token for both discovery-token and tls-bootstrap-token when those values are not provided.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-join-phase-control-plane-join>kubeadm join phase control-plane-join</h2>
<p>Using this phase you can join a node as a control-plane instance.</p>
<ul class="nav nav-tabs" id=tab-control-plane-join role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-control-plane-join-0 role=tab aria-controls=tab-control-plane-join-0 aria-selected=true>control-plane-join</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-join-1 role=tab aria-controls=tab-control-plane-join-1>all</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-join-2 role=tab aria-controls=tab-control-plane-join-2>etcd</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-join-3 role=tab aria-controls=tab-control-plane-join-3>update-status</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-control-plane-join-4 role=tab aria-controls=tab-control-plane-join-4>mark-control-plane</a></li></ul>
<div class=tab-content id=tab-control-plane-join><div id=tab-control-plane-join-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-control-plane-join-0>
<p><p>Join a machine as a control plane instance</p>
<h3 id=synopsis>Synopsis</h3>
<p>Join a machine as a control plane instance</p>
<pre><code>kubeadm join phase control-plane-join [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Joins a machine as a control plane instance
  kubeadm join phase control-plane-join all
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane-join</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-join-1 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-join-1>
<p><p>Join a machine as a control plane instance</p>
<h3 id=synopsis>Synopsis</h3>
<p>Join a machine as a control plane instance</p>
<pre><code>kubeadm join phase control-plane-join all [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for all</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-join-2 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-join-2>
<p><p>Add a new local etcd member</p>
<h3 id=synopsis>Synopsis</h3>
<p>Add a new local etcd member</p>
<pre><code>kubeadm join phase control-plane-join etcd [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for etcd</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-join-3 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-join-3>
<p><p>Register the new control-plane node into the ClusterStatus maintained in the kubeadm-config ConfigMap (DEPRECATED)</p>
<h3 id=synopsis>Synopsis</h3>
<p>Register the new control-plane node into the ClusterStatus maintained in the kubeadm-config ConfigMap (DEPRECATED)</p>
<pre><code>kubeadm join phase control-plane-join update-status [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--apiserver-advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If the node should host a new control plane instance, the IP address the API Server will advertise it's listening on. If not set the default network interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for update-status</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-control-plane-join-4 class=tab-pane role=tabpanel aria-labelledby=tab-control-plane-join-4>
<p><p>Mark a node as a control-plane</p>
<h3 id=synopsis>Synopsis</h3>
<p>Mark a node as a control-plane</p>
<pre><code>kubeadm join phase control-plane-join mark-control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeadm config file.</p></td>
</tr>
<tr>
<td colspan=2>--control-plane</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Create a new control plane instance on this node</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for mark-control-plane</p></td>
</tr>
<tr>
<td colspan=2>--node-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Specify the node name.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to connect a node to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-alpha/>kubeadm alpha</a> to try experimental functionality</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1ab2d643d770ca684548de4ddbc7d8c4>8.1.13 - kubeadm kubeconfig</h1>
<p><code>kubeadm kubeconfig</code> provides utilities for managing kubeconfig files.</p>
<h2 id=cmd-kubeconfig>kubeadm kubeconfig</h2>
<ul class="nav nav-tabs" id=tab-kubeconfig role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-kubeconfig-0 role=tab aria-controls=tab-kubeconfig-0 aria-selected=true>overview</a></li>
</ul>
<div class=tab-content id=tab-kubeconfig><div id=tab-kubeconfig-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-kubeconfig-0>
<p><p>Kubeconfig file utilities</p>
<h3 id=synopsis>Synopsis</h3>
<p>Kubeconfig file utilities.</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubeconfig</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-kubeconfig-user>kubeadm kubeconfig user</h2>
<p>This command can be used to output a kubeconfig file for an additional user.</p>
<ul class="nav nav-tabs" id=tab-kubeconfig-user role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-kubeconfig-user-0 role=tab aria-controls=tab-kubeconfig-user-0 aria-selected=true>user</a></li>
</ul>
<div class=tab-content id=tab-kubeconfig-user><div id=tab-kubeconfig-user-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-kubeconfig-user-0>
<p><p>Output a kubeconfig file for an additional user</p>
<h3 id=synopsis>Synopsis</h3>
<p>Output a kubeconfig file for an additional user.</p>
<pre><code>kubeadm kubeconfig user [flags]
</code></pre><h3 id=examples>Examples</h3>
<pre><code>  # Output a kubeconfig file for an additional user named foo using a kubeadm config file bar
  kubeadm kubeconfig user --client-name=foo --config=bar
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--client-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The name of user. It will be used as the CN if client certificates are created</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeadm configuration file.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for user</p></td>
</tr>
<tr>
<td colspan=2>--org strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The orgnizations of the client certificate. It will be used as the O if client certificates are created</p></td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The token that should be used as the authentication mechanism for this kubeconfig, instead of client certificates</p></td>
</tr>
<tr>
<td colspan=2>--validity-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 8760h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The validity period of the client certificate. It is an offset from the current time.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-b969d0033ce5d9036463521fb1f150b3>8.1.14 - kubeadm reset phase</h1>
<p><code>kubeadm reset phase</code> enables you to invoke atomic steps of the node reset process.
Hence, you can let kubeadm do some of the work and you can fill in the gaps
if you wish to apply customization.</p>
<p><code>kubeadm reset phase</code> is consistent with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/#reset-workflow>kubeadm reset workflow</a>,
and behind the scene both use the same code.</p>
<h2 id=cmd-reset-phase>kubeadm reset phase</h2>
<ul class="nav nav-tabs" id=tab-phase role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-phase-0 role=tab aria-controls=tab-phase-0 aria-selected=true>phase</a></li>
</ul>
<div class=tab-content id=tab-phase><div id=tab-phase-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-phase-0>
<p><p>Use this command to invoke single phase of the reset workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the reset workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-reset-phase-preflight>kubeadm reset phase preflight</h2>
<p>Using this phase you can execute preflight checks on a node that is being reset.</p>
<ul class="nav nav-tabs" id=tab-preflight role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-preflight-0 role=tab aria-controls=tab-preflight-0 aria-selected=true>preflight</a></li>
</ul>
<div class=tab-content id=tab-preflight><div id=tab-preflight-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-preflight-0>
<p><p>Run reset pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm reset.</p>
<pre><code>kubeadm reset phase preflight [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-f, --force</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Reset the node without prompting for confirmation.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-reset-phase-update-cluster-status>kubeadm reset phase update-cluster-status</h2>
<p>Using this phase you can remove this control-plane node from the ClusterStatus object.</p>
<ul class="nav nav-tabs" id=tab-update-cluster-status role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-update-cluster-status-0 role=tab aria-controls=tab-update-cluster-status-0 aria-selected=true>update-cluster-status</a></li>
</ul>
<div class=tab-content id=tab-update-cluster-status><div id=tab-update-cluster-status-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-update-cluster-status-0>
<p><p>Remove this node from the ClusterStatus object (DEPRECATED).</p>
<h3 id=synopsis>Synopsis</h3>
<p>Remove this node from the ClusterStatus object (DEPRECATED).</p>
<pre><code>kubeadm reset phase update-cluster-status [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for update-cluster-status</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-reset-phase-remove-etcd-member>kubeadm reset phase remove-etcd-member</h2>
<p>Using this phase you can remove this control-plane node's etcd member from the etcd cluster.</p>
<ul class="nav nav-tabs" id=tab-remove-etcd-member role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-remove-etcd-member-0 role=tab aria-controls=tab-remove-etcd-member-0 aria-selected=true>remove-etcd-member</a></li>
</ul>
<div class=tab-content id=tab-remove-etcd-member><div id=tab-remove-etcd-member-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-remove-etcd-member-0>
<p><p>Remove a local etcd member.</p>
<h3 id=synopsis>Synopsis</h3>
<p>Remove a local etcd member for a control plane node.</p>
<pre><code>kubeadm reset phase remove-etcd-member [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for remove-etcd-member</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=cmd-reset-phase-cleanup-node>kubeadm reset phase cleanup-node</h2>
<p>Using this phase you can perform cleanup on this node.</p>
<ul class="nav nav-tabs" id=tab-cleanup-node role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-cleanup-node-0 role=tab aria-controls=tab-cleanup-node-0 aria-selected=true>cleanup-node</a></li>
</ul>
<div class=tab-content id=tab-cleanup-node><div id=tab-cleanup-node-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-cleanup-node-0>
<p><p>Run cleanup node.</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run cleanup node.</p>
<pre><code>kubeadm reset phase cleanup-node [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/pki"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the directory where the certificates are stored. If specified, clean this directory.</p></td>
</tr>
<tr>
<td colspan=2>--cri-socket string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for cleanup-node</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to connect a node to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-alpha/>kubeadm alpha</a> to try experimental functionality</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-dfd085b5ab706bd84dda15847dd27f1b>8.1.15 - kubeadm upgrade phase</h1>
<p>In v1.15.0, kubeadm introduced preliminary support for <code>kubeadm upgrade node</code> phases.
Phases for other <code>kubeadm upgrade</code> sub-commands such as <code>apply</code>, could be added in the
following releases.</p>
<h2 id=cmd-node-phase>kubeadm upgrade node phase</h2>
<p>Using this phase you can choose to execute the separate steps of the upgrade of
secondary control-plane or worker nodes. Please note that <code>kubeadm upgrade apply</code> still has to
be called on a primary control-plane node.</p>
<ul class="nav nav-tabs" id=tab-phase role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-phase-0 role=tab aria-controls=tab-phase-0 aria-selected=true>phase</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-phase-1 role=tab aria-controls=tab-phase-1>preflight</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-phase-2 role=tab aria-controls=tab-phase-2>control-plane</a></li>
<li class=nav-item><a data-toggle=tab class=nav-link href=#tab-phase-3 role=tab aria-controls=tab-phase-3>kubelet-config</a></li></ul>
<div class=tab-content id=tab-phase><div id=tab-phase-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-phase-0>
<p><p>Use this command to invoke single phase of the node workflow</p>
<h3 id=synopsis>Synopsis</h3>
<p>Use this command to invoke single phase of the node workflow</p>
<h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for phase</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-phase-1 class=tab-pane role=tabpanel aria-labelledby=tab-phase-1>
<p><p>Run upgrade node pre-flight checks</p>
<h3 id=synopsis>Synopsis</h3>
<p>Run pre-flight checks for kubeadm upgrade node.</p>
<pre><code>kubeadm upgrade node phase preflight [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for preflight</p></td>
</tr>
<tr>
<td colspan=2>--ignore-preflight-errors strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-phase-2 class=tab-pane role=tabpanel aria-labelledby=tab-phase-2>
<p><p>Upgrade the control plane instance deployed on this node, if any</p>
<h3 id=synopsis>Synopsis</h3>
<p>Upgrade the control plane instance deployed on this node, if any</p>
<pre><code>kubeadm upgrade node phase control-plane [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--certificate-renewal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the renewal of certificates used by component changed during upgrades.</p></td>
</tr>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output the actions that would be performed.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-upgrade&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Perform the upgrade of etcd.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for control-plane</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
<tr>
<td colspan=2>--patches string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div>
<div id=tab-phase-3 class=tab-pane role=tabpanel aria-labelledby=tab-phase-3>
<p><p>Upgrade the kubelet configuration for this node</p>
<h3 id=synopsis>Synopsis</h3>
<p>Download the kubelet configuration from a ConfigMap of the form "kubelet-config-1.X" in the cluster, where X is the minor version of the kubelet. kubeadm uses the KuberneteVersion field in the kubeadm-config ConfigMap to determine what the <em>desired</em> kubelet version is.</p>
<pre><code>kubeadm upgrade node phase kubelet-config [flags]
</code></pre><h3 id=options>Options</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--dry-run</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Do not change any state, just output the actions that would be performed.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kubelet-config</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/kubernetes/admin.conf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td>
</tr>
</tbody>
</table>
<h3 id=options-inherited-from-parent-commands>Options inherited from parent commands</h3>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--rootfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[EXPERIMENTAL] The path to the 'real' host root filesystem.</p></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/>kubeadm init</a> to bootstrap a Kubernetes control-plane node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/>kubeadm join</a> to connect a node to the cluster</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-reset/>kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/>kubeadm upgrade</a> to upgrade a kubeadm node</li>
<li><a href=/docs/reference/setup-tools/kubeadm/kubeadm-alpha/>kubeadm alpha</a> to try experimental functionality</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-455b6412a275b743ee8ad90f35808393>8.1.16 - Implementation details</h1>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.10 [stable]</code>
</div>
<p><code>kubeadm init</code> and <code>kubeadm join</code> together provides a nice user experience for creating a best-practice but bare Kubernetes cluster from scratch.
However, it might not be obvious <em>how</em> kubeadm does that.</p>
<p>This document provides additional details on what happen under the hood, with the aim of sharing knowledge on Kubernetes cluster best practices.</p>
<h2 id=core-design-principles>Core design principles</h2>
<p>The cluster that <code>kubeadm init</code> and <code>kubeadm join</code> set up should be:</p>
<ul>
<li><strong>Secure</strong>: It should adopt latest best-practices like:
<ul>
<li>enforcing RBAC</li>
<li>using the Node Authorizer</li>
<li>using secure communication between the control plane components</li>
<li>using secure communication between the API server and the kubelets</li>
<li>lock-down the kubelet API</li>
<li>locking down access to the API for system components like the kube-proxy and CoreDNS</li>
<li>locking down what a Bootstrap Token can access</li>
</ul>
</li>
<li><strong>User-friendly</strong>: The user should not have to run anything more than a couple of commands:
<ul>
<li><code>kubeadm init</code></li>
<li><code>export KUBECONFIG=/etc/kubernetes/admin.conf</code></li>
<li><code>kubectl apply -f &lt;network-of-choice.yaml></code></li>
<li><code>kubeadm join --token &lt;token> &lt;endpoint>:&lt;port></code></li>
</ul>
</li>
<li><strong>Extendable</strong>:
<ul>
<li>It should <em>not</em> favor any particular network provider. Configuring the cluster network is out-of-scope</li>
<li>It should provide the possibility to use a config file for customizing various parameters</li>
</ul>
</li>
</ul>
<h2 id=constants-and-well-known-values-and-paths>Constants and well-known values and paths</h2>
<p>In order to reduce complexity and to simplify development of higher level tools that build on top of kubeadm, it uses a
limited set of constant values for well-known paths and file names.</p>
<p>The Kubernetes directory <code>/etc/kubernetes</code> is a constant in the application, since it is clearly the given path
in a majority of cases, and the most intuitive location; other constants paths and file names are:</p>
<ul>
<li><code>/etc/kubernetes/manifests</code> as the path where kubelet should look for static Pod manifests. Names of static Pod manifests are:
<ul>
<li><code>etcd.yaml</code></li>
<li><code>kube-apiserver.yaml</code></li>
<li><code>kube-controller-manager.yaml</code></li>
<li><code>kube-scheduler.yaml</code></li>
</ul>
</li>
<li><code>/etc/kubernetes/</code> as the path where kubeconfig files with identities for control plane components are stored. Names of kubeconfig files are:
<ul>
<li><code>kubelet.conf</code> (<code>bootstrap-kubelet.conf</code> during TLS bootstrap)</li>
<li><code>controller-manager.conf</code></li>
<li><code>scheduler.conf</code></li>
<li><code>admin.conf</code> for the cluster admin and kubeadm itself</li>
</ul>
</li>
<li>Names of certificates and key files :
<ul>
<li><code>ca.crt</code>, <code>ca.key</code> for the Kubernetes certificate authority</li>
<li><code>apiserver.crt</code>, <code>apiserver.key</code> for the API server certificate</li>
<li><code>apiserver-kubelet-client.crt</code>, <code>apiserver-kubelet-client.key</code> for the client certificate used by the API server to connect to the kubelets securely</li>
<li><code>sa.pub</code>, <code>sa.key</code> for the key used by the controller manager when signing ServiceAccount</li>
<li><code>front-proxy-ca.crt</code>, <code>front-proxy-ca.key</code> for the front proxy certificate authority</li>
<li><code>front-proxy-client.crt</code>, <code>front-proxy-client.key</code> for the front proxy client</li>
</ul>
</li>
</ul>
<h2 id=kubeadm-init-workflow-internal-design>kubeadm init workflow internal design</h2>
<p>The <code>kubeadm init</code> <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#init-workflow>internal workflow</a> consists of a sequence of atomic work tasks to perform,
as described in <code>kubeadm init</code>.</p>
<p>The <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/><code>kubeadm init phase</code></a> command allows users to invoke each task individually, and ultimately offers a reusable and composable
API/toolbox that can be used by other Kubernetes bootstrap tools, by any IT automation tool or by an advanced user
for creating custom clusters.</p>
<h3 id=preflight-checks>Preflight checks</h3>
<p>Kubeadm executes a set of preflight checks before starting the init, with the aim to verify preconditions and avoid common cluster startup problems.
The user can skip specific preflight checks or all of them with the <code>--ignore-preflight-errors</code> option.</p>
<ul>
<li>[warning] If the Kubernetes version to use (specified with the <code>--kubernetes-version</code> flag) is at least one minor version higher than the kubeadm CLI version.</li>
<li>Kubernetes system requirements:
<ul>
<li>if running on linux:
<ul>
<li>[error] if Kernel is older than the minimum required version</li>
<li>[error] if required cgroups subsystem aren't in set up</li>
</ul>
</li>
<li>if using docker:
<ul>
<li>[warning/error] if Docker service does not exist, if it is disabled, if it is not active.</li>
<li>[error] if Docker endpoint does not exist or does not work</li>
<li>[warning] if docker version is not in the list of validated docker versions</li>
</ul>
</li>
<li>If using other cri engine:
<ul>
<li>[error] if crictl socket does not answer</li>
</ul>
</li>
</ul>
</li>
<li>[error] if user is not root</li>
<li>[error] if the machine hostname is not a valid DNS subdomain</li>
<li>[warning] if the host name cannot be reached via network lookup</li>
<li>[error] if kubelet version is lower that the minimum kubelet version supported by kubeadm (current minor -1)</li>
<li>[error] if kubelet version is at least one minor higher than the required controlplane version (unsupported version skew)</li>
<li>[warning] if kubelet service does not exist or if it is disabled</li>
<li>[warning] if firewalld is active</li>
<li>[error] if API server bindPort or ports 10250/10251/10252 are used</li>
<li>[Error] if <code>/etc/kubernetes/manifest</code> folder already exists and it is not empty</li>
<li>[Error] if <code>/proc/sys/net/bridge/bridge-nf-call-iptables</code> file does not exist/does not contain 1</li>
<li>[Error] if advertise address is ipv6 and <code>/proc/sys/net/bridge/bridge-nf-call-ip6tables</code> does not exist/does not contain 1.</li>
<li>[Error] if swap is on</li>
<li>[Error] if <code>conntrack</code>, <code>ip</code>, <code>iptables</code>, <code>mount</code>, <code>nsenter</code> commands are not present in the command path</li>
<li>[warning] if <code>ebtables</code>, <code>ethtool</code>, <code>socat</code>, <code>tc</code>, <code>touch</code>, <code>crictl</code> commands are not present in the command path</li>
<li>[warning] if extra arg flags for API server, controller manager, scheduler contains some invalid options</li>
<li>[warning] if connection to https://API.AdvertiseAddress:API.BindPort goes through proxy</li>
<li>[warning] if connection to services subnet goes through proxy (only first address checked)</li>
<li>[warning] if connection to Pods subnet goes through proxy (only first address checked)</li>
<li>If external etcd is provided:
<ul>
<li>[Error] if etcd version is older than the minimum required version</li>
<li>[Error] if etcd certificates or keys are specified, but not provided</li>
</ul>
</li>
<li>If external etcd is NOT provided (and thus local etcd will be installed):
<ul>
<li>[Error] if ports 2379 is used</li>
<li>[Error] if Etcd.DataDir folder already exists and it is not empty</li>
</ul>
</li>
<li>If authorization mode is ABAC:
<ul>
<li>[Error] if abac_policy.json does not exist</li>
</ul>
</li>
<li>If authorization mode is WebHook
<ul>
<li>[Error] if webhook_authz.conf does not exist</li>
</ul>
</li>
</ul>
<p>Please note that:</p>
<ol>
<li>Preflight checks can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-preflight><code>kubeadm init phase preflight</code></a> command</li>
</ol>
<h3 id=generate-the-necessary-certificates>Generate the necessary certificates</h3>
<p>Kubeadm generates certificate and private key pairs for different purposes:</p>
<ul>
<li>A self signed certificate authority for the Kubernetes cluster saved into <code>ca.crt</code> file and <code>ca.key</code> private key file</li>
<li>A serving certificate for the API server, generated using <code>ca.crt</code> as the CA, and saved into <code>apiserver.crt</code> file with
its private key <code>apiserver.key</code>. This certificate should contain following alternative names:
<ul>
<li>The Kubernetes service's internal clusterIP (the first address in the services CIDR, e.g. <code>10.96.0.1</code> if service subnet is <code>10.96.0.0/12</code>)</li>
<li>Kubernetes DNS names, e.g. <code>kubernetes.default.svc.cluster.local</code> if <code>--service-dns-domain</code> flag value is <code>cluster.local</code>, plus default DNS names <code>kubernetes.default.svc</code>, <code>kubernetes.default</code>, <code>kubernetes</code></li>
<li>The node-name</li>
<li>The <code>--apiserver-advertise-address</code></li>
<li>Additional alternative names specified by the user</li>
</ul>
</li>
<li>A client certificate for the API server to connect to the kubelets securely, generated using <code>ca.crt</code> as the CA and saved into
<code>apiserver-kubelet-client.crt</code> file with its private key <code>apiserver-kubelet-client.key</code>.
This certificate should be in the <code>system:masters</code> organization</li>
<li>A private key for signing ServiceAccount Tokens saved into <code>sa.key</code> file along with its public key <code>sa.pub</code></li>
<li>A certificate authority for the front proxy saved into <code>front-proxy-ca.crt</code> file with its key <code>front-proxy-ca.key</code></li>
<li>A client cert for the front proxy client, generate using <code>front-proxy-ca.crt</code> as the CA and saved into <code>front-proxy-client.crt</code> file
with its private key<code>front-proxy-client.key</code></li>
</ul>
<p>Certificates are stored by default in <code>/etc/kubernetes/pki</code>, but this directory is configurable using the <code>--cert-dir</code> flag.</p>
<p>Please note that:</p>
<ol>
<li>If a given certificate and private key pair both exist, and its content is evaluated compliant with the above specs, the existing files will
be used and the generation phase for the given certificate skipped. This means the user can, for example, copy an existing CA to
<code>/etc/kubernetes/pki/ca.{crt,key}</code>, and then kubeadm will use those files for signing the rest of the certs.
See also <a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs#custom-certificates>using custom certificates</a></li>
<li>Only for the CA, it is possible to provide the <code>ca.crt</code> file but not the <code>ca.key</code> file, if all other certificates and kubeconfig files
already are in place kubeadm recognize this condition and activates the ExternalCA , which also implies the <code>csrsigner</code>controller in
controller-manager won't be started</li>
<li>If kubeadm is running in <a href=/docs/tasks/administer-cluster/kubeadm/kubeadm-certs#external-ca-mode>external CA mode</a>;
all the certificates must be provided by the user, because kubeadm cannot generate them by itself</li>
<li>In case of kubeadm is executed in the <code>--dry-run</code> mode, certificates files are written in a temporary folder</li>
<li>Certificate generation can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-certs><code>kubeadm init phase certs all</code></a> command</li>
</ol>
<h3 id=generate-kubeconfig-files-for-control-plane-components>Generate kubeconfig files for control plane components</h3>
<p>Kubeadm generates kubeconfig files with identities for control plane components:</p>
<ul>
<li>A kubeconfig file for the kubelet to use during TLS bootstrap - /etc/kubernetes/bootstrap-kubelet.conf. Inside this file there is a bootstrap-token or embedded client certificates for authenticating this node with the cluster.
This client cert should:
<ul>
<li>Be in the <code>system:nodes</code> organization, as required by the <a href=/docs/reference/access-authn-authz/node/>Node Authorization</a> module</li>
<li>Have the Common Name (CN) <code>system:node:&lt;hostname-lowercased></code></li>
</ul>
</li>
<li>A kubeconfig file for controller-manager, <code>/etc/kubernetes/controller-manager.conf</code>; inside this file is embedded a client
certificate with controller-manager identity. This client cert should have the CN <code>system:kube-controller-manager</code>, as defined
by default <a href=/docs/reference/access-authn-authz/rbac/#core-component-roles>RBAC core components roles</a></li>
<li>A kubeconfig file for scheduler, <code>/etc/kubernetes/scheduler.conf</code>; inside this file is embedded a client certificate with scheduler identity.
This client cert should have the CN <code>system:kube-scheduler</code>, as defined by default <a href=/docs/reference/access-authn-authz/rbac/#core-component-roles>RBAC core components roles</a></li>
</ul>
<p>Additionally, a kubeconfig file for kubeadm itself and the admin is generated and saved into the <code>/etc/kubernetes/admin.conf</code> file.
The "admin" here is defined as the actual person(s) that is administering the cluster and wants to have full control (<strong>root</strong>) over the cluster.
The embedded client certificate for admin should be in the <code>system:masters</code> organization, as defined by default
<a href=/docs/reference/access-authn-authz/rbac/#user-facing-roles>RBAC user facing role bindings</a>. It should also include a
CN. Kubeadm uses the <code>kubernetes-admin</code> CN.</p>
<p>Please note that:</p>
<ol>
<li><code>ca.crt</code> certificate is embedded in all the kubeconfig files.</li>
<li>If a given kubeconfig file exists, and its content is evaluated compliant with the above specs, the existing file will be used and the generation phase for the given kubeconfig skipped</li>
<li>If kubeadm is running in <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#external-ca-mode>ExternalCA mode</a>, all the required kubeconfig must be provided by the user as well, because kubeadm cannot generate any of them by itself</li>
<li>In case of kubeadm is executed in the <code>--dry-run</code> mode, kubeconfig files are written in a temporary folder</li>
<li>Kubeconfig files generation can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-kubeconfig><code>kubeadm init phase kubeconfig all</code></a> command</li>
</ol>
<h3 id=generate-static-pod-manifests-for-control-plane-components>Generate static Pod manifests for control plane components</h3>
<p>Kubeadm writes static Pod manifest files for control plane components to <code>/etc/kubernetes/manifests</code>. The kubelet watches this directory for Pods to create on startup.</p>
<p>Static Pod manifest share a set of common properties:</p>
<ul>
<li>All static Pods are deployed on <code>kube-system</code> namespace</li>
<li>All static Pods get <code>tier:control-plane</code> and <code>component:{component-name}</code> labels</li>
<li>All static Pods use the <code>system-node-critical</code> priority class</li>
<li><code>hostNetwork: true</code> is set on all static Pods to allow control plane startup before a network is configured; as a consequence:
<ul>
<li>The <code>address</code> that the controller-manager and the scheduler use to refer the API server is <code>127.0.0.1</code></li>
<li>If using a local etcd server, <code>etcd-servers</code> address will be set to <code>127.0.0.1:2379</code></li>
</ul>
</li>
<li>Leader election is enabled for both the controller-manager and the scheduler</li>
<li>Controller-manager and the scheduler will reference kubeconfig files with their respective, unique identities</li>
<li>All static Pods get any extra flags specified by the user as described in <a href=/docs/setup/production-environment/tools/kubeadm/control-plane-flags/>passing custom arguments to control plane components</a></li>
<li>All static Pods get any extra Volumes specified by the user (Host path)</li>
</ul>
<p>Please note that:</p>
<ol>
<li>All images will be pulled from k8s.gcr.io by default. See <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#custom-images>using custom images</a> for customizing the image repository</li>
<li>In case of kubeadm is executed in the <code>--dry-run</code> mode, static Pods files are written in a temporary folder</li>
<li>Static Pod manifest generation for control plane components can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-control-plane><code>kubeadm init phase control-plane all</code></a> command</li>
</ol>
<h4 id=api-server>API server</h4>
<p>The static Pod manifest for the API server is affected by following parameters provided by the users:</p>
<ul>
<li>The <code>apiserver-advertise-address</code> and <code>apiserver-bind-port</code> to bind to; if not provided, those value defaults to the IP address of
the default network interface on the machine and port 6443</li>
<li>The <code>service-cluster-ip-range</code> to use for services</li>
<li>If an external etcd server is specified, the <code>etcd-servers</code> address and related TLS settings (<code>etcd-cafile</code>, <code>etcd-certfile</code>, <code>etcd-keyfile</code>);
if an external etcd server is not be provided, a local etcd will be used (via host network)</li>
<li>If a cloud provider is specified, the corresponding <code>--cloud-provider</code> is configured, together with the <code>--cloud-config</code> path
if such file exists (this is experimental, alpha and will be removed in a future version)</li>
</ul>
<p>Other API server flags that are set unconditionally are:</p>
<ul>
<li><code>--insecure-port=0</code> to avoid insecure connections to the api server</li>
<li><code>--enable-bootstrap-token-auth=true</code> to enable the <code>BootstrapTokenAuthenticator</code> authentication module.
See <a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/>TLS Bootstrapping</a> for more details</li>
<li><code>--allow-privileged</code> to <code>true</code> (required e.g. by kube proxy)</li>
<li><code>--requestheader-client-ca-file</code> to <code>front-proxy-ca.crt</code></li>
<li><code>--enable-admission-plugins</code> to:
<ul>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#namespacelifecycle><code>NamespaceLifecycle</code></a> e.g. to avoid deletion of
system reserved namespaces</li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#limitranger><code>LimitRanger</code></a> and <a href=/docs/reference/access-authn-authz/admission-controllers/#resourcequota><code>ResourceQuota</code></a> to enforce limits on namespaces</li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#serviceaccount><code>ServiceAccount</code></a> to enforce service account automation</li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#persistentvolumelabel><code>PersistentVolumeLabel</code></a> attaches region or zone labels to
PersistentVolumes as defined by the cloud provider (This admission controller is deprecated and will be removed in a future version.
It is not deployed by kubeadm by default with v1.9 onwards when not explicitly opting into using <code>gce</code> or <code>aws</code> as cloud providers)</li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#defaultstorageclass><code>DefaultStorageClass</code></a> to enforce default storage class on <code>PersistentVolumeClaim</code> objects</li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#defaulttolerationseconds><code>DefaultTolerationSeconds</code></a></li>
<li><a href=/docs/reference/access-authn-authz/admission-controllers/#noderestriction><code>NodeRestriction</code></a> to limit what a kubelet can modify
(e.g. only pods on this node)</li>
</ul>
</li>
<li><code>--kubelet-preferred-address-types</code> to <code>InternalIP,ExternalIP,Hostname;</code> this makes <code>kubectl logs</code> and other API server-kubelet
communication work in environments where the hostnames of the nodes aren't resolvable</li>
<li>Flags for using certificates generated in previous steps:
<ul>
<li><code>--client-ca-file</code> to <code>ca.crt</code></li>
<li><code>--tls-cert-file</code> to <code>apiserver.crt</code></li>
<li><code>--tls-private-key-file</code> to <code>apiserver.key</code></li>
<li><code>--kubelet-client-certificate</code> to <code>apiserver-kubelet-client.crt</code></li>
<li><code>--kubelet-client-key</code> to <code>apiserver-kubelet-client.key</code></li>
<li><code>--service-account-key-file</code> to <code>sa.pub</code></li>
<li><code>--requestheader-client-ca-file</code> to<code>front-proxy-ca.crt</code></li>
<li><code>--proxy-client-cert-file</code> to <code>front-proxy-client.crt</code></li>
<li><code>--proxy-client-key-file</code> to <code>front-proxy-client.key</code></li>
</ul>
</li>
<li>Other flags for securing the front proxy (<a href=/docs/concepts/extend-kubernetes/api-extension/apiserver-aggregation/>API Aggregation</a>) communications:
<ul>
<li><code>--requestheader-username-headers=X-Remote-User</code></li>
<li><code>--requestheader-group-headers=X-Remote-Group</code></li>
<li><code>--requestheader-extra-headers-prefix=X-Remote-Extra-</code></li>
<li><code>--requestheader-allowed-names=front-proxy-client</code></li>
</ul>
</li>
</ul>
<h4 id=controller-manager>Controller manager</h4>
<p>The static Pod manifest for the controller manager is affected by following parameters provided by the users:</p>
<ul>
<li>If kubeadm is invoked specifying a <code>--pod-network-cidr</code>, the subnet manager feature required for some CNI network plugins is enabled by
setting:
<ul>
<li><code>--allocate-node-cidrs=true</code></li>
<li><code>--cluster-cidr</code> and <code>--node-cidr-mask-size</code> flags according to the given CIDR</li>
</ul>
</li>
<li>If a cloud provider is specified, the corresponding <code>--cloud-provider</code> is specified, together with the <code>--cloud-config</code> path
if such configuration file exists (this is experimental, alpha and will be removed in a future version)</li>
</ul>
<p>Other flags that are set unconditionally are:</p>
<ul>
<li><code>--controllers</code> enabling all the default controllers plus <code>BootstrapSigner</code> and <code>TokenCleaner</code> controllers for TLS bootstrap.
See <a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/>TLS Bootstrapping</a> for more details</li>
<li><code>--use-service-account-credentials</code> to <code>true</code></li>
<li>Flags for using certificates generated in previous steps:
<ul>
<li><code>--root-ca-file</code> to <code>ca.crt</code></li>
<li><code>--cluster-signing-cert-file</code> to <code>ca.crt</code>, if External CA mode is disabled, otherwise to <code>""</code></li>
<li><code>--cluster-signing-key-file</code> to <code>ca.key</code>, if External CA mode is disabled, otherwise to <code>""</code></li>
<li><code>--service-account-private-key-file</code> to <code>sa.key</code></li>
</ul>
</li>
</ul>
<h4 id=scheduler>Scheduler</h4>
<p>The static Pod manifest for the scheduler is not affected by parameters provided by the users.</p>
<h3 id=generate-static-pod-manifest-for-local-etcd>Generate static Pod manifest for local etcd</h3>
<p>If the user specified an external etcd this step will be skipped, otherwise kubeadm generates a static Pod manifest file for creating
a local etcd instance running in a Pod with following attributes:</p>
<ul>
<li>listen on <code>localhost:2379</code> and use <code>HostNetwork=true</code></li>
<li>make a <code>hostPath</code> mount out from the <code>dataDir</code> to the host's filesystem</li>
<li>Any extra flags specified by the user</li>
</ul>
<p>Please note that:</p>
<ol>
<li>The etcd image will be pulled from <code>k8s.gcr.io</code> by default. See <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init/#custom-images>using custom images</a> for customizing the image repository</li>
<li>in case of kubeadm is executed in the <code>--dry-run</code> mode, the etcd static Pod manifest is written in a temporary folder</li>
<li>Static Pod manifest generation for local etcd can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-etcd><code>kubeadm init phase etcd local</code></a> command</li>
</ol>
<h3 id=wait-for-the-control-plane-to-come-up>Wait for the control plane to come up</h3>
<p>kubeadm waits (upto 4m0s) until <code>localhost:6443/healthz</code> (kube-apiserver liveness) returns <code>ok</code>. However in order to detect
deadlock conditions, kubeadm fails fast if <code>localhost:10255/healthz</code> (kubelet liveness) or
<code>localhost:10255/healthz/syncloop</code> (kubelet readiness) don't return <code>ok</code> within 40s and 60s respectively.</p>
<p>kubeadm relies on the kubelet to pull the control plane images and run them properly as static Pods.
After the control plane is up, kubeadm completes the tasks described in following paragraphs.</p>
<h3 id=save-the-kubeadm-clusterconfiguration-in-a-configmap-for-later-reference>Save the kubeadm ClusterConfiguration in a ConfigMap for later reference</h3>
<p>kubeadm saves the configuration passed to <code>kubeadm init</code> in a ConfigMap named <code>kubeadm-config</code> under <code>kube-system</code> namespace.</p>
<p>This will ensure that kubeadm actions executed in future (e.g <code>kubeadm upgrade</code>) will be able to determine the actual/current cluster
state and make new decisions based on that data.</p>
<p>Please note that:</p>
<ol>
<li>Before saving the ClusterConfiguration, sensitive information like the token is stripped from the configuration</li>
<li>Upload of control plane node configuration can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-upload-config><code>kubeadm init phase upload-config</code></a> command</li>
</ol>
<h3 id=mark-the-node-as-control-plane>Mark the node as control-plane</h3>
<p>As soon as the control plane is available, kubeadm executes following actions:</p>
<ul>
<li>Labels the node as control-plane with <code>node-role.kubernetes.io/master=""</code></li>
<li>Taints the node with <code>node-role.kubernetes.io/master:NoSchedule</code></li>
</ul>
<p>Please note that:</p>
<ol>
<li>Mark control-plane phase phase can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-mark-control-plane><code>kubeadm init phase mark-control-plane</code></a> command</li>
</ol>
<h3 id=configure-tls-bootstrapping-for-node-joining>Configure TLS-Bootstrapping for node joining</h3>
<p>Kubeadm uses <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>Authenticating with Bootstrap Tokens</a> for joining new nodes to an
existing cluster; for more details see also <a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/cluster-lifecycle/bootstrap-discovery.md>design proposal</a>.</p>
<p><code>kubeadm init</code> ensures that everything is properly configured for this process, and this includes following steps as well as
setting API server and controller flags as already described in previous paragraphs.
Please note that:</p>
<ol>
<li>TLS bootstrapping for nodes can be configured with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-bootstrap-token><code>kubeadm init phase bootstrap-token</code></a>
command, executing all the configuration steps described in following paragraphs; alternatively, each step can be invoked individually</li>
</ol>
<h4 id=create-a-bootstrap-token>Create a bootstrap token</h4>
<p><code>kubeadm init</code> create a first bootstrap token, either generated automatically or provided by the user with the <code>--token</code> flag; as documented
in bootstrap token specification, token should be saved as secrets with name <code>bootstrap-token-&lt;token-id></code> under <code>kube-system</code> namespace.
Please note that:</p>
<ol>
<li>The default token created by <code>kubeadm init</code> will be used to validate temporary user during TLS bootstrap process; those users will
be member of <code>system:bootstrappers:kubeadm:default-node-token</code> group</li>
<li>The token has a limited validity, default 24 hours (the interval may be changed with the <code>—token-ttl</code> flag)</li>
<li>Additional tokens can be created with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-token/><code>kubeadm token</code></a> command, that provide as well other useful functions
for token management</li>
</ol>
<h4 id=allow-joining-nodes-to-call-csr-api>Allow joining nodes to call CSR API</h4>
<p>Kubeadm ensures that users in <code>system:bootstrappers:kubeadm:default-node-token</code> group are able to access the certificate signing API.</p>
<p>This is implemented by creating a ClusterRoleBinding named <code>kubeadm:kubelet-bootstrap</code> between the group above and the default
RBAC role <code>system:node-bootstrapper</code>.</p>
<h4 id=setup-auto-approval-for-new-bootstrap-tokens>Setup auto approval for new bootstrap tokens</h4>
<p>Kubeadm ensures that the Bootstrap Token will get its CSR request automatically approved by the csrapprover controller.</p>
<p>This is implemented by creating ClusterRoleBinding named <code>kubeadm:node-autoapprove-bootstrap</code> between
the <code>system:bootstrappers:kubeadm:default-node-token</code> group and the default role <code>system:certificates.k8s.io:certificatesigningrequests:nodeclient</code>.</p>
<p>The role <code>system:certificates.k8s.io:certificatesigningrequests:nodeclient</code> should be created as well, granting
POST permission to <code>/apis/certificates.k8s.io/certificatesigningrequests/nodeclient</code>.</p>
<h4 id=setup-nodes-certificate-rotation-with-auto-approval>Setup nodes certificate rotation with auto approval</h4>
<p>Kubeadm ensures that certificate rotation is enabled for nodes, and that new certificate request for nodes will get its CSR request
automatically approved by the csrapprover controller.</p>
<p>This is implemented by creating ClusterRoleBinding named <code>kubeadm:node-autoapprove-certificate-rotation</code> between the <code>system:nodes</code> group
and the default role <code>system:certificates.k8s.io:certificatesigningrequests:selfnodeclient</code>.</p>
<h4 id=create-the-public-cluster-info-configmap>Create the public cluster-info ConfigMap</h4>
<p>This phase creates the <code>cluster-info</code> ConfigMap in the <code>kube-public</code> namespace.</p>
<p>Additionally it creates a Role and a RoleBinding granting access to the ConfigMap for unauthenticated users
(i.e. users in RBAC group <code>system:unauthenticated</code>).</p>
<p>Please note that:</p>
<ol>
<li>The access to the <code>cluster-info</code> ConfigMap <em>is not</em> rate-limited. This may or may not be a problem if you expose your cluster's API server
to the internet; worst-case scenario here is a DoS attack where an attacker uses all the in-flight requests the kube-apiserver
can handle to serving the <code>cluster-info</code> ConfigMap.</li>
</ol>
<h3 id=install-addons>Install addons</h3>
<p>Kubeadm installs the internal DNS server and the kube-proxy addon components via the API server.
Please note that:</p>
<ol>
<li>This phase can be invoked individually with the <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-addon><code>kubeadm init phase addon all</code></a> command.</li>
</ol>
<h4 id=proxy>proxy</h4>
<p>A ServiceAccount for <code>kube-proxy</code> is created in the <code>kube-system</code> namespace; then kube-proxy is deployed as a DaemonSet:</p>
<ul>
<li>The credentials (<code>ca.crt</code> and <code>token</code>) to the control plane come from the ServiceAccount</li>
<li>The location (URL) of the API server comes from a ConfigMap</li>
<li>The <code>kube-proxy</code> ServiceAccount is bound to the privileges in the <code>system:node-proxier</code> ClusterRole</li>
</ul>
<h4 id=dns>DNS</h4>
<ul>
<li>The CoreDNS service is named <code>kube-dns</code>. This is done to prevent any interruption
in service when the user is switching the cluster DNS from kube-dns to CoreDNS
the <code>--config</code> method described <a href=/docs/reference/setup-tools/kubeadm/kubeadm-init-phase/#cmd-phase-addon>here</a>.</li>
<li>A ServiceAccount for CoreDNS is created in the <code>kube-system</code> namespace.</li>
<li>The <code>coredns</code> ServiceAccount is bound to the privileges in the <code>system:coredns</code> ClusterRole</li>
</ul>
<p>In Kubernetes version 1.21, support for using <code>kube-dns</code> with kubeadm was removed.
You can use CoreDNS with kubeadm even when the related Service is named <code>kube-dns</code>.</p>
<h2 id=kubeadm-join-phases-internal-design>kubeadm join phases internal design</h2>
<p>Similarly to <code>kubeadm init</code>, also <code>kubeadm join</code> internal workflow consists of a sequence of atomic work tasks to perform.</p>
<p>This is split into discovery (having the Node trust the Kubernetes Master) and TLS bootstrap (having the Kubernetes Master trust the Node).</p>
<p>see <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>Authenticating with Bootstrap Tokens</a> or the corresponding <a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/cluster-lifecycle/bootstrap-discovery.md>design proposal</a>.</p>
<h3 id=preflight-checks-1>Preflight checks</h3>
<p><code>kubeadm</code> executes a set of preflight checks before starting the join, with the aim to verify preconditions and avoid common
cluster startup problems.</p>
<p>Please note that:</p>
<ol>
<li><code>kubeadm join</code> preflight checks are basically a subset <code>kubeadm init</code> preflight checks</li>
<li>Starting from 1.9, kubeadm provides better support for CRI-generic functionality; in that case, docker specific controls
are skipped or replaced by similar controls for crictl.</li>
<li>Starting from 1.9, kubeadm provides support for joining nodes running on Windows; in that case, linux specific controls are skipped.</li>
<li>In any case the user can skip specific preflight checks (or eventually all preflight checks) with the <code>--ignore-preflight-errors</code> option.</li>
</ol>
<h3 id=discovery-cluster-info>Discovery cluster-info</h3>
<p>There are 2 main schemes for discovery. The first is to use a shared token along with the IP address of the API server.
The second is to provide a file (that is a subset of the standard kubeconfig file).</p>
<h4 id=shared-token-discovery>Shared token discovery</h4>
<p>If <code>kubeadm join</code> is invoked with <code>--discovery-token</code>, token discovery is used; in this case the node basically retrieves
the cluster CA certificates from the <code>cluster-info</code> ConfigMap in the <code>kube-public</code> namespace.</p>
<p>In order to prevent "man in the middle" attacks, several steps are taken:</p>
<ul>
<li>First, the CA certificate is retrieved via insecure connection (this is possible because <code>kubeadm init</code> granted access to <code>cluster-info</code> users for <code>system:unauthenticated</code> )</li>
<li>Then the CA certificate goes trough following validation steps:
<ul>
<li>Basic validation: using the token ID against a JWT signature</li>
<li>Pub key validation: using provided <code>--discovery-token-ca-cert-hash</code>. This value is available in the output of <code>kubeadm init</code> or can
be calculated using standard tools (the hash is calculated over the bytes of the Subject Public Key Info (SPKI) object as in RFC7469).
The <code>--discovery-token-ca-cert-hash flag</code> may be repeated multiple times to allow more than one public key.</li>
<li>As a additional validation, the CA certificate is retrieved via secure connection and then compared with the CA retrieved initially</li>
</ul>
</li>
</ul>
<p>Please note that:</p>
<ol>
<li>Pub key validation can be skipped passing <code>--discovery-token-unsafe-skip-ca-verification</code> flag; This weakens the kubeadm security
model since others can potentially impersonate the Kubernetes Master.</li>
</ol>
<h4 id=file-https-discovery>File/https discovery</h4>
<p>If <code>kubeadm join</code> is invoked with <code>--discovery-file</code>, file discovery is used; this file can be a local file or downloaded via an HTTPS URL; in case of HTTPS, the host installed CA bundle is used to verify the connection.</p>
<p>With file discovery, the cluster CA certificates is provided into the file itself; in fact, the discovery file is a kubeconfig
file with only <code>server</code> and <code>certificate-authority-data</code> attributes set, as described in <a href=/docs/reference/setup-tools/kubeadm/kubeadm-join/#file-or-https-based-discovery><code>kubeadm join</code></a> reference doc;
when the connection with the cluster is established, kubeadm try to access the <code>cluster-info</code> ConfigMap, and if available, uses it.</p>
<h2 id=tls-bootstrap>TLS Bootstrap</h2>
<p>Once the cluster info are known, the file <code>bootstrap-kubelet.conf</code> is written, thus allowing kubelet to do TLS Bootstrapping.</p>
<p>The TLS bootstrap mechanism uses the shared token to temporarily authenticate with the Kubernetes API server to submit a certificate
signing request (CSR) for a locally created key pair.</p>
<p>The request is then automatically approved and the operation completes saving <code>ca.crt</code> file and <code>kubelet.conf</code> file to be used
by kubelet for joining the cluster, while<code>bootstrap-kubelet.conf</code> is deleted.</p>
<p>Please note that:</p>
<ul>
<li>The temporary authentication is validated against the token saved during the <code>kubeadm init</code> process (or with additional tokens
created with <code>kubeadm token</code>)</li>
<li>The temporary authentication resolve to a user member of <code>system:bootstrappers:kubeadm:default-node-token</code> group which was granted
access to CSR api during the <code>kubeadm init</code> process</li>
<li>The automatic CSR approval is managed by the csrapprover controller, according with configuration done the <code>kubeadm init</code> process</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-54e562dd1441d0195970a6526b0055cc>9 - Component tools</h1>
</div>
<div class=td-content>
<h1 id=pg-ca5d01a42c486d535539d3038aa67eb9>9.1 - Feature Gates</h1>
<p>This page contains an overview of the various feature gates an administrator
can specify on different Kubernetes components.</p>
<p>See <a href=#feature-stages>feature stages</a> for an explanation of the stages for a feature.</p>
<h2 id=overview>Overview</h2>
<p>Feature gates are a set of key=value pairs that describe Kubernetes features.
You can turn these features on or off using the <code>--feature-gates</code> command line flag
on each Kubernetes component.</p>
<p>Each Kubernetes component lets you enable or disable a set of feature gates that
are relevant to that component.
Use <code>-h</code> flag to see a full set of feature gates for all components.
To set feature gates for a component, such as kubelet, use the <code>--feature-gates</code> flag assigned to a list of feature pairs:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--feature-gates<span style=color:#666>=</span><span style=color:#b44>&#34;...,GracefulNodeShutdown=true&#34;</span>
</code></pre></div><p>The following tables are a summary of the feature gates that you can set on
different Kubernetes components.</p>
<ul>
<li>The "Since" column contains the Kubernetes release when a feature is introduced
or its release stage is changed.</li>
<li>The "Until" column, if not empty, contains the last Kubernetes release in which
you can still use a feature gate.</li>
<li>If a feature is in the Alpha or Beta state, you can find the feature listed
in the <a href=#feature-gates-for-alpha-or-beta-features>Alpha/Beta feature gate table</a>.</li>
<li>If a feature is stable you can find all stages for that feature listed in the
<a href=#feature-gates-for-graduated-or-deprecated-features>Graduated/Deprecated feature gate table</a>.</li>
<li>The <a href=#feature-gates-for-graduated-or-deprecated-features>Graduated/Deprecated feature gate table</a>
also lists deprecated and withdrawn features.</li>
</ul>
<h3 id=feature-gates-for-alpha-or-beta-features>Feature gates for Alpha or Beta features</h3>
<table><caption style=display:none>Feature gates for features in Alpha or Beta states</caption>
<thead>
<tr>
<th>Feature</th>
<th>Default</th>
<th>Stage</th>
<th>Since</th>
<th>Until</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>APIListChunking</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.8</td>
</tr>
<tr>
<td><code>APIListChunking</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.9</td>
<td></td>
</tr>
<tr>
<td><code>APIPriorityAndFairness</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.19</td>
</tr>
<tr>
<td><code>APIPriorityAndFairness</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>APIResponseCompression</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.7</td>
<td>1.15</td>
</tr>
<tr>
<td><code>APIResponseCompression</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td></td>
</tr>
<tr>
<td><code>APIServerIdentity</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>APIServerTracing</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>AllowInsecureBackendProxy</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.17</td>
<td></td>
</tr>
<tr>
<td><code>AnyVolumeDataSource</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td></td>
</tr>
<tr>
<td><code>AppArmor</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.4</td>
<td></td>
</tr>
<tr>
<td><code>ControllerManagerLeaderMigration</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>CPUManager</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.9</td>
</tr>
<tr>
<td><code>CPUManager</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td></td>
</tr>
<tr>
<td><code>CPUManagerPolicyOptions</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>CSIInlineVolume</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>CSIInlineVolume</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIMigration</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.16</td>
</tr>
<tr>
<td><code>CSIMigration</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.17</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationAWS</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationAWS</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.17</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationAzureDisk</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.18</td>
</tr>
<tr>
<td><code>CSIMigrationAzureDisk</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.19</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationAzureFile</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.19</td>
</tr>
<tr>
<td><code>CSIMigrationAzureFile</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationGCE</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.16</td>
</tr>
<tr>
<td><code>CSIMigrationGCE</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.17</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationOpenStack</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.17</td>
</tr>
<tr>
<td><code>CSIMigrationOpenStack</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.18</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationvSphere</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.19</td>
<td></td>
</tr>
<tr>
<td><code>CSIStorageCapacity</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIStorageCapacity</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>CSIVolumeFSGroupPolicy</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>CSIVolumeFSGroupPolicy</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>CSIVolumeHealth</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>CSRDuration</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ConfigurableFSGroupPolicy</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.19</td>
</tr>
<tr>
<td><code>ConfigurableFSGroupPolicy</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>ControllerManagerLeaderMigration</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ControllerManagerLeaderMigration</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>CustomCPUCFSQuotaPeriod</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td></td>
</tr>
<tr>
<td><code>DaemonSetUpdateSurge</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>DaemonSetUpdateSurge</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>DefaultPodTopologySpread</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>DefaultPodTopologySpread</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>DelegateFSGroupToCSIDriver</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>DevicePlugins</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.9</td>
</tr>
<tr>
<td><code>DevicePlugins</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td></td>
</tr>
<tr>
<td><code>DisableAcceleratorUsageMetrics</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>DisableAcceleratorUsageMetrics</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>DisableCloudProviders</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>DownwardAPIHugePages</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>DownwardAPIHugePages</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>EfficientWatchResumption</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>EfficientWatchResumption</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>EndpointSliceTerminatingCondition</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.21</td>
</tr>
<tr>
<td><code>EndpointSliceTerminatingCondition</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>EphemeralContainers</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td></td>
</tr>
<tr>
<td><code>ExpandCSIVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.15</td>
</tr>
<tr>
<td><code>ExpandCSIVolumes</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td></td>
</tr>
<tr>
<td><code>ExpandedDNSConfig</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ExpandInUsePersistentVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.14</td>
</tr>
<tr>
<td><code>ExpandInUsePersistentVolumes</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td></td>
</tr>
<tr>
<td><code>ExpandPersistentVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.10</td>
</tr>
<tr>
<td><code>ExpandPersistentVolumes</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.11</td>
<td></td>
</tr>
<tr>
<td><code>ExperimentalHostUserNamespaceDefaulting</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.5</td>
<td></td>
</tr>
<tr>
<td><code>GenericEphemeralVolume</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>GenericEphemeralVolume</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>GracefulNodeShutdown</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>GracefulNodeShutdown</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>HPAContainerMetrics</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>HPAScaleToZero</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td></td>
</tr>
<tr>
<td><code>IndexedJob</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>IndexedJob</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>IngressClassNamespacedParams</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>IngressClassNamespacedParams</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>InTreePluginAWSUnregister</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>InTreePluginAzureDiskUnregister</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>InTreePluginAzureFileUnregister</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>InTreePluginGCEUnregister</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>InTreePluginOpenStackUnregister</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>InTreePluginvSphereUnregister</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>IPv6DualStack</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.20</td>
</tr>
<tr>
<td><code>IPv6DualStack</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>JobTrackingWithFinalizers</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>KubeletCredentialProviders</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>KubeletInUserNamespace</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>KubeletPodResourcesGetAllocatable</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>LocalStorageCapacityIsolation</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.7</td>
<td>1.9</td>
</tr>
<tr>
<td><code>LocalStorageCapacityIsolation</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td></td>
</tr>
<tr>
<td><code>LocalStorageCapacityIsolationFSQuotaMonitoring</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td></td>
</tr>
<tr>
<td><code>LogarithmicScaleDown</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>LogarithmicScaleDown</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>MemoryManager</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>MemoryManager</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>MemoryQoS</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>MixedProtocolLBService</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>NetworkPolicyEndPort</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>NetworkPolicyEndPort</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>NodeSwap</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>NonPreemptingPriority</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.18</td>
</tr>
<tr>
<td><code>NonPreemptingPriority</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td></td>
</tr>
<tr>
<td><code>PodDeletionCost</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>PodDeletionCost</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>PodAffinityNamespaceSelector</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>PodAffinityNamespaceSelector</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>PodOverhead</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.17</td>
</tr>
<tr>
<td><code>PodOverhead</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.18</td>
<td></td>
</tr>
<tr>
<td><code>PodSecurity</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>PreferNominatedNode</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>PreferNominatedNode</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ProbeTerminationGracePeriod</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ProbeTerminationGracePeriod</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ProcMountType</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td></td>
</tr>
<tr>
<td><code>ProxyTerminatingEndpoints</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>QOSReserved</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td></td>
</tr>
<tr>
<td><code>ReadWriteOncePod</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>RemainingItemCount</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>RemainingItemCount</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td></td>
</tr>
<tr>
<td><code>RemoveSelfLink</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.19</td>
</tr>
<tr>
<td><code>RemoveSelfLink</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>RotateKubeletServerCertificate</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.7</td>
<td>1.11</td>
</tr>
<tr>
<td><code>RotateKubeletServerCertificate</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td></td>
</tr>
<tr>
<td><code>SeccompDefault</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ServiceInternalTrafficPolicy</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ServiceInternalTrafficPolicy</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ServiceLBNodePortControl</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ServiceLBNodePortControl</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>ServiceLoadBalancerClass</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ServiceLoadBalancerClass</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>SizeMemoryBackedVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.21</td>
</tr>
<tr>
<td><code>SizeMemoryBackedVolumes</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>StatefulSetMinReadySeconds</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>StorageVersionAPI</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>StorageVersionHash</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.14</td>
</tr>
<tr>
<td><code>StorageVersionHash</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td></td>
</tr>
<tr>
<td><code>SuspendJob</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>SuspendJob</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>TTLAfterFinished</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.20</td>
</tr>
<tr>
<td><code>TTLAfterFinished</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>TopologyAwareHints</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>TopologyManager</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.17</td>
</tr>
<tr>
<td><code>TopologyManager</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.18</td>
<td></td>
</tr>
<tr>
<td><code>VolumeCapacityPriority</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>WinDSR</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td></td>
</tr>
<tr>
<td><code>WinOverlay</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.19</td>
</tr>
<tr>
<td><code>WinOverlay</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>WindowsHostProcessContainers</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id=feature-gates-for-graduated-or-deprecated-features>Feature gates for graduated or deprecated features</h3>
<table><caption style=display:none>Feature Gates for Graduated or Deprecated Features</caption>
<thead>
<tr>
<th>Feature</th>
<th>Default</th>
<th>Stage</th>
<th>Since</th>
<th>Until</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Accelerators</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.6</td>
<td>1.10</td>
</tr>
<tr>
<td><code>Accelerators</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.11</td>
<td>-</td>
</tr>
<tr>
<td><code>AdvancedAuditing</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.7</td>
<td>1.7</td>
</tr>
<tr>
<td><code>AdvancedAuditing</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.8</td>
<td>1.11</td>
</tr>
<tr>
<td><code>AdvancedAuditing</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.12</td>
<td>-</td>
</tr>
<tr>
<td><code>AffinityInAnnotations</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.6</td>
<td>1.7</td>
</tr>
<tr>
<td><code>AffinityInAnnotations</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.8</td>
<td>-</td>
</tr>
<tr>
<td><code>AllowExtTrafficLocalEndpoints</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.4</td>
<td>1.6</td>
</tr>
<tr>
<td><code>AllowExtTrafficLocalEndpoints</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.7</td>
<td>-</td>
</tr>
<tr>
<td><code>AttachVolumeLimit</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>AttachVolumeLimit</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.16</td>
</tr>
<tr>
<td><code>AttachVolumeLimit</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>BalanceAttachedNodeVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.21</td>
</tr>
<tr>
<td><code>BalanceAttachedNodeVolumes</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>BlockVolume</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.12</td>
</tr>
<tr>
<td><code>BlockVolume</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.13</td>
<td>1.17</td>
</tr>
<tr>
<td><code>BlockVolume</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
<tr>
<td><code>BoundServiceAccountTokenVolume</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.13</td>
<td>1.20</td>
</tr>
<tr>
<td><code>BoundServiceAccountTokenVolume</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>BoundServiceAccountTokenVolume</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>CRIContainerLogRotation</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.10</td>
<td>1.10</td>
</tr>
<tr>
<td><code>CRIContainerLogRotation</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.11</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CRIContainerLogRotation</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIBlockVolume</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.13</td>
</tr>
<tr>
<td><code>CSIBlockVolume</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.17</td>
</tr>
<tr>
<td><code>CSIBlockVolume</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIDriverRegistry</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.13</td>
</tr>
<tr>
<td><code>CSIDriverRegistry</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.17</td>
</tr>
<tr>
<td><code>CSIDriverRegistry</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td></td>
</tr>
<tr>
<td><code>CSIMigrationAWSComplete</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIMigrationAWSComplete</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIMigrationAzureDiskComplete</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIMigrationAzureDiskComplete</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIMigrationAzureFileComplete</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIMigrationAzureFileComplete</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIMigrationGCEComplete</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIMigrationGCEComplete</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIMigrationOpenStackComplete</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIMigrationOpenStackComplete</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIMigrationvSphereComplete</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.21</td>
</tr>
<tr>
<td><code>CSIMigrationvSphereComplete</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>CSINodeInfo</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.13</td>
</tr>
<tr>
<td><code>CSINodeInfo</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.16</td>
</tr>
<tr>
<td><code>CSINodeInfo</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td></td>
</tr>
<tr>
<td><code>CSIPersistentVolume</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.9</td>
</tr>
<tr>
<td><code>CSIPersistentVolume</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.12</td>
</tr>
<tr>
<td><code>CSIPersistentVolume</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.13</td>
<td>-</td>
</tr>
<tr>
<td><code>CSIServiceAccountToken</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CSIServiceAccountToken</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>CSIServiceAccountToken</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>CronJobControllerV2</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>CronJobControllerV2</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>CronJobControllerV2</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>CustomPodDNS</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.9</td>
</tr>
<tr>
<td><code>CustomPodDNS</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.13</td>
</tr>
<tr>
<td><code>CustomPodDNS</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.14</td>
<td>-</td>
</tr>
<tr>
<td><code>CustomResourceDefaulting</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>CustomResourceDefaulting</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>1.16</td>
</tr>
<tr>
<td><code>CustomResourceDefaulting</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>CustomResourcePublishOpenAPI</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.14</td>
</tr>
<tr>
<td><code>CustomResourcePublishOpenAPI</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>CustomResourcePublishOpenAPI</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.16</td>
<td>-</td>
</tr>
<tr>
<td><code>CustomResourceSubresources</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.10</td>
<td>1.10</td>
</tr>
<tr>
<td><code>CustomResourceSubresources</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.11</td>
<td>1.15</td>
</tr>
<tr>
<td><code>CustomResourceSubresources</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.16</td>
<td>-</td>
</tr>
<tr>
<td><code>CustomResourceValidation</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.8</td>
</tr>
<tr>
<td><code>CustomResourceValidation</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.9</td>
<td>1.15</td>
</tr>
<tr>
<td><code>CustomResourceValidation</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.16</td>
<td>-</td>
</tr>
<tr>
<td><code>CustomResourceWebhookConversion</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.13</td>
<td>1.14</td>
</tr>
<tr>
<td><code>CustomResourceWebhookConversion</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>CustomResourceWebhookConversion</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.16</td>
<td>-</td>
</tr>
<tr>
<td><code>DryRun</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.12</td>
</tr>
<tr>
<td><code>DryRun</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.13</td>
<td>1.18</td>
</tr>
<tr>
<td><code>DryRun</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.19</td>
<td>-</td>
</tr>
<tr>
<td><code>DynamicAuditing</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.13</td>
<td>1.18</td>
</tr>
<tr>
<td><code>DynamicAuditing</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.19</td>
<td>-</td>
</tr>
<tr>
<td><code>DynamicKubeletConfig</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.4</td>
<td>1.10</td>
</tr>
<tr>
<td><code>DynamicKubeletConfig</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.11</td>
<td>1.21</td>
</tr>
<tr>
<td><code>DynamicKubeletConfig</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>DynamicProvisioningScheduling</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>DynamicProvisioningScheduling</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.12</td>
<td>-</td>
</tr>
<tr>
<td><code>DynamicVolumeProvisioning</code></td>
<td><code>true</code></td>
<td>Alpha</td>
<td>1.3</td>
<td>1.7</td>
</tr>
<tr>
<td><code>DynamicVolumeProvisioning</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.8</td>
<td>-</td>
</tr>
<tr>
<td><code>EnableAggregatedDiscoveryTimeout</code></td>
<td><code>true</code></td>
<td>Deprecated</td>
<td>1.16</td>
<td>-</td>
</tr>
<tr>
<td><code>EnableEquivalenceClassCache</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.14</td>
</tr>
<tr>
<td><code>EnableEquivalenceClassCache</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.15</td>
<td>-</td>
</tr>
<tr>
<td><code>EndpointSlice</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.16</td>
</tr>
<tr>
<td><code>EndpointSlice</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.17</td>
<td>1.17</td>
</tr>
<tr>
<td><code>EndpointSlice</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.18</td>
<td>1.20</td>
</tr>
<tr>
<td><code>EndpointSlice</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>EndpointSliceNodeName</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>EndpointSliceNodeName</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>EndpointSliceProxying</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>EndpointSliceProxying</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.21</td>
</tr>
<tr>
<td><code>EndpointSliceProxying</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>ExperimentalCriticalPodAnnotation</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.5</td>
<td>1.12</td>
</tr>
<tr>
<td><code>ExperimentalCriticalPodAnnotation</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.13</td>
<td>-</td>
</tr>
<tr>
<td><code>EvenPodsSpread</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.17</td>
</tr>
<tr>
<td><code>EvenPodsSpread</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>EvenPodsSpread</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.19</td>
<td>-</td>
</tr>
<tr>
<td><code>ExecProbeTimeout</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>ExternalPolicyForExternalIP</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
<tr>
<td><code>GCERegionalPersistentDisk</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.12</td>
</tr>
<tr>
<td><code>GCERegionalPersistentDisk</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.13</td>
<td>-</td>
</tr>
<tr>
<td><code>HugePageStorageMediumSize</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>HugePageStorageMediumSize</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.21</td>
</tr>
<tr>
<td><code>HugePageStorageMediumSize</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>HugePages</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.9</td>
</tr>
<tr>
<td><code>HugePages</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.13</td>
</tr>
<tr>
<td><code>HugePages</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.14</td>
<td>-</td>
</tr>
<tr>
<td><code>HugePageStorageMediumSize</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>HugePageStorageMediumSize</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.21</td>
</tr>
<tr>
<td><code>HugePageStorageMediumSize</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>HyperVContainer</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.10</td>
<td>1.19</td>
</tr>
<tr>
<td><code>HyperVContainer</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>ImmutableEphemeralVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>ImmutableEphemeralVolumes</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>ImmutableEphemeralVolumes</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>Initializers</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.7</td>
<td>1.13</td>
</tr>
<tr>
<td><code>Initializers</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.14</td>
<td>-</td>
</tr>
<tr>
<td><code>KubeletConfigFile</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.9</td>
</tr>
<tr>
<td><code>KubeletConfigFile</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.10</td>
<td>-</td>
</tr>
<tr>
<td><code>KubeletPluginsWatcher</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>KubeletPluginsWatcher</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.12</td>
</tr>
<tr>
<td><code>KubeletPluginsWatcher</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.13</td>
<td>-</td>
</tr>
<tr>
<td><code>KubeletPodResources</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.13</td>
<td>1.14</td>
</tr>
<tr>
<td><code>KubeletPodResources</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td></td>
</tr>
<tr>
<td><code>KubeletPodResources</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td></td>
</tr>
<tr>
<td><code>LegacyNodeRoleBehavior</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.18</td>
</tr>
<tr>
<td><code>LegacyNodeRoleBehavior</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>LegacyNodeRoleBehavior</code></td>
<td><code>false</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>MountContainers</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.16</td>
</tr>
<tr>
<td><code>MountContainers</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>MountPropagation</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.9</td>
</tr>
<tr>
<td><code>MountPropagation</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.11</td>
</tr>
<tr>
<td><code>MountPropagation</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.12</td>
<td>-</td>
</tr>
<tr>
<td><code>NodeDisruptionExclusion</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.18</td>
</tr>
<tr>
<td><code>NodeDisruptionExclusion</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>NodeDisruptionExclusion</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>NodeLease</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.13</td>
</tr>
<tr>
<td><code>NodeLease</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.16</td>
</tr>
<tr>
<td><code>NodeLease</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>NamespaceDefaultLabelName</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>NamespaceDefaultLabelName</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>PVCProtection</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.9</td>
</tr>
<tr>
<td><code>PVCProtection</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.10</td>
<td>-</td>
</tr>
<tr>
<td><code>PersistentLocalVolumes</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.7</td>
<td>1.9</td>
</tr>
<tr>
<td><code>PersistentLocalVolumes</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.13</td>
</tr>
<tr>
<td><code>PersistentLocalVolumes</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.14</td>
<td>-</td>
</tr>
<tr>
<td><code>PodDisruptionBudget</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.3</td>
<td>1.4</td>
</tr>
<tr>
<td><code>PodDisruptionBudget</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.5</td>
<td>1.20</td>
</tr>
<tr>
<td><code>PodDisruptionBudget</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>PodPriority</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.10</td>
</tr>
<tr>
<td><code>PodPriority</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.11</td>
<td>1.13</td>
</tr>
<tr>
<td><code>PodPriority</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.14</td>
<td>-</td>
</tr>
<tr>
<td><code>PodReadinessGates</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>PodReadinessGates</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.13</td>
</tr>
<tr>
<td><code>PodReadinessGates</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.14</td>
<td>-</td>
</tr>
<tr>
<td><code>PodShareProcessNamespace</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.10</td>
<td>1.11</td>
</tr>
<tr>
<td><code>PodShareProcessNamespace</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.16</td>
</tr>
<tr>
<td><code>PodShareProcessNamespace</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>RequestManagement</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.16</td>
</tr>
<tr>
<td><code>RequestManagement</code></td>
<td>-</td>
<td>Derecated</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>ResourceLimitsPriorityFunction</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.18</td>
</tr>
<tr>
<td><code>ResourceLimitsPriorityFunction</code></td>
<td>-</td>
<td>Deprecated</td>
<td>1.19</td>
<td>-</td>
</tr>
<tr>
<td><code>ResourceQuotaScopeSelectors</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>ResourceQuotaScopeSelectors</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.16</td>
</tr>
<tr>
<td><code>ResourceQuotaScopeSelectors</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>RootCAConfigMap</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.13</td>
<td>1.19</td>
</tr>
<tr>
<td><code>RootCAConfigMap</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>RootCAConfigMap</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>RotateKubeletClientCertificate</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.8</td>
<td>1.18</td>
</tr>
<tr>
<td><code>RotateKubeletClientCertificate</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.19</td>
<td>-</td>
</tr>
<tr>
<td><code>RunAsGroup</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.20</td>
</tr>
<tr>
<td><code>RunAsGroup</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>RuntimeClass</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.13</td>
</tr>
<tr>
<td><code>RuntimeClass</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.19</td>
</tr>
<tr>
<td><code>RuntimeClass</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>SCTPSupport</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.18</td>
</tr>
<tr>
<td><code>SCTPSupport</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>SCTPSupport</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>ScheduleDaemonSetPods</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>ScheduleDaemonSetPods</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.16</td>
</tr>
<tr>
<td><code>ScheduleDaemonSetPods</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>SelectorIndex</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>SelectorIndex</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>SelectorIndex</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>ServerSideApply</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.15</td>
</tr>
<tr>
<td><code>ServerSideApply</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ServerSideApply</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>ServiceAccountIssuerDiscovery</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.19</td>
</tr>
<tr>
<td><code>ServiceAccountIssuerDiscovery</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td>1.20</td>
</tr>
<tr>
<td><code>ServiceAccountIssuerDiscovery</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>ServiceAppProtocol</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.18</td>
<td>1.18</td>
</tr>
<tr>
<td><code>ServiceAppProtocol</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>ServiceAppProtocol</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>ServiceLoadBalancerFinalizer</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>ServiceLoadBalancerFinalizer</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>1.16</td>
</tr>
<tr>
<td><code>ServiceLoadBalancerFinalizer</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>ServiceNodeExclusion</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.18</td>
</tr>
<tr>
<td><code>ServiceNodeExclusion</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>ServiceNodeExclusion</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td>-</td>
</tr>
<tr>
<td><code>ServiceTopology</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.17</td>
<td>1.19</td>
</tr>
<tr>
<td><code>ServiceTopology</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>SetHostnameAsFQDN</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.19</td>
</tr>
<tr>
<td><code>SetHostnameAsFQDN</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.20</td>
<td>1.21</td>
</tr>
<tr>
<td><code>SetHostnameAsFQDN</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>StartupProbe</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.17</td>
</tr>
<tr>
<td><code>StartupProbe</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.18</td>
<td>1.19</td>
</tr>
<tr>
<td><code>StartupProbe</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>StorageObjectInUseProtection</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.10</td>
</tr>
<tr>
<td><code>StorageObjectInUseProtection</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.11</td>
<td>-</td>
</tr>
<tr>
<td><code>StreamingProxyRedirects</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.5</td>
<td>1.5</td>
</tr>
<tr>
<td><code>StreamingProxyRedirects</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.6</td>
<td>1.17</td>
</tr>
<tr>
<td><code>StreamingProxyRedirects</code></td>
<td><code>true</code></td>
<td>Deprecated</td>
<td>1.18</td>
<td>1.21</td>
</tr>
<tr>
<td><code>StreamingProxyRedirects</code></td>
<td><code>false</code></td>
<td>Deprecated</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>SupportIPVSProxyMode</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.8</td>
</tr>
<tr>
<td><code>SupportIPVSProxyMode</code></td>
<td><code>false</code></td>
<td>Beta</td>
<td>1.9</td>
<td>1.9</td>
</tr>
<tr>
<td><code>SupportIPVSProxyMode</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.10</td>
</tr>
<tr>
<td><code>SupportIPVSProxyMode</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.11</td>
<td>-</td>
</tr>
<tr>
<td><code>SupportNodePidsLimit</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.14</td>
</tr>
<tr>
<td><code>SupportNodePidsLimit</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td>1.19</td>
</tr>
<tr>
<td><code>SupportNodePidsLimit</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>SupportPodPidsLimit</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.10</td>
<td>1.13</td>
</tr>
<tr>
<td><code>SupportPodPidsLimit</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.19</td>
</tr>
<tr>
<td><code>SupportPodPidsLimit</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>Sysctls</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.11</td>
<td>1.20</td>
</tr>
<tr>
<td><code>Sysctls</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.21</td>
<td></td>
</tr>
<tr>
<td><code>TaintBasedEvictions</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.6</td>
<td>1.12</td>
</tr>
<tr>
<td><code>TaintBasedEvictions</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.13</td>
<td>1.17</td>
</tr>
<tr>
<td><code>TaintBasedEvictions</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
<tr>
<td><code>TaintNodesByCondition</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.8</td>
<td>1.11</td>
</tr>
<tr>
<td><code>TaintNodesByCondition</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.16</td>
</tr>
<tr>
<td><code>TaintNodesByCondition</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>TokenRequest</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.10</td>
<td>1.11</td>
</tr>
<tr>
<td><code>TokenRequest</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.19</td>
</tr>
<tr>
<td><code>TokenRequest</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>TokenRequestProjection</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.11</td>
<td>1.11</td>
</tr>
<tr>
<td><code>TokenRequestProjection</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.12</td>
<td>1.19</td>
</tr>
<tr>
<td><code>TokenRequestProjection</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>ValidateProxyRedirects</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.13</td>
</tr>
<tr>
<td><code>ValidateProxyRedirects</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.14</td>
<td>1.21</td>
</tr>
<tr>
<td><code>ValidateProxyRedirects</code></td>
<td><code>true</code></td>
<td>Deprecated</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>VolumePVCDataSource</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>VolumePVCDataSource</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>1.17</td>
</tr>
<tr>
<td><code>VolumePVCDataSource</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
<tr>
<td><code>VolumeScheduling</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.9</td>
<td>1.9</td>
</tr>
<tr>
<td><code>VolumeScheduling</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.10</td>
<td>1.12</td>
</tr>
<tr>
<td><code>VolumeScheduling</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.13</td>
<td>-</td>
</tr>
<tr>
<td><code>VolumeSnapshotDataSource</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.12</td>
<td>1.16</td>
</tr>
<tr>
<td><code>VolumeSnapshotDataSource</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.17</td>
<td>1.19</td>
</tr>
<tr>
<td><code>VolumeSnapshotDataSource</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.20</td>
<td>-</td>
</tr>
<tr>
<td><code>VolumeSubpath</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.10</td>
<td>-</td>
</tr>
<tr>
<td><code>VolumeSubpathEnvExpansion</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.14</td>
</tr>
<tr>
<td><code>VolumeSubpathEnvExpansion</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.15</td>
<td>1.16</td>
</tr>
<tr>
<td><code>VolumeSubpathEnvExpansion</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>WarningHeaders</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.19</td>
<td>1.21</td>
</tr>
<tr>
<td><code>WarningHeaders</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>WatchBookmark</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.15</td>
<td>1.15</td>
</tr>
<tr>
<td><code>WatchBookmark</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>1.16</td>
</tr>
<tr>
<td><code>WatchBookmark</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.17</td>
<td>-</td>
</tr>
<tr>
<td><code>WindowsEndpointSliceProxying</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.19</td>
<td>1.20</td>
</tr>
<tr>
<td><code>WindowsEndpointSliceProxying</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.21</td>
<td>1.21</td>
</tr>
<tr>
<td><code>WindowsEndpointSliceProxying</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.22</td>
<td>-</td>
</tr>
<tr>
<td><code>WindowsGMSA</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.14</td>
<td>1.15</td>
</tr>
<tr>
<td><code>WindowsGMSA</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.16</td>
<td>1.17</td>
</tr>
<tr>
<td><code>WindowsGMSA</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
<tr>
<td><code>WindowsHostProcessContainers</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.22</td>
<td></td>
</tr>
<tr>
<td><code>WindowsRunAsUserName</code></td>
<td><code>false</code></td>
<td>Alpha</td>
<td>1.16</td>
<td>1.16</td>
</tr>
<tr>
<td><code>WindowsRunAsUserName</code></td>
<td><code>true</code></td>
<td>Beta</td>
<td>1.17</td>
<td>1.17</td>
</tr>
<tr>
<td><code>WindowsRunAsUserName</code></td>
<td><code>true</code></td>
<td>GA</td>
<td>1.18</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id=using-a-feature>Using a feature</h2>
<h3 id=feature-stages>Feature stages</h3>
<p>A feature can be in <em>Alpha</em>, <em>Beta</em> or <em>GA</em> stage.
An <em>Alpha</em> feature means:</p>
<ul>
<li>Disabled by default.</li>
<li>Might be buggy. Enabling the feature may expose bugs.</li>
<li>Support for feature may be dropped at any time without notice.</li>
<li>The API may change in incompatible ways in a later software release without notice.</li>
<li>Recommended for use only in short-lived testing clusters, due to increased
risk of bugs and lack of long-term support.</li>
</ul>
<p>A <em>Beta</em> feature means:</p>
<ul>
<li>Enabled by default.</li>
<li>The feature is well tested. Enabling the feature is considered safe.</li>
<li>Support for the overall feature will not be dropped, though details may change.</li>
<li>The schema and/or semantics of objects may change in incompatible ways in a
subsequent beta or stable release. When this happens, we will provide instructions
for migrating to the next version. This may require deleting, editing, and
re-creating API objects. The editing process may require some thought.
This may require downtime for applications that rely on the feature.</li>
<li>Recommended for only non-business-critical uses because of potential for
incompatible changes in subsequent releases. If you have multiple clusters
that can be upgraded independently, you may be able to relax this restriction.</li>
</ul>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Please do try <em>Beta</em> features and give feedback on them!
After they exit beta, it may not be practical for us to make more changes.
</div>
<p>A <em>General Availability</em> (GA) feature is also referred to as a <em>stable</em> feature. It means:</p>
<ul>
<li>The feature is always enabled; you cannot disable it.</li>
<li>The corresponding feature gate is no longer needed.</li>
<li>Stable versions of features will appear in released software for many subsequent versions.</li>
</ul>
<h2 id=feature-gates>List of feature gates</h2>
<p>Each feature gate is designed for enabling/disabling a specific feature:</p>
<ul>
<li><code>APIListChunking</code>: Enable the API clients to retrieve (<code>LIST</code> or <code>GET</code>)
resources from API server in chunks.</li>
<li><code>APIPriorityAndFairness</code>: Enable managing request concurrency with
prioritization and fairness at each server. (Renamed from <code>RequestManagement</code>)</li>
<li><code>APIResponseCompression</code>: Compress the API responses for <code>LIST</code> or <code>GET</code> requests.</li>
<li><code>APIServerIdentity</code>: Assign each API server an ID in a cluster.</li>
<li><code>APIServerTracing</code>: Add support for distributed tracing in the API server.</li>
<li><code>Accelerators</code>: Enable Nvidia GPU support when using Docker</li>
<li><code>AdvancedAuditing</code>: Enable <a href=/docs/tasks/debug-application-cluster/audit/#advanced-audit>advanced auditing</a></li>
<li><code>AffinityInAnnotations</code>: Enable setting
<a href=/docs/concepts/scheduling-eviction/assign-pod-node/#affinity-and-anti-affinity>Pod affinity or anti-affinity</a>.</li>
<li><code>AllowExtTrafficLocalEndpoints</code>: Enable a service to route external requests to node local endpoints.</li>
<li><code>AllowInsecureBackendProxy</code>: Enable the users to skip TLS verification of
kubelets on Pod log requests.</li>
<li><code>AnyVolumeDataSource</code>: Enable use of any custom resource as the <code>DataSource</code> of a
<a class=glossary-tooltip title="Claims storage resources defined in a PersistentVolume so that it can be mounted as a volume in a container." data-toggle=tooltip data-placement=top href=/docs/concepts/storage/persistent-volumes/ target=_blank aria-label=PVC>PVC</a>.</li>
<li><code>AppArmor</code>: Enable AppArmor based mandatory access control on Linux nodes when using Docker.
See <a href=/docs/tutorials/clusters/apparmor/>AppArmor Tutorial</a> for more details.</li>
<li><code>AttachVolumeLimit</code>: Enable volume plugins to report limits on number of volumes
that can be attached to a node.
See <a href=/docs/concepts/storage/storage-limits/#dynamic-volume-limits>dynamic volume limits</a> for more details.</li>
<li><code>BalanceAttachedNodeVolumes</code>: Include volume count on node to be considered for balanced resource allocation
while scheduling. A node which has closer CPU, memory utilization, and volume count is favored by the scheduler
while making decisions.</li>
<li><code>BlockVolume</code>: Enable the definition and consumption of raw block devices in Pods.
See <a href=/docs/concepts/storage/persistent-volumes/#raw-block-volume-support>Raw Block Volume Support</a>
for more details.</li>
<li><code>BoundServiceAccountTokenVolume</code>: Migrate ServiceAccount volumes to use a projected volume consisting of a
ServiceAccountTokenVolumeProjection. Cluster admins can use metric <code>serviceaccount_stale_tokens_total</code> to
monitor workloads that are depending on the extended tokens. If there are no such workloads, turn off
extended tokens by starting <code>kube-apiserver</code> with flag <code>--service-account-extend-token-expiration=false</code>.
Check <a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-auth/1205-bound-service-account-tokens/README.md>Bound Service Account Tokens</a>
for more details.</li>
<li><code>ControllerManagerLeaderMigration</code>: Enables Leader Migration for
<a href=/docs/tasks/administer-cluster/controller-manager-leader-migration/#initial-leader-migration-configuration>kube-controller-manager</a> and
<a href=/docs/tasks/administer-cluster/controller-manager-leader-migration/#deploy-cloud-controller-manager>cloud-controller-manager</a> which allows a cluster operator to live migrate
controllers from the kube-controller-manager into an external controller-manager
(e.g. the cloud-controller-manager) in an HA cluster without downtime.</li>
<li><code>CPUManager</code>: Enable container level CPU affinity support, see
<a href=/docs/tasks/administer-cluster/cpu-management-policies/>CPU Management Policies</a>.</li>
<li><code>CPUManagerPolicyOptions</code>: Allow fine-tuning of CPUManager policies.</li>
<li><code>CRIContainerLogRotation</code>: Enable container log rotation for CRI container runtime. The default max size of a log file is 10MB and the
default max number of log files allowed for a container is 5. These values can be configured in the kubelet config.
See the <a href=/docs/concepts/cluster-administration/logging/#logging-at-the-node-level>logging at node level</a> documentation for more details.</li>
<li><code>CSIBlockVolume</code>: Enable external CSI volume drivers to support block storage.
See the <a href=/docs/concepts/storage/volumes/#csi-raw-block-volume-support><code>csi</code> raw block volume support</a>
documentation for more details.</li>
<li><code>CSIDriverRegistry</code>: Enable all logic related to the CSIDriver API object in
csi.storage.k8s.io.</li>
<li><code>CSIInlineVolume</code>: Enable CSI Inline volumes support for pods.</li>
<li><code>CSIMigration</code>: Enables shims and translation logic to route volume
operations from in-tree plugins to corresponding pre-installed CSI plugins</li>
<li><code>CSIMigrationAWS</code>: Enables shims and translation logic to route volume
operations from the AWS-EBS in-tree plugin to EBS CSI plugin. Supports
falling back to in-tree EBS plugin if a node does not have EBS CSI plugin
installed and configured. Requires CSIMigration feature flag enabled.</li>
<li><code>CSIMigrationAWSComplete</code>: Stops registering the EBS in-tree plugin in
kubelet and volume controllers and enables shims and translation logic to
route volume operations from the AWS-EBS in-tree plugin to EBS CSI plugin.
Requires CSIMigration and CSIMigrationAWS feature flags enabled and EBS CSI
plugin installed and configured on all nodes in the cluster. This flag has
been deprecated in favor of the <code>InTreePluginAWSUnregister</code> feature flag
which prevents the registration of in-tree EBS plugin.</li>
<li><code>CSIMigrationAzureDisk</code>: Enables shims and translation logic to route volume
operations from the Azure-Disk in-tree plugin to AzureDisk CSI plugin.
Supports falling back to in-tree AzureDisk plugin if a node does not have
AzureDisk CSI plugin installed and configured. Requires CSIMigration feature
flag enabled.</li>
<li><code>CSIMigrationAzureDiskComplete</code>: Stops registering the Azure-Disk in-tree
plugin in kubelet and volume controllers and enables shims and translation
logic to route volume operations from the Azure-Disk in-tree plugin to
AzureDisk CSI plugin. Requires CSIMigration and CSIMigrationAzureDisk feature
flags enabled and AzureDisk CSI plugin installed and configured on all nodes
in the cluster. This flag has been deprecated in favor of the
<code>InTreePluginAzureDiskUnregister</code> feature flag which prevents the registration of in-tree AzureDisk plugin.</li>
<li><code>CSIMigrationAzureFile</code>: Enables shims and translation logic to route volume
operations from the Azure-File in-tree plugin to AzureFile CSI plugin.
Supports falling back to in-tree AzureFile plugin if a node does not have
AzureFile CSI plugin installed and configured. Requires CSIMigration feature
flag enabled.</li>
<li><code>CSIMigrationAzureFileComplete</code>: Stops registering the Azure-File in-tree
plugin in kubelet and volume controllers and enables shims and translation
logic to route volume operations from the Azure-File in-tree plugin to
AzureFile CSI plugin. Requires CSIMigration and CSIMigrationAzureFile feature
flags enabled and AzureFile CSI plugin installed and configured on all nodes
in the cluster. This flag has been deprecated in favor of the
<code>InTreePluginAzureFileUnregister</code> feature flag which prevents the registration
of in-tree AzureFile plugin.</li>
<li><code>CSIMigrationGCE</code>: Enables shims and translation logic to route volume
operations from the GCE-PD in-tree plugin to PD CSI plugin. Supports falling
back to in-tree GCE plugin if a node does not have PD CSI plugin installed and
configured. Requires CSIMigration feature flag enabled.</li>
<li><code>CSIMigrationGCEComplete</code>: Stops registering the GCE-PD in-tree plugin in
kubelet and volume controllers and enables shims and translation logic to
route volume operations from the GCE-PD in-tree plugin to PD CSI plugin.
Requires CSIMigration and CSIMigrationGCE feature flags enabled and PD CSI
plugin installed and configured on all nodes in the cluster. This flag has
been deprecated in favor of the <code>InTreePluginGCEUnregister</code> feature flag which prevents the registration of in-tree GCE PD plugin.</li>
<li><code>CSIMigrationOpenStack</code>: Enables shims and translation logic to route volume
operations from the Cinder in-tree plugin to Cinder CSI plugin. Supports
falling back to in-tree Cinder plugin if a node does not have Cinder CSI
plugin installed and configured. Requires CSIMigration feature flag enabled.</li>
<li><code>CSIMigrationOpenStackComplete</code>: Stops registering the Cinder in-tree plugin in
kubelet and volume controllers and enables shims and translation logic to route
volume operations from the Cinder in-tree plugin to Cinder CSI plugin.
Requires CSIMigration and CSIMigrationOpenStack feature flags enabled and Cinder
CSI plugin installed and configured on all nodes in the cluster. This flag has
been deprecated in favor of the <code>InTreePluginOpenStackUnregister</code> feature flag which prevents the registration of in-tree openstack cinder plugin.</li>
<li><code>CSIMigrationvSphere</code>: Enables shims and translation logic to route volume operations
from the vSphere in-tree plugin to vSphere CSI plugin.
Supports falling back to in-tree vSphere plugin if a node does not have vSphere
CSI plugin installed and configured. Requires CSIMigration feature flag enabled.</li>
<li><code>CSIMigrationvSphereComplete</code>: Stops registering the vSphere in-tree plugin in kubelet
and volume controllers and enables shims and translation logic to route volume operations
from the vSphere in-tree plugin to vSphere CSI plugin. Requires CSIMigration and
CSIMigrationvSphere feature flags enabled and vSphere CSI plugin installed and
configured on all nodes in the cluster. This flag has been deprecated in favor
of the <code>InTreePluginvSphereUnregister</code> feature flag which prevents the registration of in-tree vsphere plugin.</li>
<li><code>CSINodeInfo</code>: Enable all logic related to the CSINodeInfo API object in csi.storage.k8s.io.</li>
<li><code>CSIPersistentVolume</code>: Enable discovering and mounting volumes provisioned through a
<a href=https://github.com/kubernetes/community/blob/master/contributors/design-proposals/storage/container-storage-interface.md>CSI (Container Storage Interface)</a>
compatible volume plugin.</li>
<li><code>CSIServiceAccountToken</code>: Enable CSI drivers to receive the pods' service account token
that they mount volumes for. See
<a href=https://kubernetes-csi.github.io/docs/token-requests.html>Token Requests</a>.</li>
<li><code>CSIStorageCapacity</code>: Enables CSI drivers to publish storage capacity information
and the Kubernetes scheduler to use that information when scheduling pods. See
<a href=/docs/concepts/storage/storage-capacity/>Storage Capacity</a>.
Check the <a href=/docs/concepts/storage/volumes/#csi><code>csi</code> volume type</a> documentation for more details.</li>
<li><code>CSIVolumeFSGroupPolicy</code>: Allows CSIDrivers to use the <code>fsGroupPolicy</code> field.
This field controls whether volumes created by a CSIDriver support volume ownership
and permission modifications when these volumes are mounted.</li>
<li><code>CSIVolumeHealth</code>: Enable support for CSI volume health monitoring on node.</li>
<li><code>CSRDuration</code>: Allows clients to request a duration for certificates issued
via the Kubernetes CSR API.</li>
<li><code>ConfigurableFSGroupPolicy</code>: Allows user to configure volume permission change policy
for fsGroups when mounting a volume in a Pod. See
<a href=/docs/tasks/configure-pod-container/security-context/#configure-volume-permission-and-ownership-change-policy-for-pods>Configure volume permission and ownership change policy for Pods</a>
for more details.</li>
<li><code>ControllerManagerLeaderMigration</code>: Enables leader migration for
<code>kube-controller-manager</code> and <code>cloud-controller-manager</code>.</li>
<li><code>CronJobControllerV2</code>: Use an alternative implementation of the
<a class=glossary-tooltip title="A repeating task (a Job) that runs on a regular schedule." data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/cron-jobs/ target=_blank aria-label=CronJob>CronJob</a> controller. Otherwise,
version 1 of the same controller is selected.</li>
<li><code>CustomCPUCFSQuotaPeriod</code>: Enable nodes to change <code>cpuCFSQuotaPeriod</code> in
<a href=/docs/tasks/administer-cluster/kubelet-config-file/>kubelet config</a>.</li>
<li><code>CustomPodDNS</code>: Enable customizing the DNS settings for a Pod using its <code>dnsConfig</code> property.
Check <a href=/docs/concepts/services-networking/dns-pod-service/#pods-dns-config>Pod's DNS Config</a>
for more details.</li>
<li><code>CustomResourceDefaulting</code>: Enable CRD support for default values in OpenAPI v3 validation schemas.</li>
<li><code>CustomResourcePublishOpenAPI</code>: Enables publishing of CRD OpenAPI specs.</li>
<li><code>CustomResourceSubresources</code>: Enable <code>/status</code> and <code>/scale</code> subresources
on resources created from <a href=/docs/concepts/extend-kubernetes/api-extension/custom-resources/>CustomResourceDefinition</a>.</li>
<li><code>CustomResourceValidation</code>: Enable schema based validation on resources created from
<a href=/docs/concepts/extend-kubernetes/api-extension/custom-resources/>CustomResourceDefinition</a>.</li>
<li><code>CustomResourceWebhookConversion</code>: Enable webhook-based conversion
on resources created from <a href=/docs/concepts/extend-kubernetes/api-extension/custom-resources/>CustomResourceDefinition</a>.</li>
<li><code>DaemonSetUpdateSurge</code>: Enables the DaemonSet workloads to maintain
availability during update per node.</li>
<li><code>DefaultPodTopologySpread</code>: Enables the use of <code>PodTopologySpread</code> scheduling plugin to do
<a href=/docs/concepts/workloads/pods/pod-topology-spread-constraints/#internal-default-constraints>default spreading</a>.</li>
<li><code>DelegateFSGroupToCSIDriver</code>: If supported by the CSI driver, delegates the
role of applying <code>fsGroup</code> from a Pod's <code>securityContext</code> to the driver by
passing <code>fsGroup</code> through the NodeStageVolume and NodePublishVolume CSI calls.</li>
<li><code>DevicePlugins</code>: Enable the <a href=/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/>device-plugins</a>
based resource provisioning on nodes.</li>
<li><code>DisableAcceleratorUsageMetrics</code>:
<a href=/docs/concepts/cluster-administration/system-metrics/#disable-accelerator-metrics>Disable accelerator metrics collected by the kubelet</a>.</li>
<li><code>DisableCloudProviders</code>: Disables any functionality in <code>kube-apiserver</code>,
<code>kube-controller-manager</code> and <code>kubelet</code> related to the <code>--cloud-provider</code>
component flag.</li>
<li><code>DownwardAPIHugePages</code>: Enables usage of hugepages in
<a href=/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information>downward API</a>.</li>
<li><code>DryRun</code>: Enable server-side <a href=/docs/reference/using-api/api-concepts/#dry-run>dry run</a> requests
so that validation, merging, and mutation can be tested without committing.</li>
<li><code>DynamicAuditing</code>: Used to enable dynamic auditing before v1.19.</li>
<li><code>DynamicKubeletConfig</code>: Enable the dynamic configuration of kubelet. See
<a href=/docs/tasks/administer-cluster/reconfigure-kubelet/>Reconfigure kubelet</a>.</li>
<li><code>DynamicProvisioningScheduling</code>: Extend the default scheduler to be aware of
volume topology and handle PV provisioning.
This feature is superseded by the <code>VolumeScheduling</code> feature completely in v1.12.</li>
<li><code>DynamicVolumeProvisioning</code>: Enable the
<a href=/docs/concepts/storage/dynamic-provisioning/>dynamic provisioning</a> of persistent volumes to Pods.</li>
<li><code>EfficientWatchResumption</code>: Allows for storage-originated bookmark (progress
notify) events to be delivered to the users. This is only applied to watch
operations.</li>
<li><code>EnableAggregatedDiscoveryTimeout</code>: Enable the five second
timeout on aggregated discovery calls.</li>
<li><code>EnableEquivalenceClassCache</code>: Enable the scheduler to cache equivalence of
nodes when scheduling Pods.</li>
<li><code>EndpointSlice</code>: Enables EndpointSlices for more scalable and extensible
network endpoints. See <a href=/docs/tasks/administer-cluster/enabling-endpointslices/>Enabling EndpointSlices</a>.</li>
<li><code>EndpointSliceNodeName</code>: Enables EndpointSlice <code>nodeName</code> field.</li>
<li><code>EndpointSliceProxying</code>: When enabled, kube-proxy running
on Linux will use EndpointSlices as the primary data source instead of
Endpoints, enabling scalability and performance improvements. See
<a href=/docs/tasks/administer-cluster/enabling-endpointslices/>Enabling Endpoint Slices</a>.</li>
<li><code>EndpointSliceTerminatingCondition</code>: Enables EndpointSlice <code>terminating</code> and <code>serving</code>
condition fields.</li>
<li><code>EphemeralContainers</code>: Enable the ability to add
<a class=glossary-tooltip title="A type of container type that you can temporarily run inside a Pod" data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/pods/ephemeral-containers/ target=_blank aria-label="ephemeral containers">ephemeral containers</a>
to running pods.</li>
<li><code>EvenPodsSpread</code>: Enable pods to be scheduled evenly across topology domains. See
<a href=/docs/concepts/workloads/pods/pod-topology-spread-constraints/>Pod Topology Spread Constraints</a>.</li>
<li><code>ExecProbeTimeout</code>: Ensure kubelet respects exec probe timeouts.
This feature gate exists in case any of your existing workloads depend on a
now-corrected fault where Kubernetes ignored exec probe timeouts. See
<a href=/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#configure-probes>readiness probes</a>.</li>
<li><code>ExpandCSIVolumes</code>: Enable the expanding of CSI volumes.</li>
<li><code>ExpandedDNSConfig</code>: Enable kubelet and kube-apiserver to allow more DNS
search paths and longer list of DNS search paths. See
<a href=/docs/concepts/services-networking/dns-pod-service/#expanded-dns-configuration>Expanded DNS Configuration</a>.</li>
<li><code>ExpandInUsePersistentVolumes</code>: Enable expanding in-use PVCs. See
<a href=/docs/concepts/storage/persistent-volumes/#resizing-an-in-use-persistentvolumeclaim>Resizing an in-use PersistentVolumeClaim</a>.</li>
<li><code>ExpandPersistentVolumes</code>: Enable the expanding of persistent volumes. See
<a href=/docs/concepts/storage/persistent-volumes/#expanding-persistent-volumes-claims>Expanding Persistent Volumes Claims</a>.</li>
<li><code>ExperimentalCriticalPodAnnotation</code>: Enable annotating specific pods as <em>critical</em>
so that their <a href=/docs/tasks/administer-cluster/guaranteed-scheduling-critical-addon-pods/>scheduling is guaranteed</a>.
This feature is deprecated by Pod Priority and Preemption as of v1.13.</li>
<li><code>ExperimentalHostUserNamespaceDefaulting</code>: Enabling the defaulting user
namespace to host. This is for containers that are using other host namespaces,
host mounts, or containers that are privileged or using specific non-namespaced
capabilities (e.g. <code>MKNODE</code>, <code>SYS_MODULE</code> etc.). This should only be enabled
if user namespace remapping is enabled in the Docker daemon.</li>
<li><code>ExternalPolicyForExternalIP</code>: Fix a bug where ExternalTrafficPolicy is not applied to Service ExternalIPs.</li>
<li><code>GCERegionalPersistentDisk</code>: Enable the regional PD feature on GCE.</li>
<li><code>GenericEphemeralVolume</code>: Enables ephemeral, inline volumes that support all features
of normal volumes (can be provided by third-party storage vendors, storage capacity tracking,
restore from snapshot, etc.).
See <a href=/docs/concepts/storage/ephemeral-volumes/>Ephemeral Volumes</a>.</li>
<li><code>GracefulNodeShutdown</code>: Enables support for graceful shutdown in kubelet.
During a system shutdown, kubelet will attempt to detect the shutdown event
and gracefully terminate pods running on the node. See
<a href=/docs/concepts/architecture/nodes/#graceful-node-shutdown>Graceful Node Shutdown</a>
for more details.</li>
<li><code>HPAContainerMetrics</code>: Enable the <code>HorizontalPodAutoscaler</code> to scale based on
metrics from individual containers in target pods.</li>
<li><code>HPAScaleToZero</code>: Enables setting <code>minReplicas</code> to 0 for <code>HorizontalPodAutoscaler</code>
resources when using custom or external metrics.</li>
<li><code>HugePages</code>: Enable the allocation and consumption of pre-allocated
<a href=/docs/tasks/manage-hugepages/scheduling-hugepages/>huge pages</a>.</li>
<li><code>HugePageStorageMediumSize</code>: Enable support for multiple sizes pre-allocated
<a href=/docs/tasks/manage-hugepages/scheduling-hugepages/>huge pages</a>.</li>
<li><code>HyperVContainer</code>: Enable
<a href=https://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/hyperv-container>Hyper-V isolation</a>
for Windows containers.</li>
<li><code>ImmutableEphemeralVolumes</code>: Allows for marking individual Secrets and ConfigMaps as
immutable for better safety and performance.</li>
<li><code>InTreePluginAWSUnregister</code>: Stops registering the aws-ebs in-tree plugin in kubelet
and volume controllers.</li>
<li><code>InTreePluginAzureDiskUnregister</code>: Stops registering the azuredisk in-tree plugin in kubelet
and volume controllers.</li>
<li><code>InTreePluginAzureFileUnregister</code>: Stops registering the azurefile in-tree plugin in kubelet
and volume controllers.</li>
<li><code>InTreePluginGCEUnregister</code>: Stops registering the gce-pd in-tree plugin in kubelet
and volume controllers.</li>
<li><code>InTreePluginOpenStackUnregister</code>: Stops registering the OpenStack cinder in-tree plugin in kubelet
and volume controllers.</li>
<li><code>InTreePluginvSphereUnregister</code>: Stops registering the vSphere in-tree plugin in kubelet
and volume controllers.</li>
<li><code>IndexedJob</code>: Allows the <a href=/docs/concepts/workloads/controllers/job/>Job</a>
controller to manage Pod completions per completion index.</li>
<li><code>IngressClassNamespacedParams</code>: Allow namespace-scoped parameters reference in
<code>IngressClass</code> resource. This feature adds two fields - <code>Scope</code> and <code>Namespace</code>
to <code>IngressClass.spec.parameters</code>.</li>
<li><code>Initializers</code>: Allow asynchronous coordination of object creation using the
Initializers admission plugin.</li>
<li><code>IPv6DualStack</code>: Enable <a href=/docs/concepts/services-networking/dual-stack/>dual stack</a>
support for IPv6.</li>
<li><code>JobTrackingWithFinalizers</code>: Enables tracking <a href=/docs/concepts/workloads/controllers/job>Job</a>
completions without relying on Pods remaining in the cluster indefinitely.
The Job controller uses Pod finalizers and a field in the Job status to keep
track of the finished Pods to count towards completion.</li>
<li><code>KubeletConfigFile</code>: Enable loading kubelet configuration from
a file specified using a config file.
See <a href=/docs/tasks/administer-cluster/kubelet-config-file/>setting kubelet parameters via a config file</a>
for more details.</li>
<li><code>KubeletCredentialProviders</code>: Enable kubelet exec credential providers for image pull credentials.</li>
<li><code>KubeletInUserNamespace</code>: Enables support for running kubelet in a <a class=glossary-tooltip title="A Linux kernel feature to emulate superuser privilege for unprivileged users." data-toggle=tooltip data-placement=top href=https://man7.org/linux/man-pages/man7/user_namespaces.7.html target=_blank aria-label="user namespace">user namespace</a>.
See <a href=/docs/tasks/administer-cluster/kubelet-in-userns/>Running Kubernetes Node Components as a Non-root User</a>.</li>
<li><code>KubeletPluginsWatcher</code>: Enable probe-based plugin watcher utility to enable kubelet
to discover plugins such as <a href=/docs/concepts/storage/volumes/#csi>CSI volume drivers</a>.</li>
<li><code>KubeletPodResources</code>: Enable the kubelet's pod resources gRPC endpoint. See
<a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-node/606-compute-device-assignment/README.md>Support Device Monitoring</a>
for more details.</li>
<li><code>KubeletPodResourcesGetAllocatable</code>: Enable the kubelet's pod resources <code>GetAllocatableResources</code> functionality.
This API augments the <a href=/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/#monitoring-device-plugin-resources>resource allocation reporting</a>
with informations about the allocatable resources, enabling clients to properly track the free compute resources on a node.</li>
<li><code>LegacyNodeRoleBehavior</code>: When disabled, legacy behavior in service load balancers and
node disruption will ignore the <code>node-role.kubernetes.io/master</code> label in favor of the
feature-specific labels provided by <code>NodeDisruptionExclusion</code> and <code>ServiceNodeExclusion</code>.</li>
<li><code>LocalStorageCapacityIsolation</code>: Enable the consumption of
<a href=/docs/concepts/configuration/manage-resources-containers/>local ephemeral storage</a>
and also the <code>sizeLimit</code> property of an
<a href=/docs/concepts/storage/volumes/#emptydir>emptyDir volume</a>.</li>
<li><code>LocalStorageCapacityIsolationFSQuotaMonitoring</code>: When <code>LocalStorageCapacityIsolation</code>
is enabled for
<a href=/docs/concepts/configuration/manage-resources-containers/>local ephemeral storage</a>
and the backing filesystem for <a href=/docs/concepts/storage/volumes/#emptydir>emptyDir volumes</a>
supports project quotas and they are enabled, use project quotas to monitor
<a href=/docs/concepts/storage/volumes/#emptydir>emptyDir volume</a> storage consumption rather than
filesystem walk for better performance and accuracy.</li>
<li><code>LogarithmicScaleDown</code>: Enable semi-random selection of pods to evict on controller scaledown
based on logarithmic bucketing of pod timestamps.</li>
<li><code>MemoryManager</code>: Allows setting memory affinity for a container based on
NUMA topology.</li>
<li><code>MemoryQoS</code>: Enable memory protection and usage throttle on pod / container using cgroup v2 memory controller.</li>
<li><code>MixedProtocolLBService</code>: Enable using different protocols in the same <code>LoadBalancer</code> type
Service instance.</li>
<li><code>MountContainers</code>: Enable using utility containers on host as the volume mounter.</li>
<li><code>MountPropagation</code>: Enable sharing volume mounted by one container to other containers or pods.
For more details, please see <a href=/docs/concepts/storage/volumes/#mount-propagation>mount propagation</a>.</li>
<li><code>NamespaceDefaultLabelName</code>: Configure the API Server to set an immutable <a class=glossary-tooltip title="Tags objects with identifying attributes that are meaningful and relevant to users." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels target=_blank aria-label=label>label</a>
<code>kubernetes.io/metadata.name</code> on all namespaces, containing the namespace name.</li>
<li><code>NetworkPolicyEndPort</code>: Enable use of the field <code>endPort</code> in NetworkPolicy objects, allowing the selection of a port range instead of a single port.</li>
<li><code>NodeDisruptionExclusion</code>: Enable use of the Node label <code>node.kubernetes.io/exclude-disruption</code>
which prevents nodes from being evacuated during zone failures.</li>
<li><code>NodeLease</code>: Enable the new Lease API to report node heartbeats, which could be used as a node health signal.</li>
<li><code>NodeSwap</code>: Enable the kubelet to allocate swap memory for Kubernetes workloads on a node.
Must be used with <code>KubeletConfiguration.failSwapOn</code> set to false.
For more details, please see <a href=/docs/concepts/architecture/nodes/#swap-memory>swap memory</a></li>
<li><code>NonPreemptingPriority</code>: Enable <code>preemptionPolicy</code> field for PriorityClass and Pod.</li>
<li><code>PVCProtection</code>: Enable the prevention of a PersistentVolumeClaim (PVC) from
being deleted when it is still used by any Pod.</li>
<li><code>PodDeletionCost</code>: Enable the <a href=/docs/concepts/workloads/controllers/replicaset/#pod-deletion-cost>Pod Deletion Cost</a>
feature which allows users to influence ReplicaSet downscaling order.</li>
<li><code>PersistentLocalVolumes</code>: Enable the usage of <code>local</code> volume type in Pods.
Pod affinity has to be specified if requesting a <code>local</code> volume.</li>
<li><code>PodDisruptionBudget</code>: Enable the <a href=/docs/tasks/run-application/configure-pdb/>PodDisruptionBudget</a> feature.</li>
<li><code>PodAffinityNamespaceSelector</code>: Enable the <a href=/docs/concepts/scheduling-eviction/assign-pod-node/#namespace-selector>Pod Affinity Namespace Selector</a>
and <a href=/docs/concepts/policy/resource-quotas/#cross-namespace-pod-affinity-quota>CrossNamespacePodAffinity</a> quota scope features.</li>
<li><code>PodOverhead</code>: Enable the <a href=/docs/concepts/scheduling-eviction/pod-overhead/>PodOverhead</a>
feature to account for pod overheads.</li>
<li><code>PodPriority</code>: Enable the descheduling and preemption of Pods based on their
<a href=/docs/concepts/scheduling-eviction/pod-priority-preemption/>priorities</a>.</li>
<li><code>PodReadinessGates</code>: Enable the setting of <code>PodReadinessGate</code> field for extending
Pod readiness evaluation. See <a href=/docs/concepts/workloads/pods/pod-lifecycle/#pod-readiness-gate>Pod readiness gate</a>
for more details.</li>
<li><code>PodSecurity</code>: Enables the <code>PodSecurity</code> admission plugin.</li>
<li><code>PodShareProcessNamespace</code>: Enable the setting of <code>shareProcessNamespace</code> in a Pod for sharing
a single process namespace between containers running in a pod. More details can be found in
<a href=/docs/tasks/configure-pod-container/share-process-namespace/>Share Process Namespace between Containers in a Pod</a>.</li>
<li><code>PreferNominatedNode</code>: This flag tells the scheduler whether the nominated
nodes will be checked first before looping through all the other nodes in
the cluster.</li>
<li><code>ProbeTerminationGracePeriod</code>: Enable <a href=/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/#probe-level-terminationgraceperiodseconds>setting probe-level
<code>terminationGracePeriodSeconds</code></a>
on pods. See the <a href=https://github.com/kubernetes/enhancements/tree/master/keps/sig-node/2238-liveness-probe-grace-period>enhancement proposal</a> for more details.</li>
<li><code>ProcMountType</code>: Enables control over the type proc mounts for containers
by setting the <code>procMount</code> field of a SecurityContext.</li>
<li><code>ProxyTerminatingEndpoints</code>: Enable the kube-proxy to handle terminating
endpoints when <code>ExternalTrafficPolicy=Local</code>.</li>
<li><code>QOSReserved</code>: Allows resource reservations at the QoS level preventing pods
at lower QoS levels from bursting into resources requested at higher QoS levels
(memory only for now).</li>
<li><code>ReadWriteOncePod</code>: Enables the usage of <code>ReadWriteOncePod</code> PersistentVolume
access mode.</li>
<li><code>RemainingItemCount</code>: Allow the API servers to show a count of remaining
items in the response to a
<a href=/docs/reference/using-api/api-concepts/#retrieving-large-results-sets-in-chunks>chunking list request</a>.</li>
<li><code>RemoveSelfLink</code>: Deprecates and removes <code>selfLink</code> from ObjectMeta and
ListMeta.</li>
<li><code>RequestManagement</code>: Enables managing request concurrency with prioritization and fairness
at each API server. Deprecated by <code>APIPriorityAndFairness</code> since 1.17.</li>
<li><code>ResourceLimitsPriorityFunction</code>: Enable a scheduler priority function that
assigns a lowest possible score of 1 to a node that satisfies at least one of
the input Pod's cpu and memory limits. The intent is to break ties between
nodes with same scores.</li>
<li><code>ResourceQuotaScopeSelectors</code>: Enable resource quota scope selectors.</li>
<li><code>RootCAConfigMap</code>: Configure the <code>kube-controller-manager</code> to publish a
<a class=glossary-tooltip title="An API object used to store non-confidential data in key-value pairs. Can be consumed as environment variables, command-line arguments, or configuration files in a volume." data-toggle=tooltip data-placement=top href=/docs/concepts/configuration/configmap/ target=_blank aria-label=ConfigMap>ConfigMap</a> named <code>kube-root-ca.crt</code>
to every namespace. This ConfigMap contains a CA bundle used for verifying connections
to the kube-apiserver. See
<a href=https://github.com/kubernetes/enhancements/blob/master/keps/sig-auth/1205-bound-service-account-tokens/README.md>Bound Service Account Tokens</a>
for more details.</li>
<li><code>RotateKubeletClientCertificate</code>: Enable the rotation of the client TLS certificate on the kubelet.
See <a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/#kubelet-configuration>kubelet configuration</a> for more details.</li>
<li><code>RotateKubeletServerCertificate</code>: Enable the rotation of the server TLS certificate on the kubelet.
See <a href=/docs/reference/command-line-tools-reference/kubelet-tls-bootstrapping/#kubelet-configuration>kubelet configuration</a>
for more details.</li>
<li><code>RunAsGroup</code>: Enable control over the primary group ID set on the init
processes of containers.</li>
<li><code>RuntimeClass</code>: Enable the <a href=/docs/concepts/containers/runtime-class/>RuntimeClass</a> feature
for selecting container runtime configurations.</li>
<li><code>ScheduleDaemonSetPods</code>: Enable DaemonSet Pods to be scheduled by the default scheduler
instead of the DaemonSet controller.</li>
<li><code>SCTPSupport</code>: Enables the <em>SCTP</em> <code>protocol</code> value in Pod, Service,
Endpoints, EndpointSlice, and NetworkPolicy definitions.</li>
<li><code>SeccompDefault</code>: Enables the use of <code>RuntimeDefault</code> as the default seccomp profile for all workloads.
The seccomp profile is specified in the <code>securityContext</code> of a Pod and/or a Container.</li>
<li><code>SelectorIndex</code>: Allows label and field based indexes in API server watch
cache to accelerate list operations.</li>
<li><code>ServerSideApply</code>: Enables the <a href=/docs/reference/using-api/server-side-apply/>Sever Side Apply (SSA)</a>
feature on the API Server.</li>
<li><code>ServiceAccountIssuerDiscovery</code>: Enable OIDC discovery endpoints (issuer and
JWKS URLs) for the service account issuer in the API server. See
<a href=/docs/tasks/configure-pod-container/configure-service-account/#service-account-issuer-discovery>Configure Service Accounts for Pods</a>
for more details.</li>
<li><code>ServiceAppProtocol</code>: Enables the <code>appProtocol</code> field on Services and Endpoints.</li>
<li><code>ServiceInternalTrafficPolicy</code>: Enables the <code>internalTrafficPolicy</code> field on Services</li>
<li><code>ServiceLBNodePortControl</code>: Enables the <code>allocateLoadBalancerNodePorts</code> field on Services.</li>
<li><code>ServiceLoadBalancerClass</code>: Enables the <code>loadBalancerClass</code> field on Services. See
<a href=/docs/concepts/services-networking/service/#load-balancer-class>Specifying class of load balancer implementation</a> for more details.</li>
<li><code>ServiceLoadBalancerFinalizer</code>: Enable finalizer protection for Service load balancers.</li>
<li><code>ServiceNodeExclusion</code>: Enable the exclusion of nodes from load balancers
created by a cloud provider. A node is eligible for exclusion if labelled with
"<code>node.kubernetes.io/exclude-from-external-load-balancers</code>".</li>
<li><code>ServiceTopology</code>: Enable service to route traffic based upon the Node
topology of the cluster. See
<a href=/docs/concepts/services-networking/service-topology/>ServiceTopology</a>
for more details.</li>
<li><code>SetHostnameAsFQDN</code>: Enable the ability of setting Fully Qualified Domain
Name(FQDN) as the hostname of a pod. See
<a href=/docs/concepts/services-networking/dns-pod-service/#pod-sethostnameasfqdn-field>Pod's <code>setHostnameAsFQDN</code> field</a>.</li>
<li><code>SizeMemoryBackedVolumes</code>: Enable kubelets to determine the size limit for
memory-backed volumes (mainly <code>emptyDir</code> volumes).</li>
<li><code>StartupProbe</code>: Enable the
<a href=/docs/concepts/workloads/pods/pod-lifecycle/#when-should-you-use-a-startup-probe>startup</a>
probe in the kubelet.</li>
<li><code>StatefulSetMinReadySeconds</code>: Allows <code>minReadySeconds</code> to be respected by
the StatefulSet controller.</li>
<li><code>StorageObjectInUseProtection</code>: Postpone the deletion of PersistentVolume or
PersistentVolumeClaim objects if they are still being used.</li>
<li><code>StorageVersionAPI</code>: Enable the
<a href=/docs/reference/generated/kubernetes-api/v1.22/#storageversion-v1alpha1-internal-apiserver-k8s-io>storage version API</a>.</li>
<li><code>StorageVersionHash</code>: Allow API servers to expose the storage version hash in the
discovery.</li>
<li><code>StreamingProxyRedirects</code>: Instructs the API server to intercept (and follow)
redirects from the backend (kubelet) for streaming requests.
Examples of streaming requests include the <code>exec</code>, <code>attach</code> and <code>port-forward</code> requests.</li>
<li><code>SupportIPVSProxyMode</code>: Enable providing in-cluster service load balancing using IPVS.
See <a href=/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies>service proxies</a> for more details.</li>
<li><code>SupportNodePidsLimit</code>: Enable the support to limiting PIDs on the Node.
The parameter <code>pid=&lt;number></code> in the <code>--system-reserved</code> and <code>--kube-reserved</code>
options can be specified to ensure that the specified number of process IDs
will be reserved for the system as a whole and for Kubernetes system daemons
respectively.</li>
<li><code>SupportPodPidsLimit</code>: Enable the support to limiting PIDs in Pods.</li>
<li><code>SuspendJob</code>: Enable support to suspend and resume Jobs. See
<a href=/docs/concepts/workloads/controllers/job/>the Jobs docs</a> for
more details.</li>
<li><code>Sysctls</code>: Enable support for namespaced kernel parameters (sysctls) that can be
set for each pod. See
<a href=/docs/tasks/administer-cluster/sysctl-cluster/>sysctls</a> for more details.</li>
<li><code>TTLAfterFinished</code>: Allow a
<a href=/docs/concepts/workloads/controllers/ttlafterfinished/>TTL controller</a>
to clean up resources after they finish execution.</li>
<li><code>TaintBasedEvictions</code>: Enable evicting pods from nodes based on taints on Nodes
and tolerations on Pods.
See <a href=/docs/concepts/scheduling-eviction/taint-and-toleration/>taints and tolerations</a>
for more details.</li>
<li><code>TaintNodesByCondition</code>: Enable automatic tainting nodes based on
<a href=/docs/concepts/architecture/nodes/#condition>node conditions</a>.</li>
<li><code>TokenRequest</code>: Enable the <code>TokenRequest</code> endpoint on service account resources.</li>
<li><code>TokenRequestProjection</code>: Enable the injection of service account tokens into a
Pod through a <a href=/docs/concepts/storage/volumes/#projected><code>projected</code> volume</a>.</li>
<li><code>TopologyAwareHints</code>: Enables topology aware routing based on topology hints
in EndpointSlices. See <a href=/docs/concepts/services-networking/topology-aware-hints/>Topology Aware
Hints</a> for more
details.</li>
<li><code>TopologyManager</code>: Enable a mechanism to coordinate fine-grained hardware resource
assignments for different components in Kubernetes. See
<a href=/docs/tasks/administer-cluster/topology-manager/>Control Topology Management Policies on a node</a>.</li>
<li><code>ValidateProxyRedirects</code>: This flag controls whether the API server should
validate that redirects are only followed to the same host. Only used if the
<code>StreamingProxyRedirects</code> flag is enabled.</li>
<li><code>VolumeCapacityPriority</code>: Enable support for prioritizing nodes in different
topologies based on available PV capacity.</li>
<li><code>VolumePVCDataSource</code>: Enable support for specifying an existing PVC as a DataSource.</li>
<li><code>VolumeScheduling</code>: Enable volume topology aware scheduling and make the
PersistentVolumeClaim (PVC) binding aware of scheduling decisions. It also
enables the usage of <a href=/docs/concepts/storage/volumes/#local><code>local</code></a> volume
type when used together with the <code>PersistentLocalVolumes</code> feature gate.</li>
<li><code>VolumeSnapshotDataSource</code>: Enable volume snapshot data source support.</li>
<li><code>VolumeSubpath</code>: Allow mounting a subpath of a volume in a container.</li>
<li><code>VolumeSubpathEnvExpansion</code>: Enable <code>subPathExpr</code> field for expanding environment
variables into a <code>subPath</code>.</li>
<li><code>WarningHeaders</code>: Allow sending warning headers in API responses.</li>
<li><code>WatchBookmark</code>: Enable support for watch bookmark events.</li>
<li><code>WinDSR</code>: Allows kube-proxy to create DSR loadbalancers for Windows.</li>
<li><code>WinOverlay</code>: Allows kube-proxy to run in overlay mode for Windows.</li>
<li><code>WindowsEndpointSliceProxying</code>: When enabled, kube-proxy running on Windows
will use EndpointSlices as the primary data source instead of Endpoints,
enabling scalability and performance improvements. See
<a href=/docs/tasks/administer-cluster/enabling-endpointslices/>Enabling Endpoint Slices</a>.</li>
<li><code>WindowsGMSA</code>: Enables passing of GMSA credential specs from pods to container runtimes.</li>
<li><code>WindowsHostProcessContainers</code>: Enables support for Windows HostProcess containers.</li>
<li><code>WindowsRunAsUserName</code> : Enable support for running applications in Windows containers
with as a non-default user. See
<a href=/docs/tasks/configure-pod-container/configure-runasusername>Configuring RunAsUserName</a>
for more details.</li>
</ul>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>The <a href=/docs/reference/using-api/deprecation-policy/>deprecation policy</a> for Kubernetes explains
the project's approach to removing features and components.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-29e506a6018204679ef5459653a7aa1f>9.2 - kubelet</h1>
<h2 id=synopsis>Synopsis</h2>
<p>The kubelet is the primary "node agent" that runs on each node. It can
register the node with the apiserver using one of: the hostname; a flag to
override the hostname; or specific logic for a cloud provider.</p>
<p>The kubelet works in terms of a PodSpec. A PodSpec is a YAML or JSON object
that describes a pod. The kubelet takes a set of PodSpecs that are provided
through various mechanisms (primarily through the apiserver) and ensures that
the containers described in those PodSpecs are running and healthy. The
kubelet doesn't manage containers which were not created by Kubernetes.</p>
<p>Other than from a PodSpec from the apiserver, there are three ways that a
container manifest can be provided to the Kubelet.</p>
<ul>
<li>File: Path passed as a flag on the command line. Files under this path will be
monitored periodically for updates. The monitoring period is 20s by default
and is configurable via a flag.</li>
<li>HTTP endpoint: HTTP endpoint passed as a parameter on the command line. This
endpoint is checked every 20 seconds (also configurable with a flag).</li>
<li>HTTP server: The kubelet can also listen for HTTP and respond to a simple API
(underspec'd currently) to submit a new manifest.</li>
</ul>
<pre><code>kubelet [flags]
</code></pre><h2 id=options>Options</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--add-dir-header</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, adds the file directory to the header of the log messages</td>
</tr>
<tr>
<td colspan=2>--address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0 </td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The IP address for the Kubelet to serve on (set to <code>0.0.0.0</code> or <code>::</code> for listening in all interfaces and IP families) (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--allowed-unsafe-sysctls strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated whitelist of unsafe sysctls or unsafe sysctl patterns (ending in <code>*</code>). Use these at your own risk. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--alsologtostderr</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Log to standard error as well as files</td>
</tr>
<tr>
<td colspan=2>--anonymous-auth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enables anonymous requests to the Kubelet server. Requests that are not rejected by another authentication method are treated as anonymous requests. Anonymous requests have a username of <code>system:anonymous</code>, and a group name of <code>system:unauthenticated</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Use the <code>TokenReview</code> API to determine authentication for bearer tokens. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>2m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The duration to cache responses from the webhook token authenticator. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--authorization-mode string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Authorization mode for Kubelet server. Valid options are <code>AlwaysAllow</code> or <code>Webhook</code>. <code>Webhook</code> mode uses the <code>SubjectAccessReview</code> API to determine authorization. Default <code>AlwaysAllow</code> when <code>--config</code> flag is not provided; <code>Webhook</code> when <code>--config</code> flag presents. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>5m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The duration to cache 'authorized' responses from the webhook authorizer. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>30s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The duration to cache 'unauthorized' responses from the webhook authorizer. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--azure-container-registry-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to the file containing Azure container registry configuration information.</td>
</tr>
<tr>
<td colspan=2>--bootstrap-kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to a kubeconfig file that will be used to get client certificate for kubelet. If the file specified by <code>--kubeconfig</code> does not exist, the bootstrap kubeconfig is used to request a client certificate from the API server. On success, a kubeconfig file referencing the generated client certificate and key is written to the path specified by <code>--kubeconfig</code>. The client certificate and key file will be stored in the directory pointed by <code>--cert-dir</code>.</td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/var/lib/kubelet/pki</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The directory where the TLS certs are located. If <code>--tls-cert-file</code> and <code>--tls-private-key-file</code> are provided, this flag will be ignored.</td>
</tr>
<tr>
<td colspan=2>--cgroup-driver string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>cgroupfs</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Driver that the kubelet uses to manipulate cgroups on the host. Possible values: <code>cgroupfs</code>, <code>systemd</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)/td>
</tr>
<tr>
<td colspan=2>--cgroup-root string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>''</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Optional root cgroup to use for pods. This is handled by the container runtime on a best effort basis. Default: '', which means use the container runtime default. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cgroups-per-qos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enable creation of QoS cgroup hierarchy, if true top level QoS and pod cgroups are created. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the <code>CommonName</code> of the client certificate. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cloud-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The path to the cloud provider configuration file. Empty string for no configuration file. (DEPRECATED: will be removed in 1.23, in favor of removing cloud providers code from Kubelet.)</td>
</tr>
<tr>
<td colspan=2>--cloud-provider string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The provider for cloud services. Set to empty string for running with no cloud provider. If set, the cloud provider determines the name of the node (consult cloud provider documentation to determine if and how the hostname is used). (DEPRECATED: will be removed in 1.23, in favor of removing cloud provider code from Kubelet.)</td>
</tr>
<tr>
<td colspan=2>--cluster-dns strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of DNS server IP address. This value is used for containers DNS server in case of Pods with "dnsPolicy=ClusterFirst".<br><b>Note:</b> all DNS servers appearing in the list MUST serve the same set of records otherwise name resolution within the cluster may not work correctly. There is no guarantee as to which DNS server may be contacted for name resolution. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cluster-domain string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Domain for this cluster. If set, kubelet will configure all containers to search this domain in addition to the host's search domains (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cni-bin-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/opt/cni/bin</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A comma-separated list of full paths of directories in which to search for CNI plugin binaries. This docker-specific flag only works when container-runtime is set to <code>docker</code>. (DEPRECATED: will be removed along with dockershim.)</td>
</tr>
<tr>
<td colspan=2>--cni-cache-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/var/lib/cni/cache</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The full path of the directory in which CNI should store cache files. This docker-specific flag only works when container-runtime is set to <code>docker</code>. (DEPRECATED: will be removed along with dockershim.)</td>
</tr>
<tr>
<td colspan=2>--cni-conf-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/etc/cni/net.d</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The full path of the directory in which to search for CNI config files. This docker-specific flag only works when container-runtime is set to <code>docker</code>. (DEPRECATED: will be removed along with dockershim.)</td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The Kubelet will load its initial configuration from this file. The path may be absolute or relative; relative paths start at the Kubelet's current working directory. Omit this flag to use the built-in default configuration values. Command-line flags override configuration from this file.</td>
</tr>
<tr>
<td colspan=2>--container-log-max-files int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Beta feature> Set the maximum number of container log files that can be present for a container. The number must be >= 2. This flag can only be used with <code>--container-runtime=remote</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--container-log-max-size string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>10Mi</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Beta feature> Set the maximum size (e.g. <code>10Mi</code>) of container log file before it is rotated. This flag can only be used with <code>--container-runtime=remote</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--container-runtime string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>docker</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The container runtime to use. Possible values: <code>docker</code>, <code>remote</code>.</td>
</tr>
<tr>
<td colspan=2>--container-runtime-endpoint string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>unix:///var/run/dockershim.sock</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] The endpoint of remote runtime service. Currently unix socket endpoint is supported on Linux, while npipe and tcp endpoints are supported on windows. Examples: <code>unix:///var/run/dockershim.sock</code>, <code>npipe:////./pipe/dockershim</code>.</td>
</tr>
<tr>
<td colspan=2>--contention-profiling</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enable lock contention profiling, if profiling is enabled (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cpu-cfs-quota&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enable CPU CFS quota enforcement for containers that specify CPU limits (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cpu-cfs-quota-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>100ms</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Sets CPU CFS quota period value, <code>cpu.cfs_period_us</code>, defaults to Linux Kernel default. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cpu-manager-policy string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>none</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>CPU Manager policy to use. Possible values: <code>none</code>, <code>static</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cpu-manager-policy-options strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of options to fine-tune the behavior of the selected CPU Manager policy. If not supplied, keep the default behaviour. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--cpu-manager-reconcile-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>10s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> CPU Manager reconciliation period. Examples: <code>10s</code>, or <code>1m</code>. If not supplied, defaults to node status update frequency. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--docker-endpoint string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>unix:///var/run/docker.sock</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Use this for the <code>docker</code> endpoint to communicate with. This docker-specific flag only works when container-runtime is set to <code>docker</code>.</td>
</tr>
<tr>
<td colspan=2>--dynamic-config-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The Kubelet will use this directory for checkpointing downloaded configurations and tracking configuration health. The Kubelet will create this directory if it does not already exist. The path may be absolute or relative; relative paths start at the Kubelet's current working directory. Providing this flag enables dynamic Kubelet configuration. The <code>DynamicKubeletConfig</code> feature gate must be enabled to pass this flag. (DEPRECATED: Feature DynamicKubeletConfig is deprecated in 1.22 and will not move to GA. It is planned to be removed from Kubernetes in the version 1.23. Please use alternative ways to update kubelet configuration.)</td>
</tr>
<tr>
<td colspan=2>--enable-controller-attach-detach&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enables the Attach/Detach controller to manage attachment/detachment of volumes scheduled to this node, and disables kubelet from executing any attach/detach operations. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--enable-debugging-handlers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enables server endpoints for log collection and local running of containers and commands. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--enable-server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Enable the Kubelet's server. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--enforce-node-allocatable strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>pods</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A comma separated list of levels of node allocatable enforcement to be enforced by kubelet. Acceptable options are <code>none</code>, <code>pods</code>, <code>system-reserved</code>, and <code>kube-reserved</code>. If the latter two options are specified, <code>--system-reserved-cgroup</code> and <code>--kube-reserved-cgroup</code> must also be set, respectively. If <code>none</code> is specified, no additional options should be set. See https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/ for more details. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--event-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum size of a bursty event records, temporarily allows event records to burst to this number, while still not exceeding <code>--event-qps</code>. The number must be >= 0. If 0 will use default burst (10). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--event-qps int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>QPS to limit event creations. The number must be >= 0. If 0 will use default QPS (5). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--eviction-hard mapStringString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>imagefs.available<15%,memory.available<100Mi,nodefs.available<10%</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of eviction thresholds (e.g. <code>memory.available<1Gi</code>) that if met would trigger a pod eviction. On a Linux node, the default value also includes <code>nodefs.inodesFree<5%</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--eviction-max-pod-grace-period int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word> Maximum allowed grace period (in seconds) to use when terminating pods in response to a soft eviction threshold being met. If negative, defer to pod specified value. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--eviction-minimum-reclaim mapStringString</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of minimum reclaims (e.g. <code>imagefs.available=2Gi</code>) that describes the minimum amount of resource the kubelet will reclaim when performing a pod eviction if that resource is under pressure. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--eviction-pressure-transition-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>5m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Duration for which the kubelet has to wait before transitioning out of an eviction pressure condition. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--eviction-soft mapStringString</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of eviction thresholds (e.g. <code>memory.available<1.5Gi</code>) that if met over a corresponding grace period would trigger a pod eviction. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--eviction-soft-grace-period mapStringString</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of eviction grace periods (e.g. <code>memory.available=1m30s</code>) that correspond to how long a soft eviction threshold must hold before triggering a pod eviction. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--exit-on-lock-contention</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Whether kubelet should exit upon lock-file contention.</td>
</tr>
<tr>
<td colspan=2>--experimental-allocatable-ignore-eviction&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>false</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>When set to <code>true</code>, hard eviction thresholds will be ignored while calculating node allocatable. See https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/ for more details. (DEPRECATED: will be removed in 1.23)</td>
</tr>
<tr>
<td colspan=2>--experimental-bootstrap-kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>DEPRECATED: Use <code>--bootstrap-kubeconfig</code></td>
</tr>
<tr>
<td colspan=2>--experimental-check-node-capabilities-before-mount</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] if set to <code>true</code>, the kubelet will check the underlying node for required components (binaries, etc.) before performing the mount (DEPRECATED: will be removed in 1.23, in favor of using CSI.)</td>
</tr>
<tr>
<td colspan=2>--experimental-kernel-memcg-notification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If enabled, the kubelet will integrate with the kernel memcg notification to determine if memory eviction thresholds are crossed rather than polling. This flag will be removed in 1.23. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--experimental-log-sanitization bool</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] When enabled, prevents logging of fields tagged as sensitive (passwords, keys, tokens). Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)
</tr>
<tr>
<td colspan=2>--experimental-mounter-path string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>mount</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] Path of mounter binary. Leave empty to use the default <code>mount</code>. (DEPRECATED: will be removed in 1.23, in favor of using CSI.)</td>
</tr>
<tr>
<td colspan=2>--fail-swap-on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Makes the Kubelet fail to start if swap is enabled on the node. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--feature-gates &lt;A list of 'key=true/false' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of <code>key=value</code> pairs that describe feature gates for alpha/experimental features. Options are:<br>
APIListChunking=true|false (BETA - default=true)<br>
APIPriorityAndFairness=true|false (BETA - default=true)<br>
APIResponseCompression=true|false (BETA - default=true)<br>
APIServerIdentity=true|false (ALPHA - default=false)<br>
APIServerTracing=true|false (ALPHA - default=false)<br>
AllAlpha=true|false (ALPHA - default=false)<br>
AllBeta=true|false (BETA - default=false)<br>
AnyVolumeDataSource=true|false (ALPHA - default=false)<br>
AppArmor=true|false (BETA - default=true)<br>
CPUManager=true|false (BETA - default=true)<br>
CPUManagerPolicyOptions=true|false (ALPHA - default=false)<br>
CSIInlineVolume=true|false (BETA - default=true)<br>
CSIMigration=true|false (BETA - default=true)<br>
CSIMigrationAWS=true|false (BETA - default=false)<br>
CSIMigrationAzureDisk=true|false (BETA - default=false)<br>
CSIMigrationAzureFile=true|false (BETA - default=false)<br>
CSIMigrationGCE=true|false (BETA - default=false)<br>
CSIMigrationOpenStack=true|false (BETA - default=true)<br>
CSIMigrationvSphere=true|false (BETA - default=false)<br>
CSIStorageCapacity=true|false (BETA - default=true)<br>
CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>
CSIVolumeHealth=true|false (ALPHA - default=false)<br>
CSRDuration=true|false (BETA - default=true)<br>
ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>
ControllerManagerLeaderMigration=true|false (BETA - default=true)<br>
CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>
DaemonSetUpdateSurge=true|false (BETA - default=true)<br>
DefaultPodTopologySpread=true|false (BETA - default=true)<br>
DelegateFSGroupToCSIDriver=true|false (ALPHA - default=false)<br>
DevicePlugins=true|false (BETA - default=true)<br>
DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>
DisableCloudProviders=true|false (ALPHA - default=false)<br>
DownwardAPIHugePages=true|false (BETA - default=false)<br>
EfficientWatchResumption=true|false (BETA - default=true)<br>
EndpointSliceTerminatingCondition=true|false (BETA - default=true)<br>
EphemeralContainers=true|false (ALPHA - default=false)<br>
ExpandCSIVolumes=true|false (BETA - default=true)<br>
ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>
ExpandPersistentVolumes=true|false (BETA - default=true)<br>
ExpandedDNSConfig=true|false (ALPHA - default=false)<br>
ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>
GenericEphemeralVolume=true|false (BETA - default=true)<br>
GracefulNodeShutdown=true|false (BETA - default=true)<br>
HPAContainerMetrics=true|false (ALPHA - default=false)<br>
HPAScaleToZero=true|false (ALPHA - default=false)<br>
IPv6DualStack=true|false (BETA - default=true)<br>
InTreePluginAWSUnregister=true|false (ALPHA - default=false)<br>
InTreePluginAzureDiskUnregister=true|false (ALPHA - default=false)<br>
InTreePluginAzureFileUnregister=true|false (ALPHA - default=false)<br>
InTreePluginGCEUnregister=true|false (ALPHA - default=false)<br>
InTreePluginOpenStackUnregister=true|false (ALPHA - default=false)<br>
InTreePluginvSphereUnregister=true|false (ALPHA - default=false)<br>
IndexedJob=true|false (BETA - default=true)<br>
IngressClassNamespacedParams=true|false (BETA - default=true)<br>
JobTrackingWithFinalizers=true|false (ALPHA - default=false)<br>
KubeletCredentialProviders=true|false (ALPHA - default=false)<br>
KubeletInUserNamespace=true|false (ALPHA - default=false)<br>
KubeletPodResources=true|false (BETA - default=true)<br>
KubeletPodResourcesGetAllocatable=true|false (ALPHA - default=false)<br>
LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>
LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>
LogarithmicScaleDown=true|false (BETA - default=true)<br>
MemoryManager=true|false (BETA - default=true)<br>
MemoryQoS=true|false (ALPHA - default=false)<br>
MixedProtocolLBService=true|false (ALPHA - default=false)<br>
NetworkPolicyEndPort=true|false (BETA - default=true)<br>
NodeSwap=true|false (ALPHA - default=false)<br>
NonPreemptingPriority=true|false (BETA - default=true)<br>
PodAffinityNamespaceSelector=true|false (BETA - default=true)<br>
PodDeletionCost=true|false (BETA - default=true)<br>
PodOverhead=true|false (BETA - default=true)<br>
PodSecurity=true|false (ALPHA - default=false)<br>
PreferNominatedNode=true|false (BETA - default=true)<br>
ProbeTerminationGracePeriod=true|false (BETA - default=false)<br>
ProcMountType=true|false (ALPHA - default=false)<br>
ProxyTerminatingEndpoints=true|false (ALPHA - default=false)<br>
QOSReserved=true|false (ALPHA - default=false)<br>
ReadWriteOncePod=true|false (ALPHA - default=false)<br>
RemainingItemCount=true|false (BETA - default=true)<br>
RemoveSelfLink=true|false (BETA - default=true)<br>
RotateKubeletServerCertificate=true|false (BETA - default=true)<br>
SeccompDefault=true|false (ALPHA - default=false)<br>
ServiceInternalTrafficPolicy=true|false (BETA - default=true)<br>
ServiceLBNodePortControl=true|false (BETA - default=true)<br>
ServiceLoadBalancerClass=true|false (BETA - default=true)<br>
SizeMemoryBackedVolumes=true|false (BETA - default=true)<br>
StatefulSetMinReadySeconds=true|false (ALPHA - default=false)<br>
StorageVersionAPI=true|false (ALPHA - default=false)<br>
StorageVersionHash=true|false (BETA - default=true)<br>
SuspendJob=true|false (BETA - default=true)<br>
TTLAfterFinished=true|false (BETA - default=true)<br>
TopologyAwareHints=true|false (ALPHA - default=false)<br>
TopologyManager=true|false (BETA - default=true)<br>
VolumeCapacityPriority=true|false (ALPHA - default=false)<br>
WinDSR=true|false (ALPHA - default=false)<br>
WinOverlay=true|false (BETA - default=true)<br>
WindowsHostProcessContainers=true|false (ALPHA - default=false)<br>
(DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--file-check-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>20s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Duration between checking config files for new data. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--hairpin-mode string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>promiscuous-bridge</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>How should the kubelet setup hairpin NAT. This allows endpoints of a Service to load balance back to themselves if they should try to access their own Service. Valid values are <code>promiscuous-bridge</code>, <code>hairpin-veth</code> and <code>none</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--healthz-bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>127.0.0.1</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The IP address for the healthz server to serve on (set to <code>0.0.0.0</code> or <code>::</code> for listening in all interfaces and IP families). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--healthz-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10248</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The port of the localhost healthz endpoint (set to <code>0</code> to disable). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>help for kubelet</td>
</tr>
<tr>
<td colspan=2>--hostname-override string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, will use this string as identification instead of the actual hostname. If <code>--cloud-provider</code> is set, the cloud provider determines the name of the node (consult cloud provider documentation to determine if and how the hostname is used).</td>
</tr>
<tr>
<td colspan=2>--http-check-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>20s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Duration between checking HTTP for new data. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--image-credential-provider-bin-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The path to the directory where credential provider plugin binaries are located.</td>
</tr>
<tr>
<td colspan=2>--image-credential-provider-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The path to the credential provider plugin config file.</td>
</tr>
<tr>
<td colspan=2>--image-gc-high-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 85</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The percent of disk usage after which image garbage collection is always run. Values must be within the range [0, 100], To disable image garbage collection, set to 100. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--image-gc-low-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 80</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The percent of disk usage before which image garbage collection is never run. Lowest disk usage to garbage collect to. Values must be within the range [0, 100] and should not be larger than that of <code>--image-gc-high-threshold</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--image-pull-progress-deadline duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>1m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If no pulling progress is made before this deadline, the image pulling will be cancelled. This docker-specific flag only works when container-runtime is set to <code>docker</code>. (DEPRECATED: will be removed along with dockershim.)</td>
</tr>
<tr>
<td colspan=2>--image-service-endpoint string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>[Experimental] The endpoint of remote image service. If not specified, it will be the same with <code>--container-runtime-endpoint</code> by default. Currently UNIX socket endpoint is supported on Linux, while npipe and TCP endpoints are supported on Windows. Examples: <code>unix:///var/run/dockershim.sock</code>, <code>npipe:////./pipe/dockershim</code></td>
</tr>
<tr>
<td colspan=2>--iptables-drop-bit int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The bit of the <code>fwmark</code> space to mark packets for dropping. Must be within the range [0, 31]. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--iptables-masquerade-bit int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 14</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The bit of the <code>fwmark</code> space to mark packets for SNAT. Must be within the range [0, 31]. Please match this parameter with corresponding parameter in <code>kube-proxy</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--keep-terminated-pod-volumes</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Keep terminated pod volumes mounted to the node after the pod terminates. Can be useful for debugging volume related issues. (DEPRECATED: will be removed in a future version)</td>
</tr>
<tr>
<td colspan=2>--kernel-memcg-notification</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If enabled, the kubelet will integrate with the kernel memcg notification to determine if memory eviction thresholds are crossed rather than polling. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Burst to use while talking with kubernetes API server. The number must be >= 0. If 0 will use default burst (10). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>application/vnd.kubernetes.protobuf</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Content type of requests sent to apiserver. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--kube-api-qps int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>QPS to use while talking with kubernetes API server. The number must be >= 0. If 0 will use default QPS (5). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--kube-reserved mapStringString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &lt;None></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of <code>&lt;resource name>=&lt;resource quantity></code> (e.g. <code>cpu=200m,memory=500Mi,ephemeral-storage=1Gi,pid='100'</code>) pairs that describe resources reserved for kubernetes system components. Currently <code>cpu</code>, <code>memory</code> and local <code>ephemeral-storage</code> for root file system are supported. See http://kubernetes.io/docs/user-guide/compute-resources for more detail. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--kube-reserved-cgroup string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>''</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Absolute name of the top level cgroup that is used to manage kubernetes components for which compute resources were reserved via <code>--kube-reserved</code> flag. Ex. <code>/kube-reserved</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to a kubeconfig file, specifying how to connect to the API server. Providing <code>--kubeconfig</code> enables API server mode, omitting <code>--kubeconfig</code> enables standalone mode. </td>
</tr>
<tr>
<td colspan=2>--kubelet-cgroups string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Optional absolute name of cgroups to create and run the Kubelet in. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--lock-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> The path to file for kubelet to use as a lock file.</td>
</tr>
<tr>
<td colspan=2>--log-backtrace-at &lt;A string of format 'file:line'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>":0"</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>When logging hits line <code><file>:<n></code>, emit a stack trace.</td>
</tr>
<tr>
<td colspan=2>--log-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, write log files in this directory</td>
</tr>
<tr>
<td colspan=2>--log-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, use this log file</td>
</tr>
<tr>
<td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</td>
</tr>
<tr>
<td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>5s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of seconds between log flushes.</td>
</tr>
<tr>
<td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>text</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Sets the log format. Permitted formats: <code>text</code>, <code>json</code>.<br>Non-default formats don't honor these flags: <code>--add-dir-header</code>, <code>--alsologtostderr</code>, <code>--log-backtrace-at</code>, <code>--log-dir</code>, <code>--log-file</code>, <code>--log-file-max-size</code>, <code>--logtostderr</code>, <code>--skip_headers</code>, <code>--skip_log_headers</code>, <code>--stderrthreshold</code>, <code>--log-flush-frequency</code>.<br>Non-default choices are currently alpha and subject to change without warning. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>log to standard error instead of files.</td>
</tr>
<tr>
<td colspan=2>--make-iptables-util-chains&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, kubelet will ensure <code>iptables</code> utility rules are present on host. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--manifest-url string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>URL for accessing additional Pod specifications to run (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--manifest-url-header string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of HTTP headers to use when accessing the URL provided to <code>--manifest-url</code>. Multiple headers with the same name will be added in the same order provided. This flag can be repeatedly invoked. For example: <code>--manifest-url-header 'a:hello,b:again,c:world' --manifest-url-header 'b:beautiful'</code> (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--master-service-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>default</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The namespace from which the kubernetes master services should be injected into pods. (DEPRECATED: This flag will be removed in a future version.)</td>
</tr>
<tr>
<td colspan=2>--max-open-files int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1000000</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Number of files that can be opened by Kubelet process. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--max-pods int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 110</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Number of Pods that can run on this Kubelet. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--maximum-dead-containers int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of old instances of containers to retain globally. Each container takes up some disk space. To disable, set to a negative number. (DEPRECATED: Use <code>--eviction-hard</code> or <code>--eviction-soft</code> instead. Will be removed in a future version.)</td>
</tr>
<tr>
<td colspan=2>--maximum-dead-containers-per-container int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of old instances to retain per container. Each container takes up some disk space. (DEPRECATED: Use <code>--eviction-hard</code> or <code>--eviction-soft</code> instead. Will be removed in a future version.)</td>
</tr>
<tr>
<td colspan=2>--memory-manager-policy string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>None</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Memory Manager policy to use. Possible values: <code>'None'</code>, <code>'Static'</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--minimum-container-ttl-duration duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Minimum age for a finished container before it is garbage collected. Examples: <code>'300ms'</code>, <code>'10s'</code> or <code>'2h45m'</code> (DEPRECATED: Use <code>--eviction-hard</code> or <code>--eviction-soft</code> instead. Will be removed in a future version.)</td>
</tr>
<tr>
<td colspan=2>--minimum-image-ttl-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>2m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Minimum age for an unused image before it is garbage collected. Examples: <code>'300ms'</code>, <code>'10s'</code> or <code>'2h45m'</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--network-plugin string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The name of the network plugin to be invoked for various events in kubelet/pod lifecycle. This docker-specific flag only works when container-runtime is set to <code>docker</code>. (DEPRECATED: will be removed along with dockershim.)</td>
</tr>
<tr>
<td colspan=2>--network-plugin-mtu int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The MTU to be passed to the network plugin, to override the default. Set to <code>0</code> to use the default 1460 MTU. This docker-specific flag only works when container-runtime is set to <code>docker</code>. (DEPRECATED: will be removed along with dockershim.)</td>
</tr>
<tr>
<td colspan=2>--node-ip string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>IP address (or comma-separated dual-stack IP addresses) of the node. If unset, kubelet will use the node's default IPv4 address, if any, or its default IPv6 address if it has no IPv4 addresses. You can pass <code>'::'</code> to make it prefer the default IPv6 address rather than the default IPv4 address.</td>
</tr>
<tr>
<td colspan=2>--node-labels mapStringString</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature>Labels to add when registering the node in the cluster. Labels must be <code>key=value pairs</code> separated by <code>','</code>. Labels in the <code>'kubernetes.io'</code> namespace must begin with an allowed prefix (<code>'kubelet.kubernetes.io'</code>, <code>'node.kubernetes.io'</code>) or be in the specifically allowed set (<code>'beta.kubernetes.io/arch'</code>, <code>'beta.kubernetes.io/instance-type'</code>, <code>'beta.kubernetes.io/os'</code>, <code>'failure-domain.beta.kubernetes.io/region'</code>, <code>'failure-domain.beta.kubernetes.io/zone'</code>, <code>'kubernetes.io/arch'</code>, <code>'kubernetes.io/hostname'</code>, <code>'kubernetes.io/os'</code>, <code>'node.kubernetes.io/instance-type'</code>, <code>'topology.kubernetes.io/region'</code>, <code>'topology.kubernetes.io/zone'</code>)</td>
</tr>
<tr>
<td colspan=2>--node-status-max-images int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 50</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The maximum number of images to report in <code>node.status.images</code>. If <code>-1</code> is specified, no cap will be applied. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--node-status-update-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>10s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Specifies how often kubelet posts node status to master. Note: be cautious when changing the constant, it must work with <code>nodeMonitorGracePeriod</code> in Node controller. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--non-masquerade-cidr string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>10.0.0.0/8</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Traffic to IPs outside this range will use IP masquerade. Set to <code>'0.0.0.0/0'</code> to never masquerade. (DEPRECATED: will be removed in a future version)</td>
</tr>
<tr>
<td colspan=2>--one-output</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, only write logs to their native severity level (vs also writing to each lower severity level).</td>
</tr>
<tr>
<td colspan=2>--oom-score-adj int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -999</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The <code>oom-score-adj</code> value for kubelet process. Values must be within the range [-1000, 1000]. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--pod-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The CIDR to use for pod IP addresses, only used in standalone mode. In cluster mode, this is obtained from the master. For IPv6, the maximum number of IP's allocated is 65536 (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--pod-infra-container-image string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>k8s.gcr.io/pause:3.5</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Specified image will not be pruned by the image garbage collector. When container-runtime is set to <code>docker</code>, all containers in each pod will use the network/IPC namespaces from this image. Other CRI implementations have their own configuration to set this image.</td>
</tr>
<tr>
<td colspan=2>--pod-manifest-path string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to the directory containing static pod files to run, or the path to a single static pod file. Files starting with dots will be ignored. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--pod-max-pids int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Set the maximum number of processes per pod. If <code>-1</code>, the kubelet defaults to the node allocatable PID capacity. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--pods-per-core int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Number of Pods per core that can run on this kubelet. The total number of pods on this kubelet cannot exceed <code>--max-pods</code>, so <code>--max-pods</code> will be used if this calculation results in a larger number of pods allowed on the kubelet. A value of <code>0</code> disables this limit. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10250</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The port for the kubelet to serve on. (DEPRECATED: This parameter should be set via the config file specified by the kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--protect-kernel-defaults</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word> Default kubelet behaviour for kernel tuning. If set, kubelet errors if any of kernel tunables is different than kubelet defaults. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--provider-id string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Unique identifier for identifying the node in a machine database, i.e cloud provider. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--qos-reserved mapStringString</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> A set of <code>&lt;resource name>=&lt;percentage></code> (e.g. <code>memory=50%</code>) pairs that describe how pod resource requests are reserved at the QoS level. Currently only <code>memory</code> is supported. Requires the <code>QOSReserved</code> feature gate to be enabled. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--read-only-port int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10255</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The read-only port for the kubelet to serve on with no authentication/authorization (set to <code>0</code> to disable). (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--really-crash-for-testing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, when panics occur crash. Intended for testing. (DEPRECATED: will be removed in a future version.)</td>
</tr>
<tr>
<td colspan=2>--register-node&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Register the node with the API server. If <code>--kubeconfig</code> is not provided, this flag is irrelevant, as the Kubelet won't have an API server to register with.</td>
</tr>
<tr>
<td colspan=2>--register-schedulable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Register the node as schedulable. Won't have any effect if <code>--register-node</code> is <code>false</code>. (DEPRECATED: will be removed in a future version)</td>
</tr>
<tr>
<td colspan=2>--register-with-taints mapStringString</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Register the node with the given list of taints (comma separated <code>&lt;key>=&lt;value>:&lt;effect></code>). No-op if <code>--register-node</code> is <code>false</code>.</td>
</tr>
<tr>
<td colspan=2>--registry-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum size of a bursty pulls, temporarily allows pulls to burst to this number, while still not exceeding <code>--registry-qps</code>. Only used if <code>--registry-qps</code> is greater than 0. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--registry-qps int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If > 0, limit registry pull QPS to this value. If <code>0</code>, unlimited. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--reserved-cpus string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A comma-separated list of CPUs or CPU ranges that are reserved for system and kubernetes usage. This specific list will supersede cpu counts in <code>--system-reserved</code> and <code>--kube-reserved</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--reserved-memory string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A comma-separated list of memory reservations for NUMA nodes. (e.g. <code>--reserved-memory 0:memory=1Gi,hugepages-1M=2Gi --reserved-memory 1:memory=2Gi</code>). The total sum for each memory type should be equal to the sum of <code>--kube-reserved</code>, <code>--system-reserved</code> and <code>--eviction-threshold</code>. See https://kubernetes.io/docs/tasks/administer-cluster/memory-manager/#reserved-memory-flag for more details. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--resolv-conf string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/etc/resolv.conf</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Resolver configuration file used as the basis for the container DNS resolution configuration. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--root-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/var/lib/kubelet</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Directory path for managing kubelet files (volume mounts, etc).</td>
</tr>
<tr>
<td colspan=2>--rotate-certificates</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Beta feature> Auto rotate the kubelet client certificates by requesting new certificates from the <code>kube-apiserver</code> when the certificate expiration approaches. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--rotate-server-certificates</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Auto-request and rotate the kubelet serving certificates by requesting new certificates from the <code>kube-apiserver</code> when the certificate expiration approaches. Requires the <code>RotateKubeletServerCertificate</code> feature gate to be enabled, and approval of the submitted <code>CertificateSigningRequest</code> objects. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--runonce</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If <code>true</code>, exit after spawning pods from local manifests or remote urls. Exclusive with <code>--enable-server</code> (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--runtime-cgroups string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Optional absolute name of cgroups to create and run the runtime in.</td>
</tr>
<tr>
<td colspan=2>--runtime-request-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>2m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Timeout of all runtime requests except long running request - <code>pull</code>, <code>logs</code>, <code>exec</code> and <code>attach</code>. When timeout exceeded, kubelet will cancel the request, throw out an error and retry later. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--seccomp-default RuntimeDefault</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> Enable the use of <code>RuntimeDefault</code> as the default seccomp profile for all workloads. The <code>SeccompDefault</code> feature gate must be enabled to allow this flag, which is disabled by default.</td>
</tr>
<tr>
<td colspan=2>--seccomp-profile-root string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/var/lib/kubelet/seccomp</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>&lt;Warning: Alpha feature> Directory path for seccomp profiles. (DEPRECATED: will be removed in 1.23, in favor of using the <code><root-dir>/seccomp</code> directory)
</td>
</tr>
<tr>
<td colspan=2>--serialize-image-pulls&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>true</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Pull images one at a time. We recommend *not* changing the default value on nodes that run docker daemon with version &lt; 1.9 or an <code>aufs</code> storage backend. Issue #10959 has more details. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--skip-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If <code>true</code>, avoid header prefixes in the log messages</td>
</tr>
<tr>
<td colspan=2>--skip-log-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If <code>true</code>, avoid headers when opening log files</td>
</tr>
<tr>
<td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>logs at or above this threshold go to stderr.</td>
</tr>
<tr>
<td colspan=2>--streaming-connection-idle-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>4h0m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum time a streaming connection can be idle before the connection is automatically closed. <code>0</code> indicates no timeout. Example: <code>5m</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--sync-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>1m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Max period between synchronizing running containers and config. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--system-cgroups string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Optional absolute name of cgroups in which to place all non-kernel processes that are not already inside a cgroup under <code>'/'</code>. Empty for no container. Rolling back the flag requires a reboot. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--system-reserved mapStringString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: &lt;none></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>A set of <code>&lt;resource name>=&lt;resource quantity></code> (e.g. <code>cpu=200m,memory=500Mi,ephemeral-storage=1Gi,pid='100'</code>) pairs that describe resources reserved for non-kubernetes components. Currently only <code>cpu</code> and <code>memory</code> are supported. See http://kubernetes.io/docs/user-guide/compute-resources for more detail. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--system-reserved-cgroup string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>''</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Absolute name of the top level cgroup that is used to manage non-kubernetes components for which compute resources were reserved via <code>--system-reserved</code> flag. Ex. <code>/system-reserved</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--tls-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>File containing x509 Certificate used for serving HTTPS (with intermediate certs, if any, concatenated after server cert). If <code>--tls-cert-file</code> and <code>--tls-private-key-file</code> are not provided, a self-signed certificate and key are generated for the public address and saved to the directory passed to <code>--cert-dir</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--tls-cipher-suites strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>
Preferred values:
TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>
Insecure values:
TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.
(DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)
</tr>
<tr>
<td colspan=2>--tls-min-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Minimum TLS version supported. Possible values: <code>VersionTLS10</code>, <code>VersionTLS11</code>, <code>VersionTLS12</code>, <code>VersionTLS13</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--tls-private-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>File containing x509 private key matching <code>--tls-cert-file</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--topology-manager-policy string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>'none'</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Topology Manager policy to use. Possible values: <code>'none'</code>, <code>'best-effort'</code>, <code>'restricted'</code>, <code>'single-numa-node'</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--topology-manager-scope string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>container</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Scope to which topology hints applied. Topology Manager collects hints from Hint Providers and applies them to defined scope to ensure the pod admission. Possible values: <code>'container'</code>, <code>'pod'</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's --config flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>-v, --v Level</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Number for the log level verbosity</td>
</tr>
<tr>
<td colspan=2>--version version[=true]</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Print version information and quit</td>
</tr>
<tr>
<td colspan=2>--vmodule &lt;A list of 'pattern=N' string></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Comma-separated list of <code>pattern=N</code> settings for file-filtered logging</td>
</tr>
<tr>
<td colspan=2>--volume-plugin-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>/usr/libexec/kubernetes/kubelet-plugins/volume/exec/</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The full path of the directory in which to search for additional third party volume plugins. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
<tr>
<td colspan=2>--volume-stats-agg-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: <code>1m0s</code></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Specifies interval for kubelet to calculate and cache the volume disk usage for all pods and volumes. To disable volume calculations, set to <code>0</code>. (DEPRECATED: This parameter should be set via the config file specified by the Kubelet's <code>--config</code> flag. See https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file/ for more information.)</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ec8ff2888d36f533a57bc9704ccc84e0>9.3 - kube-apiserver</h1>
<h2 id=synopsis>Synopsis</h2>
<p>The Kubernetes API server validates and configures data
for the api objects which include pods, services, replicationcontrollers, and
others. The API Server services REST operations and provides the frontend to the
cluster's shared state through which all other components interact.</p>
<pre><code>kube-apiserver [flags]
</code></pre><h2 id=options>Options</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--add-dir-header</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td>
</tr>
<tr>
<td colspan=2>--admission-control-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File with admission control configuration.</p></td>
</tr>
<tr>
<td colspan=2>--advertise-address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to advertise the apiserver to members of the cluster. This address must be reachable by the rest of the cluster. If blank, the --bind-address will be used. If --bind-address is unspecified, the host's default interface will be used.</p></td>
</tr>
<tr>
<td colspan=2>--allow-metric-labels stringToString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: []</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The map from metric-label to value allow-list of this label. The key's format is &lt;MetricName>,&lt;LabelName>. The value's format is &lt;allowed_value>,&lt;allowed_value>...e.g. metric1,label1='v1,v2,v3', metric1,label2='v1,v2,v3' metric2,label1='v1,v2,v3'.</p></td>
</tr>
<tr>
<td colspan=2>--allow-privileged</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, allow privileged containers. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--alsologtostderr</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td>
</tr>
<tr>
<td colspan=2>--anonymous-auth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enables anonymous requests to the secure port of the API server. Requests that are not rejected by another authentication method are treated as anonymous requests. Anonymous requests have a username of system:anonymous, and a group name of system:unauthenticated.</p></td>
</tr>
<tr>
<td colspan=2>--api-audiences strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Identifiers of the API. The service account token authenticator will validate that tokens used against the API are bound to at least one of these audiences. If the --service-account-issuer flag is configured and this flag is not, this field defaults to a single element list containing the issuer URL.</p></td>
</tr>
<tr>
<td colspan=2>--apiserver-count int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of apiservers running in the cluster, must be a positive number. (In use when --endpoint-reconciler-type=master-count is enabled.)</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-batch-buffer-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10000</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The size of the buffer to store events before batching and writing. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-batch-max-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum size of a batch. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-batch-max-wait duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The amount of time to wait before force writing the batch that hadn't reached the max size. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-batch-throttle-burst int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of requests sent at the same moment if ThrottleQPS was not utilized before. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-batch-throttle-enable</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether batching throttling is enabled. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-batch-throttle-qps float</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum average number of batches per second. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-compress</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, the rotated log files will be compressed using gzip.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "json"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Format of saved audits. "legacy" indicates 1-line text format for each event. "json" indicates structured json format. Known formats are legacy,json.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-maxage int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of days to retain old audit log files based on the timestamp encoded in their filename.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-maxbackup int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of old audit log files to retain.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-maxsize int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum size in megabytes of the audit log file before it gets rotated.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-mode string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "blocking"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Strategy for sending audit events. Blocking indicates sending events should block server responses. Batch causes the backend to buffer and write events asynchronously. Known modes are batch,blocking,blocking-strict.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-path string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, all requests coming to the apiserver will be logged to this file. '-' means standard out.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-truncate-enabled</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether event and batch truncating is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-truncate-max-batch-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10485760</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the batch sent to the underlying backend. Actual serialized size can be several hundreds of bytes greater. If a batch exceeds this limit, it is split into several batches of smaller size.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-truncate-max-event-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 102400</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the audit event sent to the underlying backend. If the size of an event is greater than this number, first request and response are removed, and if this doesn't reduce the size enough, event is discarded.</p></td>
</tr>
<tr>
<td colspan=2>--audit-log-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "audit.k8s.io/v1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>API group and version used for serializing audit events written to log.</p></td>
</tr>
<tr>
<td colspan=2>--audit-policy-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file that defines the audit policy configuration.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-batch-buffer-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10000</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The size of the buffer to store events before batching and writing. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-batch-max-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 400</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum size of a batch. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-batch-max-wait duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The amount of time to wait before force writing the batch that hadn't reached the max size. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-batch-throttle-burst int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of requests sent at the same moment if ThrottleQPS was not utilized before. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-batch-throttle-enable&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether batching throttling is enabled. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-batch-throttle-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum average number of batches per second. Only used in batch mode.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a kubeconfig formatted file that defines the audit webhook configuration.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-initial-backoff duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The amount of time to wait before retrying the first failed request.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-mode string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "batch"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Strategy for sending audit events. Blocking indicates sending events should block server responses. Batch causes the backend to buffer and write events asynchronously. Known modes are batch,blocking,blocking-strict.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-truncate-enabled</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether event and batch truncating is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-truncate-max-batch-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10485760</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the batch sent to the underlying backend. Actual serialized size can be several hundreds of bytes greater. If a batch exceeds this limit, it is split into several batches of smaller size.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-truncate-max-event-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 102400</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum size of the audit event sent to the underlying backend. If the size of an event is greater than this number, first request and response are removed, and if this doesn't reduce the size enough, event is discarded.</p></td>
</tr>
<tr>
<td colspan=2>--audit-webhook-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "audit.k8s.io/v1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>API group and version used for serializing audit events written to webhook.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache responses from the webhook token authenticator.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File with webhook configuration for token authentication in kubeconfig format. The API server will query the remote service to determine authentication for bearer tokens.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "v1beta1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The API version of the authentication.k8s.io TokenReview to send to and expect from the webhook.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-mode strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "AlwaysAllow"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Ordered list of plug-ins to do authorization on secure port. Comma-delimited list of: AlwaysAllow,AlwaysDeny,ABAC,Webhook,RBAC,Node.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-policy-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File with authorization policy in json line by line format, used with --authorization-mode=ABAC, on the secure port.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'authorized' responses from the webhook authorizer.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'unauthorized' responses from the webhook authorizer.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File with webhook configuration in kubeconfig format, used with --authorization-mode=Webhook. The API server will query the remote service to determine access on the API server's secure port.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-version string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "v1beta1"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The API version of the authorization.k8s.io SubjectAccessReview to send to and expect from the webhook.</p></td>
</tr>
<tr>
<td colspan=2>--azure-container-registry-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td>
</tr>
<tr>
<td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank or an unspecified address (0.0.0.0 or ::), all interfaces will be used.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/var/run/kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored.</p></td>
</tr>
<tr>
<td colspan=2>--client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate.</p></td>
</tr>
<tr>
<td colspan=2>--cloud-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the cloud provider configuration file. Empty string for no configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--cloud-provider string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The provider for cloud services. Empty string for no provider.</p></td>
</tr>
<tr>
<td colspan=2>--cloud-provider-gce-l7lb-src-cidrs cidrs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 130.211.0.0/22,35.191.0.0/16</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>CIDRs opened in GCE firewall for L7 LB traffic proxy & health checks</p></td>
</tr>
<tr>
<td colspan=2>--contention-profiling</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable lock contention profiling, if profiling is enabled</p></td>
</tr>
<tr>
<td colspan=2>--cors-allowed-origins strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of allowed origins for CORS, comma separated. An allowed origin can be a regular expression to support subdomain matching. If this list is empty CORS will not be enabled.</p></td>
</tr>
<tr>
<td colspan=2>--default-not-ready-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Indicates the tolerationSeconds of the toleration for notReady:NoExecute that is added by default to every pod that does not already have such a toleration.</p></td>
</tr>
<tr>
<td colspan=2>--default-unreachable-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Indicates the tolerationSeconds of the toleration for unreachable:NoExecute that is added by default to every pod that does not already have such a toleration.</p></td>
</tr>
<tr>
<td colspan=2>--default-watch-cache-size int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 100</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Default watch cache size. If zero, watch cache will be disabled for resources that do not have a default watch size set.</p></td>
</tr>
<tr>
<td colspan=2>--delete-collection-workers int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Number of workers spawned for DeleteCollection call. These are used to speed up namespace cleanup.</p></td>
</tr>
<tr>
<td colspan=2>--disable-admission-plugins strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>admission plugins that should be disabled although they are in the default enabled plugins list (NamespaceLifecycle, LimitRanger, ServiceAccount, TaintNodesByCondition, PodSecurity, Priority, DefaultTolerationSeconds, DefaultStorageClass, StorageObjectInUseProtection, PersistentVolumeClaimResize, RuntimeClass, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, ResourceQuota). Comma-delimited list of admission plugins: AlwaysAdmit, AlwaysDeny, AlwaysPullImages, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, DefaultStorageClass, DefaultTolerationSeconds, DenyServiceExternalIPs, EventRateLimit, ExtendedResourceToleration, ImagePolicyWebhook, LimitPodHardAntiAffinityTopology, LimitRanger, MutatingAdmissionWebhook, NamespaceAutoProvision, NamespaceExists, NamespaceLifecycle, NodeRestriction, OwnerReferencesPermissionEnforcement, PersistentVolumeClaimResize, PersistentVolumeLabel, PodNodeSelector, PodSecurity, PodSecurityPolicy, PodTolerationRestriction, Priority, ResourceQuota, RuntimeClass, SecurityContextDeny, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook. The order of plugins in this flag does not matter.</p></td>
</tr>
<tr>
<td colspan=2>--disabled-metrics strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>This flag provides an escape hatch for misbehaving metrics. You must provide the fully qualified metric name in order to disable it. Disclaimer: disabling metrics is higher in precedence than showing hidden metrics.</p></td>
</tr>
<tr>
<td colspan=2>--egress-selector-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File with apiserver egress selector configuration.</p></td>
</tr>
<tr>
<td colspan=2>--enable-admission-plugins strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>admission plugins that should be enabled in addition to default enabled ones (NamespaceLifecycle, LimitRanger, ServiceAccount, TaintNodesByCondition, PodSecurity, Priority, DefaultTolerationSeconds, DefaultStorageClass, StorageObjectInUseProtection, PersistentVolumeClaimResize, RuntimeClass, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, ResourceQuota). Comma-delimited list of admission plugins: AlwaysAdmit, AlwaysDeny, AlwaysPullImages, CertificateApproval, CertificateSigning, CertificateSubjectRestriction, DefaultIngressClass, DefaultStorageClass, DefaultTolerationSeconds, DenyServiceExternalIPs, EventRateLimit, ExtendedResourceToleration, ImagePolicyWebhook, LimitPodHardAntiAffinityTopology, LimitRanger, MutatingAdmissionWebhook, NamespaceAutoProvision, NamespaceExists, NamespaceLifecycle, NodeRestriction, OwnerReferencesPermissionEnforcement, PersistentVolumeClaimResize, PersistentVolumeLabel, PodNodeSelector, PodSecurity, PodSecurityPolicy, PodTolerationRestriction, Priority, ResourceQuota, RuntimeClass, SecurityContextDeny, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook. The order of plugins in this flag does not matter.</p></td>
</tr>
<tr>
<td colspan=2>--enable-aggregator-routing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Turns on aggregator routing requests to endpoints IP rather than cluster IP.</p></td>
</tr>
<tr>
<td colspan=2>--enable-bootstrap-token-auth</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable to allow secrets of type 'bootstrap.kubernetes.io/token' in the 'kube-system' namespace to be used for TLS bootstrapping authentication.</p></td>
</tr>
<tr>
<td colspan=2>--enable-garbage-collector&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enables the generic garbage collector. MUST be synced with the corresponding flag of the kube-controller-manager.</p></td>
</tr>
<tr>
<td colspan=2>--enable-priority-and-fairness&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true and the APIPriorityAndFairness feature gate is enabled, replace the max-in-flight handler with an enhanced one that queues and dispatches with priority and fairness</p></td>
</tr>
<tr>
<td colspan=2>--encryption-provider-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The file containing configuration for encryption providers to be used for storing secrets in etcd</p></td>
</tr>
<tr>
<td colspan=2>--endpoint-reconciler-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "lease"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Use an endpoint reconciler (master-count, lease, none)</p></td>
</tr>
<tr>
<td colspan=2>--etcd-cafile string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>SSL Certificate Authority file used to secure etcd communication.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-certfile string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>SSL certification file used to secure etcd communication.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-compaction-interval duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The interval of compaction requests. If 0, the compaction request from apiserver is disabled.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-count-metric-poll-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Frequency of polling etcd for number of resources per type. 0 disables the metric collection.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-db-metric-poll-interval duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The interval of requests to poll etcd and update metric. 0 disables the metric collection</p></td>
</tr>
<tr>
<td colspan=2>--etcd-healthcheck-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout to use when checking etcd health.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-keyfile string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>SSL key file used to secure etcd communication.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-prefix string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/registry"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The prefix to prepend to all resource paths in etcd.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-servers strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of etcd servers to connect with (scheme://ip:port), comma separated.</p></td>
</tr>
<tr>
<td colspan=2>--etcd-servers-overrides strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Per-resource etcd servers overrides, comma separated. The individual override format: group/resource#servers, where servers are URLs, semicolon separated. Note that this applies only to resources compiled into this server binary.</p></td>
</tr>
<tr>
<td colspan=2>--event-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Amount of time to retain events.</p></td>
</tr>
<tr>
<td colspan=2>--experimental-logging-sanitization</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).<br>Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.</p></td>
</tr>
<tr>
<td colspan=2>--external-hostname string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The hostname to use when generating externalized URLs for this master (e.g. Swagger API Docs or OpenID Discovery).</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>APIServerTracing=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>CPUManager=true|false (BETA - default=true)<br>CPUManagerPolicyOptions=true|false (ALPHA - default=false)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureFile=true|false (BETA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=true)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIStorageCapacity=true|false (BETA - default=true)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>CSIVolumeHealth=true|false (ALPHA - default=false)<br>CSRDuration=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>ControllerManagerLeaderMigration=true|false (BETA - default=true)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DaemonSetUpdateSurge=true|false (BETA - default=true)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DelegateFSGroupToCSIDriver=true|false (ALPHA - default=false)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DisableCloudProviders=true|false (ALPHA - default=false)<br>DownwardAPIHugePages=true|false (BETA - default=false)<br>EfficientWatchResumption=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (BETA - default=true)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExpandedDNSConfig=true|false (ALPHA - default=false)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (BETA - default=true)<br>GracefulNodeShutdown=true|false (BETA - default=true)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>IPv6DualStack=true|false (BETA - default=true)<br>InTreePluginAWSUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureDiskUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureFileUnregister=true|false (ALPHA - default=false)<br>InTreePluginGCEUnregister=true|false (ALPHA - default=false)<br>InTreePluginOpenStackUnregister=true|false (ALPHA - default=false)<br>InTreePluginvSphereUnregister=true|false (ALPHA - default=false)<br>IndexedJob=true|false (BETA - default=true)<br>IngressClassNamespacedParams=true|false (BETA - default=true)<br>JobTrackingWithFinalizers=true|false (ALPHA - default=false)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletInUserNamespace=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>KubeletPodResourcesGetAllocatable=true|false (ALPHA - default=false)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>LogarithmicScaleDown=true|false (BETA - default=true)<br>MemoryManager=true|false (BETA - default=true)<br>MemoryQoS=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NetworkPolicyEndPort=true|false (BETA - default=true)<br>NodeSwap=true|false (ALPHA - default=false)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodAffinityNamespaceSelector=true|false (BETA - default=true)<br>PodDeletionCost=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>PodSecurity=true|false (ALPHA - default=false)<br>PreferNominatedNode=true|false (BETA - default=true)<br>ProbeTerminationGracePeriod=true|false (BETA - default=false)<br>ProcMountType=true|false (ALPHA - default=false)<br>ProxyTerminatingEndpoints=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>ReadWriteOncePod=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>SeccompDefault=true|false (ALPHA - default=false)<br>ServiceInternalTrafficPolicy=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (BETA - default=true)<br>ServiceLoadBalancerClass=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (BETA - default=true)<br>StatefulSetMinReadySeconds=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>SuspendJob=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (BETA - default=true)<br>TopologyAwareHints=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>VolumeCapacityPriority=true|false (ALPHA - default=false)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsHostProcessContainers=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>--goaway-chance float</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>To prevent HTTP/2 clients from getting stuck on a single apiserver, randomly close a connection (GOAWAY). The client's other in-flight requests won't be affected, and the client will reconnect, likely landing on a different apiserver after going through the load balancer again. This argument sets the fraction of requests that will be sent a GOAWAY. Clusters with single apiservers, or which don't use a load balancer, should NOT enable this. Min is 0 (off), Max is .02 (1/50 requests); .001 (1/1000) is a recommended starting point.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-apiserver</p></td>
</tr>
<tr>
<td colspan=2>--http2-max-streams-per-connection int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The limit that the server gives to clients for the maximum number of streams in an HTTP/2 connection. Zero means to use golang's default.</p></td>
</tr>
<tr>
<td colspan=2>--identity-lease-duration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 3600</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration of kube-apiserver lease in seconds, must be a positive number. (In use when the APIServerIdentity feature gate is enabled.)</p></td>
</tr>
<tr>
<td colspan=2>--identity-lease-renew-interval-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The interval of kube-apiserver renewing its lease in seconds, must be a positive number. (In use when the APIServerIdentity feature gate is enabled.)</p></td>
</tr>
<tr>
<td colspan=2>--kubelet-certificate-authority string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a cert file for the certificate authority.</p></td>
</tr>
<tr>
<td colspan=2>--kubelet-client-certificate string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a client cert file for TLS.</p></td>
</tr>
<tr>
<td colspan=2>--kubelet-client-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to a client key file for TLS.</p></td>
</tr>
<tr>
<td colspan=2>--kubelet-preferred-address-types strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "Hostname,InternalDNS,InternalIP,ExternalDNS,ExternalIP"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of the preferred NodeAddressTypes to use for kubelet connections.</p></td>
</tr>
<tr>
<td colspan=2>--kubelet-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Timeout for kubelet operations.</p></td>
</tr>
<tr>
<td colspan=2>--kubernetes-service-node-port int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-zero, the Kubernetes master service (which apiserver creates/maintains) will be of type NodePort, using this as the value of the port. If zero, the Kubernetes master service will be of type ClusterIP.</p></td>
</tr>
<tr>
<td colspan=2>--lease-reuse-duration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 60</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The time in seconds that each lease is reused. A lower value could avoid large number of objects reusing the same lease. Notice that a too small value may cause performance problems at storage layer.</p></td>
</tr>
<tr>
<td colspan=2>--livez-grace-period duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>This option represents the maximum amount of time it should take for apiserver to complete its startup sequence and become live. From apiserver's start time to when this amount of time has elapsed, /livez will assume that unfinished post-start hooks will complete successfully and therefore return true.</p></td>
</tr>
<tr>
<td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td>
</tr>
<tr>
<td colspan=2>--log-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td>
</tr>
<tr>
<td colspan=2>--log-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td>
</tr>
<tr>
<td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td>
</tr>
<tr>
<td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td>
</tr>
<tr>
<td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Sets the log format. Permitted formats: "text".<br>Non-default formats don't honor these flags: --add-dir-header, --alsologtostderr, --log-backtrace-at, --log-dir, --log-file, --log-file-max-size, --logtostderr, --one-output, --skip-headers, --skip-log-headers, --stderrthreshold, --vmodule, --log-flush-frequency.<br>Non-default choices are currently alpha and subject to change without warning.</p></td>
</tr>
<tr>
<td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td>
</tr>
<tr>
<td colspan=2>--master-service-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "default"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the namespace from which the Kubernetes master services should be injected into pods.</p></td>
</tr>
<tr>
<td colspan=2>--max-connection-bytes-per-sec int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-zero, throttle each user connection to this number of bytes/sec. Currently only applies to long-running requests.</p></td>
</tr>
<tr>
<td colspan=2>--max-mutating-requests-inflight int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 200</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>This and --max-requests-inflight are summed to determine the server's total concurrency limit (which must be positive) if --enable-priority-and-fairness is true. Otherwise, this flag limits the maximum number of mutating requests in flight, or a zero value disables the limit completely.</p></td>
</tr>
<tr>
<td colspan=2>--max-requests-inflight int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 400</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>This and --max-mutating-requests-inflight are summed to determine the server's total concurrency limit (which must be positive) if --enable-priority-and-fairness is true. Otherwise, this flag limits the maximum number of non-mutating requests in flight, or a zero value disables the limit completely.</p></td>
</tr>
<tr>
<td colspan=2>--min-request-timeout int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>An optional field indicating the minimum number of seconds a handler must keep a request open before timing it out. Currently only honored by the watch request handler, which picks a randomized value above this number as the connection timeout, to spread out load.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, the OpenID server's certificate will be verified by one of the authorities in the oidc-ca-file, otherwise the host's root CA set will be used.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-client-id string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The client ID for the OpenID Connect client, must be set if oidc-issuer-url is set.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-groups-claim string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If provided, the name of a custom OpenID Connect claim for specifying user groups. The claim value is expected to be a string or array of strings. This flag is experimental, please see the authentication documentation for further details.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-groups-prefix string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If provided, all groups will be prefixed with this value to prevent conflicts with other authentication strategies.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-issuer-url string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The URL of the OpenID issuer, only HTTPS scheme will be accepted. If set, it will be used to verify the OIDC JSON Web Token (JWT).</p></td>
</tr>
<tr>
<td colspan=2>--oidc-required-claim &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A key=value pair that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value. Repeat this flag to specify multiple claims.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-signing-algs strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "RS256"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of allowed JOSE asymmetric signing algorithms. JWTs with a 'alg' header value not in this list will be rejected. Values are defined by RFC 7518 https://tools.ietf.org/html/rfc7518#section-3.1.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-username-claim string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "sub"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The OpenID claim to use as the user name. Note that claims other than the default ('sub') is not guaranteed to be unique and immutable. This flag is experimental, please see the authentication documentation for further details.</p></td>
</tr>
<tr>
<td colspan=2>--oidc-username-prefix string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If provided, all usernames will be prefixed with this value. If not provided, username claims other than 'email' are prefixed by the issuer URL to avoid clashes. To skip any prefixing, provide the value '-'.</p></td>
</tr>
<tr>
<td colspan=2>--one-output</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level)</p></td>
</tr>
<tr>
<td colspan=2>--permit-address-sharing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEADDR will be used when binding the port. This allows binding to wildcard IPs like 0.0.0.0 and specific IPs in parallel, and it avoids waiting for the kernel to release sockets in TIME_WAIT state. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--permit-port-sharing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEPORT will be used when binding the port, which allows more than one instance to bind on the same address and port. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--profiling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable profiling via web interface host:port/debug/pprof/</p></td>
</tr>
<tr>
<td colspan=2>--proxy-client-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests to a user api-server and calling out to webhook admission plugins. It is expected that this cert includes a signature from the CA in the --requestheader-client-ca-file flag. That CA is published in the 'extension-apiserver-authentication' configmap in the kube-system namespace. Components receiving calls from kube-aggregator should use that CA to perform their half of the mutual TLS verification.</p></td>
</tr>
<tr>
<td colspan=2>--proxy-client-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Private key for the client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests to a user api-server and calling out to webhook admission plugins.</p></td>
</tr>
<tr>
<td colspan=2>--request-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>An optional field indicating the duration a handler must keep a request open before timing it out. This is the default request timeout for requests but may be overridden by flags such as --min-request-timeout for specific types of requests.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-allowed-names strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-extra-headers-prefix strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request header prefixes to inspect. X-Remote-Extra- is suggested.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-group-headers strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for groups. X-Remote-Group is suggested.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-username-headers strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for usernames. X-Remote-User is common.</p></td>
</tr>
<tr>
<td colspan=2>--runtime-config &lt;comma-separated 'key=value' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that enable or disable built-in APIs. Supported options are:<br>v1=true|false for the core API group<br>&lt;group>/&lt;version>=true|false for a specific API group and version (e.g. apps/v1=true)<br>api/all=true|false controls all API versions<br>api/ga=true|false controls all API versions of the form v[0-9]+<br>api/beta=true|false controls all API versions of the form v[0-9]+beta[0-9]+<br>api/alpha=true|false controls all API versions of the form v[0-9]+alpha[0-9]+<br>api/legacy is deprecated, and will be removed in a future version</p></td>
</tr>
<tr>
<td colspan=2>--secure-port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 6443</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The port on which to serve HTTPS with authentication and authorization. It cannot be switched off with 0.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-extend-token-expiration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Turns on projected service account expiration extension during token generation, which helps safe transition from legacy token to bound service account token feature. If this flag is enabled, admission injected tokens would be extended up to 1 year to prevent unexpected failure during transition, ignoring value of service-account-max-token-expiration.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-issuer strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Identifier of the service account token issuer. The issuer will assert this identifier in "iss" claim of issued tokens. This value is a string or URI. If this option is not a valid URI per the OpenID Discovery 1.0 spec, the ServiceAccountIssuerDiscovery feature will remain disabled, even if the feature gate is set to true. It is highly recommended that this value comply with the OpenID spec: https://openid.net/specs/openid-connect-discovery-1_0.html. In practice, this means that service-account-issuer must be an https URL. It is also highly recommended that this URL be capable of serving OpenID discovery documents at {service-account-issuer}/.well-known/openid-configuration. When this flag is specified multiple times, the first is used to generate tokens and all are used to determine which issuers are accepted.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-jwks-uri string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Overrides the URI for the JSON Web Key Set in the discovery doc served at /.well-known/openid-configuration. This flag is useful if the discovery docand key set are served to relying parties from a URL other than the API server's external (as auto-detected or overridden with external-hostname). Only valid if the ServiceAccountIssuerDiscovery feature gate is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-key-file strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing PEM-encoded x509 RSA or ECDSA private or public keys, used to verify ServiceAccount tokens. The specified file can contain multiple keys, and the flag can be specified multiple times with different files. If unspecified, --tls-private-key-file is used. Must be specified when --service-account-signing-key is provided</p></td>
</tr>
<tr>
<td colspan=2>--service-account-lookup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, validate ServiceAccount tokens exist in etcd as part of authentication.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-max-token-expiration duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum validity duration of a token created by the service account token issuer. If an otherwise valid TokenRequest with a validity duration larger than this value is requested, a token will be issued with a validity duration of this value.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-signing-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file that contains the current private key of the service account token issuer. The issuer will sign issued ID tokens with this private key.</p></td>
</tr>
<tr>
<td colspan=2>--service-cluster-ip-range string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A CIDR notation IP range from which to assign service cluster IPs. This must not overlap with any IP ranges assigned to nodes or pods. Max of two dual-stack CIDRs is allowed.</p></td>
</tr>
<tr>
<td colspan=2>--service-node-port-range &lt;a string in the form 'N1-N2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30000-32767</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A port range to reserve for services with NodePort visibility. Example: '30000-32767'. Inclusive at both ends of the range.</p></td>
</tr>
<tr>
<td colspan=2>--show-hidden-metrics-for-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is &lt;major>.&lt;minor>, e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td>
</tr>
<tr>
<td colspan=2>--shutdown-delay-duration duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Time to delay the termination. During that time the server keeps serving requests normally. The endpoints /healthz and /livez will return success, but /readyz immediately returns failure. Graceful termination starts after this delay has elapsed. This can be used to allow load balancer to stop sending traffic to this server.</p></td>
</tr>
<tr>
<td colspan=2>--skip-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td>
</tr>
<tr>
<td colspan=2>--skip-log-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td>
</tr>
<tr>
<td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td>
</tr>
<tr>
<td colspan=2>--storage-backend string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The storage backend for persistence. Options: 'etcd3' (default).</p></td>
</tr>
<tr>
<td colspan=2>--storage-media-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The media type to use to store objects in storage. Some resources or storage backends may only support a specific media type and will ignore this setting.</p></td>
</tr>
<tr>
<td colspan=2>--strict-transport-security-directives strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of directives for HSTS, comma separated. If this list is empty, then HSTS directives will not be added. Example: 'max-age=31536000,includeSubDomains,preload'</p></td>
</tr>
<tr>
<td colspan=2>--tls-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir.</p></td>
</tr>
<tr>
<td colspan=2>--tls-cipher-suites strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values: TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.</p></td>
</tr>
<tr>
<td colspan=2>--tls-min-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13</p></td>
</tr>
<tr>
<td colspan=2>--tls-private-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 private key matching --tls-cert-file.</p></td>
</tr>
<tr>
<td colspan=2>--tls-sni-cert-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. The domain patterns also allow IP addresses, but IPs should only be used if the apiserver has visibility to the IP address requested by a client. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com".</p></td>
</tr>
<tr>
<td colspan=2>--token-auth-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, the file that will be used to secure the secure port of the API server via token authentication.</p></td>
</tr>
<tr>
<td colspan=2>--tracing-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File with apiserver tracing configuration.</p></td>
</tr>
<tr>
<td colspan=2>-v, --v int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td>
</tr>
<tr>
<td colspan=2>--version version[=true]</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td>
</tr>
<tr>
<td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td>
</tr>
<tr>
<td colspan=2>--watch-cache&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable watch caching in the apiserver</p></td>
</tr>
<tr>
<td colspan=2>--watch-cache-sizes strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Watch cache size settings for some resources (pods, nodes, etc.), comma separated. The individual setting format: resource[.group]#size, where resource is lowercase plural (no version), group is omitted for resources of apiVersion v1 (the legacy core API) and included for others, and size is a number. It takes effect when watch-cache is enabled. Some resources (replicationcontrollers, endpoints, nodes, pods, services, apiservices.apiregistration.k8s.io) have system defaults set by heuristics, others default to default-watch-cache-size</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8a37271ec8fd36a3a1ce07c4c58533d9>9.4 - kube-controller-manager</h1>
<h2 id=synopsis>Synopsis</h2>
<p>The Kubernetes controller manager is a daemon that embeds
the core control loops shipped with Kubernetes. In applications of robotics and
automation, a control loop is a non-terminating loop that regulates the state of
the system. In Kubernetes, a controller is a control loop that watches the shared
state of the cluster through the apiserver and makes changes attempting to move the
current state towards the desired state. Examples of controllers that ship with
Kubernetes today are the replication controller, endpoints controller, namespace
controller, and serviceaccounts controller.</p>
<pre><code>kube-controller-manager [flags]
</code></pre><h2 id=options>Options</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--add-dir-header</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td>
</tr>
<tr>
<td colspan=2>--allocate-node-cidrs</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Should CIDRs for Pods be allocated and set on the cloud provider.</p></td>
</tr>
<tr>
<td colspan=2>--allow-metric-labels stringToString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: []</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The map from metric-label to value allow-list of this label. The key's format is &lt;MetricName>,&lt;LabelName>. The value's format is &lt;allowed_value>,&lt;allowed_value>...e.g. metric1,label1='v1,v2,v3', metric1,label2='v1,v2,v3' metric2,label1='v1,v2,v3'.</p></td>
</tr>
<tr>
<td colspan=2>--alsologtostderr</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td>
</tr>
<tr>
<td colspan=2>--attach-detach-reconcile-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The reconciler sync wait time between volume attach detach. This duration must be larger than one second, and increasing this value from the default may allow for volumes to be mismatched with pods.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create tokenreviews.authentication.k8s.io. This is optional. If empty, all token requests are considered to be anonymous and no client CA is looked up in the cluster.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-skip-lookup</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If false, the authentication-kubeconfig will be used to lookup missing authentication configuration from the cluster.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache responses from the webhook token authenticator.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-tolerate-lookup-failure</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, failures to look up missing authentication configuration from the cluster are not considered fatal. Note that this can result in authentication that treats all requests as anonymous.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-always-allow-paths strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/healthz,/readyz,/livez"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of HTTP paths to skip during authorization, i.e. these are authorized without contacting the 'core' kubernetes server.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create subjectaccessreviews.authorization.k8s.io. This is optional. If empty, all requests not skipped by authorization are forbidden.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'authorized' responses from the webhook authorizer.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'unauthorized' responses from the webhook authorizer.</p></td>
</tr>
<tr>
<td colspan=2>--azure-container-registry-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td>
</tr>
<tr>
<td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank or an unspecified address (0.0.0.0 or ::), all interfaces will be used.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored.</p></td>
</tr>
<tr>
<td colspan=2>--cidr-allocator-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "RangeAllocator"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Type of CIDR allocator to use</p></td>
</tr>
<tr>
<td colspan=2>--client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate.</p></td>
</tr>
<tr>
<td colspan=2>--cloud-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the cloud provider configuration file. Empty string for no configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--cloud-provider string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The provider for cloud services. Empty string for no provider.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>CIDR Range for Pods in cluster. Requires --allocate-node-cidrs to be true</p></td>
</tr>
<tr>
<td colspan=2>--cluster-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kubernetes"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The instance prefix for the cluster.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue cluster-scoped certificates. If specified, no more specific --cluster-signing-* flag may be specified.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 8760h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The max length of duration signed certificates will be given. Individual CSRs may request shorter certs by setting spec.expirationSeconds.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign cluster-scoped certificates. If specified, no more specific --cluster-signing-* flag may be specified.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-kube-apiserver-client-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/kube-apiserver-client signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-kube-apiserver-client-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/kube-apiserver-client signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-kubelet-client-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/kube-apiserver-client-kubelet signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-kubelet-client-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/kube-apiserver-client-kubelet signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-kubelet-serving-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/kubelet-serving signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-kubelet-serving-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/kubelet-serving signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-legacy-unknown-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded X509 CA certificate used to issue certificates for the kubernetes.io/legacy-unknown signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--cluster-signing-legacy-unknown-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded RSA or ECDSA private key used to sign certificates for the kubernetes.io/legacy-unknown signer. If specified, --cluster-signing-{cert,key}-file must not be set.</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-deployment-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of deployment objects that are allowed to sync concurrently. Larger number = more responsive deployments, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-endpoint-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of endpoint syncing operations that will be done concurrently. Larger number = faster endpoint updating, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-gc-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 20</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of garbage collector workers that are allowed to sync concurrently.</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-namespace-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of namespace objects that are allowed to sync concurrently. Larger number = more responsive namespace termination, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-rc-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of replication controllers that are allowed to sync concurrently. Larger number = more responsive replica management, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-replicaset-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of replica sets that are allowed to sync concurrently. Larger number = more responsive replica management, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-resource-quota-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of resource quotas that are allowed to sync concurrently. Larger number = more responsive quota management, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-service-endpoint-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of service endpoint syncing operations that will be done concurrently. Larger number = faster endpoint slice updating, but more CPU (and network) load. Defaults to 5.</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-service-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of services that are allowed to sync concurrently. Larger number = more responsive service management, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-serviceaccount-token-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of service account token objects that are allowed to sync concurrently. Larger number = more responsive token generation, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-statefulset-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of statefulset objects that are allowed to sync concurrently. Larger number = more responsive statefulsets, but more CPU (and network) load</p></td>
</tr>
<tr>
<td colspan=2>--concurrent-ttl-after-finished-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of TTL-after-finished controller workers that are allowed to sync concurrently.</p></td>
</tr>
<tr>
<td colspan=2>--configure-cloud-routes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Should CIDRs allocated by allocate-node-cidrs be configured on the cloud provider.</p></td>
</tr>
<tr>
<td colspan=2>--contention-profiling</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable lock contention profiling, if profiling is enabled</p></td>
</tr>
<tr>
<td colspan=2>--controller-start-interval duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Interval between starting controller managers.</p></td>
</tr>
<tr>
<td colspan=2>--controllers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "*"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of controllers to enable. '*' enables all on-by-default controllers, 'foo' enables the controller named 'foo', '-foo' disables the controller named 'foo'.<br>All controllers: attachdetach, bootstrapsigner, cloud-node-lifecycle, clusterrole-aggregation, cronjob, csrapproving, csrcleaner, csrsigning, daemonset, deployment, disruption, endpoint, endpointslice, endpointslicemirroring, ephemeral-volume, garbagecollector, horizontalpodautoscaling, job, namespace, nodeipam, nodelifecycle, persistentvolume-binder, persistentvolume-expander, podgc, pv-protection, pvc-protection, replicaset, replicationcontroller, resourcequota, root-ca-cert-publisher, route, service, serviceaccount, serviceaccount-token, statefulset, tokencleaner, ttl, ttl-after-finished<br>Disabled-by-default controllers: bootstrapsigner, tokencleaner</p></td>
</tr>
<tr>
<td colspan=2>--deployment-controller-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Period for syncing the deployments.</p></td>
</tr>
<tr>
<td colspan=2>--disable-attach-detach-reconcile-sync</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Disable volume attach detach reconciler sync. Disabling this may cause volumes to be mismatched with pods. Use wisely.</p></td>
</tr>
<tr>
<td colspan=2>--disabled-metrics strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>This flag provides an escape hatch for misbehaving metrics. You must provide the fully qualified metric name in order to disable it. Disclaimer: disabling metrics is higher in precedence than showing hidden metrics.</p></td>
</tr>
<tr>
<td colspan=2>--enable-dynamic-provisioning&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable dynamic provisioning for environments that support it.</p></td>
</tr>
<tr>
<td colspan=2>--enable-garbage-collector&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enables the generic garbage collector. MUST be synced with the corresponding flag of the kube-apiserver.</p></td>
</tr>
<tr>
<td colspan=2>--enable-hostpath-provisioner</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable HostPath PV provisioning when running without a cloud provider. This allows testing and development of provisioning features. HostPath provisioning is not supported in any way, won't work in a multi-node cluster, and should not be used for anything other than testing or development.</p></td>
</tr>
<tr>
<td colspan=2>--enable-leader-migration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Whether to enable controller leader migration.</p></td>
</tr>
<tr>
<td colspan=2>--enable-taint-manager&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>WARNING: Beta feature. If set to true enables NoExecute Taints and will evict all not-tolerating Pod running on Nodes tainted with this kind of Taints.</p></td>
</tr>
<tr>
<td colspan=2>--endpoint-updates-batch-period duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The length of endpoint updates batching period. Processing of pod changes will be delayed by this duration to join them with potential upcoming updates and reduce the overall number of endpoints updates. Larger number = higher endpoint programming latency, but lower number of endpoints revision generated</p></td>
</tr>
<tr>
<td colspan=2>--endpointslice-updates-batch-period duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The length of endpoint slice updates batching period. Processing of pod changes will be delayed by this duration to join them with potential upcoming updates and reduce the overall number of endpoints updates. Larger number = higher endpoint programming latency, but lower number of endpoints revision generated</p></td>
</tr>
<tr>
<td colspan=2>--experimental-logging-sanitization</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).<br>Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.</p></td>
</tr>
<tr>
<td colspan=2>--external-cloud-volume-plugin string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The plugin to use when cloud provider is set to external. Can be empty, should only be set when cloud-provider is external. Currently used to allow node and volume controllers to work for in tree cloud providers.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>APIServerTracing=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>CPUManager=true|false (BETA - default=true)<br>CPUManagerPolicyOptions=true|false (ALPHA - default=false)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureFile=true|false (BETA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=true)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIStorageCapacity=true|false (BETA - default=true)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>CSIVolumeHealth=true|false (ALPHA - default=false)<br>CSRDuration=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>ControllerManagerLeaderMigration=true|false (BETA - default=true)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DaemonSetUpdateSurge=true|false (BETA - default=true)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DelegateFSGroupToCSIDriver=true|false (ALPHA - default=false)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DisableCloudProviders=true|false (ALPHA - default=false)<br>DownwardAPIHugePages=true|false (BETA - default=false)<br>EfficientWatchResumption=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (BETA - default=true)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExpandedDNSConfig=true|false (ALPHA - default=false)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (BETA - default=true)<br>GracefulNodeShutdown=true|false (BETA - default=true)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>IPv6DualStack=true|false (BETA - default=true)<br>InTreePluginAWSUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureDiskUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureFileUnregister=true|false (ALPHA - default=false)<br>InTreePluginGCEUnregister=true|false (ALPHA - default=false)<br>InTreePluginOpenStackUnregister=true|false (ALPHA - default=false)<br>InTreePluginvSphereUnregister=true|false (ALPHA - default=false)<br>IndexedJob=true|false (BETA - default=true)<br>IngressClassNamespacedParams=true|false (BETA - default=true)<br>JobTrackingWithFinalizers=true|false (ALPHA - default=false)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletInUserNamespace=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>KubeletPodResourcesGetAllocatable=true|false (ALPHA - default=false)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>LogarithmicScaleDown=true|false (BETA - default=true)<br>MemoryManager=true|false (BETA - default=true)<br>MemoryQoS=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NetworkPolicyEndPort=true|false (BETA - default=true)<br>NodeSwap=true|false (ALPHA - default=false)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodAffinityNamespaceSelector=true|false (BETA - default=true)<br>PodDeletionCost=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>PodSecurity=true|false (ALPHA - default=false)<br>PreferNominatedNode=true|false (BETA - default=true)<br>ProbeTerminationGracePeriod=true|false (BETA - default=false)<br>ProcMountType=true|false (ALPHA - default=false)<br>ProxyTerminatingEndpoints=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>ReadWriteOncePod=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>SeccompDefault=true|false (ALPHA - default=false)<br>ServiceInternalTrafficPolicy=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (BETA - default=true)<br>ServiceLoadBalancerClass=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (BETA - default=true)<br>StatefulSetMinReadySeconds=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>SuspendJob=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (BETA - default=true)<br>TopologyAwareHints=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>VolumeCapacityPriority=true|false (ALPHA - default=false)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsHostProcessContainers=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>--flex-volume-plugin-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/usr/libexec/kubernetes/kubelet-plugins/volume/exec/"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Full path of the directory in which the flex volume plugin should search for additional third party volume plugins.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-controller-manager</p></td>
</tr>
<tr>
<td colspan=2>--horizontal-pod-autoscaler-cpu-initialization-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period after pod start when CPU samples might be skipped.</p></td>
</tr>
<tr>
<td colspan=2>--horizontal-pod-autoscaler-downscale-stabilization duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for which autoscaler will look backwards and not scale down below any recommendation it made during that period.</p></td>
</tr>
<tr>
<td colspan=2>--horizontal-pod-autoscaler-initial-readiness-delay duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period after pod start during which readiness changes will be treated as initial readiness.</p></td>
</tr>
<tr>
<td colspan=2>--horizontal-pod-autoscaler-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing the number of pods in horizontal pod autoscaler.</p></td>
</tr>
<tr>
<td colspan=2>--horizontal-pod-autoscaler-tolerance float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum change (from 1.0) in the desired-to-actual metrics ratio for the horizontal pod autoscaler to consider scaling.</p></td>
</tr>
<tr>
<td colspan=2>--http2-max-streams-per-connection int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The limit that the server gives to clients for the maximum number of streams in an HTTP/2 connection. Zero means to use golang's default.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Burst to use while talking with kubernetes apiserver.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Content type of requests sent to apiserver.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 20</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>QPS to use while talking with kubernetes apiserver.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeconfig file with authorization and master location information.</p></td>
</tr>
<tr>
<td colspan=2>--large-cluster-size-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 50</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Number of nodes from which NodeController treats the cluster as large for the eviction logic purposes. --secondary-node-eviction-rate is implicitly overridden to 0 for clusters this size or smaller.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Start a leader election client and gain leadership before executing the main loop. Enable this when running replicated components for high availability.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-lease-duration duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration that non-leader candidates will wait after observing a leadership renewal until attempting to acquire leadership of a led but unrenewed leader slot. This is effectively the maximum duration that a leader can be stopped before it is replaced by another candidate. This is only applicable if leader election is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-renew-deadline duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The interval between attempts by the acting master to renew a leadership slot before it stops leading. This must be less than or equal to the lease duration. This is only applicable if leader election is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-resource-lock string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "leases"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The type of resource object that is used for locking during leader election. Supported options are 'endpoints', 'configmaps', 'leases', 'endpointsleases' and 'configmapsleases'.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-resource-name string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-controller-manager"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The name of resource object that is used for locking during leader election.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-resource-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-system"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The namespace of resource object that is used for locking during leader election.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-retry-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration the clients should wait between attempting acquisition and renewal of a leadership. This is only applicable if leader election is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--leader-migration-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the config file for controller leader migration, or empty to use the value that reflects default configuration of the controller manager. The config file should be of type LeaderMigrationConfiguration, group controllermanager.config.k8s.io, version v1alpha1.</p></td>
</tr>
<tr>
<td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td>
</tr>
<tr>
<td colspan=2>--log-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td>
</tr>
<tr>
<td colspan=2>--log-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td>
</tr>
<tr>
<td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td>
</tr>
<tr>
<td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td>
</tr>
<tr>
<td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Sets the log format. Permitted formats: "text".<br>Non-default formats don't honor these flags: --add-dir-header, --alsologtostderr, --log-backtrace-at, --log-dir, --log-file, --log-file-max-size, --logtostderr, --one-output, --skip-headers, --skip-log-headers, --stderrthreshold, --vmodule, --log-flush-frequency.<br>Non-default choices are currently alpha and subject to change without warning.</p></td>
</tr>
<tr>
<td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td>
</tr>
<tr>
<td colspan=2>--master string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The address of the Kubernetes API server (overrides any value in kubeconfig).</p></td>
</tr>
<tr>
<td colspan=2>--max-endpoints-per-slice int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 100</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of endpoints that will be added to an EndpointSlice. More endpoints per slice will result in less endpoint slices, but larger resources. Defaults to 100.</p></td>
</tr>
<tr>
<td colspan=2>--min-resync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 12h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The resync period in reflectors will be random between MinResyncPeriod and 2*MinResyncPeriod.</p></td>
</tr>
<tr>
<td colspan=2>--mirroring-concurrent-service-endpoint-syncs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The number of service endpoint syncing operations that will be done concurrently by the EndpointSliceMirroring controller. Larger number = faster endpoint slice updating, but more CPU (and network) load. Defaults to 5.</p></td>
</tr>
<tr>
<td colspan=2>--mirroring-endpointslice-updates-batch-period duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The length of EndpointSlice updates batching period for EndpointSliceMirroring controller. Processing of EndpointSlice changes will be delayed by this duration to join them with potential upcoming updates and reduce the overall number of EndpointSlice updates. Larger number = higher endpoint programming latency, but lower number of endpoints revision generated</p></td>
</tr>
<tr>
<td colspan=2>--mirroring-max-endpoints-per-subset int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1000</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum number of endpoints that will be added to an EndpointSlice by the EndpointSliceMirroring controller. More endpoints per slice will result in less endpoint slices, but larger resources. Defaults to 100.</p></td>
</tr>
<tr>
<td colspan=2>--namespace-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing namespace life-cycle updates</p></td>
</tr>
<tr>
<td colspan=2>--node-cidr-mask-size int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Mask size for node cidr in cluster. Default is 24 for IPv4 and 64 for IPv6.</p></td>
</tr>
<tr>
<td colspan=2>--node-cidr-mask-size-ipv4 int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Mask size for IPv4 node cidr in dual-stack cluster. Default is 24.</p></td>
</tr>
<tr>
<td colspan=2>--node-cidr-mask-size-ipv6 int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Mask size for IPv6 node cidr in dual-stack cluster. Default is 64.</p></td>
</tr>
<tr>
<td colspan=2>--node-eviction-rate float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.1</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Number of nodes per second on which pods are deleted in case of node failure when a zone is healthy (see --unhealthy-zone-threshold for definition of healthy/unhealthy). Zone refers to entire cluster in non-multizone clusters.</p></td>
</tr>
<tr>
<td colspan=2>--node-monitor-grace-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 40s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Amount of time which we allow running Node to be unresponsive before marking it unhealthy. Must be N times more than kubelet's nodeStatusUpdateFrequency, where N means number of retries allowed for kubelet to post node status.</p></td>
</tr>
<tr>
<td colspan=2>--node-monitor-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing NodeStatus in NodeController.</p></td>
</tr>
<tr>
<td colspan=2>--node-startup-grace-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Amount of time which we allow starting Node to be unresponsive before marking it unhealthy.</p></td>
</tr>
<tr>
<td colspan=2>--one-output</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level)</p></td>
</tr>
<tr>
<td colspan=2>--permit-address-sharing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEADDR will be used when binding the port. This allows binding to wildcard IPs like 0.0.0.0 and specific IPs in parallel, and it avoids waiting for the kernel to release sockets in TIME_WAIT state. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--permit-port-sharing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEPORT will be used when binding the port, which allows more than one instance to bind on the same address and port. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--pod-eviction-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The grace period for deleting pods on failed nodes.</p></td>
</tr>
<tr>
<td colspan=2>--profiling&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable profiling via web interface host:port/debug/pprof/</p></td>
</tr>
<tr>
<td colspan=2>--pv-recycler-increment-timeout-nfs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>the increment of time added per Gi to ActiveDeadlineSeconds for an NFS scrubber pod</p></td>
</tr>
<tr>
<td colspan=2>--pv-recycler-minimum-timeout-hostpath int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 60</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum ActiveDeadlineSeconds to use for a HostPath Recycler pod. This is for development and testing only and will not work in a multi-node cluster.</p></td>
</tr>
<tr>
<td colspan=2>--pv-recycler-minimum-timeout-nfs int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum ActiveDeadlineSeconds to use for an NFS Recycler pod</p></td>
</tr>
<tr>
<td colspan=2>--pv-recycler-pod-template-filepath-hostpath string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The file path to a pod definition used as a template for HostPath persistent volume recycling. This is for development and testing only and will not work in a multi-node cluster.</p></td>
</tr>
<tr>
<td colspan=2>--pv-recycler-pod-template-filepath-nfs string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The file path to a pod definition used as a template for NFS persistent volume recycling</p></td>
</tr>
<tr>
<td colspan=2>--pv-recycler-timeout-increment-hostpath int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>the increment of time added per Gi to ActiveDeadlineSeconds for a HostPath scrubber pod. This is for development and testing only and will not work in a multi-node cluster.</p></td>
</tr>
<tr>
<td colspan=2>--pvclaimbinder-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing persistent volumes and persistent volume claims</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-allowed-names strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-extra-headers-prefix strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-extra-"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request header prefixes to inspect. X-Remote-Extra- is suggested.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-group-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-group"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for groups. X-Remote-Group is suggested.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-username-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-user"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for usernames. X-Remote-User is common.</p></td>
</tr>
<tr>
<td colspan=2>--resource-quota-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for syncing quota usage status in the system</p></td>
</tr>
<tr>
<td colspan=2>--root-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, this root certificate authority will be included in service account's token secret. This must be a valid PEM-encoded CA bundle.</p></td>
</tr>
<tr>
<td colspan=2>--route-reconciliation-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The period for reconciling routes created for Nodes by cloud provider.</p></td>
</tr>
<tr>
<td colspan=2>--secondary-node-eviction-rate float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.01</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Number of nodes per second on which pods are deleted in case of node failure when a zone is unhealthy (see --unhealthy-zone-threshold for definition of healthy/unhealthy). Zone refers to entire cluster in non-multizone clusters. This value is implicitly overridden to 0 if the cluster size is smaller than --large-cluster-size-threshold.</p></td>
</tr>
<tr>
<td colspan=2>--secure-port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10257</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The port on which to serve HTTPS with authentication and authorization. If 0, don't serve HTTPS at all.</p></td>
</tr>
<tr>
<td colspan=2>--service-account-private-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Filename containing a PEM-encoded private RSA or ECDSA key used to sign service account tokens.</p></td>
</tr>
<tr>
<td colspan=2>--service-cluster-ip-range string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>CIDR Range for Services in cluster. Requires --allocate-node-cidrs to be true</p></td>
</tr>
<tr>
<td colspan=2>--show-hidden-metrics-for-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is &lt;major>.&lt;minor>, e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td>
</tr>
<tr>
<td colspan=2>--skip-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td>
</tr>
<tr>
<td colspan=2>--skip-log-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td>
</tr>
<tr>
<td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td>
</tr>
<tr>
<td colspan=2>--terminated-pod-gc-threshold int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 12500</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Number of terminated pods that can exist before the terminated pod garbage collector starts deleting terminated pods. If &lt;= 0, the terminated pod garbage collector is disabled.</p></td>
</tr>
<tr>
<td colspan=2>--tls-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir.</p></td>
</tr>
<tr>
<td colspan=2>--tls-cipher-suites strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values: TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.</p></td>
</tr>
<tr>
<td colspan=2>--tls-min-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13</p></td>
</tr>
<tr>
<td colspan=2>--tls-private-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 private key matching --tls-cert-file.</p></td>
</tr>
<tr>
<td colspan=2>--tls-sni-cert-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. The domain patterns also allow IP addresses, but IPs should only be used if the apiserver has visibility to the IP address requested by a client. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com".</p></td>
</tr>
<tr>
<td colspan=2>--unhealthy-zone-threshold float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.55</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Fraction of Nodes in a zone which needs to be not Ready (minimum 3) for zone to be treated as unhealthy.</p></td>
</tr>
<tr>
<td colspan=2>--use-service-account-credentials</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, use individual service account credentials for each controller.</p></td>
</tr>
<tr>
<td colspan=2>-v, --v int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td>
</tr>
<tr>
<td colspan=2>--version version[=true]</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td>
</tr>
<tr>
<td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td>
</tr>
<tr>
<td colspan=2>--volume-host-allow-local-loopback&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If false, deny local loopback IPs in addition to any CIDR ranges in --volume-host-cidr-denylist</p></td>
</tr>
<tr>
<td colspan=2>--volume-host-cidr-denylist strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list of CIDR ranges to avoid from volume plugins.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a727de6cb5a090d5f115f88a8606c438>9.5 - kube-proxy</h1>
<h2 id=synopsis>Synopsis</h2>
<p>The Kubernetes network proxy runs on each node. This
reflects services as defined in the Kubernetes API on each node and can do simple
TCP, UDP, and SCTP stream forwarding or round robin TCP, UDP, and SCTP forwarding across a set of backends.
Service cluster IPs and ports are currently found through Docker-links-compatible
environment variables specifying ports opened by the service proxy. There is an optional
addon that provides cluster DNS for these cluster IPs. The user must create a service
with the apiserver API to configure the proxy.</p>
<pre><code>kube-proxy [flags]
</code></pre><h2 id=options>Options</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--add-dir-header</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td>
</tr>
<tr>
<td colspan=2>--alsologtostderr</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td>
</tr>
<tr>
<td colspan=2>--azure-container-registry-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td>
</tr>
<tr>
<td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address for the proxy server to serve on (set to '0.0.0.0' for all IPv4 interfaces and '::' for all IPv6 interfaces)</p></td>
</tr>
<tr>
<td colspan=2>--bind-address-hard-fail</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true kube-proxy will treat failure to bind to a port as fatal and exit</p></td>
</tr>
<tr>
<td colspan=2>--boot-id-file string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/proc/sys/kernel/random/boot_id"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of files to check for boot-id. Use the first one that exists.</p></td>
</tr>
<tr>
<td colspan=2>--cleanup</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true cleanup iptables and ipvs rules and exit.</p></td>
</tr>
<tr>
<td colspan=2>--cloud-provider-gce-l7lb-src-cidrs cidrs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 130.211.0.0/22,35.191.0.0/16</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>CIDRs opened in GCE firewall for L7 LB traffic proxy & health checks</p></td>
</tr>
<tr>
<td colspan=2>--cloud-provider-gce-lb-src-cidrs cidrs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 130.211.0.0/22,209.85.152.0/22,209.85.204.0/22,35.191.0.0/16</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>CIDRs opened in GCE firewall for L4 LB traffic proxy & health checks</p></td>
</tr>
<tr>
<td colspan=2>--cluster-cidr string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The CIDR range of pods in the cluster. When configured, traffic sent to a Service cluster IP from outside this range will be masqueraded and traffic sent from pods to an external LoadBalancer IP will be directed to the respective cluster IP instead</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the configuration file.</p></td>
</tr>
<tr>
<td colspan=2>--config-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 15m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>How often configuration from the apiserver is refreshed. Must be greater than 0.</p></td>
</tr>
<tr>
<td colspan=2>--conntrack-max-per-core int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 32768</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of NAT connections to track per CPU core (0 to leave the limit as-is and ignore conntrack-min).</p></td>
</tr>
<tr>
<td colspan=2>--conntrack-min int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 131072</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum number of conntrack entries to allocate, regardless of conntrack-max-per-core (set conntrack-max-per-core=0 to leave the limit as-is).</p></td>
</tr>
<tr>
<td colspan=2>--conntrack-tcp-timeout-close-wait duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>NAT timeout for TCP connections in the CLOSE_WAIT state</p></td>
</tr>
<tr>
<td colspan=2>--conntrack-tcp-timeout-established duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 24h0m0s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Idle timeout for established TCP connections (0 to leave as-is)</p></td>
</tr>
<tr>
<td colspan=2>--default-not-ready-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Indicates the tolerationSeconds of the toleration for notReady:NoExecute that is added by default to every pod that does not already have such a toleration.</p></td>
</tr>
<tr>
<td colspan=2>--default-unreachable-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Indicates the tolerationSeconds of the toleration for unreachable:NoExecute that is added by default to every pod that does not already have such a toleration.</p></td>
</tr>
<tr>
<td colspan=2>--detect-local-mode LocalMode</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Mode to use to detect local traffic</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>APIServerTracing=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>CPUManager=true|false (BETA - default=true)<br>CPUManagerPolicyOptions=true|false (ALPHA - default=false)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureFile=true|false (BETA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=true)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIStorageCapacity=true|false (BETA - default=true)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>CSIVolumeHealth=true|false (ALPHA - default=false)<br>CSRDuration=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>ControllerManagerLeaderMigration=true|false (BETA - default=true)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DaemonSetUpdateSurge=true|false (BETA - default=true)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DelegateFSGroupToCSIDriver=true|false (ALPHA - default=false)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DisableCloudProviders=true|false (ALPHA - default=false)<br>DownwardAPIHugePages=true|false (BETA - default=false)<br>EfficientWatchResumption=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (BETA - default=true)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExpandedDNSConfig=true|false (ALPHA - default=false)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (BETA - default=true)<br>GracefulNodeShutdown=true|false (BETA - default=true)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>IPv6DualStack=true|false (BETA - default=true)<br>InTreePluginAWSUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureDiskUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureFileUnregister=true|false (ALPHA - default=false)<br>InTreePluginGCEUnregister=true|false (ALPHA - default=false)<br>InTreePluginOpenStackUnregister=true|false (ALPHA - default=false)<br>InTreePluginvSphereUnregister=true|false (ALPHA - default=false)<br>IndexedJob=true|false (BETA - default=true)<br>IngressClassNamespacedParams=true|false (BETA - default=true)<br>JobTrackingWithFinalizers=true|false (ALPHA - default=false)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletInUserNamespace=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>KubeletPodResourcesGetAllocatable=true|false (ALPHA - default=false)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>LogarithmicScaleDown=true|false (BETA - default=true)<br>MemoryManager=true|false (BETA - default=true)<br>MemoryQoS=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NetworkPolicyEndPort=true|false (BETA - default=true)<br>NodeSwap=true|false (ALPHA - default=false)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodAffinityNamespaceSelector=true|false (BETA - default=true)<br>PodDeletionCost=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>PodSecurity=true|false (ALPHA - default=false)<br>PreferNominatedNode=true|false (BETA - default=true)<br>ProbeTerminationGracePeriod=true|false (BETA - default=false)<br>ProcMountType=true|false (ALPHA - default=false)<br>ProxyTerminatingEndpoints=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>ReadWriteOncePod=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>SeccompDefault=true|false (ALPHA - default=false)<br>ServiceInternalTrafficPolicy=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (BETA - default=true)<br>ServiceLoadBalancerClass=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (BETA - default=true)<br>StatefulSetMinReadySeconds=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>SuspendJob=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (BETA - default=true)<br>TopologyAwareHints=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>VolumeCapacityPriority=true|false (ALPHA - default=false)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsHostProcessContainers=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>--healthz-bind-address ipport&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0:10256</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address with port for the health check server to serve on (set to '0.0.0.0:10256' for all IPv4 interfaces and '[::]:10256' for all IPv6 interfaces). Set empty to disable.</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-proxy</p></td>
</tr>
<tr>
<td colspan=2>--hostname-override string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, will use this string as identification instead of the actual hostname.</p></td>
</tr>
<tr>
<td colspan=2>--iptables-masquerade-bit int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 14</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If using the pure iptables proxy, the bit of the fwmark space to mark packets requiring SNAT with. Must be within the range [0, 31].</p></td>
</tr>
<tr>
<td colspan=2>--iptables-min-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum interval of how often the iptables rules can be refreshed as endpoints and services change (e.g. '5s', '1m', '2h22m').</p></td>
</tr>
<tr>
<td colspan=2>--iptables-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum interval of how often iptables rules are refreshed (e.g. '5s', '1m', '2h22m'). Must be greater than 0.</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-exclude-cidrs strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A comma-separated list of CIDR's which the ipvs proxier should not touch when cleaning up IPVS rules.</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-min-sync-period duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The minimum interval of how often the ipvs rules can be refreshed as endpoints and services change (e.g. '5s', '1m', '2h22m').</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-scheduler string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The ipvs scheduler type when proxy mode is ipvs</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-strict-arp</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Enable strict ARP by setting arp_ignore to 1 and arp_announce to 2</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-sync-period duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 30s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The maximum interval of how often ipvs rules are refreshed (e.g. '5s', '1m', '2h22m'). Must be greater than 0.</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-tcp-timeout duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout for idle IPVS TCP connections, 0 to leave as-is. (e.g. '5s', '1m', '2h22m').</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-tcpfin-timeout duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout for IPVS TCP connections after receiving a FIN packet, 0 to leave as-is. (e.g. '5s', '1m', '2h22m').</p></td>
</tr>
<tr>
<td colspan=2>--ipvs-udp-timeout duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The timeout for IPVS UDP packets, 0 to leave as-is. (e.g. '5s', '1m', '2h22m').</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-burst int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Burst to use while talking with kubernetes apiserver</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-content-type string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "application/vnd.kubernetes.protobuf"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Content type of requests sent to apiserver.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-qps float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>QPS to use while talking with kubernetes apiserver</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to kubeconfig file with authorization information (the master location can be overridden by the master flag).</p></td>
</tr>
<tr>
<td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td>
</tr>
<tr>
<td colspan=2>--log-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td>
</tr>
<tr>
<td colspan=2>--log-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td>
</tr>
<tr>
<td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td>
</tr>
<tr>
<td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td>
</tr>
<tr>
<td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td>
</tr>
<tr>
<td colspan=2>--machine-id-file string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/etc/machine-id,/var/lib/dbus/machine-id"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of files to check for machine-id. Use the first one that exists.</p></td>
</tr>
<tr>
<td colspan=2>--masquerade-all</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If using the pure iptables proxy, SNAT all traffic sent via Service cluster IPs (this not commonly needed)</p></td>
</tr>
<tr>
<td colspan=2>--master string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The address of the Kubernetes API server (overrides any value in kubeconfig)</p></td>
</tr>
<tr>
<td colspan=2>--metrics-bind-address ipport&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 127.0.0.1:10249</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address with port for the metrics server to serve on (set to '0.0.0.0:10249' for all IPv4 interfaces and '[::]:10249' for all IPv6 interfaces). Set empty to disable.</p></td>
</tr>
<tr>
<td colspan=2>--nodeport-addresses strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A string slice of values which specify the addresses to use for NodePorts. Values may be valid IP blocks (e.g. 1.2.3.0/24, 1.2.3.4/32). The default empty string slice ([]) means to use all local addresses.</p></td>
</tr>
<tr>
<td colspan=2>--one-output</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level)</p></td>
</tr>
<tr>
<td colspan=2>--oom-score-adj int32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: -999</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The oom-score-adj value for kube-proxy process. Values must be within the range [-1000, 1000]</p></td>
</tr>
<tr>
<td colspan=2>--profiling</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true enables profiling via web interface on /debug/pprof handler.</p></td>
</tr>
<tr>
<td colspan=2>--proxy-mode ProxyMode</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Which proxy mode to use: 'userspace' (older) or 'iptables' (faster) or 'ipvs' or 'kernelspace' (windows). If blank, use the best-available proxy (currently iptables). If the iptables proxy is selected, regardless of how, but the system's kernel or iptables versions are insufficient, this always falls back to the userspace proxy.</p></td>
</tr>
<tr>
<td colspan=2>--proxy-port-range port-range</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Range of host ports (beginPort-endPort, single port or beginPort+offset, inclusive) that may be consumed in order to proxy service traffic. If (unspecified, 0, or 0-0) then ports will be randomly chosen.</p></td>
</tr>
<tr>
<td colspan=2>--show-hidden-metrics-for-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is &lt;major>.&lt;minor>, e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td>
</tr>
<tr>
<td colspan=2>--skip-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td>
</tr>
<tr>
<td colspan=2>--skip-log-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td>
</tr>
<tr>
<td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td>
</tr>
<tr>
<td colspan=2>--udp-timeout duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 250ms</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>How long an idle UDP connection will be kept open (e.g. '250ms', '2s'). Must be greater than 0. Only applicable for proxy-mode=userspace</p></td>
</tr>
<tr>
<td colspan=2>-v, --v int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td>
</tr>
<tr>
<td colspan=2>--version version[=true]</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td>
</tr>
<tr>
<td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td>
</tr>
<tr>
<td colspan=2>--write-config-to string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, write the default configuration values to this file and exit.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-57e59e5ddd9db63da6c9d27cc0e2f254>9.6 - kube-scheduler</h1>
<h2 id=synopsis>Synopsis</h2>
<p>The Kubernetes scheduler is a control plane process which assigns
Pods to Nodes. The scheduler determines which Nodes are valid placements for
each Pod in the scheduling queue according to constraints and available
resources. The scheduler then ranks each valid Node and binds the Pod to a
suitable Node. Multiple different schedulers may be used within a cluster;
kube-scheduler is the reference implementation.
See <a href=https://kubernetes.io/docs/concepts/scheduling-eviction/>scheduling</a>
for more information about scheduling and the kube-scheduler component.</p>
<pre><code>kube-scheduler [flags]
</code></pre><h2 id=options>Options</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--add-dir-header</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, adds the file directory to the header of the log messages</p></td>
</tr>
<tr>
<td colspan=2>--address string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the IP address on which to listen for the --port port (set to 0.0.0.0 or :: for listening in all interfaces and IP families). See --bind-address instead. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--allow-metric-labels stringToString&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: []</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The map from metric-label to value allow-list of this label. The key's format is &lt;MetricName>,&lt;LabelName>. The value's format is &lt;allowed_value>,&lt;allowed_value>...e.g. metric1,label1='v1,v2,v3', metric1,label2='v1,v2,v3' metric2,label1='v1,v2,v3'.</p></td>
</tr>
<tr>
<td colspan=2>--alsologtostderr</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error as well as files</p></td>
</tr>
<tr>
<td colspan=2>--authentication-kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create tokenreviews.authentication.k8s.io. This is optional. If empty, all token requests are considered to be anonymous and no client CA is looked up in the cluster.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-skip-lookup</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If false, the authentication-kubeconfig will be used to lookup missing authentication configuration from the cluster.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-token-webhook-cache-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache responses from the webhook token authenticator.</p></td>
</tr>
<tr>
<td colspan=2>--authentication-tolerate-lookup-failure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, failures to look up missing authentication configuration from the cluster are not considered fatal. Note that this can result in authentication that treats all requests as anonymous.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-always-allow-paths strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "/healthz,/readyz,/livez"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A list of HTTP paths to skip during authorization, i.e. these are authorized without contacting the 'core' kubernetes server.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>kubeconfig file pointing at the 'core' kubernetes server with enough rights to create subjectaccessreviews.authorization.k8s.io. This is optional. If empty, all requests not skipped by authorization are forbidden.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-authorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'authorized' responses from the webhook authorizer.</p></td>
</tr>
<tr>
<td colspan=2>--authorization-webhook-cache-unauthorized-ttl duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration to cache 'unauthorized' responses from the webhook authorizer.</p></td>
</tr>
<tr>
<td colspan=2>--azure-container-registry-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Path to the file containing Azure container registry configuration information.</p></td>
</tr>
<tr>
<td colspan=2>--bind-address string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 0.0.0.0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank or an unspecified address (0.0.0.0 or ::), all interfaces will be used.</p></td>
</tr>
<tr>
<td colspan=2>--cert-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored.</p></td>
</tr>
<tr>
<td colspan=2>--client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate.</p></td>
</tr>
<tr>
<td colspan=2>--config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The path to the configuration file. The following flags can overwrite fields in this file:<br>--policy-config-file<br>--policy-configmap<br>--policy-configmap-namespace</p></td>
</tr>
<tr>
<td colspan=2>--contention-profiling</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: enable lock contention profiling, if profiling is enabled. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--disabled-metrics strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>This flag provides an escape hatch for misbehaving metrics. You must provide the fully qualified metric name in order to disable it. Disclaimer: disabling metrics is higher in precedence than showing hidden metrics.</p></td>
</tr>
<tr>
<td colspan=2>--experimental-logging-sanitization</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).<br>Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.</p></td>
</tr>
<tr>
<td colspan=2>--feature-gates &lt;comma-separated 'key=True|False' pairs></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A set of key=value pairs that describe feature gates for alpha/experimental features. Options are:<br>APIListChunking=true|false (BETA - default=true)<br>APIPriorityAndFairness=true|false (BETA - default=true)<br>APIResponseCompression=true|false (BETA - default=true)<br>APIServerIdentity=true|false (ALPHA - default=false)<br>APIServerTracing=true|false (ALPHA - default=false)<br>AllAlpha=true|false (ALPHA - default=false)<br>AllBeta=true|false (BETA - default=false)<br>AnyVolumeDataSource=true|false (ALPHA - default=false)<br>AppArmor=true|false (BETA - default=true)<br>CPUManager=true|false (BETA - default=true)<br>CPUManagerPolicyOptions=true|false (ALPHA - default=false)<br>CSIInlineVolume=true|false (BETA - default=true)<br>CSIMigration=true|false (BETA - default=true)<br>CSIMigrationAWS=true|false (BETA - default=false)<br>CSIMigrationAzureDisk=true|false (BETA - default=false)<br>CSIMigrationAzureFile=true|false (BETA - default=false)<br>CSIMigrationGCE=true|false (BETA - default=false)<br>CSIMigrationOpenStack=true|false (BETA - default=true)<br>CSIMigrationvSphere=true|false (BETA - default=false)<br>CSIStorageCapacity=true|false (BETA - default=true)<br>CSIVolumeFSGroupPolicy=true|false (BETA - default=true)<br>CSIVolumeHealth=true|false (ALPHA - default=false)<br>CSRDuration=true|false (BETA - default=true)<br>ConfigurableFSGroupPolicy=true|false (BETA - default=true)<br>ControllerManagerLeaderMigration=true|false (BETA - default=true)<br>CustomCPUCFSQuotaPeriod=true|false (ALPHA - default=false)<br>DaemonSetUpdateSurge=true|false (BETA - default=true)<br>DefaultPodTopologySpread=true|false (BETA - default=true)<br>DelegateFSGroupToCSIDriver=true|false (ALPHA - default=false)<br>DevicePlugins=true|false (BETA - default=true)<br>DisableAcceleratorUsageMetrics=true|false (BETA - default=true)<br>DisableCloudProviders=true|false (ALPHA - default=false)<br>DownwardAPIHugePages=true|false (BETA - default=false)<br>EfficientWatchResumption=true|false (BETA - default=true)<br>EndpointSliceTerminatingCondition=true|false (BETA - default=true)<br>EphemeralContainers=true|false (ALPHA - default=false)<br>ExpandCSIVolumes=true|false (BETA - default=true)<br>ExpandInUsePersistentVolumes=true|false (BETA - default=true)<br>ExpandPersistentVolumes=true|false (BETA - default=true)<br>ExpandedDNSConfig=true|false (ALPHA - default=false)<br>ExperimentalHostUserNamespaceDefaulting=true|false (BETA - default=false)<br>GenericEphemeralVolume=true|false (BETA - default=true)<br>GracefulNodeShutdown=true|false (BETA - default=true)<br>HPAContainerMetrics=true|false (ALPHA - default=false)<br>HPAScaleToZero=true|false (ALPHA - default=false)<br>IPv6DualStack=true|false (BETA - default=true)<br>InTreePluginAWSUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureDiskUnregister=true|false (ALPHA - default=false)<br>InTreePluginAzureFileUnregister=true|false (ALPHA - default=false)<br>InTreePluginGCEUnregister=true|false (ALPHA - default=false)<br>InTreePluginOpenStackUnregister=true|false (ALPHA - default=false)<br>InTreePluginvSphereUnregister=true|false (ALPHA - default=false)<br>IndexedJob=true|false (BETA - default=true)<br>IngressClassNamespacedParams=true|false (BETA - default=true)<br>JobTrackingWithFinalizers=true|false (ALPHA - default=false)<br>KubeletCredentialProviders=true|false (ALPHA - default=false)<br>KubeletInUserNamespace=true|false (ALPHA - default=false)<br>KubeletPodResources=true|false (BETA - default=true)<br>KubeletPodResourcesGetAllocatable=true|false (ALPHA - default=false)<br>LocalStorageCapacityIsolation=true|false (BETA - default=true)<br>LocalStorageCapacityIsolationFSQuotaMonitoring=true|false (ALPHA - default=false)<br>LogarithmicScaleDown=true|false (BETA - default=true)<br>MemoryManager=true|false (BETA - default=true)<br>MemoryQoS=true|false (ALPHA - default=false)<br>MixedProtocolLBService=true|false (ALPHA - default=false)<br>NetworkPolicyEndPort=true|false (BETA - default=true)<br>NodeSwap=true|false (ALPHA - default=false)<br>NonPreemptingPriority=true|false (BETA - default=true)<br>PodAffinityNamespaceSelector=true|false (BETA - default=true)<br>PodDeletionCost=true|false (BETA - default=true)<br>PodOverhead=true|false (BETA - default=true)<br>PodSecurity=true|false (ALPHA - default=false)<br>PreferNominatedNode=true|false (BETA - default=true)<br>ProbeTerminationGracePeriod=true|false (BETA - default=false)<br>ProcMountType=true|false (ALPHA - default=false)<br>ProxyTerminatingEndpoints=true|false (ALPHA - default=false)<br>QOSReserved=true|false (ALPHA - default=false)<br>ReadWriteOncePod=true|false (ALPHA - default=false)<br>RemainingItemCount=true|false (BETA - default=true)<br>RemoveSelfLink=true|false (BETA - default=true)<br>RotateKubeletServerCertificate=true|false (BETA - default=true)<br>SeccompDefault=true|false (ALPHA - default=false)<br>ServiceInternalTrafficPolicy=true|false (BETA - default=true)<br>ServiceLBNodePortControl=true|false (BETA - default=true)<br>ServiceLoadBalancerClass=true|false (BETA - default=true)<br>SizeMemoryBackedVolumes=true|false (BETA - default=true)<br>StatefulSetMinReadySeconds=true|false (ALPHA - default=false)<br>StorageVersionAPI=true|false (ALPHA - default=false)<br>StorageVersionHash=true|false (BETA - default=true)<br>SuspendJob=true|false (BETA - default=true)<br>TTLAfterFinished=true|false (BETA - default=true)<br>TopologyAwareHints=true|false (ALPHA - default=false)<br>TopologyManager=true|false (BETA - default=true)<br>VolumeCapacityPriority=true|false (ALPHA - default=false)<br>WinDSR=true|false (ALPHA - default=false)<br>WinOverlay=true|false (BETA - default=true)<br>WindowsHostProcessContainers=true|false (ALPHA - default=false)</p></td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>help for kube-scheduler</p></td>
</tr>
<tr>
<td colspan=2>--http2-max-streams-per-connection int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The limit that the server gives to clients for the maximum number of streams in an HTTP/2 connection. Zero means to use golang's default.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-burst int32</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: burst to use while talking with kubernetes apiserver. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-content-type string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: content type of requests sent to apiserver. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--kube-api-qps float</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: QPS to use while talking with kubernetes apiserver. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: path to kubeconfig file with authorization and master location information. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Start a leader election client and gain leadership before executing the main loop. Enable this when running replicated components for high availability.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-lease-duration duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration that non-leader candidates will wait after observing a leadership renewal until attempting to acquire leadership of a led but unrenewed leader slot. This is effectively the maximum duration that a leader can be stopped before it is replaced by another candidate. This is only applicable if leader election is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-renew-deadline duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The interval between attempts by the acting master to renew a leadership slot before it stops leading. This must be less than or equal to the lease duration. This is only applicable if leader election is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-resource-lock string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The type of resource object that is used for locking during leader election. Supported options are 'endpoints', 'configmaps', 'leases', 'endpointsleases' and 'configmapsleases'.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-resource-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The name of resource object that is used for locking during leader election.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-resource-namespace string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The namespace of resource object that is used for locking during leader election.</p></td>
</tr>
<tr>
<td colspan=2>--leader-elect-retry-period duration</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The duration the clients should wait between attempting acquisition and renewal of a leadership. This is only applicable if leader election is enabled.</p></td>
</tr>
<tr>
<td colspan=2>--lock-object-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: define the name of the lock object. Will be removed in favor of leader-elect-resource-name. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--lock-object-namespace string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: define the namespace of the lock object. Will be removed in favor of leader-elect-resource-namespace. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--log-backtrace-at &lt;a string in the form 'file:N'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>when logging hits line file:N, emit a stack trace</p></td>
</tr>
<tr>
<td colspan=2>--log-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, write log files in this directory</p></td>
</tr>
<tr>
<td colspan=2>--log-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If non-empty, use this log file</p></td>
</tr>
<tr>
<td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p></td>
</tr>
<tr>
<td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Maximum number of seconds between log flushes</p></td>
</tr>
<tr>
<td colspan=2>--logging-format string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "text"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Sets the log format. Permitted formats: "text".<br>Non-default formats don't honor these flags: --add-dir-header, --alsologtostderr, --log-backtrace-at, --log-dir, --log-file, --log-file-max-size, --logtostderr, --one-output, --skip-headers, --skip-log-headers, --stderrthreshold, --vmodule, --log-flush-frequency.<br>Non-default choices are currently alpha and subject to change without warning.</p></td>
</tr>
<tr>
<td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>log to standard error instead of files</p></td>
</tr>
<tr>
<td colspan=2>--master string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The address of the Kubernetes API server (overrides any value in kubeconfig)</p></td>
</tr>
<tr>
<td colspan=2>--one-output</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, only write logs to their native severity level (vs also writing to each lower severity level)</p></td>
</tr>
<tr>
<td colspan=2>--permit-address-sharing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEADDR will be used when binding the port. This allows binding to wildcard IPs like 0.0.0.0 and specific IPs in parallel, and it avoids waiting for the kernel to release sockets in TIME_WAIT state. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--permit-port-sharing</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, SO_REUSEPORT will be used when binding the port, which allows more than one instance to bind on the same address and port. [default=false]</p></td>
</tr>
<tr>
<td colspan=2>--policy-config-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: file with scheduler policy configuration. This file is used if policy ConfigMap is not provided or --use-legacy-policy-config=true. Note: The predicates/priorities defined in this file will take precedence over any profiles define in ComponentConfig.</p></td>
</tr>
<tr>
<td colspan=2>--policy-configmap string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: name of the ConfigMap object that contains scheduler's policy configuration. It must exist in the system namespace before scheduler initialization if --use-legacy-policy-config=false. The config must be provided as the value of an element in 'Data' map with the key='policy.cfg'. Note: The predicates/priorities defined in this file will take precedence over any profiles define in ComponentConfig.</p></td>
</tr>
<tr>
<td colspan=2>--policy-configmap-namespace string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "kube-system"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the namespace where policy ConfigMap is located. The kube-system namespace will be used if this is not provided or is empty. Note: The predicates/priorities defined in this file will take precedence over any profiles define in ComponentConfig.</p></td>
</tr>
<tr>
<td colspan=2>--port int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: the port on which to serve HTTP insecurely without authentication and authorization. If 0, don't serve plain HTTP at all. See --secure-port instead. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--profiling</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: enable profiling via web interface host:port/debug/pprof/. This parameter is ignored if a config file is specified in --config.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-allowed-names strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-client-ca-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-extra-headers-prefix strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-extra-"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request header prefixes to inspect. X-Remote-Extra- is suggested.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-group-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-group"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for groups. X-Remote-Group is suggested.</p></td>
</tr>
<tr>
<td colspan=2>--requestheader-username-headers strings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "x-remote-user"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>List of request headers to inspect for usernames. X-Remote-User is common.</p></td>
</tr>
<tr>
<td colspan=2>--secure-port int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 10259</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The port on which to serve HTTPS with authentication and authorization. If 0, don't serve HTTPS at all.</p></td>
</tr>
<tr>
<td colspan=2>--show-hidden-metrics-for-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>The previous version for which you want to show hidden metrics. Only the previous minor version is meaningful, other values will not be allowed. The format is &lt;major>.&lt;minor>, e.g.: '1.16'. The purpose of this format is make sure you have the opportunity to notice if the next release hides additional metrics, rather than being surprised when they are permanently removed in the release after that.</p></td>
</tr>
<tr>
<td colspan=2>--skip-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid header prefixes in the log messages</p></td>
</tr>
<tr>
<td colspan=2>--skip-log-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If true, avoid headers when opening log files</p></td>
</tr>
<tr>
<td colspan=2>--stderrthreshold int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>logs at or above this threshold go to stderr</p></td>
</tr>
<tr>
<td colspan=2>--tls-cert-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir.</p></td>
</tr>
<tr>
<td colspan=2>--tls-cipher-suites strings</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be used.<br>Preferred values: TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305, TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256, TLS_RSA_WITH_3DES_EDE_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_GCM_SHA384.<br>Insecure values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_RC4_128_SHA.</p></td>
</tr>
<tr>
<td colspan=2>--tls-min-version string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12, VersionTLS13</p></td>
</tr>
<tr>
<td colspan=2>--tls-private-key-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>File containing the default x509 private key matching --tls-cert-file.</p></td>
</tr>
<tr>
<td colspan=2>--tls-sni-cert-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. The domain patterns also allow IP addresses, but IPs should only be used if the apiserver has visibility to the IP address requested by a client. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com".</p></td>
</tr>
<tr>
<td colspan=2>--use-legacy-policy-config</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>DEPRECATED: when set to true, scheduler will ignore policy ConfigMap and uses policy config file. Note: The scheduler will fail if this is combined with Plugin configs</p></td>
</tr>
<tr>
<td colspan=2>-v, --v int</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>number for the log level verbosity</p></td>
</tr>
<tr>
<td colspan=2>--version version[=true]</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>Print version information and quit</p></td>
</tr>
<tr>
<td colspan=2>--vmodule &lt;comma-separated 'pattern=N' settings></td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>comma-separated list of pattern=N settings for file-filtered logging</p></td>
</tr>
<tr>
<td colspan=2>--write-config-to string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word><p>If set, write the configuration values to this file and exit.</p></td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-1715b765e2ff39feffd103d59ec0ef07>9.7 - Kubelet authentication/authorization</h1>
<h2 id=overview>Overview</h2>
<p>A kubelet's HTTPS endpoint exposes APIs which give access to data of varying sensitivity,
and allow you to perform operations with varying levels of power on the node and within containers.</p>
<p>This document describes how to authenticate and authorize access to the kubelet's HTTPS endpoint.</p>
<h2 id=kubelet-authentication>Kubelet authentication</h2>
<p>By default, requests to the kubelet's HTTPS endpoint that are not rejected by other configured
authentication methods are treated as anonymous requests, and given a username of <code>system:anonymous</code>
and a group of <code>system:unauthenticated</code>.</p>
<p>To disable anonymous access and send <code>401 Unauthorized</code> responses to unauthenticated requests:</p>
<ul>
<li>start the kubelet with the <code>--anonymous-auth=false</code> flag</li>
</ul>
<p>To enable X509 client certificate authentication to the kubelet's HTTPS endpoint:</p>
<ul>
<li>start the kubelet with the <code>--client-ca-file</code> flag, providing a CA bundle to verify client certificates with</li>
<li>start the apiserver with <code>--kubelet-client-certificate</code> and <code>--kubelet-client-key</code> flags</li>
<li>see the <a href=/docs/reference/access-authn-authz/authentication/#x509-client-certs>apiserver authentication documentation</a> for more details</li>
</ul>
<p>To enable API bearer tokens (including service account tokens) to be used to authenticate to the kubelet's HTTPS endpoint:</p>
<ul>
<li>ensure the <code>authentication.k8s.io/v1beta1</code> API group is enabled in the API server</li>
<li>start the kubelet with the <code>--authentication-token-webhook</code> and <code>--kubeconfig</code> flags</li>
<li>the kubelet calls the <code>TokenReview</code> API on the configured API server to determine user information from bearer tokens</li>
</ul>
<h2 id=kubelet-authorization>Kubelet authorization</h2>
<p>Any request that is successfully authenticated (including an anonymous request) is then authorized. The default authorization mode is <code>AlwaysAllow</code>, which allows all requests.</p>
<p>There are many possible reasons to subdivide access to the kubelet API:</p>
<ul>
<li>anonymous auth is enabled, but anonymous users' ability to call the kubelet API should be limited</li>
<li>bearer token auth is enabled, but arbitrary API users' (like service accounts) ability to call the kubelet API should be limited</li>
<li>client certificate auth is enabled, but only some of the client certificates signed by the configured CA should be allowed to use the kubelet API</li>
</ul>
<p>To subdivide access to the kubelet API, delegate authorization to the API server:</p>
<ul>
<li>ensure the <code>authorization.k8s.io/v1beta1</code> API group is enabled in the API server</li>
<li>start the kubelet with the <code>--authorization-mode=Webhook</code> and the <code>--kubeconfig</code> flags</li>
<li>the kubelet calls the <code>SubjectAccessReview</code> API on the configured API server to determine whether each request is authorized</li>
</ul>
<p>The kubelet authorizes API requests using the same <a href=/docs/reference/access-authn-authz/authorization/#review-your-request-attributes>request attributes</a> approach as the apiserver.</p>
<p>The verb is determined from the incoming request's HTTP verb:</p>
<table>
<thead>
<tr>
<th>HTTP verb</th>
<th>request verb</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td>create</td>
</tr>
<tr>
<td>GET, HEAD</td>
<td>get</td>
</tr>
<tr>
<td>PUT</td>
<td>update</td>
</tr>
<tr>
<td>PATCH</td>
<td>patch</td>
</tr>
<tr>
<td>DELETE</td>
<td>delete</td>
</tr>
</tbody>
</table>
<p>The resource and subresource is determined from the incoming request's path:</p>
<table>
<thead>
<tr>
<th>Kubelet API</th>
<th>resource</th>
<th>subresource</th>
</tr>
</thead>
<tbody>
<tr>
<td>/stats/*</td>
<td>nodes</td>
<td>stats</td>
</tr>
<tr>
<td>/metrics/*</td>
<td>nodes</td>
<td>metrics</td>
</tr>
<tr>
<td>/logs/*</td>
<td>nodes</td>
<td>log</td>
</tr>
<tr>
<td>/spec/*</td>
<td>nodes</td>
<td>spec</td>
</tr>
<tr>
<td><em>all others</em></td>
<td>nodes</td>
<td>proxy</td>
</tr>
</tbody>
</table>
<p>The namespace and API group attributes are always an empty string, and
the resource name is always the name of the kubelet's <code>Node</code> API object.</p>
<p>When running in this mode, ensure the user identified by the <code>--kubelet-client-certificate</code> and <code>--kubelet-client-key</code>
flags passed to the apiserver is authorized for the following attributes:</p>
<ul>
<li>verb=*, resource=nodes, subresource=proxy</li>
<li>verb=*, resource=nodes, subresource=stats</li>
<li>verb=*, resource=nodes, subresource=log</li>
<li>verb=*, resource=nodes, subresource=spec</li>
<li>verb=*, resource=nodes, subresource=metrics</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-bdd3803a4bb6efcc44a7ab03590ce93c>9.8 - TLS bootstrapping</h1>
<p>In a Kubernetes cluster, the components on the worker nodes - kubelet and kube-proxy - need to communicate with Kubernetes control plane components, specifically kube-apiserver.
In order to ensure that communication is kept private, not interfered with, and ensure that each component of the cluster is talking to another trusted component, we strongly
recommend using client TLS certificates on nodes.</p>
<p>The normal process of bootstrapping these components, especially worker nodes that need certificates so they can communicate safely with kube-apiserver,
can be a challenging process as it is often outside of the scope of Kubernetes and requires significant additional work.
This in turn, can make it challenging to initialize or scale a cluster.</p>
<p>In order to simplify the process, beginning in version 1.4, Kubernetes introduced a certificate request and signing API. The proposal can be
found <a href=https://github.com/kubernetes/kubernetes/pull/20439>here</a>.</p>
<p>This document describes the process of node initialization, how to set up TLS client certificate bootstrapping for
kubelets, and how it works.</p>
<h2 id=initialization-process>Initialization Process</h2>
<p>When a worker node starts up, the kubelet does the following:</p>
<ol>
<li>Look for its <code>kubeconfig</code> file</li>
<li>Retrieve the URL of the API server and credentials, normally a TLS key and signed certificate from the <code>kubeconfig</code> file</li>
<li>Attempt to communicate with the API server using the credentials.</li>
</ol>
<p>Assuming that the kube-apiserver successfully validates the kubelet's credentials, it will treat the kubelet as a valid node, and begin to assign pods to it.</p>
<p>Note that the above process depends upon:</p>
<ul>
<li>Existence of a key and certificate on the local host in the <code>kubeconfig</code></li>
<li>The certificate having been signed by a Certificate Authority (CA) trusted by the kube-apiserver</li>
</ul>
<p>All of the following are responsibilities of whoever sets up and manages the cluster:</p>
<ol>
<li>Creating the CA key and certificate</li>
<li>Distributing the CA certificate to the control plane nodes, where kube-apiserver is running</li>
<li>Creating a key and certificate for each kubelet; strongly recommended to have a unique one, with a unique CN, for each kubelet</li>
<li>Signing the kubelet certificate using the CA key</li>
<li>Distributing the kubelet key and signed certificate to the specific node on which the kubelet is running</li>
</ol>
<p>The TLS Bootstrapping described in this document is intended to simplify, and partially or even completely automate, steps 3 onwards, as these are the most common when initializing or scaling
a cluster.</p>
<h3 id=bootstrap-initialization>Bootstrap Initialization</h3>
<p>In the bootstrap initialization process, the following occurs:</p>
<ol>
<li>kubelet begins</li>
<li>kubelet sees that it does <em>not</em> have a <code>kubeconfig</code> file</li>
<li>kubelet searches for and finds a <code>bootstrap-kubeconfig</code> file</li>
<li>kubelet reads its bootstrap file, retrieving the URL of the API server and a limited usage "token"</li>
<li>kubelet connects to the API server, authenticates using the token</li>
<li>kubelet now has limited credentials to create and retrieve a certificate signing request (CSR)</li>
<li>kubelet creates a CSR for itself with the signerName set to <code>kubernetes.io/kube-apiserver-client-kubelet</code></li>
<li>CSR is approved in one of two ways:</li>
</ol>
<ul>
<li>If configured, kube-controller-manager automatically approves the CSR</li>
<li>If configured, an outside process, possibly a person, approves the CSR using the Kubernetes API or via <code>kubectl</code></li>
</ul>
<ol start=9>
<li>Certificate is created for the kubelet</li>
<li>Certificate is issued to the kubelet</li>
<li>kubelet retrieves the certificate</li>
<li>kubelet creates a proper <code>kubeconfig</code> with the key and signed certificate</li>
<li>kubelet begins normal operation</li>
<li>Optional: if configured, kubelet automatically requests renewal of the certificate when it is close to expiry</li>
<li>The renewed certificate is approved and issued, either automatically or manually, depending on configuration.</li>
</ol>
<p>The rest of this document describes the necessary steps to configure TLS Bootstrapping, and its limitations.</p>
<h2 id=configuration>Configuration</h2>
<p>To configure for TLS bootstrapping and optional automatic approval, you must configure options on the following components:</p>
<ul>
<li>kube-apiserver</li>
<li>kube-controller-manager</li>
<li>kubelet</li>
<li>in-cluster resources: <code>ClusterRoleBinding</code> and potentially <code>ClusterRole</code></li>
</ul>
<p>In addition, you need your Kubernetes Certificate Authority (CA).</p>
<h2 id=certificate-authority>Certificate Authority</h2>
<p>As without bootstrapping, you will need a Certificate Authority (CA) key and certificate. As without bootstrapping, these will be used
to sign the kubelet certificate. As before, it is your responsibility to distribute them to control plane nodes.</p>
<p>For the purposes of this document, we will assume these have been distributed to control plane nodes at <code>/var/lib/kubernetes/ca.pem</code> (certificate) and <code>/var/lib/kubernetes/ca-key.pem</code> (key).
We will refer to these as "Kubernetes CA certificate and key".</p>
<p>All Kubernetes components that use these certificates - kubelet, kube-apiserver, kube-controller-manager - assume the key and certificate to be PEM-encoded.</p>
<h2 id=kube-apiserver-configuration>kube-apiserver configuration</h2>
<p>The kube-apiserver has several requirements to enable TLS bootstrapping:</p>
<ul>
<li>Recognizing CA that signs the client certificate</li>
<li>Authenticating the bootstrapping kubelet to the <code>system:bootstrappers</code> group</li>
<li>Authorize the bootstrapping kubelet to create a certificate signing request (CSR)</li>
</ul>
<h3 id=recognizing-client-certificates>Recognizing client certificates</h3>
<p>This is normal for all client certificate authentication.
If not already set, add the <code>--client-ca-file=FILENAME</code> flag to the kube-apiserver command to enable
client certificate authentication, referencing a certificate authority bundle
containing the signing certificate, for example
<code>--client-ca-file=/var/lib/kubernetes/ca.pem</code>.</p>
<h3 id=initial-bootstrap-authentication>Initial bootstrap authentication</h3>
<p>In order for the bootstrapping kubelet to connect to kube-apiserver and request a certificate, it must first authenticate to the server.
You can use any <a href=/docs/reference/access-authn-authz/authentication/>authenticator</a> that can authenticate the kubelet.</p>
<p>While any authentication strategy can be used for the kubelet's initial
bootstrap credentials, the following two authenticators are recommended for ease
of provisioning.</p>
<ol>
<li><a href=#bootstrap-tokens>Bootstrap Tokens</a></li>
<li><a href=#token-authentication-file>Token authentication file</a></li>
</ol>
<p>Bootstrap tokens are a simpler and more easily managed method to authenticate kubelets, and do not require any additional flags when starting kube-apiserver.
Using bootstrap tokens is currently <strong>beta</strong> as of Kubernetes version 1.12.</p>
<p>Whichever method you choose, the requirement is that the kubelet be able to authenticate as a user with the rights to:</p>
<ol>
<li>create and retrieve CSRs</li>
<li>be automatically approved to request node client certificates, if automatic approval is enabled.</li>
</ol>
<p>A kubelet authenticating using bootstrap tokens is authenticated as a user in the group <code>system:bootstrappers</code>, which is the standard method to use.</p>
<p>As this feature matures, you
should ensure tokens are bound to a Role Based Access Control (RBAC) policy
which limits requests (using the <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>bootstrap token</a>) strictly to client
requests related to certificate provisioning. With RBAC in place, scoping the
tokens to a group allows for great flexibility. For example, you could disable a
particular bootstrap group's access when you are done provisioning the nodes.</p>
<h4 id=bootstrap-tokens>Bootstrap tokens</h4>
<p>Bootstrap tokens are described in detail <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>here</a>. These are tokens that are stored as secrets in the Kubernetes cluster,
and then issued to the individual kubelet. You can use a single token for an entire cluster, or issue one per worker node.</p>
<p>The process is two-fold:</p>
<ol>
<li>Create a Kubernetes secret with the token ID, secret and scope(s).</li>
<li>Issue the token to the kubelet</li>
</ol>
<p>From the kubelet's perspective, one token is like another and has no special meaning.
From the kube-apiserver's perspective, however, the bootstrap token is special. Due to its <code>type</code>, <code>namespace</code> and <code>name</code>, kube-apiserver recognizes it as a special token,
and grants anyone authenticating with that token special bootstrap rights, notably treating them as a member of the <code>system:bootstrappers</code> group. This fulfills a basic requirement
for TLS bootstrapping.</p>
<p>The details for creating the secret are available <a href=/docs/reference/access-authn-authz/bootstrap-tokens/>here</a>.</p>
<p>If you want to use bootstrap tokens, you must enable it on kube-apiserver with the flag:</p>
<pre><code class=language-console data-lang=console>--enable-bootstrap-token-auth=true
</code></pre><h4 id=token-authentication-file>Token authentication file</h4>
<p>kube-apiserver has the ability to accept tokens as authentication.
These tokens are arbitrary but should represent at least 128 bits of entropy derived
from a secure random number generator (such as <code>/dev/urandom</code> on most modern Linux
systems). There are multiple ways you can generate a token. For example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>head -c <span style=color:#666>16</span> /dev/urandom | od -An -t x | tr -d <span style=color:#b44>&#39; &#39;</span>
</code></pre></div><p>will generate tokens that look like <code>02b50b05283e98dd0fd71db496ef01e8</code>.</p>
<p>The token file should look like the following example, where the first three
values can be anything and the quoted group name should be as depicted:</p>
<pre><code class=language-console data-lang=console>02b50b05283e98dd0fd71db496ef01e8,kubelet-bootstrap,10001,&quot;system:bootstrappers&quot;
</code></pre><p>Add the <code>--token-auth-file=FILENAME</code> flag to the kube-apiserver command (in your
systemd unit file perhaps) to enable the token file. See docs
<a href=/docs/reference/access-authn-authz/authentication/#static-token-file>here</a> for
further details.</p>
<h3 id=authorize-kubelet-to-create-csr>Authorize kubelet to create CSR</h3>
<p>Now that the bootstrapping node is <em>authenticated</em> as part of the
<code>system:bootstrappers</code> group, it needs to be <em>authorized</em> to create a
certificate signing request (CSR) as well as retrieve it when done.
Fortunately, Kubernetes ships with a <code>ClusterRole</code> with precisely these (and
only these) permissions, <code>system:node-bootstrapper</code>.</p>
<p>To do this, you only need to create a <code>ClusterRoleBinding</code> that binds the <code>system:bootstrappers</code> group to the cluster role <code>system:node-bootstrapper</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># enable bootstrapping nodes to create CSR</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>create-csrs-for-bootstrapping<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:bootstrappers<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:node-bootstrapper<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><h2 id=kube-controller-manager-configuration>kube-controller-manager configuration</h2>
<p>While the apiserver receives the requests for certificates from the kubelet and authenticates those requests,
the controller-manager is responsible for issuing actual signed certificates.</p>
<p>The controller-manager performs this function via a certificate-issuing control loop.
This takes the form of a
<a href=https://blog.cloudflare.com/introducing-cfssl/>cfssl</a> local signer using
assets on disk. Currently, all certificates issued have one year validity and a
default set of key usages.</p>
<p>In order for the controller-manager to sign certificates, it needs the following:</p>
<ul>
<li>access to the "Kubernetes CA key and certificate" that you created and distributed</li>
<li>enabling CSR signing</li>
</ul>
<h3 id=access-to-key-and-certificate>Access to key and certificate</h3>
<p>As described earlier, you need to create a Kubernetes CA key and certificate, and distribute it to the control plane nodes.
These will be used by the controller-manager to sign the kubelet certificates.</p>
<p>Since these signed certificates will, in turn, be used by the kubelet to authenticate as a regular kubelet to kube-apiserver, it is important that the CA
provided to the controller-manager at this stage also be trusted by kube-apiserver for authentication. This is provided to kube-apiserver
with the flag <code>--client-ca-file=FILENAME</code> (for example, <code>--client-ca-file=/var/lib/kubernetes/ca.pem</code>), as described in the kube-apiserver configuration section.</p>
<p>To provide the Kubernetes CA key and certificate to kube-controller-manager, use the following flags:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--cluster-signing-cert-file<span style=color:#666>=</span><span style=color:#b44>&#34;/etc/path/to/kubernetes/ca/ca.crt&#34;</span> --cluster-signing-key-file<span style=color:#666>=</span><span style=color:#b44>&#34;/etc/path/to/kubernetes/ca/ca.key&#34;</span>
</code></pre></div><p>for example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--cluster-signing-cert-file<span style=color:#666>=</span><span style=color:#b44>&#34;/var/lib/kubernetes/ca.pem&#34;</span> --cluster-signing-key-file<span style=color:#666>=</span><span style=color:#b44>&#34;/var/lib/kubernetes/ca-key.pem&#34;</span>
</code></pre></div><p>The validity duration of signed certificates can be configured with flag:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>--cluster-signing-duration
</code></pre></div><h3 id=approval>Approval</h3>
<p>In order to approve CSRs, you need to tell the controller-manager that it is acceptable to approve them. This is done by granting
RBAC permissions to the correct group.</p>
<p>There are two distinct sets of permissions:</p>
<ul>
<li><code>nodeclient</code>: If a node is creating a new certificate for a node, then it does not have a certificate yet. It is authenticating using one of the tokens listed above, and thus is part of the group <code>system:bootstrappers</code>.</li>
<li><code>selfnodeclient</code>: If a node is renewing its certificate, then it already has a certificate (by definition), which it uses continuously to authenticate as part of the group <code>system:nodes</code>.</li>
</ul>
<p>To enable the kubelet to request and receive a new certificate, create a <code>ClusterRoleBinding</code> that binds the group in which the bootstrapping node is a member <code>system:bootstrappers</code> to the <code>ClusterRole</code> that grants it permission, <code>system:certificates.k8s.io:certificatesigningrequests:nodeclient</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Approve all CSRs for the group &#34;system:bootstrappers&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>auto-approve-csrs-for-group<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:bootstrappers<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:certificates.k8s.io:certificatesigningrequests:nodeclient<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>To enable the kubelet to renew its own client certificate, create a <code>ClusterRoleBinding</code> that binds the group in which the fully functioning node is a member <code>system:nodes</code> to the <code>ClusterRole</code> that
grants it permission, <code>system:certificates.k8s.io:certificatesigningrequests:selfnodeclient</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#080;font-style:italic># Approve renewal CSRs for the group &#34;system:nodes&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io/v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRoleBinding<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>metadata</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>auto-approve-renewals-for-nodes<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>subjects</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Group<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:nodes<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>roleRef</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterRole<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>system:certificates.k8s.io:certificatesigningrequests:selfnodeclient<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>apiGroup</span>:<span style=color:#bbb> </span>rbac.authorization.k8s.io<span style=color:#bbb>
</span></code></pre></div><p>The <code>csrapproving</code> controller that ships as part of
<a href=/docs/admin/kube-controller-manager/>kube-controller-manager</a> and is enabled
by default. The controller uses the
<a href=/docs/reference/access-authn-authz/authorization/#checking-api-access><code>SubjectAccessReview</code> API</a> to
determine if a given user is authorized to request a CSR, then approves based on
the authorization outcome. To prevent conflicts with other approvers, the
builtin approver doesn't explicitly deny CSRs. It only ignores unauthorized
requests. The controller also prunes expired certificates as part of garbage
collection.</p>
<h2 id=kubelet-configuration>kubelet configuration</h2>
<p>Finally, with the control plane nodes properly set up and all of the necessary authentication and authorization in place, we can configure the kubelet.</p>
<p>The kubelet requires the following configuration to bootstrap:</p>
<ul>
<li>A path to store the key and certificate it generates (optional, can use default)</li>
<li>A path to a <code>kubeconfig</code> file that does not yet exist; it will place the bootstrapped config file here</li>
<li>A path to a bootstrap <code>kubeconfig</code> file to provide the URL for the server and bootstrap credentials, e.g. a bootstrap token</li>
<li>Optional: instructions to rotate certificates</li>
</ul>
<p>The bootstrap <code>kubeconfig</code> should be in a path available to the kubelet, for example <code>/var/lib/kubelet/bootstrap-kubeconfig</code>.</p>
<p>Its format is identical to a normal <code>kubeconfig</code> file. A sample file might look as follows:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>v1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>Config<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusters</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>certificate-authority</span>:<span style=color:#bbb> </span>/var/lib/kubernetes/ca.pem<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>server</span>:<span style=color:#bbb> </span>https://my.server.example.com:6443<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>contexts</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>context</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cluster</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb> </span>kubelet-bootstrap<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>current-context</span>:<span style=color:#bbb> </span>bootstrap<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>preferences</span>:<span style=color:#bbb> </span>{}<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>users</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>kubelet-bootstrap<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>user</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span>07401b.f395accd246ae52d<span style=color:#bbb>
</span></code></pre></div><p>The important elements to note are:</p>
<ul>
<li><code>certificate-authority</code>: path to a CA file, used to validate the server certificate presented by kube-apiserver</li>
<li><code>server</code>: URL to kube-apiserver</li>
<li><code>token</code>: the token to use</li>
</ul>
<p>The format of the token does not matter, as long as it matches what kube-apiserver expects. In the above example, we used a bootstrap token.
As stated earlier, <em>any</em> valid authentication method can be used, not only tokens.</p>
<p>Because the bootstrap <code>kubeconfig</code> <em>is</em> a standard <code>kubeconfig</code>, you can use <code>kubectl</code> to generate it. To create the above example file:</p>
<pre><code>kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig set-cluster bootstrap --server='https://my.server.example.com:6443' --certificate-authority=/var/lib/kubernetes/ca.pem
kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig set-credentials kubelet-bootstrap --token=07401b.f395accd246ae52d
kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig set-context bootstrap --user=kubelet-bootstrap --cluster=bootstrap
kubectl config --kubeconfig=/var/lib/kubelet/bootstrap-kubeconfig use-context bootstrap
</code></pre><p>To indicate to the kubelet to use the bootstrap <code>kubeconfig</code>, use the following kubelet flag:</p>
<pre><code>--bootstrap-kubeconfig=&quot;/var/lib/kubelet/bootstrap-kubeconfig&quot; --kubeconfig=&quot;/var/lib/kubelet/kubeconfig&quot;
</code></pre><p>When starting the kubelet, if the file specified via <code>--kubeconfig</code> does not
exist, the bootstrap kubeconfig specified via <code>--bootstrap-kubeconfig</code> is used
to request a client certificate from the API server. On approval of the
certificate request and receipt back by the kubelet, a kubeconfig file
referencing the generated key and obtained certificate is written to the path
specified by <code>--kubeconfig</code>. The certificate and key file will be placed in the
directory specified by <code>--cert-dir</code>.</p>
<h3 id=client-and-serving-certificates>Client and Serving Certificates</h3>
<p>All of the above relate to kubelet <em>client</em> certificates, specifically, the certificates a kubelet
uses to authenticate to kube-apiserver.</p>
<p>A kubelet also can use <em>serving</em> certificates. The kubelet itself exposes an https endpoint for certain features.
To secure these, the kubelet can do one of:</p>
<ul>
<li>use provided key and certificate, via the <code>--tls-private-key-file</code> and <code>--tls-cert-file</code> flags</li>
<li>create self-signed key and certificate, if a key and certificate are not provided</li>
<li>request serving certificates from the cluster server, via the CSR API</li>
</ul>
<p>The client certificate provided by TLS bootstrapping is signed, by default, for <code>client auth</code> only, and thus cannot
be used as serving certificates, or <code>server auth</code>.</p>
<p>However, you <em>can</em> enable its server certificate, at least partially, via certificate rotation.</p>
<h3 id=certificate-rotation>Certificate Rotation</h3>
<p>Kubernetes v1.8 and higher kubelet implements <strong>beta</strong> features for enabling
rotation of its client and/or serving certificates. These can be enabled through
the respective <code>RotateKubeletClientCertificate</code> and
<code>RotateKubeletServerCertificate</code> feature flags on the kubelet and are enabled by
default.</p>
<p><code>RotateKubeletClientCertificate</code> causes the kubelet to rotate its client
certificates by creating new CSRs as its existing credentials expire. To enable
this feature pass the following flag to the kubelet:</p>
<pre><code>--rotate-certificates
</code></pre><p><code>RotateKubeletServerCertificate</code> causes the kubelet <strong>both</strong> to request a serving
certificate after bootstrapping its client credentials <strong>and</strong> to rotate that
certificate. To enable this feature pass the following flag to the kubelet:</p>
<pre><code>--rotate-server-certificates
</code></pre><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>The CSR approving controllers implemented in core Kubernetes do not
approve node <em>serving</em> certificates for <a href=https://github.com/kubernetes/community/pull/1982>security
reasons</a>. To use
<code>RotateKubeletServerCertificate</code> operators need to run a custom approving
controller, or manually approve the serving certificate requests.</p>
<p>A deployment-specific approval process for kubelet serving certificates should typically only approve CSRs which:</p>
<ol>
<li>are requested by nodes (ensure the <code>spec.username</code> field is of the form
<code>system:node:&lt;nodeName></code> and <code>spec.groups</code> contains <code>system:nodes</code>)</li>
<li>request usages for a serving certificate (ensure <code>spec.usages</code> contains <code>server auth</code>,
optionally contains <code>digital signature</code> and <code>key encipherment</code>, and contains no other usages)</li>
<li>only have IP and DNS subjectAltNames that belong to the requesting node,
and have no URI and Email subjectAltNames (parse the x509 Certificate Signing Request
in <code>spec.request</code> to verify <code>subjectAltNames</code>)</li>
</ol>
</div>
<h2 id=other-authenticating-components>Other authenticating components</h2>
<p>All of TLS bootstrapping described in this document relates to the kubelet. However,
other components may need to communicate directly with kube-apiserver. Notable is kube-proxy, which
is part of the Kubernetes control plane and runs on every node, but may also include other components such as monitoring or networking.</p>
<p>Like the kubelet, these other components also require a method of authenticating to kube-apiserver.
You have several options for generating these credentials:</p>
<ul>
<li>The old way: Create and distribute certificates the same way you did for kubelet before TLS bootstrapping</li>
<li>DaemonSet: Since the kubelet itself is loaded on each node, and is sufficient to start base services, you can run kube-proxy and other node-specific services not as a standalone process, but rather as a daemonset in the <code>kube-system</code> namespace. Since it will be in-cluster, you can give it a proper service account with appropriate permissions to perform its activities. This may be the simplest way to configure such services.</li>
</ul>
<h2 id=kubectl-approval>kubectl approval</h2>
<p>CSRs can be approved outside of the approval flows builtin to the controller
manager.</p>
<p>The signing controller does not immediately sign all certificate requests.
Instead, it waits until they have been flagged with an "Approved" status by an
appropriately-privileged user. This flow is intended to allow for automated
approval handled by an external approval controller or the approval controller
implemented in the core controller-manager. However cluster administrators can
also manually approve certificate requests using kubectl. An administrator can
list CSRs with <code>kubectl get csr</code> and describe one in detail with <code>kubectl describe csr &lt;name></code>. An administrator can approve or deny a CSR with <code>kubectl certificate approve &lt;name></code> and <code>kubectl certificate deny &lt;name></code>.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-03460a7254c6c73eb2a1bb3dd7d25910>10 - kubectl</h1>
</div>
<div class=td-content>
<h1 id=pg-f14fe15ecc2d41b5e901ef5e872ca657>10.1 - Overview of kubectl</h1>
<p>The kubectl command line tool lets you control Kubernetes clusters.
For configuration, <code>kubectl</code> looks for a file named <code>config</code> in the <code>$HOME/.kube</code> directory.
You can specify other <a href=/docs/concepts/configuration/organize-cluster-access-kubeconfig/>kubeconfig</a>
files by setting the KUBECONFIG environment variable or by setting the
<a href=/docs/concepts/configuration/organize-cluster-access-kubeconfig/><code>--kubeconfig</code></a> flag.</p>
<p>This overview covers <code>kubectl</code> syntax, describes the command operations, and provides common examples.
For details about each command, including all the supported flags and subcommands, see the
<a href=/docs/reference/generated/kubectl/kubectl-commands/>kubectl</a> reference documentation.
For installation instructions see <a href=/docs/tasks/tools/>installing kubectl</a>.</p>
<h2 id=syntax>Syntax</h2>
<p>Use the following syntax to run <code>kubectl</code> commands from your terminal window:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl <span style=color:#666>[</span>command<span style=color:#666>]</span> <span style=color:#666>[</span>TYPE<span style=color:#666>]</span> <span style=color:#666>[</span>NAME<span style=color:#666>]</span> <span style=color:#666>[</span>flags<span style=color:#666>]</span>
</code></pre></div><p>where <code>command</code>, <code>TYPE</code>, <code>NAME</code>, and <code>flags</code> are:</p>
<ul>
<li>
<p><code>command</code>: Specifies the operation that you want to perform on one or more resources,
for example <code>create</code>, <code>get</code>, <code>describe</code>, <code>delete</code>.</p>
</li>
<li>
<p><code>TYPE</code>: Specifies the <a href=#resource-types>resource type</a>. Resource types are case-insensitive and
you can specify the singular, plural, or abbreviated forms.
For example, the following commands produce the same output:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pod pod1
kubectl get pods pod1
kubectl get po pod1
</code></pre></div></li>
<li>
<p><code>NAME</code>: Specifies the name of the resource. Names are case-sensitive. If the name is omitted, details for all resources are displayed, for example <code>kubectl get pods</code>.</p>
<p>When performing an operation on multiple resources, you can specify each resource by type and name or specify one or more files:</p>
<ul>
<li>
<p>To specify resources by type and name:</p>
<ul>
<li>
<p>To group resources if they are all the same type: <code>TYPE1 name1 name2 name&lt;#></code>.<br>
Example: <code>kubectl get pod example-pod1 example-pod2</code></p>
</li>
<li>
<p>To specify multiple resource types individually: <code>TYPE1/name1 TYPE1/name2 TYPE2/name3 TYPE&lt;#>/name&lt;#></code>.<br>
Example: <code>kubectl get pod/example-pod1 replicationcontroller/example-rc1</code></p>
</li>
</ul>
</li>
<li>
<p>To specify resources with one or more files: <code>-f file1 -f file2 -f file&lt;#></code></p>
<ul>
<li><a href=/docs/concepts/configuration/overview/#general-configuration-tips>Use YAML rather than JSON</a> since YAML tends to be more user-friendly, especially for configuration files.<br>
Example: <code>kubectl get -f ./pod.yaml</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>flags</code>: Specifies optional flags. For example, you can use the <code>-s</code> or <code>--server</code> flags to specify the address and port of the Kubernetes API server.<br></p>
</li>
</ul>
<div class="alert alert-warning caution callout" role=alert>
<strong>Caution:</strong> Flags that you specify from the command line override default values and any corresponding environment variables.
</div>
<p>If you need help, run <code>kubectl help</code> from the terminal window.</p>
<h2 id=in-cluster-authentication-and-namespace-overrides>In-cluster authentication and namespace overrides</h2>
<p>By default <code>kubectl</code> will first determine if it is running within a pod, and thus in a cluster. It starts by checking for the <code>KUBERNETES_SERVICE_HOST</code> and <code>KUBERNETES_SERVICE_PORT</code> environment variables and the existence of a service account token file at <code>/var/run/secrets/kubernetes.io/serviceaccount/token</code>. If all three are found in-cluster authentication is assumed.</p>
<p>To maintain backwards compatibility, if the <code>POD_NAMESPACE</code> environment variable is set during in-cluster authentication it will override the default namespace from the service account token. Any manifests or tools relying on namespace defaulting will be affected by this.</p>
<p><strong><code>POD_NAMESPACE</code> environment variable</strong></p>
<p>If the <code>POD_NAMESPACE</code> environment variable is set, cli operations on namespaced resources will default to the variable value. For example, if the variable is set to <code>seattle</code>, <code>kubectl get pods</code> would return pods in the <code>seattle</code> namespace. This is because pods are a namespaced resource, and no namespace was provided in the command. Review the output of <code>kubectl api-resources</code> to determine if a resource is namespaced.</p>
<p>Explicit use of <code>--namespace &lt;value></code> overrides this behavior.</p>
<p><strong>How kubectl handles ServiceAccount tokens</strong></p>
<p>If:</p>
<ul>
<li>there is Kubernetes service account token file mounted at
<code>/var/run/secrets/kubernetes.io/serviceaccount/token</code>, and</li>
<li>the <code>KUBERNETES_SERVICE_HOST</code> environment variable is set, and</li>
<li>the <code>KUBERNETES_SERVICE_PORT</code> environment variable is set, and</li>
<li>you don't explicitly specify a namespace on the kubectl command line</li>
</ul>
<p>then kubectl assumes it is running in your cluster. The kubectl tool looks up the
namespace of that ServiceAccount (this is the same as the namespace of the Pod)
and acts against that namespace. This is different from what happens outside of a
cluster; when kubectl runs outside a cluster and you don't specify a namespace,
the kubectl command acts against the <code>default</code> namespace.</p>
<h2 id=operations>Operations</h2>
<p>The following table includes short descriptions and the general syntax for all of the <code>kubectl</code> operations:</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>alpha</code></td>
<td><code>kubectl alpha SUBCOMMAND [flags]</code></td>
<td>List the available commands that correspond to alpha features, which are not enabled in Kubernetes clusters by default.</td>
</tr>
<tr>
<td><code>annotate</code></td>
<td><code>kubectl annotate (-f FILENAME | TYPE NAME | TYPE/NAME) KEY_1=VAL_1 ... KEY_N=VAL_N [--overwrite] [--all] [--resource-version=version] [flags]</code></td>
<td>Add or update the annotations of one or more resources.</td>
</tr>
<tr>
<td><code>api-resources</code></td>
<td><code>kubectl api-resources [flags]</code></td>
<td>List the API resources that are available.</td>
</tr>
<tr>
<td><code>api-versions</code></td>
<td><code>kubectl api-versions [flags]</code></td>
<td>List the API versions that are available.</td>
</tr>
<tr>
<td><code>apply</code></td>
<td><code>kubectl apply -f FILENAME [flags]</code></td>
<td>Apply a configuration change to a resource from a file or stdin.</td>
</tr>
<tr>
<td><code>attach</code></td>
<td><code>kubectl attach POD -c CONTAINER [-i] [-t] [flags]</code></td>
<td>Attach to a running container either to view the output stream or interact with the container (stdin).</td>
</tr>
<tr>
<td><code>auth</code></td>
<td><code>kubectl auth [flags] [options]</code></td>
<td>Inspect authorization.</td>
</tr>
<tr>
<td><code>autoscale</code></td>
<td><code>kubectl autoscale (-f FILENAME | TYPE NAME | TYPE/NAME) [--min=MINPODS] --max=MAXPODS [--cpu-percent=CPU] [flags]</code></td>
<td>Automatically scale the set of pods that are managed by a replication controller.</td>
</tr>
<tr>
<td><code>certificate</code></td>
<td><code>kubectl certificate SUBCOMMAND [options]</code></td>
<td>Modify certificate resources.</td>
</tr>
<tr>
<td><code>cluster-info</code></td>
<td><code>kubectl cluster-info [flags]</code></td>
<td>Display endpoint information about the master and services in the cluster.</td>
</tr>
<tr>
<td><code>completion</code></td>
<td><code>kubectl completion SHELL [options]</code></td>
<td>Output shell completion code for the specified shell (bash or zsh).</td>
</tr>
<tr>
<td><code>config</code></td>
<td><code>kubectl config SUBCOMMAND [flags]</code></td>
<td>Modifies kubeconfig files. See the individual subcommands for details.</td>
</tr>
<tr>
<td><code>convert</code></td>
<td><code>kubectl convert -f FILENAME [options]</code></td>
<td>Convert config files between different API versions. Both YAML and JSON formats are accepted. Note - requires <code>kubectl-convert</code> plugin to be installed.</td>
</tr>
<tr>
<td><code>cordon</code></td>
<td><code>kubectl cordon NODE [options]</code></td>
<td>Mark node as unschedulable.</td>
</tr>
<tr>
<td><code>cp</code></td>
<td><code>kubectl cp &lt;file-spec-src> &lt;file-spec-dest> [options]</code></td>
<td>Copy files and directories to and from containers.</td>
</tr>
<tr>
<td><code>create</code></td>
<td><code>kubectl create -f FILENAME [flags]</code></td>
<td>Create one or more resources from a file or stdin.</td>
</tr>
<tr>
<td><code>delete</code></td>
<td><code>kubectl delete (-f FILENAME | TYPE [NAME | /NAME | -l label | --all]) [flags]</code></td>
<td>Delete resources either from a file, stdin, or specifying label selectors, names, resource selectors, or resources.</td>
</tr>
<tr>
<td><code>describe</code></td>
<td><code>kubectl describe (-f FILENAME | TYPE [NAME_PREFIX | /NAME | -l label]) [flags]</code></td>
<td>Display the detailed state of one or more resources.</td>
</tr>
<tr>
<td><code>diff</code></td>
<td><code>kubectl diff -f FILENAME [flags]</code></td>
<td>Diff file or stdin against live configuration.</td>
</tr>
<tr>
<td><code>drain</code></td>
<td><code>kubectl drain NODE [options]</code></td>
<td>Drain node in preparation for maintenance.</td>
</tr>
<tr>
<td><code>edit</code></td>
<td><code>kubectl edit (-f FILENAME | TYPE NAME | TYPE/NAME) [flags]</code></td>
<td>Edit and update the definition of one or more resources on the server by using the default editor.</td>
</tr>
<tr>
<td><code>exec</code></td>
<td><code>kubectl exec POD [-c CONTAINER] [-i] [-t] [flags] [-- COMMAND [args...]]</code></td>
<td>Execute a command against a container in a pod.</td>
</tr>
<tr>
<td><code>explain</code></td>
<td><code>kubectl explain [--recursive=false] [flags]</code></td>
<td>Get documentation of various resources. For instance pods, nodes, services, etc.</td>
</tr>
<tr>
<td><code>expose</code></td>
<td><code>kubectl expose (-f FILENAME | TYPE NAME | TYPE/NAME) [--port=port] [--protocol=TCP|UDP] [--target-port=number-or-name] [--name=name] [--external-ip=external-ip-of-service] [--type=type] [flags]</code></td>
<td>Expose a replication controller, service, or pod as a new Kubernetes service.</td>
</tr>
<tr>
<td><code>get</code></td>
<td><code>kubectl get (-f FILENAME | TYPE [NAME | /NAME | -l label]) [--watch] [--sort-by=FIELD] [[-o | --output]=OUTPUT_FORMAT] [flags]</code></td>
<td>List one or more resources.</td>
</tr>
<tr>
<td><code>kustomize</code></td>
<td><code>kubectl kustomize &lt;dir> [flags] [options]</code></td>
<td>List a set of API resources generated from instructions in a kustomization.yaml file. The argument must be the path to the directory containing the file, or a git repository URL with a path suffix specifying same with respect to the repository root.</td>
</tr>
<tr>
<td><code>label</code></td>
<td><code>kubectl label (-f FILENAME | TYPE NAME | TYPE/NAME) KEY_1=VAL_1 ... KEY_N=VAL_N [--overwrite] [--all] [--resource-version=version] [flags]</code></td>
<td>Add or update the labels of one or more resources.</td>
</tr>
<tr>
<td><code>logs</code></td>
<td><code>kubectl logs POD [-c CONTAINER] [--follow] [flags]</code></td>
<td>Print the logs for a container in a pod.</td>
</tr>
<tr>
<td><code>options</code></td>
<td><code>kubectl options</code></td>
<td>List of global command-line options, which apply to all commands.</td>
</tr>
<tr>
<td><code>patch</code></td>
<td><code>kubectl patch (-f FILENAME | TYPE NAME | TYPE/NAME) --patch PATCH [flags]</code></td>
<td>Update one or more fields of a resource by using the strategic merge patch process.</td>
</tr>
<tr>
<td><code>plugin</code></td>
<td><code>kubectl plugin [flags] [options]</code></td>
<td>Provides utilities for interacting with plugins.</td>
</tr>
<tr>
<td><code>port-forward</code></td>
<td><code>kubectl port-forward POD [LOCAL_PORT:]REMOTE_PORT [...[LOCAL_PORT_N:]REMOTE_PORT_N] [flags]</code></td>
<td>Forward one or more local ports to a pod.</td>
</tr>
<tr>
<td><code>proxy</code></td>
<td><code>kubectl proxy [--port=PORT] [--www=static-dir] [--www-prefix=prefix] [--api-prefix=prefix] [flags]</code></td>
<td>Run a proxy to the Kubernetes API server.</td>
</tr>
<tr>
<td><code>replace</code></td>
<td><code>kubectl replace -f FILENAME</code></td>
<td>Replace a resource from a file or stdin.</td>
</tr>
<tr>
<td><code>rollout</code></td>
<td><code>kubectl rollout SUBCOMMAND [options]</code></td>
<td>Manage the rollout of a resource. Valid resource types include: deployments, daemonsets and statefulsets.</td>
</tr>
<tr>
<td><code>run</code></td>
<td><code>kubectl run NAME --image=image [--env="key=value"] [--port=port] [--dry-run=server|client|none] [--overrides=inline-json] [flags]</code></td>
<td>Run a specified image on the cluster.</td>
</tr>
<tr>
<td><code>scale</code></td>
<td><code>kubectl scale (-f FILENAME | TYPE NAME | TYPE/NAME) --replicas=COUNT [--resource-version=version] [--current-replicas=count] [flags]</code></td>
<td>Update the size of the specified replication controller.</td>
</tr>
<tr>
<td><code>set</code></td>
<td><code>kubectl set SUBCOMMAND [options]</code></td>
<td>Configure application resources.</td>
</tr>
<tr>
<td><code>taint</code></td>
<td><code>kubectl taint NODE NAME KEY_1=VAL_1:TAINT_EFFECT_1 ... KEY_N=VAL_N:TAINT_EFFECT_N [options]</code></td>
<td>Update the taints on one or more nodes.</td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>kubectl top [flags] [options]</code></td>
<td>Display Resource (CPU/Memory/Storage) usage.</td>
</tr>
<tr>
<td><code>uncordon</code></td>
<td><code>kubectl uncordon NODE [options]</code></td>
<td>Mark node as schedulable.</td>
</tr>
<tr>
<td><code>version</code></td>
<td><code>kubectl version [--client] [flags]</code></td>
<td>Display the Kubernetes version running on the client and server.</td>
</tr>
<tr>
<td><code>wait</code></td>
<td><code>kubectl wait ([-f FILENAME] | resource.group/resource.name | resource.group [(-l label | --all)]) [--for=delete|--for condition=available] [options]</code></td>
<td>Experimental: Wait for a specific condition on one or many resources.</td>
</tr>
</tbody>
</table>
<p>To learn more about command operations, see the <a href=/docs/reference/kubectl/kubectl/>kubectl</a> reference documentation.</p>
<h2 id=resource-types>Resource types</h2>
<p>The following table includes a list of all the supported resource types and their abbreviated aliases.</p>
<p>(This output can be retrieved from <code>kubectl api-resources</code>, and was accurate as of Kubernetes 1.19.1.)</p>
<table>
<thead>
<tr>
<th>NAME</th>
<th>SHORTNAMES</th>
<th>APIGROUP</th>
<th>NAMESPACED</th>
<th>KIND</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bindings</code></td>
<td></td>
<td></td>
<td>true</td>
<td>Binding</td>
</tr>
<tr>
<td><code>componentstatuses</code></td>
<td><code>cs</code></td>
<td></td>
<td>false</td>
<td>ComponentStatus</td>
</tr>
<tr>
<td><code>configmaps</code></td>
<td><code>cm</code></td>
<td></td>
<td>true</td>
<td>ConfigMap</td>
</tr>
<tr>
<td><code>endpoints</code></td>
<td><code>ep</code></td>
<td></td>
<td>true</td>
<td>Endpoints</td>
</tr>
<tr>
<td><code>events</code></td>
<td><code>ev</code></td>
<td></td>
<td>true</td>
<td>Event</td>
</tr>
<tr>
<td><code>limitranges</code></td>
<td><code>limits</code></td>
<td></td>
<td>true</td>
<td>LimitRange</td>
</tr>
<tr>
<td><code>namespaces</code></td>
<td><code>ns</code></td>
<td></td>
<td>false</td>
<td>Namespace</td>
</tr>
<tr>
<td><code>nodes</code></td>
<td><code>no</code></td>
<td></td>
<td>false</td>
<td>Node</td>
</tr>
<tr>
<td><code>persistentvolumeclaims</code></td>
<td><code>pvc</code></td>
<td></td>
<td>true</td>
<td>PersistentVolumeClaim</td>
</tr>
<tr>
<td><code>persistentvolumes</code></td>
<td><code>pv</code></td>
<td></td>
<td>false</td>
<td>PersistentVolume</td>
</tr>
<tr>
<td><code>pods</code></td>
<td><code>po</code></td>
<td></td>
<td>true</td>
<td>Pod</td>
</tr>
<tr>
<td><code>podtemplates</code></td>
<td></td>
<td></td>
<td>true</td>
<td>PodTemplate</td>
</tr>
<tr>
<td><code>replicationcontrollers</code></td>
<td><code>rc</code></td>
<td></td>
<td>true</td>
<td>ReplicationController</td>
</tr>
<tr>
<td><code>resourcequotas</code></td>
<td><code>quota</code></td>
<td></td>
<td>true</td>
<td>ResourceQuota</td>
</tr>
<tr>
<td><code>secrets</code></td>
<td></td>
<td></td>
<td>true</td>
<td>Secret</td>
</tr>
<tr>
<td><code>serviceaccounts</code></td>
<td><code>sa</code></td>
<td></td>
<td>true</td>
<td>ServiceAccount</td>
</tr>
<tr>
<td><code>services</code></td>
<td><code>svc</code></td>
<td></td>
<td>true</td>
<td>Service</td>
</tr>
<tr>
<td><code>mutatingwebhookconfigurations</code></td>
<td></td>
<td>admissionregistration.k8s.io</td>
<td>false</td>
<td>MutatingWebhookConfiguration</td>
</tr>
<tr>
<td><code>validatingwebhookconfigurations</code></td>
<td></td>
<td>admissionregistration.k8s.io</td>
<td>false</td>
<td>ValidatingWebhookConfiguration</td>
</tr>
<tr>
<td><code>customresourcedefinitions</code></td>
<td><code>crd,crds</code></td>
<td>apiextensions.k8s.io</td>
<td>false</td>
<td>CustomResourceDefinition</td>
</tr>
<tr>
<td><code>apiservices</code></td>
<td></td>
<td>apiregistration.k8s.io</td>
<td>false</td>
<td>APIService</td>
</tr>
<tr>
<td><code>controllerrevisions</code></td>
<td></td>
<td>apps</td>
<td>true</td>
<td>ControllerRevision</td>
</tr>
<tr>
<td><code>daemonsets</code></td>
<td><code>ds</code></td>
<td>apps</td>
<td>true</td>
<td>DaemonSet</td>
</tr>
<tr>
<td><code>deployments</code></td>
<td><code>deploy</code></td>
<td>apps</td>
<td>true</td>
<td>Deployment</td>
</tr>
<tr>
<td><code>replicasets</code></td>
<td><code>rs</code></td>
<td>apps</td>
<td>true</td>
<td>ReplicaSet</td>
</tr>
<tr>
<td><code>statefulsets</code></td>
<td><code>sts</code></td>
<td>apps</td>
<td>true</td>
<td>StatefulSet</td>
</tr>
<tr>
<td><code>tokenreviews</code></td>
<td></td>
<td>authentication.k8s.io</td>
<td>false</td>
<td>TokenReview</td>
</tr>
<tr>
<td><code>localsubjectaccessreviews</code></td>
<td></td>
<td>authorization.k8s.io</td>
<td>true</td>
<td>LocalSubjectAccessReview</td>
</tr>
<tr>
<td><code>selfsubjectaccessreviews</code></td>
<td></td>
<td>authorization.k8s.io</td>
<td>false</td>
<td>SelfSubjectAccessReview</td>
</tr>
<tr>
<td><code>selfsubjectrulesreviews</code></td>
<td></td>
<td>authorization.k8s.io</td>
<td>false</td>
<td>SelfSubjectRulesReview</td>
</tr>
<tr>
<td><code>subjectaccessreviews</code></td>
<td></td>
<td>authorization.k8s.io</td>
<td>false</td>
<td>SubjectAccessReview</td>
</tr>
<tr>
<td><code>horizontalpodautoscalers</code></td>
<td><code>hpa</code></td>
<td>autoscaling</td>
<td>true</td>
<td>HorizontalPodAutoscaler</td>
</tr>
<tr>
<td><code>cronjobs</code></td>
<td><code>cj</code></td>
<td>batch</td>
<td>true</td>
<td>CronJob</td>
</tr>
<tr>
<td><code>jobs</code></td>
<td></td>
<td>batch</td>
<td>true</td>
<td>Job</td>
</tr>
<tr>
<td><code>certificatesigningrequests</code></td>
<td><code>csr</code></td>
<td>certificates.k8s.io</td>
<td>false</td>
<td>CertificateSigningRequest</td>
</tr>
<tr>
<td><code>leases</code></td>
<td></td>
<td>coordination.k8s.io</td>
<td>true</td>
<td>Lease</td>
</tr>
<tr>
<td><code>endpointslices</code></td>
<td></td>
<td>discovery.k8s.io</td>
<td>true</td>
<td>EndpointSlice</td>
</tr>
<tr>
<td><code>events</code></td>
<td><code>ev</code></td>
<td>events.k8s.io</td>
<td>true</td>
<td>Event</td>
</tr>
<tr>
<td><code>ingresses</code></td>
<td><code>ing</code></td>
<td>extensions</td>
<td>true</td>
<td>Ingress</td>
</tr>
<tr>
<td><code>flowschemas</code></td>
<td></td>
<td>flowcontrol.apiserver.k8s.io</td>
<td>false</td>
<td>FlowSchema</td>
</tr>
<tr>
<td><code>prioritylevelconfigurations</code></td>
<td></td>
<td>flowcontrol.apiserver.k8s.io</td>
<td>false</td>
<td>PriorityLevelConfiguration</td>
</tr>
<tr>
<td><code>ingressclasses</code></td>
<td></td>
<td>networking.k8s.io</td>
<td>false</td>
<td>IngressClass</td>
</tr>
<tr>
<td><code>ingresses</code></td>
<td><code>ing</code></td>
<td>networking.k8s.io</td>
<td>true</td>
<td>Ingress</td>
</tr>
<tr>
<td><code>networkpolicies</code></td>
<td><code>netpol</code></td>
<td>networking.k8s.io</td>
<td>true</td>
<td>NetworkPolicy</td>
</tr>
<tr>
<td><code>runtimeclasses</code></td>
<td></td>
<td>node.k8s.io</td>
<td>false</td>
<td>RuntimeClass</td>
</tr>
<tr>
<td><code>poddisruptionbudgets</code></td>
<td><code>pdb</code></td>
<td>policy</td>
<td>true</td>
<td>PodDisruptionBudget</td>
</tr>
<tr>
<td><code>podsecuritypolicies</code></td>
<td><code>psp</code></td>
<td>policy</td>
<td>false</td>
<td>PodSecurityPolicy</td>
</tr>
<tr>
<td><code>clusterrolebindings</code></td>
<td></td>
<td>rbac.authorization.k8s.io</td>
<td>false</td>
<td>ClusterRoleBinding</td>
</tr>
<tr>
<td><code>clusterroles</code></td>
<td></td>
<td>rbac.authorization.k8s.io</td>
<td>false</td>
<td>ClusterRole</td>
</tr>
<tr>
<td><code>rolebindings</code></td>
<td></td>
<td>rbac.authorization.k8s.io</td>
<td>true</td>
<td>RoleBinding</td>
</tr>
<tr>
<td><code>roles</code></td>
<td></td>
<td>rbac.authorization.k8s.io</td>
<td>true</td>
<td>Role</td>
</tr>
<tr>
<td><code>priorityclasses</code></td>
<td><code>pc</code></td>
<td>scheduling.k8s.io</td>
<td>false</td>
<td>PriorityClass</td>
</tr>
<tr>
<td><code>csidrivers</code></td>
<td></td>
<td>storage.k8s.io</td>
<td>false</td>
<td>CSIDriver</td>
</tr>
<tr>
<td><code>csinodes</code></td>
<td></td>
<td>storage.k8s.io</td>
<td>false</td>
<td>CSINode</td>
</tr>
<tr>
<td><code>storageclasses</code></td>
<td><code>sc</code></td>
<td>storage.k8s.io</td>
<td>false</td>
<td>StorageClass</td>
</tr>
<tr>
<td><code>volumeattachments</code></td>
<td></td>
<td>storage.k8s.io</td>
<td>false</td>
<td>VolumeAttachment</td>
</tr>
</tbody>
</table>
<h2 id=output-options>Output options</h2>
<p>Use the following sections for information about how you can format or sort the output of certain commands. For details about which commands support the various output options, see the <a href=/docs/reference/kubectl/kubectl/>kubectl</a> reference documentation.</p>
<h3 id=formatting-output>Formatting output</h3>
<p>The default output format for all <code>kubectl</code> commands is the human readable plain-text format. To output details to your terminal window in a specific format, you can add either the <code>-o</code> or <code>--output</code> flags to a supported <code>kubectl</code> command.</p>
<h4 id=syntax-1>Syntax</h4>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl <span style=color:#666>[</span>command<span style=color:#666>]</span> <span style=color:#666>[</span>TYPE<span style=color:#666>]</span> <span style=color:#666>[</span>NAME<span style=color:#666>]</span> -o &lt;output_format&gt;
</code></pre></div><p>Depending on the <code>kubectl</code> operation, the following output formats are supported:</p>
<table>
<thead>
<tr>
<th>Output format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-o custom-columns=&lt;spec></code></td>
<td>Print a table using a comma separated list of <a href=#custom-columns>custom columns</a>.</td>
</tr>
<tr>
<td><code>-o custom-columns-file=&lt;filename></code></td>
<td>Print a table using the <a href=#custom-columns>custom columns</a> template in the <code>&lt;filename></code> file.</td>
</tr>
<tr>
<td><code>-o json</code></td>
<td>Output a JSON formatted API object.</td>
</tr>
<tr>
<td><code>-o jsonpath=&lt;template></code></td>
<td>Print the fields defined in a <a href=/docs/reference/kubectl/jsonpath/>jsonpath</a> expression.</td>
</tr>
<tr>
<td><code>-o jsonpath-file=&lt;filename></code></td>
<td>Print the fields defined by the <a href=/docs/reference/kubectl/jsonpath/>jsonpath</a> expression in the <code>&lt;filename></code> file.</td>
</tr>
<tr>
<td><code>-o name</code></td>
<td>Print only the resource name and nothing else.</td>
</tr>
<tr>
<td><code>-o wide</code></td>
<td>Output in the plain-text format with any additional information. For pods, the node name is included.</td>
</tr>
<tr>
<td><code>-o yaml</code></td>
<td>Output a YAML formatted API object.</td>
</tr>
</tbody>
</table>
<h5 id=example>Example</h5>
<p>In this example, the following command outputs the details for a single pod as a YAML formatted object:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pod web-pod-13je7 -o yaml
</code></pre></div><p>Remember: See the <a href=/docs/reference/kubectl/kubectl/>kubectl</a> reference documentation
for details about which output format is supported by each command.</p>
<h4 id=custom-columns>Custom columns</h4>
<p>To define custom columns and output only the details that you want into a table, you can use the <code>custom-columns</code> option.
You can choose to define the custom columns inline or use a template file: <code>-o custom-columns=&lt;spec></code> or <code>-o custom-columns-file=&lt;filename></code>.</p>
<h5 id=examples>Examples</h5>
<p>Inline:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pods &lt;pod-name&gt; -o custom-columns<span style=color:#666>=</span>NAME:.metadata.name,RSRC:.metadata.resourceVersion
</code></pre></div><p>Template file:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pods &lt;pod-name&gt; -o custom-columns-file<span style=color:#666>=</span>template.txt
</code></pre></div><p>where the <code>template.txt</code> file contains:</p>
<pre><code>NAME          RSRC
metadata.name metadata.resourceVersion
</code></pre><p>The result of running either command is similar to:</p>
<pre><code>NAME           RSRC
submit-queue   610995
</code></pre><h4 id=server-side-columns>Server-side columns</h4>
<p><code>kubectl</code> supports receiving specific column information from the server about objects.
This means that for any given resource, the server will return columns and rows relevant to that resource, for the client to print.
This allows for consistent human-readable output across clients used against the same cluster, by having the server encapsulate the details of printing.</p>
<p>This feature is enabled by default. To disable it, add the
<code>--server-print=false</code> flag to the <code>kubectl get</code> command.</p>
<h5 id=examples-1>Examples</h5>
<p>To print information about the status of a pod, use a command like the following:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pods &lt;pod-name&gt; --server-print<span style=color:#666>=</span><span style=color:#a2f>false</span>
</code></pre></div><p>The output is similar to:</p>
<pre><code>NAME       AGE
pod-name   1m
</code></pre><h3 id=sorting-list-objects>Sorting list objects</h3>
<p>To output objects to a sorted list in your terminal window, you can add the <code>--sort-by</code> flag to a supported <code>kubectl</code> command. Sort your objects by specifying any numeric or string field with the <code>--sort-by</code> flag. To specify a field, use a <a href=/docs/reference/kubectl/jsonpath/>jsonpath</a> expression.</p>
<h4 id=syntax-2>Syntax</h4>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl <span style=color:#666>[</span>command<span style=color:#666>]</span> <span style=color:#666>[</span>TYPE<span style=color:#666>]</span> <span style=color:#666>[</span>NAME<span style=color:#666>]</span> --sort-by<span style=color:#666>=</span>&lt;jsonpath_exp&gt;
</code></pre></div><h5 id=example-1>Example</h5>
<p>To print a list of pods sorted by name, you run:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pods --sort-by<span style=color:#666>=</span>.metadata.name
</code></pre></div><h2 id=examples-common-operations>Examples: Common operations</h2>
<p>Use the following set of examples to help you familiarize yourself with running the commonly used <code>kubectl</code> operations:</p>
<p><code>kubectl apply</code> - Apply or Update a resource from a file or stdin.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># Create a service using the definition in example-service.yaml.</span>
kubectl apply -f example-service.yaml

<span style=color:#080;font-style:italic># Create a replication controller using the definition in example-controller.yaml.</span>
kubectl apply -f example-controller.yaml

<span style=color:#080;font-style:italic># Create the objects that are defined in any .yaml, .yml, or .json file within the &lt;directory&gt; directory.</span>
kubectl apply -f &lt;directory&gt;
</code></pre></div><p><code>kubectl get</code> - List one or more resources.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># List all pods in plain-text output format.</span>
kubectl get pods

<span style=color:#080;font-style:italic># List all pods in plain-text output format and include additional information (such as node name).</span>
kubectl get pods -o wide

<span style=color:#080;font-style:italic># List the replication controller with the specified name in plain-text output format. Tip: You can shorten and replace the &#39;replicationcontroller&#39; resource type with the alias &#39;rc&#39;.</span>
kubectl get replicationcontroller &lt;rc-name&gt;

<span style=color:#080;font-style:italic># List all replication controllers and services together in plain-text output format.</span>
kubectl get rc,services

<span style=color:#080;font-style:italic># List all daemon sets in plain-text output format.</span>
kubectl get ds

<span style=color:#080;font-style:italic># List all pods running on node server01</span>
kubectl get pods --field-selector<span style=color:#666>=</span>spec.nodeName<span style=color:#666>=</span>server01
</code></pre></div><p><code>kubectl describe</code> - Display detailed state of one or more resources, including the uninitialized ones by default.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># Display the details of the node with name &lt;node-name&gt;.</span>
kubectl describe nodes &lt;node-name&gt;

<span style=color:#080;font-style:italic># Display the details of the pod with name &lt;pod-name&gt;.</span>
kubectl describe pods/&lt;pod-name&gt;

<span style=color:#080;font-style:italic># Display the details of all the pods that are managed by the replication controller named &lt;rc-name&gt;.</span>
<span style=color:#080;font-style:italic># Remember: Any pods that are created by the replication controller get prefixed with the name of the replication controller.</span>
kubectl describe pods &lt;rc-name&gt;

<span style=color:#080;font-style:italic># Describe all pods</span>
kubectl describe pods
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> The <code>kubectl get</code> command is usually used for retrieving one or more
resources of the same resource type. It features a rich set of flags that allows
you to customize the output format using the <code>-o</code> or <code>--output</code> flag, for example.
You can specify the <code>-w</code> or <code>--watch</code> flag to start watching updates to a particular
object. The <code>kubectl describe</code> command is more focused on describing the many
related aspects of a specified resource. It may invoke several API calls to the
API server to build a view for the user. For example, the <code>kubectl describe node</code>
command retrieves not only the information about the node, but also a summary of
the pods running on it, the events generated for the node etc.
</div>
<p><code>kubectl delete</code> - Delete resources either from a file, stdin, or specifying label selectors, names, resource selectors, or resources.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># Delete a pod using the type and name specified in the pod.yaml file.</span>
kubectl delete -f pod.yaml

<span style=color:#080;font-style:italic># Delete all the pods and services that have the label &#39;&lt;label-key&gt;=&lt;label-value&gt;&#39;.</span>
kubectl delete pods,services -l &lt;label-key&gt;<span style=color:#666>=</span>&lt;label-value&gt;

<span style=color:#080;font-style:italic># Delete all pods, including uninitialized ones.</span>
kubectl delete pods --all
</code></pre></div><p><code>kubectl exec</code> - Execute a command against a container in a pod.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># Get output from running &#39;date&#39; from pod &lt;pod-name&gt;. By default, output is from the first container.</span>
kubectl <span style=color:#a2f>exec</span> &lt;pod-name&gt; -- date

<span style=color:#080;font-style:italic># Get output from running &#39;date&#39; in container &lt;container-name&gt; of pod &lt;pod-name&gt;.</span>
kubectl <span style=color:#a2f>exec</span> &lt;pod-name&gt; -c &lt;container-name&gt; -- date

<span style=color:#080;font-style:italic># Get an interactive TTY and run /bin/bash from pod &lt;pod-name&gt;. By default, output is from the first container.</span>
kubectl <span style=color:#a2f>exec</span> -ti &lt;pod-name&gt; -- /bin/bash
</code></pre></div><p><code>kubectl logs</code> - Print the logs for a container in a pod.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># Return a snapshot of the logs from pod &lt;pod-name&gt;.</span>
kubectl logs &lt;pod-name&gt;

<span style=color:#080;font-style:italic># Start streaming the logs from pod &lt;pod-name&gt;. This is similar to the &#39;tail -f&#39; Linux command.</span>
kubectl logs -f &lt;pod-name&gt;
</code></pre></div><p><code>kubectl diff</code> - View a diff of the proposed updates to a cluster.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># Diff resources included in &#34;pod.json&#34;.</span>
kubectl diff -f pod.json

<span style=color:#080;font-style:italic># Diff file read from stdin.</span>
cat service.yaml | kubectl diff -f -
</code></pre></div><h2 id=examples-creating-and-using-plugins>Examples: Creating and using plugins</h2>
<p>Use the following set of examples to help you familiarize yourself with writing and using <code>kubectl</code> plugins:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># create a simple plugin in any language and name the resulting executable file</span>
<span style=color:#080;font-style:italic># so that it begins with the prefix &#34;kubectl-&#34;</span>
cat ./kubectl-hello
</code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080>#!/bin/sh
</span><span style=color:#080></span>
<span style=color:#080;font-style:italic># this plugin prints the words &#34;hello world&#34;</span>
<span style=color:#a2f>echo</span> <span style=color:#b44>&#34;hello world&#34;</span>
</code></pre></div><p>With a plugin written, let's make it executable:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>chmod a+x ./kubectl-hello

<span style=color:#080;font-style:italic># and move it to a location in our PATH</span>
sudo mv ./kubectl-hello /usr/local/bin
sudo chown root:root /usr/local/bin

<span style=color:#080;font-style:italic># You have now created and &#34;installed&#34; a kubectl plugin.</span>
<span style=color:#080;font-style:italic># You can begin using this plugin by invoking it from kubectl as if it were a regular command</span>
kubectl hello
</code></pre></div><pre><code>hello world
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># You can &#34;uninstall&#34; a plugin, by removing it from the folder in your</span>
<span style=color:#080;font-style:italic># $PATH where you placed it</span>
sudo rm /usr/local/bin/kubectl-hello
</code></pre></div><p>In order to view all of the plugins that are available to <code>kubectl</code>, use
the <code>kubectl plugin list</code> subcommand:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl plugin list
</code></pre></div><p>The output is similar to:</p>
<pre><code>The following kubectl-compatible plugins are available:

/usr/local/bin/kubectl-hello
/usr/local/bin/kubectl-foo
/usr/local/bin/kubectl-bar
</code></pre><p><code>kubectl plugin list</code> also warns you about plugins that are not
executable, or that are shadowed by other plugins; for example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>sudo chmod -x /usr/local/bin/kubectl-foo <span style=color:#080;font-style:italic># remove execute permission</span>
kubectl plugin list
</code></pre></div><pre><code>The following kubectl-compatible plugins are available:

/usr/local/bin/kubectl-hello
/usr/local/bin/kubectl-foo
  - warning: /usr/local/bin/kubectl-foo identified as a plugin, but it is not executable
/usr/local/bin/kubectl-bar

error: one plugin warning was found
</code></pre><p>You can think of plugins as a means to build more complex functionality on top
of the existing kubectl commands:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>cat ./kubectl-whoami
</code></pre></div><p>The next few examples assume that you already made <code>kubectl-whoami</code> have
the following contents:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080>#!/bin/bash
</span><span style=color:#080></span>
<span style=color:#080;font-style:italic># this plugin makes use of the `kubectl config` command in order to output</span>
<span style=color:#080;font-style:italic># information about the current user, based on the currently selected context</span>
kubectl config view --template<span style=color:#666>=</span><span style=color:#b44>&#39;{{ range .contexts }}{{ if eq .name &#34;&#39;</span><span style=color:#a2f;font-weight:700>$(</span>kubectl config current-context<span style=color:#a2f;font-weight:700>)</span><span style=color:#b44>&#39;&#34; }}Current user: {{ printf &#34;%s\n&#34; .context.user }}{{ end }}{{ end }}&#39;</span>
</code></pre></div><p>Running the above command gives you an output containing the user for the
current context in your KUBECONFIG file:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># make the file executable</span>
sudo chmod +x ./kubectl-whoami

<span style=color:#080;font-style:italic># and move it into your PATH</span>
sudo mv ./kubectl-whoami /usr/local/bin

kubectl whoami
Current user: plugins-user
</code></pre></div><h2 id=what-s-next>What's next</h2>
<ul>
<li>
<p>Start using the <a href=/docs/reference/generated/kubectl/kubectl-commands/>kubectl</a> commands.</p>
</li>
<li>
<p>To find out more about plugins, take a look at the <a href=https://github.com/kubernetes/sample-cli-plugin>example cli plugin</a>.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a938176c695852fe70362c29cf615f1c>10.2 - JSONPath Support</h1>
<p>Kubectl supports JSONPath template.</p>
<p>JSONPath template is composed of JSONPath expressions enclosed by curly braces {}.
Kubectl uses JSONPath expressions to filter on specific fields in the JSON object and format the output.
In addition to the original JSONPath template syntax, the following functions and syntax are valid:</p>
<ol>
<li>Use double quotes to quote text inside JSONPath expressions.</li>
<li>Use the <code>range</code>, <code>end</code> operators to iterate lists.</li>
<li>Use negative slice indices to step backwards through a list. Negative indices do not "wrap around" a list and are valid as long as <code>-index + listLength >= 0</code>.</li>
</ol>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <ul>
<li>
<p>The <code>$</code> operator is optional since the expression always starts from the root object by default.</p>
</li>
<li>
<p>The result object is printed as its String() function.</p>
</li>
</ul>
</div>
<p>Given the JSON input:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:green;font-weight:700>&#34;kind&#34;</span>: <span style=color:#b44>&#34;List&#34;</span>,
  <span style=color:green;font-weight:700>&#34;items&#34;</span>:[
    {
      <span style=color:green;font-weight:700>&#34;kind&#34;</span>:<span style=color:#b44>&#34;None&#34;</span>,
      <span style=color:green;font-weight:700>&#34;metadata&#34;</span>:{<span style=color:green;font-weight:700>&#34;name&#34;</span>:<span style=color:#b44>&#34;127.0.0.1&#34;</span>},
      <span style=color:green;font-weight:700>&#34;status&#34;</span>:{
        <span style=color:green;font-weight:700>&#34;capacity&#34;</span>:{<span style=color:green;font-weight:700>&#34;cpu&#34;</span>:<span style=color:#b44>&#34;4&#34;</span>},
        <span style=color:green;font-weight:700>&#34;addresses&#34;</span>:[{<span style=color:green;font-weight:700>&#34;type&#34;</span>: <span style=color:#b44>&#34;LegacyHostIP&#34;</span>, <span style=color:green;font-weight:700>&#34;address&#34;</span>:<span style=color:#b44>&#34;127.0.0.1&#34;</span>}]
      }
    },
    {
      <span style=color:green;font-weight:700>&#34;kind&#34;</span>:<span style=color:#b44>&#34;None&#34;</span>,
      <span style=color:green;font-weight:700>&#34;metadata&#34;</span>:{<span style=color:green;font-weight:700>&#34;name&#34;</span>:<span style=color:#b44>&#34;127.0.0.2&#34;</span>},
      <span style=color:green;font-weight:700>&#34;status&#34;</span>:{
        <span style=color:green;font-weight:700>&#34;capacity&#34;</span>:{<span style=color:green;font-weight:700>&#34;cpu&#34;</span>:<span style=color:#b44>&#34;8&#34;</span>},
        <span style=color:green;font-weight:700>&#34;addresses&#34;</span>:[
          {<span style=color:green;font-weight:700>&#34;type&#34;</span>: <span style=color:#b44>&#34;LegacyHostIP&#34;</span>, <span style=color:green;font-weight:700>&#34;address&#34;</span>:<span style=color:#b44>&#34;127.0.0.2&#34;</span>},
          {<span style=color:green;font-weight:700>&#34;type&#34;</span>: <span style=color:#b44>&#34;another&#34;</span>, <span style=color:green;font-weight:700>&#34;address&#34;</span>:<span style=color:#b44>&#34;127.0.0.3&#34;</span>}
        ]
      }
    }
  ],
  <span style=color:green;font-weight:700>&#34;users&#34;</span>:[
    {
      <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;myself&#34;</span>,
      <span style=color:green;font-weight:700>&#34;user&#34;</span>: {}
    },
    {
      <span style=color:green;font-weight:700>&#34;name&#34;</span>: <span style=color:#b44>&#34;e2e&#34;</span>,
      <span style=color:green;font-weight:700>&#34;user&#34;</span>: {<span style=color:green;font-weight:700>&#34;username&#34;</span>: <span style=color:#b44>&#34;admin&#34;</span>, <span style=color:green;font-weight:700>&#34;password&#34;</span>: <span style=color:#b44>&#34;secret&#34;</span>}
    }
  ]
}
</code></pre></div><table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>text</code></td>
<td>the plain text</td>
<td><code>kind is {.kind}</code></td>
<td><code>kind is List</code></td>
</tr>
<tr>
<td><code>@</code></td>
<td>the current object</td>
<td><code>{@}</code></td>
<td>the same as input</td>
</tr>
<tr>
<td><code>.</code> or <code>[]</code></td>
<td>child operator</td>
<td><code>{.kind}</code>, <code>{['kind']}</code> or <code>{['name\.type']}</code></td>
<td><code>List</code></td>
</tr>
<tr>
<td><code>..</code></td>
<td>recursive descent</td>
<td><code>{..name}</code></td>
<td><code>127.0.0.1 127.0.0.2 myself e2e</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>wildcard. Get all objects</td>
<td><code>{.items[*].metadata.name}</code></td>
<td><code>[127.0.0.1 127.0.0.2]</code></td>
</tr>
<tr>
<td><code>[start:end:step]</code></td>
<td>subscript operator</td>
<td><code>{.users[0].name}</code></td>
<td><code>myself</code></td>
</tr>
<tr>
<td><code>[,]</code></td>
<td>union operator</td>
<td><code>{.items[*]['metadata.name', 'status.capacity']}</code></td>
<td><code>127.0.0.1 127.0.0.2 map[cpu:4] map[cpu:8]</code></td>
</tr>
<tr>
<td><code>?()</code></td>
<td>filter</td>
<td><code>{.users[?(@.name=="e2e")].user.password}</code></td>
<td><code>secret</code></td>
</tr>
<tr>
<td><code>range</code>, <code>end</code></td>
<td>iterate list</td>
<td><code>{range .items[*]}[{.metadata.name}, {.status.capacity}] {end}</code></td>
<td><code>[127.0.0.1, map[cpu:4]] [127.0.0.2, map[cpu:8]]</code></td>
</tr>
<tr>
<td><code>''</code></td>
<td>quote interpreted string</td>
<td><code>{range .items[*]}{.metadata.name}{'\t'}{end}</code></td>
<td><code>127.0.0.1 127.0.0.2</code></td>
</tr>
</tbody>
</table>
<p>Examples using <code>kubectl</code> and JSONPath expressions:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pods -o json
kubectl get pods -o<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{@}&#39;</span>
kubectl get pods -o<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[0]}&#39;</span>
kubectl get pods -o<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[0].metadata.name}&#39;</span>
kubectl get pods -o<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#34;{.items[*][&#39;metadata.name&#39;, &#39;status.capacity&#39;]}&#34;</span>
kubectl get pods -o<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{range .items[*]}{.metadata.name}{&#34;\t&#34;}{.status.startTime}{&#34;\n&#34;}{end}&#39;</span>
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>On Windows, you must <em>double</em> quote any JSONPath template that contains spaces (not single quote as shown above for bash). This in turn means that you must use a single quote or escaped double quote around any literals in the template. For example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd>kubectl get pods -o=jsonpath=<span style=color:#b44>&#34;{range .items[*]}{.metadata.name}{&#39;\t&#39;}{.status.startTime}{&#39;\n&#39;}{end}&#34;</span>
kubectl get pods -o=jsonpath=<span style=color:#b44>&#34;{range .items[*]}{.metadata.name}{\&#34;</span>\t\<span style=color:#b44>&#34;}{.status.startTime}{\&#34;</span>\n\<span style=color:#b44>&#34;}{end}&#34;</span>
</code></pre></div>
</div>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <p>JSONPath regular expressions are not supported. If you want to match using regular expressions, you can use a tool such as <code>jq</code>.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># kubectl does not support regular expressions for JSONpath output</span>
<span style=color:#080;font-style:italic># The following command does not work</span>
kubectl get pods -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[?(@.metadata.name=~/^test$/)].metadata.name}&#39;</span>

<span style=color:#080;font-style:italic># The following command achieves the desired result</span>
kubectl get pods -o json | jq -r <span style=color:#b44>&#39;.items[] | select(.metadata.name | test(&#34;test-&#34;)).spec.containers[].image&#39;</span>
</code></pre></div>
</div>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-4d3e62632c189fcc3c1357cd8fb8799c>10.3 - kubectl</h1>
<h2 id=synopsis>Synopsis</h2>
<p>kubectl controls the Kubernetes cluster manager.</p>
<p>Find more information at: <a href=https://kubernetes.io/docs/reference/kubectl/overview/>https://kubernetes.io/docs/reference/kubectl/overview/</a></p>
<pre><code>kubectl [flags]
</code></pre><h2 id=options>Options</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>--add-dir-header</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, adds the file directory to the header of the log messages</td>
</tr>
<tr>
<td colspan=2>--alsologtostderr</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>log to standard error as well as files</td>
</tr>
<tr>
<td colspan=2>--as string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Username to impersonate for the operation</td>
</tr>
<tr>
<td colspan=2>--as-group stringArray</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Group to impersonate for the operation, this flag can be repeated to specify multiple groups.</td>
</tr>
<tr>
<td colspan=2>--azure-container-registry-config string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to the file containing Azure container registry configuration information.</td>
</tr>
<tr>
<td colspan=2>--cache-dir string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "$HOME/.kube/cache"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Default cache directory</td>
</tr>
<tr>
<td colspan=2>--certificate-authority string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to a cert file for the certificate authority</td>
</tr>
<tr>
<td colspan=2>--client-certificate string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to a client certificate file for TLS</td>
</tr>
<tr>
<td colspan=2>--client-key string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to a client key file for TLS</td>
</tr>
<tr>
<td colspan=2>--cloud-provider-gce-l7lb-src-cidrs cidrs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 130.211.0.0/22,35.191.0.0/16</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>CIDRs opened in GCE firewall for L7 LB traffic proxy & health checks</td>
</tr>
<tr>
<td colspan=2>--cloud-provider-gce-lb-src-cidrs cidrs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 130.211.0.0/22,209.85.152.0/22,209.85.204.0/22,35.191.0.0/16</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>CIDRs opened in GCE firewall for L4 LB traffic proxy & health checks</td>
</tr>
<tr>
<td colspan=2>--cluster string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The name of the kubeconfig cluster to use</td>
</tr>
<tr>
<td colspan=2>--context string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The name of the kubeconfig context to use</td>
</tr>
<tr>
<td colspan=2>--default-not-ready-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Indicates the tolerationSeconds of the toleration for notReady:NoExecute that is added by default to every pod that does not already have such a toleration.</td>
</tr>
<tr>
<td colspan=2>--default-unreachable-toleration-seconds int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 300</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Indicates the tolerationSeconds of the toleration for unreachable:NoExecute that is added by default to every pod that does not already have such a toleration.</td>
</tr>
<tr>
<td colspan=2>-h, --help</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>help for kubectl</td>
</tr>
<tr>
<td colspan=2>--insecure-skip-tls-verify</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, the server's certificate will not be checked for validity. This will make your HTTPS connections insecure</td>
</tr>
<tr>
<td colspan=2>--kubeconfig string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to the kubeconfig file to use for CLI requests.</td>
</tr>
<tr>
<td colspan=2>--log-backtrace-at traceLocation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: :0</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>when logging hits line file:N, emit a stack trace</td>
</tr>
<tr>
<td colspan=2>--log-dir string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, write log files in this directory</td>
</tr>
<tr>
<td colspan=2>--log-file string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If non-empty, use this log file</td>
</tr>
<tr>
<td colspan=2>--log-file-max-size uint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 1800</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</td>
</tr>
<tr>
<td colspan=2>--log-flush-frequency duration&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 5s</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Maximum number of seconds between log flushes</td>
</tr>
<tr>
<td colspan=2>--logtostderr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: true</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>log to standard error instead of files</td>
</tr>
<tr>
<td colspan=2>--match-server-version</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Require server version to match client version</td>
</tr>
<tr>
<td colspan=2>-n, --namespace string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If present, the namespace scope for this CLI request</td>
</tr>
<tr>
<td colspan=2>--one-output</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, only write logs to their native severity level (vs also writing to each lower severity level</td>
</tr>
<tr>
<td colspan=2>--password string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Password for basic authentication to the API server</td>
</tr>
<tr>
<td colspan=2>--profile string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "none"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Name of profile to capture. One of (none|cpu|heap|goroutine|threadcreate|block|mutex)</td>
</tr>
<tr>
<td colspan=2>--profile-output string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "profile.pprof"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Name of the file to write the profile to</td>
</tr>
<tr>
<td colspan=2>--request-timeout string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: "0"</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The length of time to wait before giving up on a single server request. Non-zero values should contain a corresponding time unit (e.g. 1s, 2m, 3h). A value of zero means don't timeout requests.</td>
</tr>
<tr>
<td colspan=2>-s, --server string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The address and port of the Kubernetes API server</td>
</tr>
<tr>
<td colspan=2>--skip-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, avoid header prefixes in the log messages</td>
</tr>
<tr>
<td colspan=2>--skip-log-headers</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>If true, avoid headers when opening log files</td>
</tr>
<tr>
<td colspan=2>--stderrthreshold severity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default: 2</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>logs at or above this threshold go to stderr</td>
</tr>
<tr>
<td colspan=2>--tls-server-name string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Server name to use for server certificate validation. If it is not provided, the hostname used to contact the server is used</td>
</tr>
<tr>
<td colspan=2>--token string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Bearer token for authentication to the API server</td>
</tr>
<tr>
<td colspan=2>--user string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>The name of the kubeconfig user to use</td>
</tr>
<tr>
<td colspan=2>--username string</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Username for basic authentication to the API server</td>
</tr>
<tr>
<td colspan=2>-v, --v Level</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>number for the log level verbosity</td>
</tr>
<tr>
<td colspan=2>--version version[=true]</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Print version information and quit</td>
</tr>
<tr>
<td colspan=2>--vmodule moduleSpec</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>comma-separated list of pattern=N settings for file-filtered logging</td>
</tr>
<tr>
<td colspan=2>--warnings-as-errors</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Treat warnings received from the server as errors and exit with a non-zero exit code</td>
</tr>
</tbody>
</table>
<h2 id=environment-variables>Environment variables</h2>
<table style=width:100%;table-layout:fixed>
<col span=1 style=width:10px>
<col span=1>
<tbody>
<tr>
<td colspan=2>KUBECONFIG</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>Path to the kubectl configuration ("kubeconfig") file. Default: "$HOME/.kube/config"</td>
</tr>
<tr>
<td colspan=2>KUBECTL_COMMAND_HEADERS</td>
</tr>
<tr>
<td></td><td style=line-height:130%;word-wrap:break-word>When set to false, turns off extra HTTP headers detailing invoked kubectl command (Kubernetes version v1.22 or later)</td>
</tr>
</tbody>
</table>
<h2 id=see-also>See Also</h2>
<ul>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#annotate>kubectl annotate</a> - Update the annotations on a resource</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#api-resources>kubectl api-resources</a> - Print the supported API resources on the server</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#api-versions>kubectl api-versions</a> - Print the supported API versions on the server, in the form of "group/version"</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#apply>kubectl apply</a> - Apply a configuration to a resource by filename or stdin</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#attach>kubectl attach</a> - Attach to a running container</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#auth>kubectl auth</a> - Inspect authorization</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#autoscale>kubectl autoscale</a> - Auto-scale a Deployment, ReplicaSet, or ReplicationController</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#certificate>kubectl certificate</a> - Modify certificate resources.</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#cluster-info>kubectl cluster-info</a> - Display cluster info</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#completion>kubectl completion</a> - Output shell completion code for the specified shell (bash or zsh)</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#config>kubectl config</a> - Modify kubeconfig files</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#cordon>kubectl cordon</a> - Mark node as unschedulable</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#cp>kubectl cp</a> - Copy files and directories to and from containers.</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#create>kubectl create</a> - Create a resource from a file or from stdin.</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#debug>kubectl debug</a> - Create debugging sessions for troubleshooting workloads and nodes</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#delete>kubectl delete</a> - Delete resources by filenames, stdin, resources and names, or by resources and label selector</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#describe>kubectl describe</a> - Show details of a specific resource or group of resources</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#diff>kubectl diff</a> - Diff live version against would-be applied version</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#drain>kubectl drain</a> - Drain node in preparation for maintenance</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#edit>kubectl edit</a> - Edit a resource on the server</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#exec>kubectl exec</a> - Execute a command in a container</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#explain>kubectl explain</a> - Documentation of resources</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#expose>kubectl expose</a> - Take a replication controller, service, deployment or pod and expose it as a new Kubernetes Service</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#get>kubectl get</a> - Display one or many resources</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#kustomize>kubectl kustomize</a> - Build a kustomization target from a directory or a remote url.</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#label>kubectl label</a> - Update the labels on a resource</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#logs>kubectl logs</a> - Print the logs for a container in a pod</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#options>kubectl options</a> - Print the list of flags inherited by all commands</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#patch>kubectl patch</a> - Update field(s) of a resource</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#plugin>kubectl plugin</a> - Provides utilities for interacting with plugins.</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#port-forward>kubectl port-forward</a> - Forward one or more local ports to a pod</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#proxy>kubectl proxy</a> - Run a proxy to the Kubernetes API server</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#replace>kubectl replace</a> - Replace a resource by filename or stdin</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#rollout>kubectl rollout</a> - Manage the rollout of a resource</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#run>kubectl run</a> - Run a particular image on the cluster</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#scale>kubectl scale</a> - Set a new size for a Deployment, ReplicaSet or Replication Controller</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#set>kubectl set</a> - Set specific features on objects</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#taint>kubectl taint</a> - Update the taints on one or more nodes</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#top>kubectl top</a> - Display Resource (CPU/Memory/Storage) usage.</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#uncordon>kubectl uncordon</a> - Mark node as schedulable</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#version>kubectl version</a> - Print the client and server version information</li>
<li><a href=/docs/reference/generated/kubectl/kubectl-commands#wait>kubectl wait</a> - Experimental: Wait for a specific condition on one or many resources.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8aba901ac13f124e5782b90ddb166ee2>10.4 - kubectl Cheat Sheet</h1>
<p>This page contains a list of commonly used <code>kubectl</code> commands and flags.</p>
<h2 id=kubectl-autocomplete>Kubectl autocomplete</h2>
<h3 id=bash>BASH</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>source</span> &lt;<span style=color:#666>(</span>kubectl completion bash<span style=color:#666>)</span> <span style=color:#080;font-style:italic># setup autocomplete in bash into the current shell, bash-completion package should be installed first.</span>
<span style=color:#a2f>echo</span> <span style=color:#b44>&#34;source &lt;(kubectl completion bash)&#34;</span> &gt;&gt; ~/.bashrc <span style=color:#080;font-style:italic># add autocomplete permanently to your bash shell.</span>
</code></pre></div><p>You can also use a shorthand alias for <code>kubectl</code> that also works with completion:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>alias</span> <span style=color:#b8860b>k</span><span style=color:#666>=</span>kubectl
<span style=color:#a2f>complete</span> -F __start_kubectl k
</code></pre></div><h3 id=zsh>ZSH</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#a2f>source</span> &lt;<span style=color:#666>(</span>kubectl completion zsh<span style=color:#666>)</span>  <span style=color:#080;font-style:italic># setup autocomplete in zsh into the current shell</span>
<span style=color:#a2f>echo</span> <span style=color:#b44>&#34;[[ </span><span style=color:#b8860b>$commands</span><span style=color:#b44>[kubectl] ]] &amp;&amp; source &lt;(kubectl completion zsh)&#34;</span> &gt;&gt; ~/.zshrc <span style=color:#080;font-style:italic># add autocomplete permanently to your zsh shell</span>
</code></pre></div><h2 id=kubectl-context-and-configuration>Kubectl context and configuration</h2>
<p>Set which Kubernetes cluster <code>kubectl</code> communicates with and modifies configuration
information. See <a href=/docs/tasks/access-application-cluster/configure-access-multiple-clusters/>Authenticating Across Clusters with kubeconfig</a> documentation for
detailed config file information.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl config view <span style=color:#080;font-style:italic># Show Merged kubeconfig settings.</span>

<span style=color:#080;font-style:italic># use multiple kubeconfig files at the same time and view merged config</span>
<span style=color:#b8860b>KUBECONFIG</span><span style=color:#666>=</span>~/.kube/config:~/.kube/kubconfig2 

kubectl config view

<span style=color:#080;font-style:italic># get the password for the e2e user</span>
kubectl config view -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.users[?(@.name == &#34;e2e&#34;)].user.password}&#39;</span>

kubectl config view -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.users[].name}&#39;</span>    <span style=color:#080;font-style:italic># display the first user</span>
kubectl config view -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.users[*].name}&#39;</span>   <span style=color:#080;font-style:italic># get a list of users</span>
kubectl config get-contexts                          <span style=color:#080;font-style:italic># display list of contexts </span>
kubectl config current-context                       <span style=color:#080;font-style:italic># display the current-context</span>
kubectl config use-context my-cluster-name           <span style=color:#080;font-style:italic># set the default context to my-cluster-name</span>

<span style=color:#080;font-style:italic># add a new user to your kubeconf that supports basic auth</span>
kubectl config set-credentials kubeuser/foo.kubernetes.com --username<span style=color:#666>=</span>kubeuser --password<span style=color:#666>=</span>kubepassword

<span style=color:#080;font-style:italic># permanently save the namespace for all subsequent kubectl commands in that context.</span>
kubectl config set-context --current --namespace<span style=color:#666>=</span>ggckad-s2

<span style=color:#080;font-style:italic># set a context utilizing a specific username and namespace.</span>
kubectl config set-context gce --user<span style=color:#666>=</span>cluster-admin --namespace<span style=color:#666>=</span>foo <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  <span style=color:#666>&amp;&amp;</span> kubectl config use-context gce

kubectl config <span style=color:#a2f>unset</span> users.foo                       <span style=color:#080;font-style:italic># delete user foo</span>
</code></pre></div><h2 id=kubectl-apply>Kubectl apply</h2>
<p><code>apply</code> manages applications through files defining Kubernetes resources. It creates and updates resources in a cluster through running <code>kubectl apply</code>. This is the recommended way of managing Kubernetes applications on production. See <a href=https://kubectl.docs.kubernetes.io>Kubectl Book</a>.</p>
<h2 id=creating-objects>Creating objects</h2>
<p>Kubernetes manifests can be defined in YAML or JSON. The file extension <code>.yaml</code>,
<code>.yml</code>, and <code>.json</code> can be used.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl apply -f ./my-manifest.yaml            <span style=color:#080;font-style:italic># create resource(s)</span>
kubectl apply -f ./my1.yaml -f ./my2.yaml      <span style=color:#080;font-style:italic># create from multiple files</span>
kubectl apply -f ./dir                         <span style=color:#080;font-style:italic># create resource(s) in all manifest files in dir</span>
kubectl apply -f https://git.io/vPieo          <span style=color:#080;font-style:italic># create resource(s) from url</span>
kubectl create deployment nginx --image<span style=color:#666>=</span>nginx  <span style=color:#080;font-style:italic># start a single instance of nginx</span>

<span style=color:#080;font-style:italic># create a Job which prints &#34;Hello World&#34;</span>
kubectl create job hello --image<span style=color:#666>=</span>busybox -- <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;Hello World&#34;</span> 

<span style=color:#080;font-style:italic># create a CronJob that prints &#34;Hello World&#34; every minute</span>
kubectl create cronjob hello --image<span style=color:#666>=</span>busybox   --schedule<span style=color:#666>=</span><span style=color:#b44>&#34;*/1 * * * *&#34;</span> -- <span style=color:#a2f>echo</span> <span style=color:#b44>&#34;Hello World&#34;</span>    

kubectl explain pods                           <span style=color:#080;font-style:italic># get the documentation for pod manifests</span>

<span style=color:#080;font-style:italic># Create multiple YAML objects from stdin</span>
cat <span style=color:#b44>&lt;&lt;EOF | kubectl apply -f -
</span><span style=color:#b44>apiVersion: v1
</span><span style=color:#b44>kind: Pod
</span><span style=color:#b44>metadata:
</span><span style=color:#b44>  name: busybox-sleep
</span><span style=color:#b44>spec:
</span><span style=color:#b44>  containers:
</span><span style=color:#b44>  - name: busybox
</span><span style=color:#b44>    image: busybox
</span><span style=color:#b44>    args:
</span><span style=color:#b44>    - sleep
</span><span style=color:#b44>    - &#34;1000000&#34;
</span><span style=color:#b44>---
</span><span style=color:#b44>apiVersion: v1
</span><span style=color:#b44>kind: Pod
</span><span style=color:#b44>metadata:
</span><span style=color:#b44>  name: busybox-sleep-less
</span><span style=color:#b44>spec:
</span><span style=color:#b44>  containers:
</span><span style=color:#b44>  - name: busybox
</span><span style=color:#b44>    image: busybox
</span><span style=color:#b44>    args:
</span><span style=color:#b44>    - sleep
</span><span style=color:#b44>    - &#34;1000&#34;
</span><span style=color:#b44>EOF</span>

<span style=color:#080;font-style:italic># Create a secret with several keys</span>
cat <span style=color:#b44>&lt;&lt;EOF | kubectl apply -f -
</span><span style=color:#b44>apiVersion: v1
</span><span style=color:#b44>kind: Secret
</span><span style=color:#b44>metadata:
</span><span style=color:#b44>  name: mysecret
</span><span style=color:#b44>type: Opaque
</span><span style=color:#b44>data:
</span><span style=color:#b44>  password: $(echo -n &#34;s33msi4&#34; | base64 -w0)
</span><span style=color:#b44>  username: $(echo -n &#34;jane&#34; | base64 -w0)
</span><span style=color:#b44>EOF</span>

</code></pre></div><h2 id=viewing-finding-resources>Viewing, finding resources</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#080;font-style:italic># Get commands with basic output</span>
kubectl get services                          <span style=color:#080;font-style:italic># List all services in the namespace</span>
kubectl get pods --all-namespaces             <span style=color:#080;font-style:italic># List all pods in all namespaces</span>
kubectl get pods -o wide                      <span style=color:#080;font-style:italic># List all pods in the current namespace, with more details</span>
kubectl get deployment my-dep                 <span style=color:#080;font-style:italic># List a particular deployment</span>
kubectl get pods                              <span style=color:#080;font-style:italic># List all pods in the namespace</span>
kubectl get pod my-pod -o yaml                <span style=color:#080;font-style:italic># Get a pod&#39;s YAML</span>

<span style=color:#080;font-style:italic># Describe commands with verbose output</span>
kubectl describe nodes my-node
kubectl describe pods my-pod

<span style=color:#080;font-style:italic># List Services Sorted by Name</span>
kubectl get services --sort-by<span style=color:#666>=</span>.metadata.name

<span style=color:#080;font-style:italic># List pods Sorted by Restart Count</span>
kubectl get pods --sort-by<span style=color:#666>=</span><span style=color:#b44>&#39;.status.containerStatuses[0].restartCount&#39;</span>

<span style=color:#080;font-style:italic># List PersistentVolumes sorted by capacity</span>
kubectl get pv --sort-by<span style=color:#666>=</span>.spec.capacity.storage

<span style=color:#080;font-style:italic># Get the version label of all pods with label app=cassandra</span>
kubectl get pods --selector<span style=color:#666>=</span><span style=color:#b8860b>app</span><span style=color:#666>=</span>cassandra -o <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[*].metadata.labels.version}&#39;</span>

<span style=color:#080;font-style:italic># Retrieve the value of a key with dots, e.g. &#39;ca.crt&#39;</span>
kubectl get configmap myconfig <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span>  -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.data.ca\.crt}&#39;</span>

<span style=color:#080;font-style:italic># Get all worker nodes (use a selector to exclude results that have a label</span>
<span style=color:#080;font-style:italic># named &#39;node-role.kubernetes.io/master&#39;)</span>
kubectl get node --selector<span style=color:#666>=</span><span style=color:#b44>&#39;!node-role.kubernetes.io/master&#39;</span>

<span style=color:#080;font-style:italic># Get all running pods in the namespace</span>
kubectl get pods --field-selector<span style=color:#666>=</span>status.phase<span style=color:#666>=</span>Running

<span style=color:#080;font-style:italic># Get ExternalIPs of all nodes</span>
kubectl get nodes -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{.items[*].status.addresses[?(@.type==&#34;ExternalIP&#34;)].address}&#39;</span>

<span style=color:#080;font-style:italic># List Names of Pods that belong to Particular RC</span>
<span style=color:#080;font-style:italic># &#34;jq&#34; command useful for transformations that are too complex for jsonpath, it can be found at https://stedolan.github.io/jq/</span>
<span style=color:#b8860b>sel</span><span style=color:#666>=</span><span style=color:#b68;font-weight:700>${</span><span style=color:#a2f;font-weight:700>$(</span>kubectl get rc my-rc --output<span style=color:#666>=</span>json | jq -j <span style=color:#b44>&#39;.spec.selector | to_entries | .[] | &#34;\(.key)=\(.value),&#34;&#39;</span><span style=color:#a2f;font-weight:700>)</span>%?<span style=color:#b68;font-weight:700>}</span>
<span style=color:#a2f>echo</span> <span style=color:#a2f;font-weight:700>$(</span>kubectl get pods --selector<span style=color:#666>=</span><span style=color:#b8860b>$sel</span> --output<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>={</span>.items..metadata.name<span style=color:#666>}</span><span style=color:#a2f;font-weight:700>)</span>

<span style=color:#080;font-style:italic># Show labels for all pods (or any other Kubernetes object that supports labelling)</span>
kubectl get pods --show-labels

<span style=color:#080;font-style:italic># Check which nodes are ready</span>
<span style=color:#b8860b>JSONPATH</span><span style=color:#666>=</span><span style=color:#b44>&#39;{range .items[*]}{@.metadata.name}:{range @.status.conditions[*]}{@.type}={@.status};{end}{end}&#39;</span> <span style=color:#b62;font-weight:700>\
</span><span style=color:#b62;font-weight:700></span> <span style=color:#666>&amp;&amp;</span> kubectl get nodes -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#34;</span><span style=color:#b8860b>$JSONPATH</span><span style=color:#b44>&#34;</span> | grep <span style=color:#b44>&#34;Ready=True&#34;</span>

<span style=color:#080;font-style:italic># Output decoded secrets without external tools</span>
kubectl get secret my-secret -o go-template<span style=color:#666>=</span><span style=color:#b44>&#39;{{range $k,$v := .data}}{{&#34;### &#34;}}{{$k}}{{&#34;\n&#34;}}{{$v|base64decode}}{{&#34;\n\n&#34;}}{{end}}&#39;</span>

<span style=color:#080;font-style:italic># List all Secrets currently in use by a pod</span>
kubectl get pods -o json | jq <span style=color:#b44>&#39;.items[].spec.containers[].env[]?.valueFrom.secretKeyRef.name&#39;</span> | grep -v null | sort | uniq

<span style=color:#080;font-style:italic># List all containerIDs of initContainer of all pods</span>
<span style=color:#080;font-style:italic># Helpful when cleaning up stopped containers, while avoiding removal of initContainers.</span>
kubectl get pods --all-namespaces -o <span style=color:#b8860b>jsonpath</span><span style=color:#666>=</span><span style=color:#b44>&#39;{range .items[*].status.initContainerStatuses[*]}{.containerID}{&#34;\n&#34;}{end}&#39;</span> | cut -d/ -f3

<span style=color:#080;font-style:italic># List Events sorted by timestamp</span>
kubectl get events --sort-by<span style=color:#666>=</span>.metadata.creationTimestamp

<span style=color:#080;font-style:italic># Compares the current state of the cluster against the state that the cluster would be in if the manifest was applied.</span>
kubectl diff -f ./my-manifest.yaml

<span style=color:#080;font-style:italic># Produce a period-delimited tree of all keys returned for nodes</span>
<span style=color:#080;font-style:italic># Helpful when locating a key within a complex nested JSON structure</span>
kubectl get nodes -o json | jq -c <span style=color:#b44>&#39;path(..)|[.[]|tostring]|join(&#34;.&#34;)&#39;</span>

<span style=color:#080;font-style:italic># Produce a period-delimited tree of all keys returned for pods, etc</span>
kubectl get pods -o json | jq -c <span style=color:#b44>&#39;path(..)|[.[]|tostring]|join(&#34;.&#34;)&#39;</span>

<span style=color:#080;font-style:italic># Produce ENV for all pods, assuming you have a default container for the pods, default namespace and the `env` command is supported.</span>
<span style=color:#080;font-style:italic># Helpful when running any supported command across all pods, not just `env`</span>
<span style=color:#a2f;font-weight:700>for</span> pod in <span style=color:#a2f;font-weight:700>$(</span>kubectl get po --output<span style=color:#666>=</span><span style=color:#b8860b>jsonpath</span><span style=color:#666>={</span>.items..metadata.name<span style=color:#666>}</span><span style=color:#a2f;font-weight:700>)</span>; <span style=color:#a2f;font-weight:700>do</span> <span style=color:#a2f>echo</span> <span style=color:#b8860b>$pod</span> <span style=color:#666>&amp;&amp;</span> kubectl <span style=color:#a2f>exec</span> -it <span style=color:#b8860b>$pod</span> -- env; <span style=color:#a2f;font-weight:700>done</span>
</code></pre></div><h2 id=updating-resources>Updating resources</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl <span style=color:#a2f>set</span> image deployment/frontend <span style=color:#b8860b>www</span><span style=color:#666>=</span>image:v2               <span style=color:#080;font-style:italic># Rolling update &#34;www&#34; containers of &#34;frontend&#34; deployment, updating the image</span>
kubectl rollout <span style=color:#a2f>history</span> deployment/frontend                      <span style=color:#080;font-style:italic># Check the history of deployments including the revision </span>
kubectl rollout undo deployment/frontend                         <span style=color:#080;font-style:italic># Rollback to the previous deployment</span>
kubectl rollout undo deployment/frontend --to-revision<span style=color:#666>=</span><span style=color:#666>2</span>         <span style=color:#080;font-style:italic># Rollback to a specific revision</span>
kubectl rollout status -w deployment/frontend                    <span style=color:#080;font-style:italic># Watch rolling update status of &#34;frontend&#34; deployment until completion</span>
kubectl rollout restart deployment/frontend                      <span style=color:#080;font-style:italic># Rolling restart of the &#34;frontend&#34; deployment</span>


cat pod.json | kubectl replace -f -                              <span style=color:#080;font-style:italic># Replace a pod based on the JSON passed into std</span>

<span style=color:#080;font-style:italic># Force replace, delete and then re-create the resource. Will cause a service outage.</span>
kubectl replace --force -f ./pod.json

<span style=color:#080;font-style:italic># Create a service for a replicated nginx, which serves on port 80 and connects to the containers on port 8000</span>
kubectl expose rc nginx --port<span style=color:#666>=</span><span style=color:#666>80</span> --target-port<span style=color:#666>=</span><span style=color:#666>8000</span>

<span style=color:#080;font-style:italic># Update a single-container pod&#39;s image version (tag) to v4</span>
kubectl get pod mypod -o yaml | sed <span style=color:#b44>&#39;s/\(image: myimage\):.*$/\1:v4/&#39;</span> | kubectl replace -f -

kubectl label pods my-pod new-label<span style=color:#666>=</span>awesome                      <span style=color:#080;font-style:italic># Add a Label</span>
kubectl annotate pods my-pod icon-url<span style=color:#666>=</span>http://goo.gl/XXBTWq       <span style=color:#080;font-style:italic># Add an annotation</span>
kubectl autoscale deployment foo --min<span style=color:#666>=</span><span style=color:#666>2</span> --max<span style=color:#666>=</span><span style=color:#666>10</span>                <span style=color:#080;font-style:italic># Auto scale a deployment &#34;foo&#34;</span>
</code></pre></div><h2 id=patching-resources>Patching resources</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#080;font-style:italic># Partially update a node</span>
kubectl patch node k8s-node-1 -p <span style=color:#b44>&#39;{&#34;spec&#34;:{&#34;unschedulable&#34;:true}}&#39;</span>

<span style=color:#080;font-style:italic># Update a container&#39;s image; spec.containers[*].name is required because it&#39;s a merge key</span>
kubectl patch pod valid-pod -p <span style=color:#b44>&#39;{&#34;spec&#34;:{&#34;containers&#34;:[{&#34;name&#34;:&#34;kubernetes-serve-hostname&#34;,&#34;image&#34;:&#34;new image&#34;}]}}&#39;</span>

<span style=color:#080;font-style:italic># Update a container&#39;s image using a json patch with positional arrays</span>
kubectl patch pod valid-pod --type<span style=color:#666>=</span><span style=color:#b44>&#39;json&#39;</span> -p<span style=color:#666>=</span><span style=color:#b44>&#39;[{&#34;op&#34;: &#34;replace&#34;, &#34;path&#34;: &#34;/spec/containers/0/image&#34;, &#34;value&#34;:&#34;new image&#34;}]&#39;</span>

<span style=color:#080;font-style:italic># Disable a deployment livenessProbe using a json patch with positional arrays</span>
kubectl patch deployment valid-deployment  --type json   -p<span style=color:#666>=</span><span style=color:#b44>&#39;[{&#34;op&#34;: &#34;remove&#34;, &#34;path&#34;: &#34;/spec/template/spec/containers/0/livenessProbe&#34;}]&#39;</span>

<span style=color:#080;font-style:italic># Add a new element to a positional array</span>
kubectl patch sa default --type<span style=color:#666>=</span><span style=color:#b44>&#39;json&#39;</span> -p<span style=color:#666>=</span><span style=color:#b44>&#39;[{&#34;op&#34;: &#34;add&#34;, &#34;path&#34;: &#34;/secrets/1&#34;, &#34;value&#34;: {&#34;name&#34;: &#34;whatever&#34; } }]&#39;</span>
</code></pre></div><h2 id=editing-resources>Editing resources</h2>
<p>Edit any API resource in your preferred editor.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl edit svc/docker-registry                      <span style=color:#080;font-style:italic># Edit the service named docker-registry</span>
<span style=color:#b8860b>KUBE_EDITOR</span><span style=color:#666>=</span><span style=color:#b44>&#34;nano&#34;</span> kubectl edit svc/docker-registry   <span style=color:#080;font-style:italic># Use an alternative editor</span>
</code></pre></div><h2 id=scaling-resources>Scaling resources</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl scale --replicas<span style=color:#666>=</span><span style=color:#666>3</span> rs/foo                                 <span style=color:#080;font-style:italic># Scale a replicaset named &#39;foo&#39; to 3</span>
kubectl scale --replicas<span style=color:#666>=</span><span style=color:#666>3</span> -f foo.yaml                            <span style=color:#080;font-style:italic># Scale a resource specified in &#34;foo.yaml&#34; to 3</span>
kubectl scale --current-replicas<span style=color:#666>=</span><span style=color:#666>2</span> --replicas<span style=color:#666>=</span><span style=color:#666>3</span> deployment/mysql  <span style=color:#080;font-style:italic># If the deployment named mysql&#39;s current size is 2, scale mysql to 3</span>
kubectl scale --replicas<span style=color:#666>=</span><span style=color:#666>5</span> rc/foo rc/bar rc/baz                   <span style=color:#080;font-style:italic># Scale multiple replication controllers</span>
</code></pre></div><h2 id=deleting-resources>Deleting resources</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl delete -f ./pod.json                                      <span style=color:#080;font-style:italic># Delete a pod using the type and name specified in pod.json</span>
kubectl delete pod unwanted --now                                 <span style=color:#080;font-style:italic># Delete a pod with no grace period</span>
kubectl delete pod,service baz foo                                <span style=color:#080;font-style:italic># Delete pods and services with same names &#34;baz&#34; and &#34;foo&#34;</span>
kubectl delete pods,services -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel                      <span style=color:#080;font-style:italic># Delete pods and services with label name=myLabel</span>
kubectl -n my-ns delete pod,svc --all                             <span style=color:#080;font-style:italic># Delete all pods and services in namespace my-ns,</span>
<span style=color:#080;font-style:italic># Delete all pods matching the awk pattern1 or pattern2</span>
kubectl get pods  -n mynamespace --no-headers<span style=color:#666>=</span><span style=color:#a2f>true</span> | awk <span style=color:#b44>&#39;/pattern1|pattern2/{print $1}&#39;</span> | xargs  kubectl delete -n mynamespace pod
</code></pre></div><h2 id=interacting-with-running-pods>Interacting with running Pods</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl logs my-pod                                 <span style=color:#080;font-style:italic># dump pod logs (stdout)</span>
kubectl logs -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel                        <span style=color:#080;font-style:italic># dump pod logs, with label name=myLabel (stdout)</span>
kubectl logs my-pod --previous                      <span style=color:#080;font-style:italic># dump pod logs (stdout) for a previous instantiation of a container</span>
kubectl logs my-pod -c my-container                 <span style=color:#080;font-style:italic># dump pod container logs (stdout, multi-container case)</span>
kubectl logs -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel -c my-container        <span style=color:#080;font-style:italic># dump pod logs, with label name=myLabel (stdout)</span>
kubectl logs my-pod -c my-container --previous      <span style=color:#080;font-style:italic># dump pod container logs (stdout, multi-container case) for a previous instantiation of a container</span>
kubectl logs -f my-pod                              <span style=color:#080;font-style:italic># stream pod logs (stdout)</span>
kubectl logs -f my-pod -c my-container              <span style=color:#080;font-style:italic># stream pod container logs (stdout, multi-container case)</span>
kubectl logs -f -l <span style=color:#b8860b>name</span><span style=color:#666>=</span>myLabel --all-containers    <span style=color:#080;font-style:italic># stream all pods logs with label name=myLabel (stdout)</span>
kubectl run -i --tty busybox --image<span style=color:#666>=</span>busybox -- sh  <span style=color:#080;font-style:italic># Run pod as interactive shell</span>
kubectl run nginx --image<span style=color:#666>=</span>nginx -n mynamespace      <span style=color:#080;font-style:italic># Start a single instance of nginx pod in the namespace of mynamespace</span>
kubectl run nginx --image<span style=color:#666>=</span>nginx                     <span style=color:#080;font-style:italic># Run pod nginx and write its spec into a file called pod.yaml</span>
--dry-run<span style=color:#666>=</span>client -o yaml &gt; pod.yaml

kubectl attach my-pod -i                            <span style=color:#080;font-style:italic># Attach to Running Container</span>
kubectl port-forward my-pod 5000:6000               <span style=color:#080;font-style:italic># Listen on port 5000 on the local machine and forward to port 6000 on my-pod</span>
kubectl <span style=color:#a2f>exec</span> my-pod -- ls /                         <span style=color:#080;font-style:italic># Run command in existing pod (1 container case)</span>
kubectl <span style=color:#a2f>exec</span> --stdin --tty my-pod -- /bin/sh        <span style=color:#080;font-style:italic># Interactive shell access to a running pod (1 container case) </span>
kubectl <span style=color:#a2f>exec</span> my-pod -c my-container -- ls /         <span style=color:#080;font-style:italic># Run command in existing pod (multi-container case)</span>
kubectl top pod POD_NAME --containers               <span style=color:#080;font-style:italic># Show metrics for a given pod and its containers</span>
kubectl top pod POD_NAME --sort-by<span style=color:#666>=</span>cpu              <span style=color:#080;font-style:italic># Show metrics for a given pod and sort it by &#39;cpu&#39; or &#39;memory&#39;</span>
</code></pre></div><h2 id=copy-files-and-directories-to-and-from-containers>Copy files and directories to and from containers</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl cp /tmp/foo_dir my-pod:/tmp/bar_dir            <span style=color:#080;font-style:italic># Copy /tmp/foo_dir local directory to /tmp/bar_dir in a remote pod in the current namespace</span>
kubectl cp /tmp/foo my-pod:/tmp/bar -c my-container    <span style=color:#080;font-style:italic># Copy /tmp/foo local file to /tmp/bar in a remote pod in a specific container</span>
kubectl cp /tmp/foo my-namespace/my-pod:/tmp/bar       <span style=color:#080;font-style:italic># Copy /tmp/foo local file to /tmp/bar in a remote pod in namespace my-namespace</span>
kubectl cp my-namespace/my-pod:/tmp/foo /tmp/bar       <span style=color:#080;font-style:italic># Copy /tmp/foo from a remote pod to /tmp/bar locally</span>
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>kubectl cp</code> requires that the 'tar' binary is present in your container image. If 'tar' is not present,<code>kubectl cp</code> will fail.
For advanced use cases, such as symlinks, wildcard expansion or file mode preservation consider using <code>kubectl exec</code>.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>tar cf - /tmp/foo | kubectl <span style=color:#a2f>exec</span> -i -n my-namespace my-pod -- tar xf - -C /tmp/bar           <span style=color:#080;font-style:italic># Copy /tmp/foo local file to /tmp/bar in a remote pod in namespace my-namespace</span>
kubectl <span style=color:#a2f>exec</span> -n my-namespace my-pod -- tar cf - /tmp/foo | tar xf - -C /tmp/bar    <span style=color:#080;font-style:italic># Copy /tmp/foo from a remote pod to /tmp/bar locally</span>
</code></pre></div><h2 id=interacting-with-deployments-and-services>Interacting with Deployments and Services</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl logs deploy/my-deployment                         <span style=color:#080;font-style:italic># dump Pod logs for a Deployment (single-container case)</span>
kubectl logs deploy/my-deployment -c my-container         <span style=color:#080;font-style:italic># dump Pod logs for a Deployment (multi-container case)</span>

kubectl port-forward svc/my-service <span style=color:#666>5000</span>                  <span style=color:#080;font-style:italic># listen on local port 5000 and forward to port 5000 on Service backend</span>
kubectl port-forward svc/my-service 5000:my-service-port  <span style=color:#080;font-style:italic># listen on local port 5000 and forward to Service target port with name &lt;my-service-port&gt;</span>

kubectl port-forward deploy/my-deployment 5000:6000       <span style=color:#080;font-style:italic># listen on local port 5000 and forward to port 6000 on a Pod created by &lt;my-deployment&gt;</span>
kubectl <span style=color:#a2f>exec</span> deploy/my-deployment -- ls                   <span style=color:#080;font-style:italic># run command in first Pod and first container in Deployment (single- or multi-container cases)</span>
</code></pre></div><h2 id=interacting-with-nodes-and-cluster>Interacting with Nodes and cluster</h2>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl cordon my-node                                                <span style=color:#080;font-style:italic># Mark my-node as unschedulable</span>
kubectl drain my-node                                                 <span style=color:#080;font-style:italic># Drain my-node in preparation for maintenance</span>
kubectl uncordon my-node                                              <span style=color:#080;font-style:italic># Mark my-node as schedulable</span>
kubectl top node my-node                                              <span style=color:#080;font-style:italic># Show metrics for a given node</span>
kubectl cluster-info                                                  <span style=color:#080;font-style:italic># Display addresses of the master and services</span>
kubectl cluster-info dump                                             <span style=color:#080;font-style:italic># Dump current cluster state to stdout</span>
kubectl cluster-info dump --output-directory<span style=color:#666>=</span>/path/to/cluster-state   <span style=color:#080;font-style:italic># Dump current cluster state to /path/to/cluster-state</span>

<span style=color:#080;font-style:italic># If a taint with that key and effect already exists, its value is replaced as specified.</span>
kubectl taint nodes foo <span style=color:#b8860b>dedicated</span><span style=color:#666>=</span>special-user:NoSchedule
</code></pre></div><h3 id=resource-types>Resource types</h3>
<p>List all supported resource types along with their shortnames, <a href=/docs/concepts/overview/kubernetes-api/#api-groups-and-versioning>API group</a>, whether they are <a href=/docs/concepts/overview/working-with-objects/namespaces>namespaced</a>, and <a href=/docs/concepts/overview/working-with-objects/kubernetes-objects>Kind</a>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl api-resources
</code></pre></div><p>Other operations for exploring API resources:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl api-resources --namespaced<span style=color:#666>=</span><span style=color:#a2f>true</span>      <span style=color:#080;font-style:italic># All namespaced resources</span>
kubectl api-resources --namespaced<span style=color:#666>=</span><span style=color:#a2f>false</span>     <span style=color:#080;font-style:italic># All non-namespaced resources</span>
kubectl api-resources -o name                <span style=color:#080;font-style:italic># All resources with simple output (only the resource name)</span>
kubectl api-resources -o wide                <span style=color:#080;font-style:italic># All resources with expanded (aka &#34;wide&#34;) output</span>
kubectl api-resources --verbs<span style=color:#666>=</span>list,get       <span style=color:#080;font-style:italic># All resources that support the &#34;list&#34; and &#34;get&#34; request verbs</span>
kubectl api-resources --api-group<span style=color:#666>=</span>extensions <span style=color:#080;font-style:italic># All resources in the &#34;extensions&#34; API group</span>
</code></pre></div><h3 id=formatting-output>Formatting output</h3>
<p>To output details to your terminal window in a specific format, add the <code>-o</code> (or <code>--output</code>) flag to a supported <code>kubectl</code> command.</p>
<table>
<thead>
<tr>
<th>Output format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-o=custom-columns=&lt;spec></code></td>
<td>Print a table using a comma separated list of custom columns</td>
</tr>
<tr>
<td><code>-o=custom-columns-file=&lt;filename></code></td>
<td>Print a table using the custom columns template in the <code>&lt;filename></code> file</td>
</tr>
<tr>
<td><code>-o=json</code></td>
<td>Output a JSON formatted API object</td>
</tr>
<tr>
<td><code>-o=jsonpath=&lt;template></code></td>
<td>Print the fields defined in a <a href=/docs/reference/kubectl/jsonpath>jsonpath</a> expression</td>
</tr>
<tr>
<td><code>-o=jsonpath-file=&lt;filename></code></td>
<td>Print the fields defined by the <a href=/docs/reference/kubectl/jsonpath>jsonpath</a> expression in the <code>&lt;filename></code> file</td>
</tr>
<tr>
<td><code>-o=name</code></td>
<td>Print only the resource name and nothing else</td>
</tr>
<tr>
<td><code>-o=wide</code></td>
<td>Output in the plain-text format with any additional information, and for pods, the node name is included</td>
</tr>
<tr>
<td><code>-o=yaml</code></td>
<td>Output a YAML formatted API object</td>
</tr>
</tbody>
</table>
<p>Examples using <code>-o=custom-columns</code>:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#080;font-style:italic># All images running in a cluster</span>
kubectl get pods -A -o<span style=color:#666>=</span>custom-columns<span style=color:#666>=</span><span style=color:#b44>&#39;DATA:spec.containers[*].image&#39;</span>

<span style=color:#080;font-style:italic># All images running in namespace: default, grouped by Pod</span>
kubectl get pods --namespace default --output<span style=color:#666>=</span>custom-columns<span style=color:#666>=</span><span style=color:#b44>&#34;NAME:.metadata.name,IMAGE:.spec.containers[*].image&#34;</span>

 <span style=color:#080;font-style:italic># All images excluding &#34;k8s.gcr.io/coredns:1.6.2&#34;</span>
kubectl get pods -A -o<span style=color:#666>=</span>custom-columns<span style=color:#666>=</span><span style=color:#b44>&#39;DATA:spec.containers[?(@.image!=&#34;k8s.gcr.io/coredns:1.6.2&#34;)].image&#39;</span>

<span style=color:#080;font-style:italic># All fields under metadata regardless of name</span>
kubectl get pods -A -o<span style=color:#666>=</span>custom-columns<span style=color:#666>=</span><span style=color:#b44>&#39;DATA:metadata.*&#39;</span>
</code></pre></div><p>More examples in the kubectl <a href=/docs/reference/kubectl/overview/#custom-columns>reference documentation</a>.</p>
<h3 id=kubectl-output-verbosity-and-debugging>Kubectl output verbosity and debugging</h3>
<p>Kubectl verbosity is controlled with the <code>-v</code> or <code>--v</code> flags followed by an integer representing the log level. General Kubernetes logging conventions and the associated log levels are described <a href=https://github.com/kubernetes/community/blob/master/contributors/devel/sig-instrumentation/logging.md>here</a>.</p>
<table>
<thead>
<tr>
<th>Verbosity</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--v=0</code></td>
<td>Generally useful for this to <em>always</em> be visible to a cluster operator.</td>
</tr>
<tr>
<td><code>--v=1</code></td>
<td>A reasonable default log level if you don't want verbosity.</td>
</tr>
<tr>
<td><code>--v=2</code></td>
<td>Useful steady state information about the service and important log messages that may correlate to significant changes in the system. This is the recommended default log level for most systems.</td>
</tr>
<tr>
<td><code>--v=3</code></td>
<td>Extended information about changes.</td>
</tr>
<tr>
<td><code>--v=4</code></td>
<td>Debug level verbosity.</td>
</tr>
<tr>
<td><code>--v=5</code></td>
<td>Trace level verbosity.</td>
</tr>
<tr>
<td><code>--v=6</code></td>
<td>Display requested resources.</td>
</tr>
<tr>
<td><code>--v=7</code></td>
<td>Display HTTP request headers.</td>
</tr>
<tr>
<td><code>--v=8</code></td>
<td>Display HTTP request contents.</td>
</tr>
<tr>
<td><code>--v=9</code></td>
<td>Display HTTP request contents without truncation of contents.</td>
</tr>
</tbody>
</table>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>
<p>Read the <a href=/docs/reference/kubectl/overview/>kubectl overview</a> and learn about <a href=/docs/reference/kubectl/jsonpath>JsonPath</a>.</p>
</li>
<li>
<p>See <a href=/docs/reference/kubectl/kubectl/>kubectl</a> options.</p>
</li>
<li>
<p>Also read <a href=/docs/reference/kubectl/conventions/>kubectl Usage Conventions</a> to understand how to use kubectl in reusable scripts.</p>
</li>
<li>
<p>See more community <a href=https://github.com/dennyzhang/cheatsheet-kubernetes-A4>kubectl cheatsheets</a>.</p>
</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d7ffbf04ffbefb241fd0722423b80f5a>10.5 - kubectl Commands</h1>
<p><a href=/docs/reference/generated/kubectl/kubectl-commands/>kubectl Command Reference</a></p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a7abc09192597e614b58f8b552b682f5>10.6 - kubectl for Docker Users</h1>
<p>You can use the Kubernetes command line tool <code>kubectl</code> to interact with the API Server. Using kubectl is straightforward if you are familiar with the Docker command line tool. However, there are a few differences between the Docker commands and the kubectl commands. The following sections show a Docker sub-command and describe the equivalent <code>kubectl</code> command.</p>
<h2 id=docker-run>docker run</h2>
<p>To run an nginx Deployment and expose the Deployment, see <a href=/docs/reference/generated/kubectl/kubectl-commands#-em-deployment-em->kubectl create deployment</a>.
docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker run -d --restart<span style=color:#666>=</span>always -e <span style=color:#b8860b>DOMAIN</span><span style=color:#666>=</span>cluster --name nginx-app -p 80:80 nginx
</code></pre></div><pre><code>55c103fa129692154a7652490236fee9be47d70a8dd562281ae7d2f9a339a6db
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ps
</code></pre></div><pre><code>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES
55c103fa1296        nginx               &quot;nginx -g 'daemon of…&quot;   9 seconds ago       Up 9 seconds        0.0.0.0:80-&gt;80/tcp   nginx-app
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># start the pod running nginx</span>
kubectl create deployment --image<span style=color:#666>=</span>nginx nginx-app
</code></pre></div><pre><code>deployment.apps/nginx-app created
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># add env to nginx-app</span>
kubectl <span style=color:#a2f>set</span> env deployment/nginx-app  <span style=color:#b8860b>DOMAIN</span><span style=color:#666>=</span>cluster
</code></pre></div><pre><code>deployment.apps/nginx-app env updated
</code></pre><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>kubectl</code> commands print the type and name of the resource created or mutated, which can then be used in subsequent commands. You can expose a new Service after a Deployment is created.
</div>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#080;font-style:italic># expose a port through with a service</span>
kubectl expose deployment nginx-app --port<span style=color:#666>=</span><span style=color:#666>80</span> --name<span style=color:#666>=</span>nginx-http
</code></pre></div><pre><code>service &quot;nginx-http&quot; exposed
</code></pre><p>By using kubectl, you can create a <a href=/docs/concepts/workloads/controllers/deployment/>Deployment</a> to ensure that N pods are running nginx, where N is the number of replicas stated in the spec and defaults to 1. You can also create a <a href=/docs/concepts/services-networking/service/>service</a> with a selector that matches the pod labels. For more information, see <a href=/docs/tasks/access-application-cluster/service-access-application-cluster>Use a Service to Access an Application in a Cluster</a>.</p>
<p>By default images run in the background, similar to <code>docker run -d ...</code>. To run things in the foreground, use <a href=/docs/reference/generated/kubectl/kubectl-commands/#run><code>kubectl run</code></a> to create pod:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl run <span style=color:#666>[</span>-i<span style=color:#666>]</span> <span style=color:#666>[</span>--tty<span style=color:#666>]</span> --attach &lt;name&gt; --image<span style=color:#666>=</span>&lt;image&gt;
</code></pre></div><p>Unlike <code>docker run ...</code>, if you specify <code>--attach</code>, then you attach <code>stdin</code>, <code>stdout</code> and <code>stderr</code>. You cannot control which streams are attached (<code>docker -a ...</code>).
To detach from the container, you can type the escape sequence Ctrl+P followed by Ctrl+Q.</p>
<h2 id=docker-ps>docker ps</h2>
<p>To list what is currently running, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#get>kubectl get</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ps -a
</code></pre></div><pre><code>CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS                     PORTS                NAMES
14636241935f        ubuntu:16.04        &quot;echo test&quot;              5 seconds ago        Exited (0) 5 seconds ago                        cocky_fermi
55c103fa1296        nginx               &quot;nginx -g 'daemon of…&quot;   About a minute ago   Up About a minute          0.0.0.0:80-&gt;80/tcp   nginx-app
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get po
</code></pre></div><pre><code>NAME                        READY     STATUS      RESTARTS   AGE
nginx-app-8df569cb7-4gd89   1/1       Running     0          3m
ubuntu                      0/1       Completed   0          20s
</code></pre><h2 id=docker-attach>docker attach</h2>
<p>To attach a process that is already running in a container, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#attach>kubectl attach</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ps
</code></pre></div><pre><code>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES
55c103fa1296        nginx               &quot;nginx -g 'daemon of…&quot;   5 minutes ago       Up 5 minutes        0.0.0.0:80-&gt;80/tcp   nginx-app
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker attach 55c103fa1296
...
</code></pre></div><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get pods
</code></pre></div><pre><code>NAME              READY     STATUS    RESTARTS   AGE
nginx-app-5jyvm   1/1       Running   0          10m
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl attach -it nginx-app-5jyvm
...
</code></pre></div><p>To detach from the container, you can type the escape sequence Ctrl+P followed by Ctrl+Q.</p>
<h2 id=docker-exec>docker exec</h2>
<p>To execute a command in a container, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#exec>kubectl exec</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ps
</code></pre></div><pre><code>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                NAMES
55c103fa1296        nginx               &quot;nginx -g 'daemon of…&quot;   6 minutes ago       Up 6 minutes        0.0.0.0:80-&gt;80/tcp   nginx-app
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker <span style=color:#a2f>exec</span> 55c103fa1296 cat /etc/hostname
</code></pre></div><pre><code>55c103fa1296
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get po
</code></pre></div><pre><code>NAME              READY     STATUS    RESTARTS   AGE
nginx-app-5jyvm   1/1       Running   0          10m
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl <span style=color:#a2f>exec</span> nginx-app-5jyvm -- cat /etc/hostname
</code></pre></div><pre><code>nginx-app-5jyvm
</code></pre><p>To use interactive commands.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker <span style=color:#a2f>exec</span> -ti 55c103fa1296 /bin/sh
<span style=color:#080;font-style:italic># exit</span>
</code></pre></div><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl <span style=color:#a2f>exec</span> -ti nginx-app-5jyvm -- /bin/sh
<span style=color:#080;font-style:italic># exit</span>
</code></pre></div><p>For more information, see <a href=/docs/tasks/debug-application-cluster/get-shell-running-container/>Get a Shell to a Running Container</a>.</p>
<h2 id=docker-logs>docker logs</h2>
<p>To follow stdout/stderr of a process that is running, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#logs>kubectl logs</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker logs -f a9e
</code></pre></div><pre><code>192.168.9.1 - - [14/Jul/2015:01:04:02 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.35.0&quot; &quot;-&quot;
192.168.9.1 - - [14/Jul/2015:01:04:03 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.35.0&quot; &quot;-&quot;
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl logs -f nginx-app-zibvs
</code></pre></div><pre><code>10.240.63.110 - - [14/Jul/2015:01:09:01 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.26.0&quot; &quot;-&quot;
10.240.63.110 - - [14/Jul/2015:01:09:02 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.26.0&quot; &quot;-&quot;
</code></pre><p>There is a slight difference between pods and containers; by default pods do not terminate if their processes exit. Instead the pods restart the process. This is similar to the docker run option <code>--restart=always</code> with one major difference. In docker, the output for each invocation of the process is concatenated, but for Kubernetes, each invocation is separate. To see the output from a previous run in Kubernetes, do this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl logs --previous nginx-app-zibvs
</code></pre></div><pre><code>10.240.63.110 - - [14/Jul/2015:01:09:01 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.26.0&quot; &quot;-&quot;
10.240.63.110 - - [14/Jul/2015:01:09:02 +0000] &quot;GET / HTTP/1.1&quot; 200 612 &quot;-&quot; &quot;curl/7.26.0&quot; &quot;-&quot;
</code></pre><p>For more information, see <a href=/docs/concepts/cluster-administration/logging/>Logging Architecture</a>.</p>
<h2 id=docker-stop-and-docker-rm>docker stop and docker rm</h2>
<p>To stop and delete a running process, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#delete>kubectl delete</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ps
</code></pre></div><pre><code>CONTAINER ID        IMAGE               COMMAND                CREATED             STATUS              PORTS                         NAMES
a9ec34d98787        nginx               &quot;nginx -g 'daemon of&quot;  22 hours ago        Up 22 hours         0.0.0.0:80-&gt;80/tcp, 443/tcp   nginx-app
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker stop a9ec34d98787
</code></pre></div><pre><code>a9ec34d98787
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rm a9ec34d98787
</code></pre></div><pre><code>a9ec34d98787
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get deployment nginx-app
</code></pre></div><pre><code>NAME         READY   UP-TO-DATE   AVAILABLE   AGE
nginx-app    1/1     1            1           2m
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get po -l <span style=color:#b8860b>app</span><span style=color:#666>=</span>nginx-app
</code></pre></div><pre><code>NAME                         READY     STATUS    RESTARTS   AGE
nginx-app-2883164633-aklf7   1/1       Running   0          2m
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl delete deployment nginx-app
</code></pre></div><pre><code>deployment &quot;nginx-app&quot; deleted
</code></pre><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl get po -l <span style=color:#b8860b>app</span><span style=color:#666>=</span>nginx-app
<span style=color:#080;font-style:italic># Return nothing</span>
</code></pre></div><div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> When you use kubectl, you don't delete the pod directly. You have to first delete the Deployment that owns the pod. If you delete the pod directly, the Deployment recreates the pod.
</div>
<h2 id=docker-login>docker login</h2>
<p>There is no direct analog of <code>docker login</code> in kubectl. If you are interested in using Kubernetes with a private registry, see <a href=/docs/concepts/containers/images/#using-a-private-registry>Using a Private Registry</a>.</p>
<h2 id=docker-version>docker version</h2>
<p>To get the version of client and server, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#version>kubectl version</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker version
</code></pre></div><pre><code>Client version: 1.7.0
Client API version: 1.19
Go version (client): go1.4.2
Git commit (client): 0baf609
OS/Arch (client): linux/amd64
Server version: 1.7.0
Server API version: 1.19
Go version (server): go1.4.2
Git commit (server): 0baf609
OS/Arch (server): linux/amd64
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl version
</code></pre></div><pre><code>Client Version: version.Info{Major:&quot;1&quot;, Minor:&quot;6&quot;, GitVersion:&quot;v1.6.9+a3d1dfa6f4335&quot;, GitCommit:&quot;9b77fed11a9843ce3780f70dd251e92901c43072&quot;, GitTreeState:&quot;dirty&quot;, BuildDate:&quot;2017-08-29T20:32:58Z&quot;, OpenPaasKubernetesVersion:&quot;v1.03.02&quot;, GoVersion:&quot;go1.7.5&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
Server Version: version.Info{Major:&quot;1&quot;, Minor:&quot;6&quot;, GitVersion:&quot;v1.6.9+a3d1dfa6f4335&quot;, GitCommit:&quot;9b77fed11a9843ce3780f70dd251e92901c43072&quot;, GitTreeState:&quot;dirty&quot;, BuildDate:&quot;2017-08-29T20:32:58Z&quot;, OpenPaasKubernetesVersion:&quot;v1.03.02&quot;, GoVersion:&quot;go1.7.5&quot;, Compiler:&quot;gc&quot;, Platform:&quot;linux/amd64&quot;}
</code></pre><h2 id=docker-info>docker info</h2>
<p>To get miscellaneous information about the environment and configuration, see <a href=/docs/reference/generated/kubectl/kubectl-commands/#cluster-info>kubectl cluster-info</a>.</p>
<p>docker:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker info
</code></pre></div><pre><code>Containers: 40
Images: 168
Storage Driver: aufs
 Root Dir: /usr/local/google/docker/aufs
 Backing Filesystem: extfs
 Dirs: 248
 Dirperm1 Supported: false
Execution Driver: native-0.2
Logging Driver: json-file
Kernel Version: 3.13.0-53-generic
Operating System: Ubuntu 14.04.2 LTS
CPUs: 12
Total Memory: 31.32 GiB
Name: k8s-is-fun.mtv.corp.google.com
ID: ADUV:GCYR:B3VJ:HMPO:LNPQ:KD5S:YKFQ:76VN:IANZ:7TFV:ZBF4:BYJO
WARNING: No swap limit support
</code></pre><p>kubectl:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubectl cluster-info
</code></pre></div><pre><code>Kubernetes master is running at https://203.0.113.141
KubeDNS is running at https://203.0.113.141/api/v1/namespaces/kube-system/services/kube-dns/proxy
kubernetes-dashboard is running at https://203.0.113.141/api/v1/namespaces/kube-system/services/kubernetes-dashboard/proxy
Grafana is running at https://203.0.113.141/api/v1/namespaces/kube-system/services/monitoring-grafana/proxy
Heapster is running at https://203.0.113.141/api/v1/namespaces/kube-system/services/monitoring-heapster/proxy
InfluxDB is running at https://203.0.113.141/api/v1/namespaces/kube-system/services/monitoring-influxdb/proxy
</code></pre>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8de6aceb8bf692c06cced446bac5bc92>10.7 - kubectl Usage Conventions</h1>
<p>Recommended usage conventions for <code>kubectl</code>.</p>
<h2 id=using-kubectl-in-reusable-scripts>Using <code>kubectl</code> in Reusable Scripts</h2>
<p>For a stable output in a script:</p>
<ul>
<li>Request one of the machine-oriented output forms, such as <code>-o name</code>, <code>-o json</code>, <code>-o yaml</code>, <code>-o go-template</code>, or <code>-o jsonpath</code>.</li>
<li>Fully-qualify the version. For example, <code>jobs.v1.batch/myjob</code>. This will ensure that kubectl does not use its default version that can change over time.</li>
<li>Don't rely on context, preferences, or other implicit states.</li>
</ul>
<h2 id=best-practices>Best Practices</h2>
<h3 id=kubectl-run><code>kubectl run</code></h3>
<p>For <code>kubectl run</code> to satisfy infrastructure as code:</p>
<ul>
<li>Tag the image with a version-specific tag and don't move that tag to a new version. For example, use <code>:v1234</code>, <code>v1.2.3</code>, <code>r03062016-1-4</code>, rather than <code>:latest</code> (For more information, see <a href=/docs/concepts/configuration/overview/#container-images>Best Practices for Configuration</a>).</li>
<li>Check in the script for an image that is heavily parameterized.</li>
<li>Switch to configuration files checked into source control for features that are needed, but not expressible via <code>kubectl run</code> flags.</li>
</ul>
<p>You can use the <code>--dry-run=client</code> flag to preview the object that would be sent to your cluster, without really submitting it.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> All <code>kubectl run</code> generators are deprecated. See the Kubernetes v1.17 documentation for a <a href=https://v1-17.docs.kubernetes.io/docs/reference/kubectl/conventions/#generators>list</a> of generators and how they were used.
</div>
<h4 id=generators>Generators</h4>
<p>You can generate the following resources with a kubectl command, <code>kubectl create --dry-run=client -o yaml</code>:</p>
<ul>
<li><code>clusterrole</code>: Create a ClusterRole.</li>
<li><code>clusterrolebinding</code>: Create a ClusterRoleBinding for a particular ClusterRole.</li>
<li><code>configmap</code>: Create a ConfigMap from a local file, directory or literal value.</li>
<li><code>cronjob</code>: Create a CronJob with the specified name.</li>
<li><code>deployment</code>: Create a Deployment with the specified name.</li>
<li><code>job</code>: Create a Job with the specified name.</li>
<li><code>namespace</code>: Create a Namespace with the specified name.</li>
<li><code>poddisruptionbudget</code>: Create a PodDisruptionBudget with the specified name.</li>
<li><code>priorityclass</code>: Create a PriorityClass with the specified name.</li>
<li><code>quota</code>: Create a Quota with the specified name.</li>
<li><code>role</code>: Create a Role with single rule.</li>
<li><code>rolebinding</code>: Create a RoleBinding for a particular Role or ClusterRole.</li>
<li><code>secret</code>: Create a Secret using specified subcommand.</li>
<li><code>service</code>: Create a Service using specified subcommand.</li>
<li><code>serviceaccount</code>: Create a ServiceAccount with the specified name.</li>
</ul>
<h3 id=kubectl-apply><code>kubectl apply</code></h3>
<ul>
<li>You can use <code>kubectl apply</code> to create or update resources. For more information about using kubectl apply to update resources, see <a href=https://kubectl.docs.kubernetes.io>Kubectl Book</a>.</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-a6ae13190e147ef3922315c2091fc258>11 - Configuration APIs</h1>
</div>
<div class=td-content>
<h1 id=pg-2896357fe4f62fe85522254410e0be7d>11.1 - Client Authentication (v1beta1)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#client-authentication-k8s-io-v1beta1-ExecCredential>ExecCredential</a></li>
</ul>
<h2 id=client-authentication-k8s-io-v1beta1-ExecCredential><code>ExecCredential</code> </h2>
<p>ExecCredential is used by exec-based plugins to communicate credentials to
HTTP transports.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>client.authentication.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>ExecCredential</code></td></tr>
<tr><td><code>spec</code> <b>[Required]</b><br>
<a href=#client-authentication-k8s-io-v1beta1-ExecCredentialSpec><code>ExecCredentialSpec</code></a>
</td>
<td>
Spec holds information passed to the plugin by the transport.</td>
</tr>
<tr><td><code>status</code><br>
<a href=#client-authentication-k8s-io-v1beta1-ExecCredentialStatus><code>ExecCredentialStatus</code></a>
</td>
<td>
Status is filled in by the plugin and holds the credentials that the transport
should use to contact the API.</td>
</tr>
</tbody>
</table>
<h2 id=client-authentication-k8s-io-v1beta1-Cluster><code>Cluster</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#client-authentication-k8s-io-v1beta1-ExecCredentialSpec>ExecCredentialSpec</a></li>
</ul>
<p>Cluster contains information to allow an exec plugin to communicate
with the kubernetes cluster being authenticated to.</p>
<p>To ensure that this struct contains everything someone would need to communicate
with a kubernetes cluster (just like they would via a kubeconfig), the fields
should shadow "k8s.io/client-go/tools/clientcmd/api/v1".Cluster, with the exception
of CertificateAuthority, since CA data will always be passed to the plugin as bytes.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>server</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server is the address of the kubernetes cluster (https://hostname:port).</td>
</tr>
<tr><td><code>tls-server-name</code><br>
<code>string</code>
</td>
<td>
TLSServerName is passed to the server for SNI and is used in the client to
check server certificates against. If ServerName is empty, the hostname
used to contact the server is used.</td>
</tr>
<tr><td><code>insecure-skip-tls-verify</code><br>
<code>bool</code>
</td>
<td>
InsecureSkipTLSVerify skips the validity check for the server's certificate.
This will make your HTTPS connections insecure.</td>
</tr>
<tr><td><code>certificate-authority-data</code><br>
<code>[]byte</code>
</td>
<td>
CAData contains PEM-encoded certificate authority certificates.
If empty, system roots should be used.</td>
</tr>
<tr><td><code>proxy-url</code><br>
<code>string</code>
</td>
<td>
ProxyURL is the URL to the proxy to be used for all requests to this
cluster.</td>
</tr>
<tr><td><code>config</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/runtime/#RawExtension><code>k8s.io/apimachinery/pkg/runtime.RawExtension</code></a>
</td>
<td>
Config holds additional config data that is specific to the exec
plugin with regards to the cluster being authenticated to.
<p>This data is sourced from the clientcmd Cluster object's
extensions[client.authentication.k8s.io/exec] field:</p>
<p>clusters:</p>
<ul>
<li>name: my-cluster
cluster:
...
extensions:
<ul>
<li>name: client.authentication.k8s.io/exec # reserved extension name for per cluster exec config
extension:
audience: 06e3fbd18de8 # arbitrary config</li>
</ul>
</li>
</ul>
<p>In some environments, the user config may be exactly the same across many clusters
(i.e. call this exec plugin) minus some details that are specific to each cluster
such as the audience. This field allows the per cluster config to be directly
specified with the cluster info. Using this field to store secret data is not
recommended as one of the prime benefits of exec plugins is that no secrets need
to be stored directly in the kubeconfig.</td></p>
</tr>
</tbody>
</table>
<h2 id=client-authentication-k8s-io-v1beta1-ExecCredentialSpec><code>ExecCredentialSpec</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#client-authentication-k8s-io-v1beta1-ExecCredential>ExecCredential</a></li>
</ul>
<p>ExecCredentialSpec holds request and runtime specific information provided by
the transport.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>cluster</code><br>
<a href=#client-authentication-k8s-io-v1beta1-Cluster><code>Cluster</code></a>
</td>
<td>
Cluster contains information to allow an exec plugin to communicate with the
kubernetes cluster being authenticated to. Note that Cluster is non-nil only
when provideClusterInfo is set to true in the exec provider config (i.e.,
ExecConfig.ProvideClusterInfo).</td>
</tr>
<tr><td><code>interactive</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Interactive declares whether stdin has been passed to this exec plugin.</td>
</tr>
</tbody>
</table>
<h2 id=client-authentication-k8s-io-v1beta1-ExecCredentialStatus><code>ExecCredentialStatus</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#client-authentication-k8s-io-v1beta1-ExecCredential>ExecCredential</a></li>
</ul>
<p>ExecCredentialStatus holds credentials for the transport to use.</p>
<p>Token and ClientKeyData are sensitive fields. This data should only be
transmitted in-memory between client and exec plugin process. Exec plugin
itself should at least be protected via file permissions.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>expirationTimestamp</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#time-v1-meta><code>meta/v1.Time</code></a>
</td>
<td>
ExpirationTimestamp indicates a time when the provided credentials expire.</td>
</tr>
<tr><td><code>token</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Token is a bearer token used by the client for request authentication.</td>
</tr>
<tr><td><code>clientCertificateData</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
PEM-encoded client TLS certificates (including intermediates, if any).</td>
</tr>
<tr><td><code>clientKeyData</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
PEM-encoded private key for the above certificate.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-8f61883225b6bed85530d1904e148392>11.2 - kube-apiserver Audit Configuration (v1)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#audit-k8s-io-v1-Event>Event</a></li>
<li><a href=#audit-k8s-io-v1-EventList>EventList</a></li>
<li><a href=#audit-k8s-io-v1-Policy>Policy</a></li>
<li><a href=#audit-k8s-io-v1-PolicyList>PolicyList</a></li>
</ul>
<h2 id=audit-k8s-io-v1-Event><code>Event</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#audit-k8s-io-v1-EventList>EventList</a></li>
</ul>
<p>Event captures all the information that can be included in an API audit log.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>audit.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>Event</code></td></tr>
<tr><td><code>level</code> <b>[Required]</b><br>
<a href=#audit-k8s-io-v1-Level><code>Level</code></a>
</td>
<td>
AuditLevel at which event was generated</td>
</tr>
<tr><td><code>auditID</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/types#UID><code>k8s.io/apimachinery/pkg/types.UID</code></a>
</td>
<td>
Unique audit ID, generated for each request.</td>
</tr>
<tr><td><code>stage</code> <b>[Required]</b><br>
<a href=#audit-k8s-io-v1-Stage><code>Stage</code></a>
</td>
<td>
Stage of the request handling when this event instance was generated.</td>
</tr>
<tr><td><code>requestURI</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
RequestURI is the request URI as sent by the client to a server.</td>
</tr>
<tr><td><code>verb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb is the kubernetes verb associated with the request.
For non-resource requests, this is the lower-cased HTTP method.</td>
</tr>
<tr><td><code>user</code> <b>[Required]</b><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#userinfo-v1-authentication><code>authentication/v1.UserInfo</code></a>
</td>
<td>
Authenticated user information.</td>
</tr>
<tr><td><code>impersonatedUser</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#userinfo-v1-authentication><code>authentication/v1.UserInfo</code></a>
</td>
<td>
Impersonated user information.</td>
</tr>
<tr><td><code>sourceIPs</code><br>
<code>[]string</code>
</td>
<td>
Source IPs, from where the request originated and intermediate proxies.</td>
</tr>
<tr><td><code>userAgent</code><br>
<code>string</code>
</td>
<td>
UserAgent records the user agent string reported by the client.
Note that the UserAgent is provided by the client, and must not be trusted.</td>
</tr>
<tr><td><code>objectRef</code><br>
<a href=#audit-k8s-io-v1-ObjectReference><code>ObjectReference</code></a>
</td>
<td>
Object reference this request is targeted at.
Does not apply for List-type requests, or non-resource requests.</td>
</tr>
<tr><td><code>responseStatus</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#status-v1-meta><code>meta/v1.Status</code></a>
</td>
<td>
The response status, populated even when the ResponseObject is not a Status type.
For successful responses, this will only include the Code and StatusSuccess.
For non-status type error responses, this will be auto-populated with the error Message.</td>
</tr>
<tr><td><code>requestObject</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/runtime#Unknown><code>k8s.io/apimachinery/pkg/runtime.Unknown</code></a>
</td>
<td>
API object from the request, in JSON format. The RequestObject is recorded as-is in the request
(possibly re-encoded as JSON), prior to version conversion, defaulting, admission or
merging. It is an external versioned object type, and may not be a valid object on its own.
Omitted for non-resource requests. Only logged at Request Level and higher.</td>
</tr>
<tr><td><code>responseObject</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/runtime#Unknown><code>k8s.io/apimachinery/pkg/runtime.Unknown</code></a>
</td>
<td>
API object returned in the response, in JSON. The ResponseObject is recorded after conversion
to the external type, and serialized as JSON. Omitted for non-resource requests. Only logged
at Response Level.</td>
</tr>
<tr><td><code>requestReceivedTimestamp</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#microtime-v1-meta><code>meta/v1.MicroTime</code></a>
</td>
<td>
Time the request reached the apiserver.</td>
</tr>
<tr><td><code>stageTimestamp</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#microtime-v1-meta><code>meta/v1.MicroTime</code></a>
</td>
<td>
Time the request reached current audit stage.</td>
</tr>
<tr><td><code>annotations</code><br>
<code>map[string]string</code>
</td>
<td>
Annotations is an unstructured key value map stored with an audit event that may be set by
plugins invoked in the request serving chain, including authentication, authorization and
admission plugins. Note that these annotations are for the audit event, and do not correspond
to the metadata.annotations of the submitted object. Keys should uniquely identify the informing
component to avoid name collisions (e.g. podsecuritypolicy.admission.k8s.io/policy). Values
should be short. Annotations are included in the Metadata level.</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-EventList><code>EventList</code> </h2>
<p>EventList is a list of audit Events.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>audit.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>EventList</code></td></tr>
<tr><td><code>metadata</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#listmeta-v1-meta><code>meta/v1.ListMeta</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>items</code> <b>[Required]</b><br>
<a href=#audit-k8s-io-v1-Event><code>[]Event</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-Policy><code>Policy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#audit-k8s-io-v1-PolicyList>PolicyList</a></li>
</ul>
<p>Policy defines the configuration of audit logging, and the rules for how different request
categories are logged.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>audit.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>Policy</code></td></tr>
<tr><td><code>metadata</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#objectmeta-v1-meta><code>meta/v1.ObjectMeta</code></a>
</td>
<td>
ObjectMeta is included for interoperability with API infrastructure.Refer to the Kubernetes API documentation for the fields of the <code>metadata</code> field.</td>
</tr>
<tr><td><code>rules</code> <b>[Required]</b><br>
<a href=#audit-k8s-io-v1-PolicyRule><code>[]PolicyRule</code></a>
</td>
<td>
Rules specify the audit Level a request should be recorded at.
A request may match multiple rules, in which case the FIRST matching rule is used.
The default audit level is None, but can be overridden by a catch-all rule at the end of the list.
PolicyRules are strictly ordered.</td>
</tr>
<tr><td><code>omitStages</code><br>
<a href=#audit-k8s-io-v1-Stage><code>[]Stage</code></a>
</td>
<td>
OmitStages is a list of stages for which no events are created. Note that this can also
be specified per rule in which case the union of both are omitted.</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-PolicyList><code>PolicyList</code> </h2>
<p>PolicyList is a list of audit Policies.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>audit.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>PolicyList</code></td></tr>
<tr><td><code>metadata</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#listmeta-v1-meta><code>meta/v1.ListMeta</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>items</code> <b>[Required]</b><br>
<a href=#audit-k8s-io-v1-Policy><code>[]Policy</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-GroupResources><code>GroupResources</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#audit-k8s-io-v1-PolicyRule>PolicyRule</a></li>
</ul>
<p>GroupResources represents resource kinds in an API group.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>group</code><br>
<code>string</code>
</td>
<td>
Group is the name of the API group that contains the resources.
The empty string represents the core API group.</td>
</tr>
<tr><td><code>resources</code><br>
<code>[]string</code>
</td>
<td>
Resources is a list of resources this rule applies to.
<p>For example:
'pods' matches pods.
'pods/log' matches the log subresource of pods.
'∗' matches all resources and their subresources.
'pods/∗' matches all subresources of pods.
'∗/scale' matches all scale subresources.</p>
<p>If wildcard is present, the validation rule will ensure resources do not
overlap with each other.</p>
<p>An empty list implies all resources and subresources in this API groups apply.</td></p>
</tr>
<tr><td><code>resourceNames</code><br>
<code>[]string</code>
</td>
<td>
ResourceNames is a list of resource instance names that the policy matches.
Using this field requires Resources to be specified.
An empty list implies that every instance of the resource is matched.</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-Level><code>Level</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#audit-k8s-io-v1-Event>Event</a></p>
</li>
<li>
<p><a href=#audit-k8s-io-v1-PolicyRule>PolicyRule</a></p>
</li>
</ul>
<p>Level defines the amount of information logged during auditing</p>
<h2 id=audit-k8s-io-v1-ObjectReference><code>ObjectReference</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#audit-k8s-io-v1-Event>Event</a></li>
</ul>
<p>ObjectReference contains enough information to let you inspect or modify the referred object.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>resource</code><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>namespace</code><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>name</code><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>uid</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/types#UID><code>k8s.io/apimachinery/pkg/types.UID</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>apiGroup</code><br>
<code>string</code>
</td>
<td>
APIGroup is the name of the API group that contains the referred object.
The empty string represents the core API group.</td>
</tr>
<tr><td><code>apiVersion</code><br>
<code>string</code>
</td>
<td>
APIVersion is the version of the API group that contains the referred object.</td>
</tr>
<tr><td><code>resourceVersion</code><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>subresource</code><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-PolicyRule><code>PolicyRule</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#audit-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PolicyRule maps requests based off metadata to an audit Level.
Requests must match the rules of every field (an intersection of rules).</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>level</code> <b>[Required]</b><br>
<a href=#audit-k8s-io-v1-Level><code>Level</code></a>
</td>
<td>
The Level that requests matching this rule are recorded at.</td>
</tr>
<tr><td><code>users</code><br>
<code>[]string</code>
</td>
<td>
The users (by authenticated user name) this rule applies to.
An empty list implies every user.</td>
</tr>
<tr><td><code>userGroups</code><br>
<code>[]string</code>
</td>
<td>
The user groups this rule applies to. A user is considered matching
if it is a member of any of the UserGroups.
An empty list implies every user group.</td>
</tr>
<tr><td><code>verbs</code><br>
<code>[]string</code>
</td>
<td>
The verbs that match this rule.
An empty list implies every verb.</td>
</tr>
<tr><td><code>resources</code><br>
<a href=#audit-k8s-io-v1-GroupResources><code>[]GroupResources</code></a>
</td>
<td>
Resources that this rule matches. An empty list implies all kinds in all API groups.</td>
</tr>
<tr><td><code>namespaces</code><br>
<code>[]string</code>
</td>
<td>
Namespaces that this rule matches.
The empty string "" matches non-namespaced resources.
An empty list implies every namespace.</td>
</tr>
<tr><td><code>nonResourceURLs</code><br>
<code>[]string</code>
</td>
<td>
NonResourceURLs is a set of URL paths that should be audited.
&#8727;s are allowed, but only as the full, final step in the path.
Examples:
"/metrics" - Log requests for apiserver metrics
"/healthz&#8727;" - Log all health checks</td>
</tr>
<tr><td><code>omitStages</code><br>
<a href=#audit-k8s-io-v1-Stage><code>[]Stage</code></a>
</td>
<td>
OmitStages is a list of stages for which no events are created. Note that this can also
be specified policy wide in which case the union of both are omitted.
An empty list means no restrictions will apply.</td>
</tr>
</tbody>
</table>
<h2 id=audit-k8s-io-v1-Stage><code>Stage</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#audit-k8s-io-v1-Event>Event</a></p>
</li>
<li>
<p><a href=#audit-k8s-io-v1-Policy>Policy</a></p>
</li>
<li>
<p><a href=#audit-k8s-io-v1-PolicyRule>PolicyRule</a></p>
</li>
</ul>
<p>Stage defines the stages in request handling that audit events may be generated.</p>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-e9edd8df1106a991be062e37a9ef87b5>11.3 - kube-apiserver Configuration (v1alpha1)</h1>
<p>Package v1alpha1 is the v1alpha1 version of the API.</p>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-AdmissionConfiguration>AdmissionConfiguration</a></li>
<li><a href=#apiserver-k8s-io-v1alpha1-EgressSelectorConfiguration>EgressSelectorConfiguration</a></li>
<li><a href=#apiserver-k8s-io-v1alpha1-TracingConfiguration>TracingConfiguration</a></li>
</ul>
<h2 id=apiserver-k8s-io-v1alpha1-AdmissionConfiguration><code>AdmissionConfiguration</code> </h2>
<p>AdmissionConfiguration provides versioned configuration for admission controllers.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>apiserver.k8s.io/v1alpha1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>AdmissionConfiguration</code></td></tr>
<tr><td><code>plugins</code><br>
<a href=#apiserver-k8s-io-v1alpha1-AdmissionPluginConfiguration><code>[]AdmissionPluginConfiguration</code></a>
</td>
<td>
Plugins allows specifying a configuration per admission control plugin.</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-EgressSelectorConfiguration><code>EgressSelectorConfiguration</code> </h2>
<p>EgressSelectorConfiguration provides versioned configuration for egress selector clients.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>apiserver.k8s.io/v1alpha1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>EgressSelectorConfiguration</code></td></tr>
<tr><td><code>egressSelections</code> <b>[Required]</b><br>
<a href=#apiserver-k8s-io-v1alpha1-EgressSelection><code>[]EgressSelection</code></a>
</td>
<td>
connectionServices contains a list of egress selection client configurations</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-TracingConfiguration><code>TracingConfiguration</code> </h2>
<p>TracingConfiguration provides versioned configuration for tracing clients.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>apiserver.k8s.io/v1alpha1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>TracingConfiguration</code></td></tr>
<tr><td><code>endpoint</code><br>
<code>string</code>
</td>
<td>
Endpoint of the collector that's running on the control-plane node.
The APIServer uses the egressType ControlPlane when sending data to the collector.
The syntax is defined in https://github.com/grpc/grpc/blob/master/doc/naming.md.
Defaults to the otlpgrpc default, localhost:4317
The connection is insecure, and does not support TLS.</td>
</tr>
<tr><td><code>samplingRatePerMillion</code><br>
<code>int32</code>
</td>
<td>
SamplingRatePerMillion is the number of samples to collect per million spans.
Defaults to 0.</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-AdmissionPluginConfiguration><code>AdmissionPluginConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-AdmissionConfiguration>AdmissionConfiguration</a></li>
</ul>
<p>AdmissionPluginConfiguration provides the configuration for a single plug-in.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name is the name of the admission controller.
It must match the registered admission plugin name.</td>
</tr>
<tr><td><code>path</code><br>
<code>string</code>
</td>
<td>
Path is the path to a configuration file that contains the plugin's
configuration</td>
</tr>
<tr><td><code>configuration</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/runtime#Unknown><code>k8s.io/apimachinery/pkg/runtime.Unknown</code></a>
</td>
<td>
Configuration is an embedded configuration object to be used as the plugin's
configuration. If present, it will be used instead of the path to the configuration file.</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-Connection><code>Connection</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-EgressSelection>EgressSelection</a></li>
</ul>
<p>Connection provides the configuration for a single egress selection client.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>proxyProtocol</code> <b>[Required]</b><br>
<a href=#apiserver-k8s-io-v1alpha1-ProtocolType><code>ProtocolType</code></a>
</td>
<td>
Protocol is the protocol used to connect from client to the konnectivity server.</td>
</tr>
<tr><td><code>transport</code><br>
<a href=#apiserver-k8s-io-v1alpha1-Transport><code>Transport</code></a>
</td>
<td>
Transport defines the transport configurations we use to dial to the konnectivity server.
This is required if ProxyProtocol is HTTPConnect or GRPC.</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-EgressSelection><code>EgressSelection</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-EgressSelectorConfiguration>EgressSelectorConfiguration</a></li>
</ul>
<p>EgressSelection provides the configuration for a single egress selection client.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
name is the name of the egress selection.
Currently supported values are "controlplane", "master", "etcd" and "cluster"
The "master" egress selector is deprecated in favor of "controlplane"</td>
</tr>
<tr><td><code>connection</code> <b>[Required]</b><br>
<a href=#apiserver-k8s-io-v1alpha1-Connection><code>Connection</code></a>
</td>
<td>
connection is the exact information used to configure the egress selection</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-ProtocolType><code>ProtocolType</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-Connection>Connection</a></li>
</ul>
<p>ProtocolType is a set of valid values for Connection.ProtocolType</p>
<h2 id=apiserver-k8s-io-v1alpha1-TCPTransport><code>TCPTransport</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-Transport>Transport</a></li>
</ul>
<p>TCPTransport provides the information to connect to konnectivity server via TCP</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>url</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
URL is the location of the konnectivity server to connect to.
As an example it might be "https://127.0.0.1:8131"</td>
</tr>
<tr><td><code>tlsConfig</code><br>
<a href=#apiserver-k8s-io-v1alpha1-TLSConfig><code>TLSConfig</code></a>
</td>
<td>
TLSConfig is the config needed to use TLS when connecting to konnectivity server</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-TLSConfig><code>TLSConfig</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-TCPTransport>TCPTransport</a></li>
</ul>
<p>TLSConfig provides the authentication information to connect to konnectivity server
Only used with TCPTransport</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>caBundle</code><br>
<code>string</code>
</td>
<td>
caBundle is the file location of the CA to be used to determine trust with the konnectivity server.
Must be absent/empty if TCPTransport.URL is prefixed with http://
If absent while TCPTransport.URL is prefixed with https://, default to system trust roots.</td>
</tr>
<tr><td><code>clientKey</code><br>
<code>string</code>
</td>
<td>
clientKey is the file location of the client key to be used in mtls handshakes with the konnectivity server.
Must be absent/empty if TCPTransport.URL is prefixed with http://
Must be configured if TCPTransport.URL is prefixed with https://</td>
</tr>
<tr><td><code>clientCert</code><br>
<code>string</code>
</td>
<td>
clientCert is the file location of the client certificate to be used in mtls handshakes with the konnectivity server.
Must be absent/empty if TCPTransport.URL is prefixed with http://
Must be configured if TCPTransport.URL is prefixed with https://</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-Transport><code>Transport</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-Connection>Connection</a></li>
</ul>
<p>Transport defines the transport configurations we use to dial to the konnectivity server</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>tcp</code><br>
<a href=#apiserver-k8s-io-v1alpha1-TCPTransport><code>TCPTransport</code></a>
</td>
<td>
TCP is the TCP configuration for communicating with the konnectivity server via TCP
ProxyProtocol of GRPC is not supported with TCP transport at the moment
Requires at least one of TCP or UDS to be set</td>
</tr>
<tr><td><code>uds</code><br>
<a href=#apiserver-k8s-io-v1alpha1-UDSTransport><code>UDSTransport</code></a>
</td>
<td>
UDS is the UDS configuration for communicating with the konnectivity server via UDS
Requires at least one of TCP or UDS to be set</td>
</tr>
</tbody>
</table>
<h2 id=apiserver-k8s-io-v1alpha1-UDSTransport><code>UDSTransport</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#apiserver-k8s-io-v1alpha1-Transport>Transport</a></li>
</ul>
<p>UDSTransport provides the information to connect to konnectivity server via UDS</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>udsName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
UDSName is the name of the unix domain socket to connect to konnectivity server
This does not use a unix:// prefix. (Eg: /etc/srv/kubernetes/konnectivity-server/konnectivity-server.socket)</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d8644f8d8b33ff33a31c8b55065eaf37>11.4 - kube-proxy Configuration (v1alpha1)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration><code>KubeProxyConfiguration</code> </h2>
<p>KubeProxyConfiguration contains everything necessary to configure the
Kubernetes proxy server.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeproxy.config.k8s.io/v1alpha1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>KubeProxyConfiguration</code></td></tr>
<tr><td><code>featureGates</code> <b>[Required]</b><br>
<code>map[string]bool</code>
</td>
<td>
featureGates is a map of feature names to bools that enable or disable alpha/experimental features.</td>
</tr>
<tr><td><code>bindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
bindAddress is the IP address for the proxy server to serve on (set to 0.0.0.0
for all interfaces)</td>
</tr>
<tr><td><code>healthzBindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
healthzBindAddress is the IP address and port for the health check server to serve on,
defaulting to 0.0.0.0:10256</td>
</tr>
<tr><td><code>metricsBindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
metricsBindAddress is the IP address and port for the metrics server to serve on,
defaulting to 127.0.0.1:10249 (set to 0.0.0.0 for all interfaces)</td>
</tr>
<tr><td><code>bindAddressHardFail</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
bindAddressHardFail, if true, kube-proxy will treat failure to bind to a port as fatal and exit</td>
</tr>
<tr><td><code>enableProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableProfiling enables profiling via web interface on /debug/pprof handler.
Profiling handlers will be handled by metrics server.</td>
</tr>
<tr><td><code>clusterCIDR</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
clusterCIDR is the CIDR range of the pods in the cluster. It is used to
bridge traffic coming from outside of the cluster. If not provided,
no off-cluster bridging will be performed.</td>
</tr>
<tr><td><code>hostnameOverride</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
hostnameOverride, if non-empty, will be used as the identity instead of the actual hostname.</td>
</tr>
<tr><td><code>clientConnection</code> <b>[Required]</b><br>
<a href=#ClientConnectionConfiguration><code>ClientConnectionConfiguration</code></a>
</td>
<td>
clientConnection specifies the kubeconfig file and client connection settings for the proxy
server to use when communicating with the apiserver.</td>
</tr>
<tr><td><code>iptables</code> <b>[Required]</b><br>
<a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyIPTablesConfiguration><code>KubeProxyIPTablesConfiguration</code></a>
</td>
<td>
iptables contains iptables-related configuration options.</td>
</tr>
<tr><td><code>ipvs</code> <b>[Required]</b><br>
<a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyIPVSConfiguration><code>KubeProxyIPVSConfiguration</code></a>
</td>
<td>
ipvs contains ipvs-related configuration options.</td>
</tr>
<tr><td><code>oomScoreAdj</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
oomScoreAdj is the oom-score-adj value for kube-proxy process. Values must be within
the range [-1000, 1000]</td>
</tr>
<tr><td><code>mode</code> <b>[Required]</b><br>
<a href=#kubeproxy-config-k8s-io-v1alpha1-ProxyMode><code>ProxyMode</code></a>
</td>
<td>
mode specifies which proxy mode to use.</td>
</tr>
<tr><td><code>portRange</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
portRange is the range of host ports (beginPort-endPort, inclusive) that may be consumed
in order to proxy service traffic. If unspecified (0-0) then ports will be randomly chosen.</td>
</tr>
<tr><td><code>udpIdleTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
udpIdleTimeout is how long an idle UDP connection will be kept open (e.g. '250ms', '2s').
Must be greater than 0. Only applicable for proxyMode=userspace.</td>
</tr>
<tr><td><code>conntrack</code> <b>[Required]</b><br>
<a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConntrackConfiguration><code>KubeProxyConntrackConfiguration</code></a>
</td>
<td>
conntrack contains conntrack-related configuration options.</td>
</tr>
<tr><td><code>configSyncPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
configSyncPeriod is how often configuration from the apiserver is refreshed. Must be greater
than 0.</td>
</tr>
<tr><td><code>nodePortAddresses</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
nodePortAddresses is the --nodeport-addresses value for kube-proxy process. Values must be valid
IP blocks. These values are as a parameter to select the interfaces where nodeport works.
In case someone would like to expose a service on localhost for local visit and some other interfaces for
particular purpose, a list of IP blocks would do that.
If set it to "127.0.0.0/8", kube-proxy will only select the loopback interface for NodePort.
If set it to a non-zero IP block, kube-proxy will filter that down to just the IPs that applied to the node.
An empty string slice is meant to select all network interfaces.</td>
</tr>
<tr><td><code>winkernel</code> <b>[Required]</b><br>
<a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyWinkernelConfiguration><code>KubeProxyWinkernelConfiguration</code></a>
</td>
<td>
winkernel contains winkernel-related configuration options.</td>
</tr>
<tr><td><code>showHiddenMetricsForVersion</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
ShowHiddenMetricsForVersion is the version for which you want to show hidden metrics.</td>
</tr>
<tr><td><code>detectLocalMode</code> <b>[Required]</b><br>
<a href=#kubeproxy-config-k8s-io-v1alpha1-LocalMode><code>LocalMode</code></a>
</td>
<td>
DetectLocalMode determines mode to use for detecting local traffic, defaults to LocalModeClusterCIDR</td>
</tr>
</tbody>
</table>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-KubeProxyConntrackConfiguration><code>KubeProxyConntrackConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<p>KubeProxyConntrackConfiguration contains conntrack settings for
the Kubernetes proxy server.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>maxPerCore</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
maxPerCore is the maximum number of NAT connections to track
per CPU core (0 to leave the limit as-is and ignore min).</td>
</tr>
<tr><td><code>min</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
min is the minimum value of connect-tracking records to allocate,
regardless of conntrackMaxPerCore (set maxPerCore=0 to leave the limit as-is).</td>
</tr>
<tr><td><code>tcpEstablishedTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
tcpEstablishedTimeout is how long an idle TCP connection will be kept open
(e.g. '2s'). Must be greater than 0 to set.</td>
</tr>
<tr><td><code>tcpCloseWaitTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
tcpCloseWaitTimeout is how long an idle conntrack entry
in CLOSE_WAIT state will remain in the conntrack
table. (e.g. '60s'). Must be greater than 0 to set.</td>
</tr>
</tbody>
</table>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-KubeProxyIPTablesConfiguration><code>KubeProxyIPTablesConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<p>KubeProxyIPTablesConfiguration contains iptables-related configuration
details for the Kubernetes proxy server.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>masqueradeBit</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
masqueradeBit is the bit of the iptables fwmark space to use for SNAT if using
the pure iptables proxy mode. Values must be within the range [0, 31].</td>
</tr>
<tr><td><code>masqueradeAll</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
masqueradeAll tells kube-proxy to SNAT everything if using the pure iptables proxy mode.</td>
</tr>
<tr><td><code>syncPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
syncPeriod is the period that iptables rules are refreshed (e.g. '5s', '1m',
'2h22m'). Must be greater than 0.</td>
</tr>
<tr><td><code>minSyncPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
minSyncPeriod is the minimum period that iptables rules are refreshed (e.g. '5s', '1m',
'2h22m').</td>
</tr>
</tbody>
</table>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-KubeProxyIPVSConfiguration><code>KubeProxyIPVSConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<p>KubeProxyIPVSConfiguration contains ipvs-related configuration
details for the Kubernetes proxy server.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>syncPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
syncPeriod is the period that ipvs rules are refreshed (e.g. '5s', '1m',
'2h22m'). Must be greater than 0.</td>
</tr>
<tr><td><code>minSyncPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
minSyncPeriod is the minimum period that ipvs rules are refreshed (e.g. '5s', '1m',
'2h22m').</td>
</tr>
<tr><td><code>scheduler</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
ipvs scheduler</td>
</tr>
<tr><td><code>excludeCIDRs</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
excludeCIDRs is a list of CIDR's which the ipvs proxier should not touch
when cleaning up ipvs services.</td>
</tr>
<tr><td><code>strictARP</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
strict ARP configure arp_ignore and arp_announce to avoid answering ARP queries
from kube-ipvs0 interface</td>
</tr>
<tr><td><code>tcpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
tcpTimeout is the timeout value used for idle IPVS TCP sessions.
The default value is 0, which preserves the current timeout value on the system.</td>
</tr>
<tr><td><code>tcpFinTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
tcpFinTimeout is the timeout value used for IPVS TCP sessions after receiving a FIN.
The default value is 0, which preserves the current timeout value on the system.</td>
</tr>
<tr><td><code>udpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
udpTimeout is the timeout value used for IPVS UDP packets.
The default value is 0, which preserves the current timeout value on the system.</td>
</tr>
</tbody>
</table>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-KubeProxyWinkernelConfiguration><code>KubeProxyWinkernelConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<p>KubeProxyWinkernelConfiguration contains Windows/HNS settings for
the Kubernetes proxy server.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>networkName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
networkName is the name of the network kube-proxy will use
to create endpoints and policies</td>
</tr>
<tr><td><code>sourceVip</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
sourceVip is the IP address of the source VIP endoint used for
NAT when loadbalancing</td>
</tr>
<tr><td><code>enableDSR</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableDSR tells kube-proxy whether HNS policies should be created
with DSR</td>
</tr>
</tbody>
</table>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-LocalMode><code>LocalMode</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<p>LocalMode represents modes to detect local traffic from the node</p>
<h2 id=kubeproxy-config-k8s-io-v1alpha1-ProxyMode><code>ProxyMode</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></li>
</ul>
<p>ProxyMode represents modes used by the Kubernetes proxy server.</p>
<p>Currently, three modes of proxy are available in Linux platform: 'userspace' (older, going to be EOL), 'iptables'
(newer, faster), 'ipvs'(newest, better in performance and scalability).</p>
<p>Two modes of proxy are available in Windows platform: 'userspace'(older, stable) and 'kernelspace' (newer, faster).</p>
<p>In Linux platform, if proxy mode is blank, use the best-available proxy (currently iptables, but may change in the
future). If the iptables proxy is selected, regardless of how, but the system's kernel or iptables versions are
insufficient, this always falls back to the userspace proxy. IPVS mode will be enabled when proxy mode is set to 'ipvs',
and the fall back path is firstly iptables and then userspace.</p>
<p>In Windows platform, if proxy mode is blank, use the best-available proxy (currently userspace, but may change in the
future). If winkernel proxy is selected, regardless of how, but the Windows kernel can't support this mode of proxy,
this always falls back to the userspace proxy.</p>
<h2 id=ClientConnectionConfiguration><code>ClientConnectionConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeproxy-config-k8s-io-v1alpha1-KubeProxyConfiguration>KubeProxyConfiguration</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></p>
</li>
<li>
<p><a href=#controllermanager-config-k8s-io-v1alpha1-GenericControllerManagerConfiguration>GenericControllerManagerConfiguration</a></p>
</li>
</ul>
<p>ClientConnectionConfiguration contains details for constructing a client.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>kubeconfig</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
kubeconfig is the path to a KubeConfig file.</td>
</tr>
<tr><td><code>acceptContentTypes</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
acceptContentTypes defines the Accept header sent by clients when connecting to a server, overriding the
default value of 'application/json'. This field will control all connections to the server used by a particular
client.</td>
</tr>
<tr><td><code>contentType</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
contentType is the content type used when sending data to the server from this client.</td>
</tr>
<tr><td><code>qps</code> <b>[Required]</b><br>
<code>float32</code>
</td>
<td>
qps controls the number of queries per second allowed for this connection.</td>
</tr>
<tr><td><code>burst</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
burst allows extra queries to accumulate when a client is exceeding its rate.</td>
</tr>
</tbody>
</table>
<h2 id=DebuggingConfiguration><code>DebuggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></p>
</li>
<li>
<p><a href=#controllermanager-config-k8s-io-v1alpha1-GenericControllerManagerConfiguration>GenericControllerManagerConfiguration</a></p>
</li>
</ul>
<p>DebuggingConfiguration holds configuration for Debugging related features.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enableProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableProfiling enables profiling via web interface host:port/debug/pprof/</td>
</tr>
<tr><td><code>enableContentionProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableContentionProfiling enables lock contention profiling, if
enableProfiling is true.</td>
</tr>
</tbody>
</table>
<h2 id=LeaderElectionConfiguration><code>LeaderElectionConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></p>
</li>
<li>
<p><a href=#controllermanager-config-k8s-io-v1alpha1-GenericControllerManagerConfiguration>GenericControllerManagerConfiguration</a></p>
</li>
</ul>
<p>LeaderElectionConfiguration defines the configuration of leader election
clients for components that can run with leader election enabled.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>leaderElect</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
leaderElect enables a leader election client to gain leadership
before executing the main loop. Enable this when running replicated
components for high availability.</td>
</tr>
<tr><td><code>leaseDuration</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
leaseDuration is the duration that non-leader candidates will wait
after observing a leadership renewal until attempting to acquire
leadership of a led but unrenewed leader slot. This is effectively the
maximum duration that a leader can be stopped before it is replaced
by another candidate. This is only applicable if leader election is
enabled.</td>
</tr>
<tr><td><code>renewDeadline</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
renewDeadline is the interval between attempts by the acting master to
renew a leadership slot before it stops leading. This must be less
than or equal to the lease duration. This is only applicable if leader
election is enabled.</td>
</tr>
<tr><td><code>retryPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
retryPeriod is the duration the clients should wait between attempting
acquisition and renewal of a leadership. This is only applicable if
leader election is enabled.</td>
</tr>
<tr><td><code>resourceLock</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceLock indicates the resource object type that will be used to lock
during leader election cycles.</td>
</tr>
<tr><td><code>resourceName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceName indicates the name of resource object that will be used to lock
during leader election cycles.</td>
</tr>
<tr><td><code>resourceNamespace</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceName indicates the namespace of resource object that will be used to lock
during leader election cycles.</td>
</tr>
</tbody>
</table>
<h2 id=LoggingConfiguration><code>LoggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<p>LoggingConfiguration contains logging options
Refer <a href=https://github.com/kubernetes/component-base/blob/master/logs/options.go>Logs Options</a> for more information.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>format</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Format Flag specifies the structure of log messages.
default value of format is `text`</td>
</tr>
<tr><td><code>sanitization</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).
Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.`)</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-d673af4d710babea20cd6b317502afb8>11.5 - kube-scheduler Configuration (v1beta1)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-DefaultPreemptionArgs>DefaultPreemptionArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-InterPodAffinityArgs>InterPodAffinityArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-NodeAffinityArgs>NodeAffinityArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-NodeLabelArgs>NodeLabelArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-NodeResourcesFitArgs>NodeResourcesFitArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-NodeResourcesLeastAllocatedArgs>NodeResourcesLeastAllocatedArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-NodeResourcesMostAllocatedArgs>NodeResourcesMostAllocatedArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-PodTopologySpreadArgs>PodTopologySpreadArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-RequestedToCapacityRatioArgs>RequestedToCapacityRatioArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-ServiceAffinityArgs>ServiceAffinityArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-VolumeBindingArgs>VolumeBindingArgs</a></li>
</ul>
<h2 id=kubescheduler-config-k8s-io-v1-Policy><code>Policy</code> </h2>
<p>Policy describes a struct for a policy resource used in api.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>Policy</code></td></tr>
<tr><td><code>predicates</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PredicatePolicy><code>[]PredicatePolicy</code></a>
</td>
<td>
Holds the information to configure the fit predicate functions</td>
</tr>
<tr><td><code>priorities</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PriorityPolicy><code>[]PriorityPolicy</code></a>
</td>
<td>
Holds the information to configure the priority functions</td>
</tr>
<tr><td><code>extenders</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LegacyExtender><code>[]LegacyExtender</code></a>
</td>
<td>
Holds the information to communicate with the extender(s)</td>
</tr>
<tr><td><code>hardPodAffinitySymmetricWeight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
RequiredDuringScheduling affinity is not symmetric, but there is an implicit PreferredDuringScheduling affinity rule
corresponding to every RequiredDuringScheduling affinity rule.
HardPodAffinitySymmetricWeight represents the weight of implicit PreferredDuringScheduling affinity rule, in the range 1-100.</td>
</tr>
<tr><td><code>alwaysCheckAllPredicates</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
When AlwaysCheckAllPredicates is set to true, scheduler checks all
the configured predicates even after one or more of them fails.
When the flag is set to false, scheduler skips checking the rest
of the predicates after it finds one predicate that failed.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>ExtenderManagedResource</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta1-Extender>Extender</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1-LegacyExtender>LegacyExtender</a></p>
</li>
</ul>
<p>ExtenderManagedResource describes the arguments of extended resources
managed by an extender.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name is the extended resource name.</td>
</tr>
<tr><td><code>ignoredByScheduler</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
IgnoredByScheduler indicates whether kube-scheduler should ignore this
resource when applying predicates.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta1-Extender>Extender</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1-LegacyExtender>LegacyExtender</a></p>
</li>
</ul>
<p>ExtenderTLSConfig contains settings to enable TLS with extender</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>insecure</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Server should be accessed without verifying the TLS certificate. For testing only.</td>
</tr>
<tr><td><code>serverName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
ServerName is passed to the server for SNI and is used in the client to check server
certificates against. If ServerName is empty, the hostname used to contact the
server is used.</td>
</tr>
<tr><td><code>certFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server requires TLS client certificate authentication</td>
</tr>
<tr><td><code>keyFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server requires TLS client certificate authentication</td>
</tr>
<tr><td><code>caFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Trusted root certificates for server</td>
</tr>
<tr><td><code>certData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
CertData holds PEM-encoded bytes (typically read from a client certificate file).
CertData takes precedence over CertFile</td>
</tr>
<tr><td><code>keyData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
KeyData holds PEM-encoded bytes (typically read from a client certificate key file).
KeyData takes precedence over KeyFile</td>
</tr>
<tr><td><code>caData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
CAData holds PEM-encoded bytes (typically read from a root certificates bundle).
CAData takes precedence over CAFile</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LabelPreference><code>LabelPreference</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>LabelPreference holds the parameters that are used to configure the corresponding priority function</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>label</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Used to identify node "groups"</td>
</tr>
<tr><td><code>presence</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
This is a boolean flag
If true, higher priority is given to nodes that have the label
If false, higher priority is given to nodes that do not have the label</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LabelsPresence><code>LabelsPresence</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicateArgument>PredicateArgument</a></li>
</ul>
<p>LabelsPresence holds the parameters that are used to configure the corresponding predicate in scheduler policy configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>labels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
The list of labels that identify node "groups"
All of the labels should be either present (or absent) for the node to be considered a fit for hosting the pod</td>
</tr>
<tr><td><code>presence</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
The boolean flag that indicates whether the labels should be present or absent from the node</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LegacyExtender><code>LegacyExtender</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>LegacyExtender holds the parameters used to communicate with the extender. If a verb is unspecified/empty,
it is assumed that the extender chose not to provide that extension.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>urlPrefix</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
URLPrefix at which the extender is available</td>
</tr>
<tr><td><code>filterVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the filter call, empty if not supported. This verb is appended to the URLPrefix when issuing the filter call to extender.</td>
</tr>
<tr><td><code>preemptVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the preempt call, empty if not supported. This verb is appended to the URLPrefix when issuing the preempt call to extender.</td>
</tr>
<tr><td><code>prioritizeVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the prioritize call, empty if not supported. This verb is appended to the URLPrefix when issuing the prioritize call to extender.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the prioritize call generates.
The weight should be a positive integer</td>
</tr>
<tr><td><code>bindVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the bind call, empty if not supported. This verb is appended to the URLPrefix when issuing the bind call to extender.
If this method is implemented by the extender, it is the extender's responsibility to bind the pod to apiserver. Only one extender
can implement this function.</td>
</tr>
<tr><td><code>enableHttps</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
EnableHTTPS specifies whether https should be used to communicate with the extender</td>
</tr>
<tr><td><code>tlsConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code></a>
</td>
<td>
TLSConfig specifies the transport layer security config</td>
</tr>
<tr><td><code>httpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/time#Duration><code>time.Duration</code></a>
</td>
<td>
HTTPTimeout specifies the timeout duration for a call to the extender. Filter timeout fails the scheduling of the pod. Prioritize
timeout is ignored, k8s/other extenders priorities are used to select the node.</td>
</tr>
<tr><td><code>nodeCacheCapable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
NodeCacheCapable specifies that the extender is capable of caching node information,
so the scheduler should only send minimal information about the eligible nodes
assuming that the extender already cached full details of all nodes in the cluster</td>
</tr>
<tr><td><code>managedResources</code><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>[]ExtenderManagedResource</code></a>
</td>
<td>
ManagedResources is a list of extended resources that are managed by
this extender.
- A pod will be sent to the extender on the Filter, Prioritize and Bind
(if the extender is the binder) phases iff the pod requests at least
one of the extended resources in this list. If empty or unspecified,
all pods will be sent to this extender.
- If IgnoredByScheduler is set to true for a resource, kube-scheduler
will skip checking the resource in predicates.</td>
</tr>
<tr><td><code>ignorable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Ignorable specifies if the extender is ignorable, i.e. scheduling should not
fail when the extender returns an error or is not reachable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PredicateArgument><code>PredicateArgument</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicatePolicy>PredicatePolicy</a></li>
</ul>
<p>PredicateArgument represents the arguments to configure predicate functions in scheduler policy configuration.
Only one of its members may be specified</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceAffinity</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ServiceAffinity><code>ServiceAffinity</code></a>
</td>
<td>
The predicate that provides affinity for pods belonging to a service
It uses a label to identify nodes that belong to the same "group"</td>
</tr>
<tr><td><code>labelsPresence</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LabelsPresence><code>LabelsPresence</code></a>
</td>
<td>
The predicate that checks whether a particular node has a certain label
defined or not, regardless of value</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PredicatePolicy><code>PredicatePolicy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PredicatePolicy describes a struct of a predicate policy.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Identifier of the predicate policy
For a custom predicate, the name can be user-defined
For the Kubernetes provided predicates, the name is the identifier of the pre-defined predicate</td>
</tr>
<tr><td><code>argument</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PredicateArgument><code>PredicateArgument</code></a>
</td>
<td>
Holds the parameters to configure the given predicate</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PriorityArgument><code>PriorityArgument</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityPolicy>PriorityPolicy</a></li>
</ul>
<p>PriorityArgument represents the arguments to configure priority functions in scheduler policy configuration.
Only one of its members may be specified</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceAntiAffinity</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ServiceAntiAffinity><code>ServiceAntiAffinity</code></a>
</td>
<td>
The priority function that ensures a good spread (anti-affinity) for pods belonging to a service
It uses a label to identify nodes that belong to the same "group"</td>
</tr>
<tr><td><code>labelPreference</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LabelPreference><code>LabelPreference</code></a>
</td>
<td>
The priority function that checks whether a particular node has a certain label
defined or not, regardless of value</td>
</tr>
<tr><td><code>requestedToCapacityRatioArguments</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments><code>RequestedToCapacityRatioArguments</code></a>
</td>
<td>
The RequestedToCapacityRatio priority function is parametrized with function shape.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PriorityPolicy><code>PriorityPolicy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PriorityPolicy describes a struct of a priority policy.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Identifier of the priority policy
For a custom priority, the name can be user-defined
For the Kubernetes provided priority functions, the name is the identifier of the pre-defined priority function</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the priority function generates
The weight should be non-zero and can be a positive or a negative integer</td>
</tr>
<tr><td><code>argument</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PriorityArgument><code>PriorityArgument</code></a>
</td>
<td>
Holds the parameters to configure the given priority function</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments><code>RequestedToCapacityRatioArguments</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>RequestedToCapacityRatioArguments holds arguments specific to RequestedToCapacityRatio priority function.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>shape</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-UtilizationShapePoint><code>[]UtilizationShapePoint</code></a>
</td>
<td>
Array of point defining priority function shape.</td>
</tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ResourceSpec><code>ResourceSpec</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments>RequestedToCapacityRatioArguments</a></li>
</ul>
<p>ResourceSpec represents single resource and weight for bin packing of priority RequestedToCapacityRatioArguments.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name of the resource to be managed by RequestedToCapacityRatio function.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
Weight of the resource.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ServiceAffinity><code>ServiceAffinity</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicateArgument>PredicateArgument</a></li>
</ul>
<p>ServiceAffinity holds the parameters that are used to configure the corresponding predicate in scheduler policy configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>labels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
The list of labels that identify node "groups"
All of the labels should match for the node to be considered a fit for hosting the pod</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ServiceAntiAffinity><code>ServiceAntiAffinity</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>ServiceAntiAffinity holds the parameters that are used to configure the corresponding priority function</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>label</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Used to identify node "groups"</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-UtilizationShapePoint><code>UtilizationShapePoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments>RequestedToCapacityRatioArguments</a></li>
</ul>
<p>UtilizationShapePoint represents single point of priority function shape.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>utilization</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Utilization (x axis). Valid values are 0 to 100. Fully utilized node maps to 100.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Score assigned to given utilization (y axis). Valid values are 0 to 10.</td>
</tr>
</tbody>
</table>
<h2 id=ClientConnectionConfiguration><code>ClientConnectionConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>ClientConnectionConfiguration contains details for constructing a client.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>kubeconfig</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
kubeconfig is the path to a KubeConfig file.</td>
</tr>
<tr><td><code>acceptContentTypes</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
acceptContentTypes defines the Accept header sent by clients when connecting to a server, overriding the
default value of 'application/json'. This field will control all connections to the server used by a particular
client.</td>
</tr>
<tr><td><code>contentType</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
contentType is the content type used when sending data to the server from this client.</td>
</tr>
<tr><td><code>qps</code> <b>[Required]</b><br>
<code>float32</code>
</td>
<td>
qps controls the number of queries per second allowed for this connection.</td>
</tr>
<tr><td><code>burst</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
burst allows extra queries to accumulate when a client is exceeding its rate.</td>
</tr>
</tbody>
</table>
<h2 id=DebuggingConfiguration><code>DebuggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>DebuggingConfiguration holds configuration for Debugging related features.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enableProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableProfiling enables profiling via web interface host:port/debug/pprof/</td>
</tr>
<tr><td><code>enableContentionProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableContentionProfiling enables lock contention profiling, if
enableProfiling is true.</td>
</tr>
</tbody>
</table>
<h2 id=LeaderElectionConfiguration><code>LeaderElectionConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>LeaderElectionConfiguration defines the configuration of leader election
clients for components that can run with leader election enabled.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>leaderElect</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
leaderElect enables a leader election client to gain leadership
before executing the main loop. Enable this when running replicated
components for high availability.</td>
</tr>
<tr><td><code>leaseDuration</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
leaseDuration is the duration that non-leader candidates will wait
after observing a leadership renewal until attempting to acquire
leadership of a led but unrenewed leader slot. This is effectively the
maximum duration that a leader can be stopped before it is replaced
by another candidate. This is only applicable if leader election is
enabled.</td>
</tr>
<tr><td><code>renewDeadline</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
renewDeadline is the interval between attempts by the acting master to
renew a leadership slot before it stops leading. This must be less
than or equal to the lease duration. This is only applicable if leader
election is enabled.</td>
</tr>
<tr><td><code>retryPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
retryPeriod is the duration the clients should wait between attempting
acquisition and renewal of a leadership. This is only applicable if
leader election is enabled.</td>
</tr>
<tr><td><code>resourceLock</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceLock indicates the resource object type that will be used to lock
during leader election cycles.</td>
</tr>
<tr><td><code>resourceName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceName indicates the name of resource object that will be used to lock
during leader election cycles.</td>
</tr>
<tr><td><code>resourceNamespace</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceName indicates the namespace of resource object that will be used to lock
during leader election cycles.</td>
</tr>
</tbody>
</table>
<h2 id=LoggingConfiguration><code>LoggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<p>LoggingConfiguration contains logging options
Refer <a href=https://github.com/kubernetes/component-base/blob/master/logs/options.go>Logs Options</a> for more information.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>format</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Format Flag specifies the structure of log messages.
default value of format is `text`</td>
</tr>
<tr><td><code>sanitization</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).
Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.`)</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-DefaultPreemptionArgs><code>DefaultPreemptionArgs</code> </h2>
<p>DefaultPreemptionArgs holds arguments used to configure the
DefaultPreemption plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>DefaultPreemptionArgs</code></td></tr>
<tr><td><code>minCandidateNodesPercentage</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
MinCandidateNodesPercentage is the minimum number of candidates to
shortlist when dry running preemption as a percentage of number of nodes.
Must be in the range [0, 100]. Defaults to 10% of the cluster size if
unspecified.</td>
</tr>
<tr><td><code>minCandidateNodesAbsolute</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
MinCandidateNodesAbsolute is the absolute minimum number of candidates to
shortlist. The likely number of candidates enumerated for dry running
preemption is given by the formula:
numCandidates = max(numNodes &#8727; minCandidateNodesPercentage, minCandidateNodesAbsolute)
We say "likely" because there are other factors such as PDB violations
that play a role in the number of candidates shortlisted. Must be at least
0 nodes. Defaults to 100 nodes if unspecified.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-InterPodAffinityArgs><code>InterPodAffinityArgs</code> </h2>
<p>InterPodAffinityArgs holds arguments used to configure the InterPodAffinity plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>InterPodAffinityArgs</code></td></tr>
<tr><td><code>hardPodAffinityWeight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
HardPodAffinityWeight is the scoring weight for existing pods with a
matching hard affinity to the incoming pod.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration><code>KubeSchedulerConfiguration</code> </h2>
<p>KubeSchedulerConfiguration configures a scheduler</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>KubeSchedulerConfiguration</code></td></tr>
<tr><td><code>parallelism</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Parallelism defines the amount of parallelism in algorithms for scheduling a Pods. Must be greater than 0. Defaults to 16</td>
</tr>
<tr><td><code>leaderElection</code> <b>[Required]</b><br>
<a href=#LeaderElectionConfiguration><code>LeaderElectionConfiguration</code></a>
</td>
<td>
LeaderElection defines the configuration of leader election client.</td>
</tr>
<tr><td><code>clientConnection</code> <b>[Required]</b><br>
<a href=#ClientConnectionConfiguration><code>ClientConnectionConfiguration</code></a>
</td>
<td>
ClientConnection specifies the kubeconfig file and client connection
settings for the proxy server to use when communicating with the apiserver.</td>
</tr>
<tr><td><code>healthzBindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
HealthzBindAddress is the IP address and port for the health check server to serve on,
defaulting to 0.0.0.0:10251</td>
</tr>
<tr><td><code>metricsBindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
MetricsBindAddress is the IP address and port for the metrics server to
serve on, defaulting to 0.0.0.0:10251.</td>
</tr>
<tr><td><code>DebuggingConfiguration</code> <b>[Required]</b><br>
<a href=#DebuggingConfiguration><code>DebuggingConfiguration</code></a>
</td>
<td>(Members of <code>DebuggingConfiguration</code> are embedded into this type.)
DebuggingConfiguration holds configuration for Debugging related features
TODO: We might wanna make this a substruct like Debugging componentbaseconfigv1alpha1.DebuggingConfiguration</td>
</tr>
<tr><td><code>percentageOfNodesToScore</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
PercentageOfNodesToScore is the percentage of all nodes that once found feasible
for running a pod, the scheduler stops its search for more feasible nodes in
the cluster. This helps improve scheduler's performance. Scheduler always tries to find
at least "minFeasibleNodesToFind" feasible nodes no matter what the value of this flag is.
Example: if the cluster size is 500 nodes and the value of this flag is 30,
then scheduler stops finding further feasible nodes once it finds 150 feasible ones.
When the value is 0, default percentage (5%--50% based on the size of the cluster) of the
nodes will be scored.</td>
</tr>
<tr><td><code>podInitialBackoffSeconds</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
PodInitialBackoffSeconds is the initial backoff for unschedulable pods.
If specified, it must be greater than 0. If this value is null, the default value (1s)
will be used.</td>
</tr>
<tr><td><code>podMaxBackoffSeconds</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
PodMaxBackoffSeconds is the max backoff for unschedulable pods.
If specified, it must be greater than podInitialBackoffSeconds. If this value is null,
the default value (10s) will be used.</td>
</tr>
<tr><td><code>profiles</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerProfile><code>[]KubeSchedulerProfile</code></a>
</td>
<td>
Profiles are scheduling profiles that kube-scheduler supports. Pods can
choose to be scheduled under a particular profile by setting its associated
scheduler name. Pods that don't specify any scheduler name are scheduled
with the "default-scheduler" profile, if present here.</td>
</tr>
<tr><td><code>extenders</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-Extender><code>[]Extender</code></a>
</td>
<td>
Extenders are the list of scheduler extenders, each holding the values of how to communicate
with the extender. These extenders are shared by all scheduler profiles.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-NodeAffinityArgs><code>NodeAffinityArgs</code> </h2>
<p>NodeAffinityArgs holds arguments to configure the NodeAffinity plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeAffinityArgs</code></td></tr>
<tr><td><code>addedAffinity</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/#nodeaffinity-v1-core><code>core/v1.NodeAffinity</code></a>
</td>
<td>
AddedAffinity is applied to all Pods additionally to the NodeAffinity
specified in the PodSpec. That is, Nodes need to satisfy AddedAffinity
AND .spec.NodeAffinity. AddedAffinity is empty by default (all Nodes
match).
When AddedAffinity is used, some Pods with affinity requirements that match
a specific Node (such as Daemonset Pods) might remain unschedulable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-NodeLabelArgs><code>NodeLabelArgs</code> </h2>
<p>NodeLabelArgs holds arguments used to configure the NodeLabel plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeLabelArgs</code></td></tr>
<tr><td><code>presentLabels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
PresentLabels should be present for the node to be considered a fit for hosting the pod</td>
</tr>
<tr><td><code>absentLabels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
AbsentLabels should be absent for the node to be considered a fit for hosting the pod</td>
</tr>
<tr><td><code>presentLabelsPreference</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
Nodes that have labels in the list will get a higher score.</td>
</tr>
<tr><td><code>absentLabelsPreference</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
Nodes that don't have labels in the list will get a higher score.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-NodeResourcesFitArgs><code>NodeResourcesFitArgs</code> </h2>
<p>NodeResourcesFitArgs holds arguments used to configure the NodeResourcesFit plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeResourcesFitArgs</code></td></tr>
<tr><td><code>ignoredResources</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
IgnoredResources is the list of resources that NodeResources fit filter
should ignore.</td>
</tr>
<tr><td><code>ignoredResourceGroups</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
IgnoredResourceGroups defines the list of resource groups that NodeResources fit filter should ignore.
e.g. if group is ["example.com"], it will ignore all resource names that begin
with "example.com", such as "example.com/aaa" and "example.com/bbb".
A resource group name can't contain '/'.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-NodeResourcesLeastAllocatedArgs><code>NodeResourcesLeastAllocatedArgs</code> </h2>
<p>NodeResourcesLeastAllocatedArgs holds arguments used to configure NodeResourcesLeastAllocated plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeResourcesLeastAllocatedArgs</code></td></tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
Resources to be managed, if no resource is provided, default resource set with both
the weight of "cpu" and "memory" set to "1" will be applied.
Resource with "0" weight will not accountable for the final score.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-NodeResourcesMostAllocatedArgs><code>NodeResourcesMostAllocatedArgs</code> </h2>
<p>NodeResourcesMostAllocatedArgs holds arguments used to configure NodeResourcesMostAllocated plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeResourcesMostAllocatedArgs</code></td></tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
Resources to be managed, if no resource is provided, default resource set with both
the weight of "cpu" and "memory" set to "1" will be applied.
Resource with "0" weight will not accountable for the final score.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-PodTopologySpreadArgs><code>PodTopologySpreadArgs</code> </h2>
<p>PodTopologySpreadArgs holds arguments used to configure the PodTopologySpread plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>PodTopologySpreadArgs</code></td></tr>
<tr><td><code>defaultConstraints</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.20/#topologyspreadconstraint-v1-core><code>[]core/v1.TopologySpreadConstraint</code></a>
</td>
<td>
DefaultConstraints defines topology spread constraints to be applied to
Pods that don't define any in `pod.spec.topologySpreadConstraints`.
`.defaultConstraints[&#8727;].labelSelectors` must be empty, as they are
deduced from the Pod's membership to Services, ReplicationControllers,
ReplicaSets or StatefulSets.
When not empty, .defaultingType must be "List".</td>
</tr>
<tr><td><code>defaultingType</code><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PodTopologySpreadConstraintsDefaulting><code>PodTopologySpreadConstraintsDefaulting</code></a>
</td>
<td>
DefaultingType determines how .defaultConstraints are deduced. Can be one
of "System" or "List".
<ul>
<li>"System": Use kubernetes defined constraints that spread Pods among
Nodes and Zones.</li>
<li>"List": Use constraints defined in .defaultConstraints.</li>
</ul>
<p>Defaults to "List" if feature gate DefaultPodTopologySpread is disabled
and to "System" if enabled.</td></p>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-RequestedToCapacityRatioArgs><code>RequestedToCapacityRatioArgs</code> </h2>
<p>RequestedToCapacityRatioArgs holds arguments used to configure RequestedToCapacityRatio plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>RequestedToCapacityRatioArgs</code></td></tr>
<tr><td><code>shape</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-UtilizationShapePoint><code>[]UtilizationShapePoint</code></a>
</td>
<td>
Points defining priority function shape</td>
</tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
Resources to be managed</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-ServiceAffinityArgs><code>ServiceAffinityArgs</code> </h2>
<p>ServiceAffinityArgs holds arguments used to configure the ServiceAffinity plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>ServiceAffinityArgs</code></td></tr>
<tr><td><code>affinityLabels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
AffinityLabels are homogeneous for pods that are scheduled to a node.
(i.e. it returns true IFF this pod can be added to this node such that all other pods in
the same service are running on nodes with the exact same values for Labels).</td>
</tr>
<tr><td><code>antiAffinityLabelsPreference</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
AntiAffinityLabelsPreference are the labels to consider for service anti affinity scoring.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-VolumeBindingArgs><code>VolumeBindingArgs</code> </h2>
<p>VolumeBindingArgs holds arguments used to configure the VolumeBinding plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>VolumeBindingArgs</code></td></tr>
<tr><td><code>bindTimeoutSeconds</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
BindTimeoutSeconds is the timeout in seconds in volume binding operation.
Value must be non-negative integer. The value zero indicates no waiting.
If this value is nil, the default value (600) will be used.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-Extender><code>Extender</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>Extender holds the parameters used to communicate with the extender. If a verb is unspecified/empty,
it is assumed that the extender chose not to provide that extension.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>urlPrefix</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
URLPrefix at which the extender is available</td>
</tr>
<tr><td><code>filterVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the filter call, empty if not supported. This verb is appended to the URLPrefix when issuing the filter call to extender.</td>
</tr>
<tr><td><code>preemptVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the preempt call, empty if not supported. This verb is appended to the URLPrefix when issuing the preempt call to extender.</td>
</tr>
<tr><td><code>prioritizeVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the prioritize call, empty if not supported. This verb is appended to the URLPrefix when issuing the prioritize call to extender.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the prioritize call generates.
The weight should be a positive integer</td>
</tr>
<tr><td><code>bindVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the bind call, empty if not supported. This verb is appended to the URLPrefix when issuing the bind call to extender.
If this method is implemented by the extender, it is the extender's responsibility to bind the pod to apiserver. Only one extender
can implement this function.</td>
</tr>
<tr><td><code>enableHTTPS</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
EnableHTTPS specifies whether https should be used to communicate with the extender</td>
</tr>
<tr><td><code>tlsConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code></a>
</td>
<td>
TLSConfig specifies the transport layer security config</td>
</tr>
<tr><td><code>httpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
HTTPTimeout specifies the timeout duration for a call to the extender. Filter timeout fails the scheduling of the pod. Prioritize
timeout is ignored, k8s/other extenders priorities are used to select the node.</td>
</tr>
<tr><td><code>nodeCacheCapable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
NodeCacheCapable specifies that the extender is capable of caching node information,
so the scheduler should only send minimal information about the eligible nodes
assuming that the extender already cached full details of all nodes in the cluster</td>
</tr>
<tr><td><code>managedResources</code><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>[]ExtenderManagedResource</code></a>
</td>
<td>
ManagedResources is a list of extended resources that are managed by
this extender.
- A pod will be sent to the extender on the Filter, Prioritize and Bind
(if the extender is the binder) phases iff the pod requests at least
one of the extended resources in this list. If empty or unspecified,
all pods will be sent to this extender.
- If IgnoredByScheduler is set to true for a resource, kube-scheduler
will skip checking the resource in predicates.</td>
</tr>
<tr><td><code>ignorable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Ignorable specifies if the extender is ignorable, i.e. scheduling should not
fail when the extender returns an error or is not reachable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-KubeSchedulerProfile><code>KubeSchedulerProfile</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>KubeSchedulerProfile is a scheduling profile.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>schedulerName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
SchedulerName is the name of the scheduler associated to this profile.
If SchedulerName matches with the pod's "spec.schedulerName", then the pod
is scheduled with this profile.</td>
</tr>
<tr><td><code>plugins</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-Plugins><code>Plugins</code></a>
</td>
<td>
Plugins specify the set of plugins that should be enabled or disabled.
Enabled plugins are the ones that should be enabled in addition to the
default plugins. Disabled plugins are any of the default plugins that
should be disabled.
When no enabled or disabled plugin is specified for an extension point,
default plugins for that extension point will be used if there is any.
If a QueueSort plugin is specified, the same QueueSort Plugin and
PluginConfig must be specified for all profiles.</td>
</tr>
<tr><td><code>pluginConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginConfig><code>[]PluginConfig</code></a>
</td>
<td>
PluginConfig is an optional set of custom plugin arguments for each plugin.
Omitting config args for a plugin is equivalent to using the default config
for that plugin.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-Plugin><code>Plugin</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet>PluginSet</a></li>
</ul>
<p>Plugin specifies a plugin name and its weight when applicable. Weight is used only for Score plugins.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name defines the name of plugin</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Weight defines the weight of plugin, only used for Score plugins.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-PluginConfig><code>PluginConfig</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerProfile>KubeSchedulerProfile</a></li>
</ul>
<p>PluginConfig specifies arguments that should be passed to a plugin at the time of initialization.
A plugin that is invoked at multiple extension points is initialized once. Args can have arbitrary structure.
It is up to the plugin to process these Args.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name defines the name of plugin being configured</td>
</tr>
<tr><td><code>args</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/runtime/#RawExtension><code>k8s.io/apimachinery/pkg/runtime.RawExtension</code></a>
</td>
<td>
Args defines the arguments passed to the plugins at the time of initialization. Args can have arbitrary structure.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-Plugins>Plugins</a></li>
</ul>
<p>PluginSet specifies enabled and disabled plugins for an extension point.
If an array is empty, missing, or nil, default plugins at that extension point will be used.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enabled</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-Plugin><code>[]Plugin</code></a>
</td>
<td>
Enabled specifies plugins that should be enabled in addition to default plugins.
These are called after default plugins and in the same order specified here.</td>
</tr>
<tr><td><code>disabled</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-Plugin><code>[]Plugin</code></a>
</td>
<td>
Disabled specifies default plugins that should be disabled.
When all default plugins need to be disabled, an array containing only one "&#8727;" should be provided.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-Plugins><code>Plugins</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-KubeSchedulerProfile>KubeSchedulerProfile</a></li>
</ul>
<p>Plugins include multiple extension points. When specified, the list of plugins for
a particular extension point are the only ones enabled. If an extension point is
omitted from the config, then the default set of plugins is used for that extension point.
Enabled plugins are called in the order specified here, after default plugins. If they need to
be invoked before default plugins, default plugins must be disabled and re-enabled here in desired order.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>queueSort</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
QueueSort is a list of plugins that should be invoked when sorting pods in the scheduling queue.</td>
</tr>
<tr><td><code>preFilter</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
PreFilter is a list of plugins that should be invoked at "PreFilter" extension point of the scheduling framework.</td>
</tr>
<tr><td><code>filter</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
Filter is a list of plugins that should be invoked when filtering out nodes that cannot run the Pod.</td>
</tr>
<tr><td><code>postFilter</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
PostFilter is a list of plugins that are invoked after filtering phase, no matter whether filtering succeeds or not.</td>
</tr>
<tr><td><code>preScore</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
PreScore is a list of plugins that are invoked before scoring.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
Score is a list of plugins that should be invoked when ranking nodes that have passed the filtering phase.</td>
</tr>
<tr><td><code>reserve</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
Reserve is a list of plugins invoked when reserving/unreserving resources
after a node is assigned to run the pod.</td>
</tr>
<tr><td><code>permit</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
Permit is a list of plugins that control binding of a Pod. These plugins can prevent or delay binding of a Pod.</td>
</tr>
<tr><td><code>preBind</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
PreBind is a list of plugins that should be invoked before a pod is bound.</td>
</tr>
<tr><td><code>bind</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
Bind is a list of plugins that should be invoked at "Bind" extension point of the scheduling framework.
The scheduler call these plugins in order. Scheduler skips the rest of these plugins as soon as one returns success.</td>
</tr>
<tr><td><code>postBind</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta1-PluginSet><code>PluginSet</code></a>
</td>
<td>
PostBind is a list of plugins that should be invoked after a pod is successfully bound.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-PodTopologySpreadConstraintsDefaulting><code>PodTopologySpreadConstraintsDefaulting</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-PodTopologySpreadArgs>PodTopologySpreadArgs</a></li>
</ul>
<p>PodTopologySpreadConstraintsDefaulting defines how to set default constraints
for the PodTopologySpread plugin.</p>
<h2 id=kubescheduler-config-k8s-io-v1beta1-ResourceSpec><code>ResourceSpec</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta1-NodeResourcesLeastAllocatedArgs>NodeResourcesLeastAllocatedArgs</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta1-NodeResourcesMostAllocatedArgs>NodeResourcesMostAllocatedArgs</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta1-RequestedToCapacityRatioArgs>RequestedToCapacityRatioArgs</a></p>
</li>
</ul>
<p>ResourceSpec represents single resource and weight for bin packing of priority RequestedToCapacityRatioArguments.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name of the resource to be managed by RequestedToCapacityRatio function.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
Weight of the resource.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta1-UtilizationShapePoint><code>UtilizationShapePoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta1-RequestedToCapacityRatioArgs>RequestedToCapacityRatioArgs</a></li>
</ul>
<p>UtilizationShapePoint represents single point of priority function shape.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>utilization</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Utilization (x axis). Valid values are 0 to 100. Fully utilized node maps to 100.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Score assigned to given utilization (y axis). Valid values are 0 to 10.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-5cf379787cc3cd6f11182678610e6b5e>11.6 - kube-scheduler Configuration (v1beta2)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-DefaultPreemptionArgs>DefaultPreemptionArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-InterPodAffinityArgs>InterPodAffinityArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-NodeAffinityArgs>NodeAffinityArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-NodeResourcesBalancedAllocationArgs>NodeResourcesBalancedAllocationArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-NodeResourcesFitArgs>NodeResourcesFitArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-PodTopologySpreadArgs>PodTopologySpreadArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-VolumeBindingArgs>VolumeBindingArgs</a></li>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<h2 id=ClientConnectionConfiguration><code>ClientConnectionConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>ClientConnectionConfiguration contains details for constructing a client.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>kubeconfig</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
kubeconfig is the path to a KubeConfig file.</td>
</tr>
<tr><td><code>acceptContentTypes</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
acceptContentTypes defines the Accept header sent by clients when connecting to a server, overriding the
default value of 'application/json'. This field will control all connections to the server used by a particular
client.</td>
</tr>
<tr><td><code>contentType</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
contentType is the content type used when sending data to the server from this client.</td>
</tr>
<tr><td><code>qps</code> <b>[Required]</b><br>
<code>float32</code>
</td>
<td>
qps controls the number of queries per second allowed for this connection.</td>
</tr>
<tr><td><code>burst</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
burst allows extra queries to accumulate when a client is exceeding its rate.</td>
</tr>
</tbody>
</table>
<h2 id=DebuggingConfiguration><code>DebuggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>DebuggingConfiguration holds configuration for Debugging related features.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enableProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableProfiling enables profiling via web interface host:port/debug/pprof/</td>
</tr>
<tr><td><code>enableContentionProfiling</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableContentionProfiling enables lock contention profiling, if
enableProfiling is true.</td>
</tr>
</tbody>
</table>
<h2 id=LeaderElectionConfiguration><code>LeaderElectionConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>LeaderElectionConfiguration defines the configuration of leader election
clients for components that can run with leader election enabled.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>leaderElect</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
leaderElect enables a leader election client to gain leadership
before executing the main loop. Enable this when running replicated
components for high availability.</td>
</tr>
<tr><td><code>leaseDuration</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
leaseDuration is the duration that non-leader candidates will wait
after observing a leadership renewal until attempting to acquire
leadership of a led but unrenewed leader slot. This is effectively the
maximum duration that a leader can be stopped before it is replaced
by another candidate. This is only applicable if leader election is
enabled.</td>
</tr>
<tr><td><code>renewDeadline</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
renewDeadline is the interval between attempts by the acting master to
renew a leadership slot before it stops leading. This must be less
than or equal to the lease duration. This is only applicable if leader
election is enabled.</td>
</tr>
<tr><td><code>retryPeriod</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
retryPeriod is the duration the clients should wait between attempting
acquisition and renewal of a leadership. This is only applicable if
leader election is enabled.</td>
</tr>
<tr><td><code>resourceLock</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceLock indicates the resource object type that will be used to lock
during leader election cycles.</td>
</tr>
<tr><td><code>resourceName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceName indicates the name of resource object that will be used to lock
during leader election cycles.</td>
</tr>
<tr><td><code>resourceNamespace</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
resourceName indicates the namespace of resource object that will be used to lock
during leader election cycles.</td>
</tr>
</tbody>
</table>
<h2 id=LoggingConfiguration><code>LoggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<p>LoggingConfiguration contains logging options
Refer <a href=https://github.com/kubernetes/component-base/blob/master/logs/options.go>Logs Options</a> for more information.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>format</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Format Flag specifies the structure of log messages.
default value of format is `text`</td>
</tr>
<tr><td><code>sanitization</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).
Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.`)</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-DefaultPreemptionArgs><code>DefaultPreemptionArgs</code> </h2>
<p>DefaultPreemptionArgs holds arguments used to configure the
DefaultPreemption plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>DefaultPreemptionArgs</code></td></tr>
<tr><td><code>minCandidateNodesPercentage</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
MinCandidateNodesPercentage is the minimum number of candidates to
shortlist when dry running preemption as a percentage of number of nodes.
Must be in the range [0, 100]. Defaults to 10% of the cluster size if
unspecified.</td>
</tr>
<tr><td><code>minCandidateNodesAbsolute</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
MinCandidateNodesAbsolute is the absolute minimum number of candidates to
shortlist. The likely number of candidates enumerated for dry running
preemption is given by the formula:
numCandidates = max(numNodes &#8727; minCandidateNodesPercentage, minCandidateNodesAbsolute)
We say "likely" because there are other factors such as PDB violations
that play a role in the number of candidates shortlisted. Must be at least
0 nodes. Defaults to 100 nodes if unspecified.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-InterPodAffinityArgs><code>InterPodAffinityArgs</code> </h2>
<p>InterPodAffinityArgs holds arguments used to configure the InterPodAffinity plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>InterPodAffinityArgs</code></td></tr>
<tr><td><code>hardPodAffinityWeight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
HardPodAffinityWeight is the scoring weight for existing pods with a
matching hard affinity to the incoming pod.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration><code>KubeSchedulerConfiguration</code> </h2>
<p>KubeSchedulerConfiguration configures a scheduler</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>KubeSchedulerConfiguration</code></td></tr>
<tr><td><code>parallelism</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Parallelism defines the amount of parallelism in algorithms for scheduling a Pods. Must be greater than 0. Defaults to 16</td>
</tr>
<tr><td><code>leaderElection</code> <b>[Required]</b><br>
<a href=#LeaderElectionConfiguration><code>LeaderElectionConfiguration</code></a>
</td>
<td>
LeaderElection defines the configuration of leader election client.</td>
</tr>
<tr><td><code>clientConnection</code> <b>[Required]</b><br>
<a href=#ClientConnectionConfiguration><code>ClientConnectionConfiguration</code></a>
</td>
<td>
ClientConnection specifies the kubeconfig file and client connection
settings for the proxy server to use when communicating with the apiserver.</td>
</tr>
<tr><td><code>healthzBindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
HealthzBindAddress is the IP address and port for the health check server to serve on,
defaulting to 0.0.0.0:10251</td>
</tr>
<tr><td><code>metricsBindAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
MetricsBindAddress is the IP address and port for the metrics server to
serve on, defaulting to 0.0.0.0:10251.</td>
</tr>
<tr><td><code>DebuggingConfiguration</code> <b>[Required]</b><br>
<a href=#DebuggingConfiguration><code>DebuggingConfiguration</code></a>
</td>
<td>(Members of <code>DebuggingConfiguration</code> are embedded into this type.)
DebuggingConfiguration holds configuration for Debugging related features
TODO: We might wanna make this a substruct like Debugging componentbaseconfigv1alpha1.DebuggingConfiguration</td>
</tr>
<tr><td><code>percentageOfNodesToScore</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
PercentageOfNodesToScore is the percentage of all nodes that once found feasible
for running a pod, the scheduler stops its search for more feasible nodes in
the cluster. This helps improve scheduler's performance. Scheduler always tries to find
at least "minFeasibleNodesToFind" feasible nodes no matter what the value of this flag is.
Example: if the cluster size is 500 nodes and the value of this flag is 30,
then scheduler stops finding further feasible nodes once it finds 150 feasible ones.
When the value is 0, default percentage (5%--50% based on the size of the cluster) of the
nodes will be scored.</td>
</tr>
<tr><td><code>podInitialBackoffSeconds</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
PodInitialBackoffSeconds is the initial backoff for unschedulable pods.
If specified, it must be greater than 0. If this value is null, the default value (1s)
will be used.</td>
</tr>
<tr><td><code>podMaxBackoffSeconds</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
PodMaxBackoffSeconds is the max backoff for unschedulable pods.
If specified, it must be greater than podInitialBackoffSeconds. If this value is null,
the default value (10s) will be used.</td>
</tr>
<tr><td><code>profiles</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerProfile><code>[]KubeSchedulerProfile</code></a>
</td>
<td>
Profiles are scheduling profiles that kube-scheduler supports. Pods can
choose to be scheduled under a particular profile by setting its associated
scheduler name. Pods that don't specify any scheduler name are scheduled
with the "default-scheduler" profile, if present here.</td>
</tr>
<tr><td><code>extenders</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-Extender><code>[]Extender</code></a>
</td>
<td>
Extenders are the list of scheduler extenders, each holding the values of how to communicate
with the extender. These extenders are shared by all scheduler profiles.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-NodeAffinityArgs><code>NodeAffinityArgs</code> </h2>
<p>NodeAffinityArgs holds arguments to configure the NodeAffinity plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeAffinityArgs</code></td></tr>
<tr><td><code>addedAffinity</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#nodeaffinity-v1-core><code>core/v1.NodeAffinity</code></a>
</td>
<td>
AddedAffinity is applied to all Pods additionally to the NodeAffinity
specified in the PodSpec. That is, Nodes need to satisfy AddedAffinity
AND .spec.NodeAffinity. AddedAffinity is empty by default (all Nodes
match).
When AddedAffinity is used, some Pods with affinity requirements that match
a specific Node (such as Daemonset Pods) might remain unschedulable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-NodeResourcesBalancedAllocationArgs><code>NodeResourcesBalancedAllocationArgs</code> </h2>
<p>NodeResourcesBalancedAllocationArgs holds arguments used to configure NodeResourcesBalancedAllocation plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeResourcesBalancedAllocationArgs</code></td></tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
Resources to be managed, the default is "cpu" and "memory" if not specified.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-NodeResourcesFitArgs><code>NodeResourcesFitArgs</code> </h2>
<p>NodeResourcesFitArgs holds arguments used to configure the NodeResourcesFit plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>NodeResourcesFitArgs</code></td></tr>
<tr><td><code>ignoredResources</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
IgnoredResources is the list of resources that NodeResources fit filter
should ignore. This doesn't apply to scoring.</td>
</tr>
<tr><td><code>ignoredResourceGroups</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
IgnoredResourceGroups defines the list of resource groups that NodeResources fit filter should ignore.
e.g. if group is ["example.com"], it will ignore all resource names that begin
with "example.com", such as "example.com/aaa" and "example.com/bbb".
A resource group name can't contain '/'. This doesn't apply to scoring.</td>
</tr>
<tr><td><code>scoringStrategy</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-ScoringStrategy><code>ScoringStrategy</code></a>
</td>
<td>
ScoringStrategy selects the node resource scoring strategy.
The default strategy is LeastAllocated with an equal "cpu" and "memory" weight.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-PodTopologySpreadArgs><code>PodTopologySpreadArgs</code> </h2>
<p>PodTopologySpreadArgs holds arguments used to configure the PodTopologySpread plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>PodTopologySpreadArgs</code></td></tr>
<tr><td><code>defaultConstraints</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#topologyspreadconstraint-v1-core><code>[]core/v1.TopologySpreadConstraint</code></a>
</td>
<td>
DefaultConstraints defines topology spread constraints to be applied to
Pods that don't define any in `pod.spec.topologySpreadConstraints`.
`.defaultConstraints[&#8727;].labelSelectors` must be empty, as they are
deduced from the Pod's membership to Services, ReplicationControllers,
ReplicaSets or StatefulSets.
When not empty, .defaultingType must be "List".</td>
</tr>
<tr><td><code>defaultingType</code><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PodTopologySpreadConstraintsDefaulting><code>PodTopologySpreadConstraintsDefaulting</code></a>
</td>
<td>
DefaultingType determines how .defaultConstraints are deduced. Can be one
of "System" or "List".
<ul>
<li>"System": Use kubernetes defined constraints that spread Pods among
Nodes and Zones.</li>
<li>"List": Use constraints defined in .defaultConstraints.</li>
</ul>
<p>Defaults to "List" if feature gate DefaultPodTopologySpread is disabled
and to "System" if enabled.</td></p>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-VolumeBindingArgs><code>VolumeBindingArgs</code> </h2>
<p>VolumeBindingArgs holds arguments used to configure the VolumeBinding plugin.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>VolumeBindingArgs</code></td></tr>
<tr><td><code>bindTimeoutSeconds</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
BindTimeoutSeconds is the timeout in seconds in volume binding operation.
Value must be non-negative integer. The value zero indicates no waiting.
If this value is nil, the default value (600) will be used.</td>
</tr>
<tr><td><code>shape</code><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-UtilizationShapePoint><code>[]UtilizationShapePoint</code></a>
</td>
<td>
Shape specifies the points defining the score function shape, which is
used to score nodes based on the utilization of statically provisioned
PVs. The utilization is calculated by dividing the total requested
storage of the pod by the total capacity of feasible PVs on each node.
Each point contains utilization (ranges from 0 to 100) and its
associated score (ranges from 0 to 10). You can turn the priority by
specifying different scores for different utilization numbers.
The default shape points are:
1) 0 for 0 utilization
2) 10 for 100 utilization
All points must be sorted in increasing order by utilization.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-Extender><code>Extender</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>Extender holds the parameters used to communicate with the extender. If a verb is unspecified/empty,
it is assumed that the extender chose not to provide that extension.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>urlPrefix</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
URLPrefix at which the extender is available</td>
</tr>
<tr><td><code>filterVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the filter call, empty if not supported. This verb is appended to the URLPrefix when issuing the filter call to extender.</td>
</tr>
<tr><td><code>preemptVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the preempt call, empty if not supported. This verb is appended to the URLPrefix when issuing the preempt call to extender.</td>
</tr>
<tr><td><code>prioritizeVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the prioritize call, empty if not supported. This verb is appended to the URLPrefix when issuing the prioritize call to extender.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the prioritize call generates.
The weight should be a positive integer</td>
</tr>
<tr><td><code>bindVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the bind call, empty if not supported. This verb is appended to the URLPrefix when issuing the bind call to extender.
If this method is implemented by the extender, it is the extender's responsibility to bind the pod to apiserver. Only one extender
can implement this function.</td>
</tr>
<tr><td><code>enableHTTPS</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
EnableHTTPS specifies whether https should be used to communicate with the extender</td>
</tr>
<tr><td><code>tlsConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code></a>
</td>
<td>
TLSConfig specifies the transport layer security config</td>
</tr>
<tr><td><code>httpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
HTTPTimeout specifies the timeout duration for a call to the extender. Filter timeout fails the scheduling of the pod. Prioritize
timeout is ignored, k8s/other extenders priorities are used to select the node.</td>
</tr>
<tr><td><code>nodeCacheCapable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
NodeCacheCapable specifies that the extender is capable of caching node information,
so the scheduler should only send minimal information about the eligible nodes
assuming that the extender already cached full details of all nodes in the cluster</td>
</tr>
<tr><td><code>managedResources</code><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>[]ExtenderManagedResource</code></a>
</td>
<td>
ManagedResources is a list of extended resources that are managed by
this extender.
- A pod will be sent to the extender on the Filter, Prioritize and Bind
(if the extender is the binder) phases iff the pod requests at least
one of the extended resources in this list. If empty or unspecified,
all pods will be sent to this extender.
- If IgnoredByScheduler is set to true for a resource, kube-scheduler
will skip checking the resource in predicates.</td>
</tr>
<tr><td><code>ignorable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Ignorable specifies if the extender is ignorable, i.e. scheduling should not
fail when the extender returns an error or is not reachable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-KubeSchedulerProfile><code>KubeSchedulerProfile</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerConfiguration>KubeSchedulerConfiguration</a></li>
</ul>
<p>KubeSchedulerProfile is a scheduling profile.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>schedulerName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
SchedulerName is the name of the scheduler associated to this profile.
If SchedulerName matches with the pod's "spec.schedulerName", then the pod
is scheduled with this profile.</td>
</tr>
<tr><td><code>plugins</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-Plugins><code>Plugins</code></a>
</td>
<td>
Plugins specify the set of plugins that should be enabled or disabled.
Enabled plugins are the ones that should be enabled in addition to the
default plugins. Disabled plugins are any of the default plugins that
should be disabled.
When no enabled or disabled plugin is specified for an extension point,
default plugins for that extension point will be used if there is any.
If a QueueSort plugin is specified, the same QueueSort Plugin and
PluginConfig must be specified for all profiles.</td>
</tr>
<tr><td><code>pluginConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginConfig><code>[]PluginConfig</code></a>
</td>
<td>
PluginConfig is an optional set of custom plugin arguments for each plugin.
Omitting config args for a plugin is equivalent to using the default config
for that plugin.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-Plugin><code>Plugin</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet>PluginSet</a></li>
</ul>
<p>Plugin specifies a plugin name and its weight when applicable. Weight is used only for Score plugins.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name defines the name of plugin</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Weight defines the weight of plugin, only used for Score plugins.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-PluginConfig><code>PluginConfig</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerProfile>KubeSchedulerProfile</a></li>
</ul>
<p>PluginConfig specifies arguments that should be passed to a plugin at the time of initialization.
A plugin that is invoked at multiple extension points is initialized once. Args can have arbitrary structure.
It is up to the plugin to process these Args.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name defines the name of plugin being configured</td>
</tr>
<tr><td><code>args</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/runtime/#RawExtension><code>k8s.io/apimachinery/pkg/runtime.RawExtension</code></a>
</td>
<td>
Args defines the arguments passed to the plugins at the time of initialization. Args can have arbitrary structure.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-Plugins>Plugins</a></li>
</ul>
<p>PluginSet specifies enabled and disabled plugins for an extension point.
If an array is empty, missing, or nil, default plugins at that extension point will be used.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enabled</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-Plugin><code>[]Plugin</code></a>
</td>
<td>
Enabled specifies plugins that should be enabled in addition to default plugins.
If the default plugin is also configured in the scheduler config file, the weight of plugin will
be overridden accordingly.
These are called after default plugins and in the same order specified here.</td>
</tr>
<tr><td><code>disabled</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-Plugin><code>[]Plugin</code></a>
</td>
<td>
Disabled specifies default plugins that should be disabled.
When all default plugins need to be disabled, an array containing only one "&#8727;" should be provided.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-Plugins><code>Plugins</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-KubeSchedulerProfile>KubeSchedulerProfile</a></li>
</ul>
<p>Plugins include multiple extension points. When specified, the list of plugins for
a particular extension point are the only ones enabled. If an extension point is
omitted from the config, then the default set of plugins is used for that extension point.
Enabled plugins are called in the order specified here, after default plugins. If they need to
be invoked before default plugins, default plugins must be disabled and re-enabled here in desired order.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>queueSort</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
QueueSort is a list of plugins that should be invoked when sorting pods in the scheduling queue.</td>
</tr>
<tr><td><code>preFilter</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
PreFilter is a list of plugins that should be invoked at "PreFilter" extension point of the scheduling framework.</td>
</tr>
<tr><td><code>filter</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
Filter is a list of plugins that should be invoked when filtering out nodes that cannot run the Pod.</td>
</tr>
<tr><td><code>postFilter</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
PostFilter is a list of plugins that are invoked after filtering phase, no matter whether filtering succeeds or not.</td>
</tr>
<tr><td><code>preScore</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
PreScore is a list of plugins that are invoked before scoring.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
Score is a list of plugins that should be invoked when ranking nodes that have passed the filtering phase.</td>
</tr>
<tr><td><code>reserve</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
Reserve is a list of plugins invoked when reserving/unreserving resources
after a node is assigned to run the pod.</td>
</tr>
<tr><td><code>permit</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
Permit is a list of plugins that control binding of a Pod. These plugins can prevent or delay binding of a Pod.</td>
</tr>
<tr><td><code>preBind</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
PreBind is a list of plugins that should be invoked before a pod is bound.</td>
</tr>
<tr><td><code>bind</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
Bind is a list of plugins that should be invoked at "Bind" extension point of the scheduling framework.
The scheduler call these plugins in order. Scheduler skips the rest of these plugins as soon as one returns success.</td>
</tr>
<tr><td><code>postBind</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-PluginSet><code>PluginSet</code></a>
</td>
<td>
PostBind is a list of plugins that should be invoked after a pod is successfully bound.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-PodTopologySpreadConstraintsDefaulting><code>PodTopologySpreadConstraintsDefaulting</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-PodTopologySpreadArgs>PodTopologySpreadArgs</a></li>
</ul>
<p>PodTopologySpreadConstraintsDefaulting defines how to set default constraints
for the PodTopologySpread plugin.</p>
<h2 id=kubescheduler-config-k8s-io-v1beta2-RequestedToCapacityRatioParam><code>RequestedToCapacityRatioParam</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-ScoringStrategy>ScoringStrategy</a></li>
</ul>
<p>RequestedToCapacityRatioParam define RequestedToCapacityRatio parameters</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>shape</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-UtilizationShapePoint><code>[]UtilizationShapePoint</code></a>
</td>
<td>
Shape is a list of points defining the scoring function shape.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-ResourceSpec><code>ResourceSpec</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-NodeResourcesBalancedAllocationArgs>NodeResourcesBalancedAllocationArgs</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-ScoringStrategy>ScoringStrategy</a></p>
</li>
</ul>
<p>ResourceSpec represents a single resource.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name of the resource.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
Weight of the resource.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-ScoringStrategy><code>ScoringStrategy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-NodeResourcesFitArgs>NodeResourcesFitArgs</a></li>
</ul>
<p>ScoringStrategy define ScoringStrategyType for node resource plugin</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>type</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-ScoringStrategyType><code>ScoringStrategyType</code></a>
</td>
<td>
Type selects which strategy to run.</td>
</tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
Resources to consider when scoring.
The default resource set includes "cpu" and "memory" with an equal weight.
Allowed weights go from 1 to 100.
Weight defaults to 1 if not specified or explicitly set to 0.</td>
</tr>
<tr><td><code>requestedToCapacityRatio</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1beta2-RequestedToCapacityRatioParam><code>RequestedToCapacityRatioParam</code></a>
</td>
<td>
Arguments specific to RequestedToCapacityRatio strategy.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1beta2-ScoringStrategyType><code>ScoringStrategyType</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1beta2-ScoringStrategy>ScoringStrategy</a></li>
</ul>
<p>ScoringStrategyType the type of scoring strategy used in NodeResourcesFit plugin.</p>
<h2 id=kubescheduler-config-k8s-io-v1beta2-UtilizationShapePoint><code>UtilizationShapePoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-VolumeBindingArgs>VolumeBindingArgs</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-RequestedToCapacityRatioParam>RequestedToCapacityRatioParam</a></p>
</li>
</ul>
<p>UtilizationShapePoint represents single point of priority function shape.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>utilization</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Utilization (x axis). Valid values are 0 to 100. Fully utilized node maps to 100.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Score assigned to given utilization (y axis). Valid values are 0 to 10.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-Policy><code>Policy</code> </h2>
<p>Policy describes a struct for a policy resource used in api.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>Policy</code></td></tr>
<tr><td><code>predicates</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PredicatePolicy><code>[]PredicatePolicy</code></a>
</td>
<td>
Holds the information to configure the fit predicate functions</td>
</tr>
<tr><td><code>priorities</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PriorityPolicy><code>[]PriorityPolicy</code></a>
</td>
<td>
Holds the information to configure the priority functions</td>
</tr>
<tr><td><code>extenders</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LegacyExtender><code>[]LegacyExtender</code></a>
</td>
<td>
Holds the information to communicate with the extender(s)</td>
</tr>
<tr><td><code>hardPodAffinitySymmetricWeight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
RequiredDuringScheduling affinity is not symmetric, but there is an implicit PreferredDuringScheduling affinity rule
corresponding to every RequiredDuringScheduling affinity rule.
HardPodAffinitySymmetricWeight represents the weight of implicit PreferredDuringScheduling affinity rule, in the range 1-100.</td>
</tr>
<tr><td><code>alwaysCheckAllPredicates</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
When AlwaysCheckAllPredicates is set to true, scheduler checks all
the configured predicates even after one or more of them fails.
When the flag is set to false, scheduler skips checking the rest
of the predicates after it finds one predicate that failed.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>ExtenderManagedResource</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-Extender>Extender</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1-LegacyExtender>LegacyExtender</a></p>
</li>
</ul>
<p>ExtenderManagedResource describes the arguments of extended resources
managed by an extender.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name is the extended resource name.</td>
</tr>
<tr><td><code>ignoredByScheduler</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
IgnoredByScheduler indicates whether kube-scheduler should ignore this
resource when applying predicates.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-Extender>Extender</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1-LegacyExtender>LegacyExtender</a></p>
</li>
</ul>
<p>ExtenderTLSConfig contains settings to enable TLS with extender</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>insecure</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Server should be accessed without verifying the TLS certificate. For testing only.</td>
</tr>
<tr><td><code>serverName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
ServerName is passed to the server for SNI and is used in the client to check server
certificates against. If ServerName is empty, the hostname used to contact the
server is used.</td>
</tr>
<tr><td><code>certFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server requires TLS client certificate authentication</td>
</tr>
<tr><td><code>keyFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server requires TLS client certificate authentication</td>
</tr>
<tr><td><code>caFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Trusted root certificates for server</td>
</tr>
<tr><td><code>certData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
CertData holds PEM-encoded bytes (typically read from a client certificate file).
CertData takes precedence over CertFile</td>
</tr>
<tr><td><code>keyData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
KeyData holds PEM-encoded bytes (typically read from a client certificate key file).
KeyData takes precedence over KeyFile</td>
</tr>
<tr><td><code>caData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
CAData holds PEM-encoded bytes (typically read from a root certificates bundle).
CAData takes precedence over CAFile</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LabelPreference><code>LabelPreference</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>LabelPreference holds the parameters that are used to configure the corresponding priority function</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>label</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Used to identify node "groups"</td>
</tr>
<tr><td><code>presence</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
This is a boolean flag
If true, higher priority is given to nodes that have the label
If false, higher priority is given to nodes that do not have the label</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LabelsPresence><code>LabelsPresence</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicateArgument>PredicateArgument</a></li>
</ul>
<p>LabelsPresence holds the parameters that are used to configure the corresponding predicate in scheduler policy configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>labels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
The list of labels that identify node "groups"
All of the labels should be either present (or absent) for the node to be considered a fit for hosting the pod</td>
</tr>
<tr><td><code>presence</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
The boolean flag that indicates whether the labels should be present or absent from the node</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LegacyExtender><code>LegacyExtender</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>LegacyExtender holds the parameters used to communicate with the extender. If a verb is unspecified/empty,
it is assumed that the extender chose not to provide that extension.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>urlPrefix</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
URLPrefix at which the extender is available</td>
</tr>
<tr><td><code>filterVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the filter call, empty if not supported. This verb is appended to the URLPrefix when issuing the filter call to extender.</td>
</tr>
<tr><td><code>preemptVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the preempt call, empty if not supported. This verb is appended to the URLPrefix when issuing the preempt call to extender.</td>
</tr>
<tr><td><code>prioritizeVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the prioritize call, empty if not supported. This verb is appended to the URLPrefix when issuing the prioritize call to extender.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the prioritize call generates.
The weight should be a positive integer</td>
</tr>
<tr><td><code>bindVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the bind call, empty if not supported. This verb is appended to the URLPrefix when issuing the bind call to extender.
If this method is implemented by the extender, it is the extender's responsibility to bind the pod to apiserver. Only one extender
can implement this function.</td>
</tr>
<tr><td><code>enableHttps</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
EnableHTTPS specifies whether https should be used to communicate with the extender</td>
</tr>
<tr><td><code>tlsConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code></a>
</td>
<td>
TLSConfig specifies the transport layer security config</td>
</tr>
<tr><td><code>httpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/time#Duration><code>time.Duration</code></a>
</td>
<td>
HTTPTimeout specifies the timeout duration for a call to the extender. Filter timeout fails the scheduling of the pod. Prioritize
timeout is ignored, k8s/other extenders priorities are used to select the node.</td>
</tr>
<tr><td><code>nodeCacheCapable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
NodeCacheCapable specifies that the extender is capable of caching node information,
so the scheduler should only send minimal information about the eligible nodes
assuming that the extender already cached full details of all nodes in the cluster</td>
</tr>
<tr><td><code>managedResources</code><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>[]ExtenderManagedResource</code></a>
</td>
<td>
ManagedResources is a list of extended resources that are managed by
this extender.
- A pod will be sent to the extender on the Filter, Prioritize and Bind
(if the extender is the binder) phases iff the pod requests at least
one of the extended resources in this list. If empty or unspecified,
all pods will be sent to this extender.
- If IgnoredByScheduler is set to true for a resource, kube-scheduler
will skip checking the resource in predicates.</td>
</tr>
<tr><td><code>ignorable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Ignorable specifies if the extender is ignorable, i.e. scheduling should not
fail when the extender returns an error or is not reachable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PredicateArgument><code>PredicateArgument</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicatePolicy>PredicatePolicy</a></li>
</ul>
<p>PredicateArgument represents the arguments to configure predicate functions in scheduler policy configuration.
Only one of its members may be specified</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceAffinity</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ServiceAffinity><code>ServiceAffinity</code></a>
</td>
<td>
The predicate that provides affinity for pods belonging to a service
It uses a label to identify nodes that belong to the same "group"</td>
</tr>
<tr><td><code>labelsPresence</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LabelsPresence><code>LabelsPresence</code></a>
</td>
<td>
The predicate that checks whether a particular node has a certain label
defined or not, regardless of value</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PredicatePolicy><code>PredicatePolicy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PredicatePolicy describes a struct of a predicate policy.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Identifier of the predicate policy
For a custom predicate, the name can be user-defined
For the Kubernetes provided predicates, the name is the identifier of the pre-defined predicate</td>
</tr>
<tr><td><code>argument</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PredicateArgument><code>PredicateArgument</code></a>
</td>
<td>
Holds the parameters to configure the given predicate</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PriorityArgument><code>PriorityArgument</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityPolicy>PriorityPolicy</a></li>
</ul>
<p>PriorityArgument represents the arguments to configure priority functions in scheduler policy configuration.
Only one of its members may be specified</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceAntiAffinity</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ServiceAntiAffinity><code>ServiceAntiAffinity</code></a>
</td>
<td>
The priority function that ensures a good spread (anti-affinity) for pods belonging to a service
It uses a label to identify nodes that belong to the same "group"</td>
</tr>
<tr><td><code>labelPreference</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LabelPreference><code>LabelPreference</code></a>
</td>
<td>
The priority function that checks whether a particular node has a certain label
defined or not, regardless of value</td>
</tr>
<tr><td><code>requestedToCapacityRatioArguments</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments><code>RequestedToCapacityRatioArguments</code></a>
</td>
<td>
The RequestedToCapacityRatio priority function is parametrized with function shape.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PriorityPolicy><code>PriorityPolicy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PriorityPolicy describes a struct of a priority policy.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Identifier of the priority policy
For a custom priority, the name can be user-defined
For the Kubernetes provided priority functions, the name is the identifier of the pre-defined priority function</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the priority function generates
The weight should be non-zero and can be a positive or a negative integer</td>
</tr>
<tr><td><code>argument</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PriorityArgument><code>PriorityArgument</code></a>
</td>
<td>
Holds the parameters to configure the given priority function</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments><code>RequestedToCapacityRatioArguments</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>RequestedToCapacityRatioArguments holds arguments specific to RequestedToCapacityRatio priority function.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>shape</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-UtilizationShapePoint><code>[]UtilizationShapePoint</code></a>
</td>
<td>
Array of point defining priority function shape.</td>
</tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ResourceSpec><code>ResourceSpec</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments>RequestedToCapacityRatioArguments</a></li>
</ul>
<p>ResourceSpec represents single resource and weight for bin packing of priority RequestedToCapacityRatioArguments.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name of the resource to be managed by RequestedToCapacityRatio function.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
Weight of the resource.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ServiceAffinity><code>ServiceAffinity</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicateArgument>PredicateArgument</a></li>
</ul>
<p>ServiceAffinity holds the parameters that are used to configure the corresponding predicate in scheduler policy configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>labels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
The list of labels that identify node "groups"
All of the labels should match for the node to be considered a fit for hosting the pod</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ServiceAntiAffinity><code>ServiceAntiAffinity</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>ServiceAntiAffinity holds the parameters that are used to configure the corresponding priority function</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>label</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Used to identify node "groups"</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-UtilizationShapePoint><code>UtilizationShapePoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments>RequestedToCapacityRatioArguments</a></li>
</ul>
<p>UtilizationShapePoint represents single point of priority function shape.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>utilization</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Utilization (x axis). Valid values are 0 to 100. Fully utilized node maps to 100.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Score assigned to given utilization (y axis). Valid values are 0 to 10.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-699f28965d0a72527ebd04826dda8901>11.7 - kube-scheduler Policy Configuration (v1)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<h2 id=kubescheduler-config-k8s-io-v1-Policy><code>Policy</code> </h2>
<p>Policy describes a struct for a policy resource used in api.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubescheduler.config.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>Policy</code></td></tr>
<tr><td><code>predicates</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PredicatePolicy><code>[]PredicatePolicy</code></a>
</td>
<td>
Holds the information to configure the fit predicate functions</td>
</tr>
<tr><td><code>priorities</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PriorityPolicy><code>[]PriorityPolicy</code></a>
</td>
<td>
Holds the information to configure the priority functions</td>
</tr>
<tr><td><code>extenders</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LegacyExtender><code>[]LegacyExtender</code></a>
</td>
<td>
Holds the information to communicate with the extender(s)</td>
</tr>
<tr><td><code>hardPodAffinitySymmetricWeight</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
RequiredDuringScheduling affinity is not symmetric, but there is an implicit PreferredDuringScheduling affinity rule
corresponding to every RequiredDuringScheduling affinity rule.
HardPodAffinitySymmetricWeight represents the weight of implicit PreferredDuringScheduling affinity rule, in the range 1-100.</td>
</tr>
<tr><td><code>alwaysCheckAllPredicates</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
When AlwaysCheckAllPredicates is set to true, scheduler checks all
the configured predicates even after one or more of them fails.
When the flag is set to false, scheduler skips checking the rest
of the predicates after it finds one predicate that failed.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>ExtenderManagedResource</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-Extender>Extender</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1-LegacyExtender>LegacyExtender</a></p>
</li>
</ul>
<p>ExtenderManagedResource describes the arguments of extended resources
managed by an extender.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name is the extended resource name.</td>
</tr>
<tr><td><code>ignoredByScheduler</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
IgnoredByScheduler indicates whether kube-scheduler should ignore this
resource when applying predicates.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1beta2-Extender>Extender</a></p>
</li>
<li>
<p><a href=#kubescheduler-config-k8s-io-v1-LegacyExtender>LegacyExtender</a></p>
</li>
</ul>
<p>ExtenderTLSConfig contains settings to enable TLS with extender</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>insecure</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Server should be accessed without verifying the TLS certificate. For testing only.</td>
</tr>
<tr><td><code>serverName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
ServerName is passed to the server for SNI and is used in the client to check server
certificates against. If ServerName is empty, the hostname used to contact the
server is used.</td>
</tr>
<tr><td><code>certFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server requires TLS client certificate authentication</td>
</tr>
<tr><td><code>keyFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Server requires TLS client certificate authentication</td>
</tr>
<tr><td><code>caFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Trusted root certificates for server</td>
</tr>
<tr><td><code>certData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
CertData holds PEM-encoded bytes (typically read from a client certificate file).
CertData takes precedence over CertFile</td>
</tr>
<tr><td><code>keyData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
KeyData holds PEM-encoded bytes (typically read from a client certificate key file).
KeyData takes precedence over KeyFile</td>
</tr>
<tr><td><code>caData</code> <b>[Required]</b><br>
<code>[]byte</code>
</td>
<td>
CAData holds PEM-encoded bytes (typically read from a root certificates bundle).
CAData takes precedence over CAFile</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LabelPreference><code>LabelPreference</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>LabelPreference holds the parameters that are used to configure the corresponding priority function</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>label</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Used to identify node "groups"</td>
</tr>
<tr><td><code>presence</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
This is a boolean flag
If true, higher priority is given to nodes that have the label
If false, higher priority is given to nodes that do not have the label</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LabelsPresence><code>LabelsPresence</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicateArgument>PredicateArgument</a></li>
</ul>
<p>LabelsPresence holds the parameters that are used to configure the corresponding predicate in scheduler policy configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>labels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
The list of labels that identify node "groups"
All of the labels should be either present (or absent) for the node to be considered a fit for hosting the pod</td>
</tr>
<tr><td><code>presence</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
The boolean flag that indicates whether the labels should be present or absent from the node</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-LegacyExtender><code>LegacyExtender</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>LegacyExtender holds the parameters used to communicate with the extender. If a verb is unspecified/empty,
it is assumed that the extender chose not to provide that extension.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>urlPrefix</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
URLPrefix at which the extender is available</td>
</tr>
<tr><td><code>filterVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the filter call, empty if not supported. This verb is appended to the URLPrefix when issuing the filter call to extender.</td>
</tr>
<tr><td><code>preemptVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the preempt call, empty if not supported. This verb is appended to the URLPrefix when issuing the preempt call to extender.</td>
</tr>
<tr><td><code>prioritizeVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the prioritize call, empty if not supported. This verb is appended to the URLPrefix when issuing the prioritize call to extender.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the prioritize call generates.
The weight should be a positive integer</td>
</tr>
<tr><td><code>bindVerb</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Verb for the bind call, empty if not supported. This verb is appended to the URLPrefix when issuing the bind call to extender.
If this method is implemented by the extender, it is the extender's responsibility to bind the pod to apiserver. Only one extender
can implement this function.</td>
</tr>
<tr><td><code>enableHttps</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
EnableHTTPS specifies whether https should be used to communicate with the extender</td>
</tr>
<tr><td><code>tlsConfig</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderTLSConfig><code>ExtenderTLSConfig</code></a>
</td>
<td>
TLSConfig specifies the transport layer security config</td>
</tr>
<tr><td><code>httpTimeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/time#Duration><code>time.Duration</code></a>
</td>
<td>
HTTPTimeout specifies the timeout duration for a call to the extender. Filter timeout fails the scheduling of the pod. Prioritize
timeout is ignored, k8s/other extenders priorities are used to select the node.</td>
</tr>
<tr><td><code>nodeCacheCapable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
NodeCacheCapable specifies that the extender is capable of caching node information,
so the scheduler should only send minimal information about the eligible nodes
assuming that the extender already cached full details of all nodes in the cluster</td>
</tr>
<tr><td><code>managedResources</code><br>
<a href=#kubescheduler-config-k8s-io-v1-ExtenderManagedResource><code>[]ExtenderManagedResource</code></a>
</td>
<td>
ManagedResources is a list of extended resources that are managed by
this extender.
- A pod will be sent to the extender on the Filter, Prioritize and Bind
(if the extender is the binder) phases iff the pod requests at least
one of the extended resources in this list. If empty or unspecified,
all pods will be sent to this extender.
- If IgnoredByScheduler is set to true for a resource, kube-scheduler
will skip checking the resource in predicates.</td>
</tr>
<tr><td><code>ignorable</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
Ignorable specifies if the extender is ignorable, i.e. scheduling should not
fail when the extender returns an error or is not reachable.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PredicateArgument><code>PredicateArgument</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicatePolicy>PredicatePolicy</a></li>
</ul>
<p>PredicateArgument represents the arguments to configure predicate functions in scheduler policy configuration.
Only one of its members may be specified</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceAffinity</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ServiceAffinity><code>ServiceAffinity</code></a>
</td>
<td>
The predicate that provides affinity for pods belonging to a service
It uses a label to identify nodes that belong to the same "group"</td>
</tr>
<tr><td><code>labelsPresence</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LabelsPresence><code>LabelsPresence</code></a>
</td>
<td>
The predicate that checks whether a particular node has a certain label
defined or not, regardless of value</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PredicatePolicy><code>PredicatePolicy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PredicatePolicy describes a struct of a predicate policy.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Identifier of the predicate policy
For a custom predicate, the name can be user-defined
For the Kubernetes provided predicates, the name is the identifier of the pre-defined predicate</td>
</tr>
<tr><td><code>argument</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PredicateArgument><code>PredicateArgument</code></a>
</td>
<td>
Holds the parameters to configure the given predicate</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PriorityArgument><code>PriorityArgument</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityPolicy>PriorityPolicy</a></li>
</ul>
<p>PriorityArgument represents the arguments to configure priority functions in scheduler policy configuration.
Only one of its members may be specified</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceAntiAffinity</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ServiceAntiAffinity><code>ServiceAntiAffinity</code></a>
</td>
<td>
The priority function that ensures a good spread (anti-affinity) for pods belonging to a service
It uses a label to identify nodes that belong to the same "group"</td>
</tr>
<tr><td><code>labelPreference</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-LabelPreference><code>LabelPreference</code></a>
</td>
<td>
The priority function that checks whether a particular node has a certain label
defined or not, regardless of value</td>
</tr>
<tr><td><code>requestedToCapacityRatioArguments</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments><code>RequestedToCapacityRatioArguments</code></a>
</td>
<td>
The RequestedToCapacityRatio priority function is parametrized with function shape.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-PriorityPolicy><code>PriorityPolicy</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-Policy>Policy</a></li>
</ul>
<p>PriorityPolicy describes a struct of a priority policy.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Identifier of the priority policy
For a custom priority, the name can be user-defined
For the Kubernetes provided priority functions, the name is the identifier of the pre-defined priority function</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
The numeric multiplier for the node scores that the priority function generates
The weight should be non-zero and can be a positive or a negative integer</td>
</tr>
<tr><td><code>argument</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-PriorityArgument><code>PriorityArgument</code></a>
</td>
<td>
Holds the parameters to configure the given priority function</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments><code>RequestedToCapacityRatioArguments</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>RequestedToCapacityRatioArguments holds arguments specific to RequestedToCapacityRatio priority function.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>shape</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-UtilizationShapePoint><code>[]UtilizationShapePoint</code></a>
</td>
<td>
Array of point defining priority function shape.</td>
</tr>
<tr><td><code>resources</code> <b>[Required]</b><br>
<a href=#kubescheduler-config-k8s-io-v1-ResourceSpec><code>[]ResourceSpec</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ResourceSpec><code>ResourceSpec</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments>RequestedToCapacityRatioArguments</a></li>
</ul>
<p>ResourceSpec represents single resource and weight for bin packing of priority RequestedToCapacityRatioArguments.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Name of the resource to be managed by RequestedToCapacityRatio function.</td>
</tr>
<tr><td><code>weight</code> <b>[Required]</b><br>
<code>int64</code>
</td>
<td>
Weight of the resource.</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ServiceAffinity><code>ServiceAffinity</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PredicateArgument>PredicateArgument</a></li>
</ul>
<p>ServiceAffinity holds the parameters that are used to configure the corresponding predicate in scheduler policy configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>labels</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
The list of labels that identify node "groups"
All of the labels should match for the node to be considered a fit for hosting the pod</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-ServiceAntiAffinity><code>ServiceAntiAffinity</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-PriorityArgument>PriorityArgument</a></li>
</ul>
<p>ServiceAntiAffinity holds the parameters that are used to configure the corresponding priority function</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>label</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Used to identify node "groups"</td>
</tr>
</tbody>
</table>
<h2 id=kubescheduler-config-k8s-io-v1-UtilizationShapePoint><code>UtilizationShapePoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubescheduler-config-k8s-io-v1-RequestedToCapacityRatioArguments>RequestedToCapacityRatioArguments</a></li>
</ul>
<p>UtilizationShapePoint represents single point of priority function shape.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>utilization</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Utilization (x axis). Valid values are 0 to 100. Fully utilized node maps to 100.</td>
</tr>
<tr><td><code>score</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
Score assigned to given utilization (y axis). Valid values are 0 to 10.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-81f4b8f1501e8345c99315695078a771>11.8 - kubeadm Configuration (v1beta2)</h1>
<p>Package v1beta2 defines the v1beta2 version of the kubeadm configuration file format.
This version improves on the v1beta1 format by fixing some minor issues and adding a few new fields.</p>
<p>A list of changes since v1beta1:</p>
<ul>
<li>`certificateKey" field is added to InitConfiguration and JoinConfiguration.</li>
<li>"ignorePreflightErrors" field is added to the NodeRegistrationOptions.</li>
<li>The JSON "omitempty" tag is used in a more places where appropriate.</li>
<li>The JSON "omitempty" tag of the "taints" field (inside NodeRegistrationOptions) is removed.
See the Kubernetes 1.15 changelog for further details.</li>
</ul>
<h2 id=migration-from-old-kubeadm-config-versions>Migration from old kubeadm config versions</h2>
<p>Please convert your v1beta1 configuration files to v1beta2 using the "kubeadm config migrate" command of kubeadm v1.15.x
(conversion from older releases of kubeadm config files requires older release of kubeadm as well e.g.</p>
<ul>
<li>kubeadm v1.11 should be used to migrate v1alpha1 to v1alpha2; kubeadm v1.12 should be used to translate v1alpha2 to v1alpha3;</li>
<li>kubeadm v1.13 or v1.14 should be used to translate v1alpha3 to v1beta1)</li>
</ul>
<p>Nevertheless, kubeadm v1.15.x will support reading from v1beta1 version of the kubeadm config file format.</p>
<h2 id=basics>Basics</h2>
<p>The preferred way to configure kubeadm is to pass an YAML configuration file with the --config option. Some of the
configuration options defined in the kubeadm config file are also available as command line flags, but only
the most common/simple use case are supported with this approach.</p>
<p>A kubeadm config file could contain multiple configuration types separated using three dashes (“---”).</p>
<p>kubeadm supports the following configuration types:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>InitConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubelet.config.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeletConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeproxy.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeProxyConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>JoinConfiguration<span style=color:#bbb>
</span></code></pre></div><p>To print the defaults for "init" and "join" actions use the following commands:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm config print init-defaults
kubeadm config print join-defaults
</code></pre></div><p>The list of configuration types that must be included in a configuration file depends by the action you are
performing (init or join) and by the configuration options you are going to use (defaults or advanced customization).</p>
<p>If some configuration types are not provided, or provided only partially, kubeadm will use default values; defaults
provided by kubeadm includes also enforcing consistency of values across components when required (e.g.
cluster-cidr flag on controller manager and clusterCIDR on kube-proxy).</p>
<p>Users are always allowed to override default values, with the only exception of a small subset of setting with
relevance for security (e.g. enforce authorization-mode Node and RBAC on api server)</p>
<p>If the user provides a configuration types that is not expected for the action you are performing, kubeadm will
ignore those types and print a warning.</p>
<h2 id=kubeadm-init-configuration-types>Kubeadm init configuration types</h2>
<p>When executing kubeadm init with the <code>--config</code> option, the following configuration types could be used:
InitConfiguration, ClusterConfiguration, KubeProxyConfiguration, KubeletConfiguration, but only one
between InitConfiguration and ClusterConfiguration is mandatory.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>InitConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>bootstrapTokens</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>nodeRegistration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span></code></pre></div><p>The InitConfiguration type should be used to configure runtime settings, that in case of kubeadm init
are the configuration of the bootstrap token and all the setting which are specific to the node where kubeadm
is executed, including:</p>
<ul>
<li>
<p>NodeRegistration, that holds fields that relate to registering the new node to the cluster;
use it to customize the node name, the CRI socket to use or any other settings that should apply to this
node only (e.g. the node ip).</p>
</li>
<li>
<p>LocalAPIEndpoint, that represents the endpoint of the instance of the API server to be deployed on this node;
use it e.g. to customize the API server advertise address.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>networking</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>etcd</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiServer</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span></code></pre></div></li>
</ul>
<p>The ClusterConfiguration type should be used to configure cluster-wide settings,
including settings for:</p>
<ul>
<li>
<p>Networking, that holds configuration for the networking topology of the cluster; use it e.g. to customize
pod subnet or services subnet.</p>
</li>
<li>
<p>Etcd configurations; use it e.g. to customize the local etcd or to configure the API server
for using an external etcd cluster.</p>
</li>
<li>
<p>kube-apiserver, kube-scheduler, kube-controller-manager configurations; use it to customize control-plane
components by adding customized setting or overriding kubeadm default settings.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeproxy.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeProxyConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>   </span>...<span style=color:#bbb>
</span></code></pre></div></li>
</ul>
<p>The KubeProxyConfiguration type should be used to change the configuration passed to kube-proxy instances deployed
in the cluster. If this object is not provided or provided only partially, kubeadm applies defaults.</p>
<p>See <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/>https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/</a> or <a href=https://godoc.org/k8s.io/kube-proxy/config/v1alpha1#KubeProxyConfiguration>https://godoc.org/k8s.io/kube-proxy/config/v1alpha1#KubeProxyConfiguration</a>
for kube proxy official documentation.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubelet.config.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeletConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div><p>The KubeletConfiguration type should be used to change the configurations that will be passed to all kubelet instances
deployed in the cluster. If this object is not provided or provided only partially, kubeadm applies defaults.</p>
<p>See <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/>https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/</a> or <a href=https://godoc.org/k8s.io/kubelet/config/v1beta1#KubeletConfiguration>https://godoc.org/k8s.io/kubelet/config/v1beta1#KubeletConfiguration</a>
for kubelet official documentation.</p>
<p>Here is a fully populated example of a single YAML file containing multiple
configuration types to be used during a <code>kubeadm init</code> run.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>InitConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>bootstrapTokens</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;9a08jv.c0izixklcxtmnze7&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>description</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;kubeadm bootstrap token&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>ttl</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;24h&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;783bde.3f89s0fje9f38fhf&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>description</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;another bootstrap token&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>usages</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- authentication<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- signing<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>groups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- system:bootstrappers:kubeadm:default-node-token<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>nodeRegistration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;ec2-10-100-0-1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>criSocket</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/var/run/dockershim.sock&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>taints</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;kubeadmNode&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>value</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;master&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>effect</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;NoSchedule&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kubeletExtraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>cgroup-driver</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;cgroupfs&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>ignorePreflightErrors</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- IsPrivilegedUser<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>localAPIEndpoint</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>advertiseAddress</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>bindPort</span>:<span style=color:#bbb> </span><span style=color:#666>6443</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>certificateKey</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;e6a2eb8581237ab72a4f494f30285ec12a9694d750b9785706a83bfcbbbd2204&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>etcd</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># one of local or external</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>local</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>imageRepository</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;registry.k8s.io&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>imageTag</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;3.2.24&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dataDir</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/var/lib/etcd&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>listen-client-urls</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;http://10.100.0.1:2379&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>serverCertSANs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;ec2-10-100-0-1.compute-1.amazonaws.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>peerCertSANs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;10.100.0.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># external:</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># endpoints:</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># - &#34;10.100.0.1:2379&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># - &#34;10.100.0.2:2379&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># caFile: &#34;/etcd/kubernetes/pki/etcd/etcd-ca.crt&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># certFile: &#34;/etcd/kubernetes/pki/etcd/etcd.crt&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># keyFile: &#34;/etcd/kubernetes/pki/etcd/etcd.key&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>networking</span>:<span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>serviceSubnet</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.96.0.0/12&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>podSubnet</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1/24&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>dnsDomain</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;cluster.local&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>kubernetesVersion</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;v1.12.0&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>controlPlaneEndpoint</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1:6443&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>apiServer</span>:<span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span><span style=color:green;font-weight:700>authorization-mode</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Node,RBAC&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;some-volume&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>hostPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>mountPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-pod-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>pathType</span>:<span style=color:#bbb> </span>File<span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>certSANs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span>- <span style=color:#b44>&#34;10.100.1.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>     </span>- <span style=color:#b44>&#34;ec2-10-100-0-1.compute-1.amazonaws.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>timeoutForControlPlane</span>:<span style=color:#bbb> </span>4m0s<span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>controllerManager</span>:<span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span><span style=color:green;font-weight:700>&#34;node-cidr-mask-size&#34;: </span><span style=color:#b44>&#34;20&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;some-volume&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>hostPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>mountPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-pod-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>pathType</span>:<span style=color:#bbb> </span>File<span style=color:#bbb>
</span><span style=color:#bbb> </span><span style=color:green;font-weight:700>scheduler</span>:<span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span><span style=color:green;font-weight:700>address</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>   </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>     </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;some-volume&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>hostPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>mountPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-pod-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>       </span><span style=color:green;font-weight:700>pathType</span>:<span style=color:#bbb> </span>File<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>certificatesDir</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/kubernetes/pki&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>imageRepository</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;registry.k8s.io&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>useHyperKubeImage</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusterName</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-cluster&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubelet.config.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeletConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kubelet specific options here</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeproxy.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeProxyConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kube-proxy specific options here</span><span style=color:#bbb>
</span></code></pre></div><h2 id=kubeadm-join-configuration-types>Kubeadm join configuration types</h2>
<p>When executing kubeadm join with the <code>--config</code> option, the JoinConfiguration type should be provided.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>JoinConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div><p>The JoinConfiguration type should be used to configure runtime settings, that in case of kubeadm join
are the discovery method used for accessing the cluster info and all the setting which are specific
to the node where kubeadm is executed, including:</p>
<ul>
<li>
<p>NodeRegistration, that holds fields that relate to registering the new node to the cluster;
use it to customize the node name, the CRI socket to use or any other settings that should apply to this
node only (e.g. the node ip).</p>
</li>
<li>
<p>APIEndpoint, that represents the endpoint of the instance of the API server to be eventually deployed on this node.</p>
</li>
</ul>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-ClusterConfiguration>ClusterConfiguration</a></li>
<li><a href=#kubeadm-k8s-io-v1beta2-ClusterStatus>ClusterStatus</a></li>
<li><a href=#kubeadm-k8s-io-v1beta2-InitConfiguration>InitConfiguration</a></li>
<li><a href=#kubeadm-k8s-io-v1beta2-JoinConfiguration>JoinConfiguration</a></li>
</ul>
<h2 id=kubeadm-k8s-io-v1beta2-ClusterConfiguration><code>ClusterConfiguration</code> </h2>
<p>ClusterConfiguration contains cluster-wide configuration for a kubeadm cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>ClusterConfiguration</code></td></tr>
<tr><td><code>etcd</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-Etcd><code>Etcd</code></a>
</td>
<td>
`etcd` holds configuration for etcd.</td>
</tr>
<tr><td><code>networking</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-Networking><code>Networking</code></a>
</td>
<td>
`networking` holds configuration for the networking topology of the cluster.</td>
</tr>
<tr><td><code>kubernetesVersion</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`kubernetesVersion` is the target version of the control plane.</td>
</tr>
<tr><td><code>controlPlaneEndpoint</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`controlPlaneEndpoint` sets a stable IP address or DNS name for the control plane; it
can be a valid IP address or a RFC-1123 DNS subdomain, both with optional TCP port.
In case the ControlPlaneEndpoint is not specified, the AdvertiseAddress + BindPort
are used; in case the ControlPlaneEndpoint is specified but without a TCP port,
the BindPort is used.
Possible usages are:
<ul>
<li>In a cluster with more than one control plane instances, this field should be
assigned the address of the external load balancer in front of the
control plane instances.</li>
<li>In environments with enforced node recycling, the ControlPlaneEndpoint
could be used for assigning a stable DNS to the control plane.</td></li>
</ul>
</tr>
<tr><td><code>apiServer</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-APIServer><code>APIServer</code></a>
</td>
<td>
`apiServer` contains extra settings for the API server.</td>
</tr>
<tr><td><code>controllerManager</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-ControlPlaneComponent><code>ControlPlaneComponent</code></a>
</td>
<td>
`controllerManager` contains extra settings for the controller manager.</td>
</tr>
<tr><td><code>scheduler</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-ControlPlaneComponent><code>ControlPlaneComponent</code></a>
</td>
<td>
`scheduler` contains extra settings for the scheduler.</td>
</tr>
<tr><td><code>dns</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-DNS><code>DNS</code></a>
</td>
<td>
`dns` defines the options for the DNS add-on.</td>
</tr>
<tr><td><code>certificatesDir</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`certificatesDir` specifies where to store or look for all required certificates.</td>
</tr>
<tr><td><code>imageRepository</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`imageRepository` sets the container registry to pull images from.
If empty, `registry.k8s.io` will be used by default; in case of kubernetes version is
a CI build (kubernetes version starts with `ci/` or `ci-cross/`)
`gcr.io/k8s-staging-ci-images` will be used as a default for control plane
components and for kube-proxy, while `registry.k8s.io` will be used for all the other images.</td>
</tr>
<tr><td><code>useHyperKubeImage</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
`useHyperKubeImage` controls if hyperkube should be used for Kubernetes
components instead of their respective separate images
DEPRECATED: As hyperkube is itself deprecated, this fields is too. It will
be removed in future kubeadm config versions, kubeadm will print multiple
warnings when this is set to true, and at some point it may become ignored.</td>
</tr>
<tr><td><code>featureGates</code> <b>[Required]</b><br>
<code>map[string]bool</code>
</td>
<td>
Feature gates enabled by the user.</td>
</tr>
<tr><td><code>clusterName</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
The cluster name</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-ClusterStatus><code>ClusterStatus</code> </h2>
<p>ClusterStatus contains the cluster status. The ClusterStatus will be stored in the kubeadm-config
ConfigMap in the cluster, and then updated by kubeadm when additional control plane instance joins or leaves the cluster.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>ClusterStatus</code></td></tr>
<tr><td><code>apiEndpoints</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-APIEndpoint><code>map[string]github.com/tengqm/kubeconfig/config/kubeadm/v1beta2.APIEndpoint</code></a>
</td>
<td>
`apiEndpoints` currently available in the cluster, one for each control
plane/API server instance. The key of the map is the IP of the host's default interface</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-InitConfiguration><code>InitConfiguration</code> </h2>
<p>InitConfiguration contains a list of elements that is specific "kubeadm init"-only runtime
information.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>InitConfiguration</code></td></tr>
<tr><td><code>bootstrapTokens</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-BootstrapToken><code>[]BootstrapToken</code></a>
</td>
<td>
`bootstrapTokens` is respected at `kubeadm init` time and describes a set of Bootstrap Tokens to create.
This information IS NOT uploaded to the kubeadm cluster configmap, partly because of its sensitive nature</td>
</tr>
<tr><td><code>nodeRegistration</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-NodeRegistrationOptions><code>NodeRegistrationOptions</code></a>
</td>
<td>
`nodeRegistration` holds fields that relate to registering the new control-plane node to the cluster</td>
</tr>
<tr><td><code>localAPIEndpoint</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-APIEndpoint><code>APIEndpoint</code></a>
</td>
<td>
`localAPIEndpoint` represents the endpoint of the API server instance that's deployed on this control plane node
In HA setups, this differs from ClusterConfiguration.ControlPlaneEndpoint in the sense that ControlPlaneEndpoint
is the global endpoint for the cluster, which then loadbalances the requests to each individual API server. This
configuration object lets you customize what IP/DNS name and port the local API server advertises it's accessible
on. By default, kubeadm tries to auto-detect the IP of the default interface and use that, but in case that process
fails you may set the desired value here.</td>
</tr>
<tr><td><code>certificateKey</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`certificateKey` sets the key with which certificates and keys are encrypted prior to being uploaded in
a Secret in the cluster during the "uploadcerts" init phase.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-JoinConfiguration><code>JoinConfiguration</code> </h2>
<p>JoinConfiguration contains elements describing a particular node.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta2</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>JoinConfiguration</code></td></tr>
<tr><td><code>nodeRegistration</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-NodeRegistrationOptions><code>NodeRegistrationOptions</code></a>
</td>
<td>
`nodeRegistration` holds fields that relate to registering the new control-plane
node to the cluster</td>
</tr>
<tr><td><code>caCertPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`caCertPath` is the path to the SSL certificate authority used to
secure comunications between node and control-plane.
Defaults to "/etc/kubernetes/pki/ca.crt".</td>
</tr>
<tr><td><code>discovery</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-Discovery><code>Discovery</code></a>
</td>
<td>
`discovery` specifies the options for the kubelet to use during the TLS Bootstrap
process</td>
</tr>
<tr><td><code>controlPlane</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-JoinControlPlane><code>JoinControlPlane</code></a>
</td>
<td>
`controlPlane` defines the additional control plane instance to be deployed on the
joining node. If nil, no additional control plane instance will be deployed.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-APIEndpoint><code>APIEndpoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-ClusterStatus>ClusterStatus</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-InitConfiguration>InitConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-JoinControlPlane>JoinControlPlane</a></p>
</li>
</ul>
<p>APIEndpoint struct contains elements of API server instance deployed on a node.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>advertiseAddress</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`advertiseAddress` sets the IP address for the API server to advertise.</td>
</tr>
<tr><td><code>bindPort</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
`bindPort` sets the secure port for the API Server to bind to. Defaults to 6443.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-APIServer><code>APIServer</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>APIServer holds settings necessary for API server deployments in the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>ControlPlaneComponent</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-ControlPlaneComponent><code>ControlPlaneComponent</code></a>
</td>
<td>(Members of <code>ControlPlaneComponent</code> are embedded into this type.)
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>certSANs</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`certSANs` sets extra Subject Alternative Names for the API Server signing cert.</td>
</tr>
<tr><td><code>timeoutForControlPlane</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
`timeoutForControlPlane` controls the timeout that we use for API server to appear</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-BootstrapToken><code>BootstrapToken</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-InitConfiguration>InitConfiguration</a></li>
</ul>
<p>BootstrapToken describes one bootstrap token, stored as a Secret in the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>token</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-BootstrapTokenString><code>BootstrapTokenString</code></a>
</td>
<td>
`token` used for establishing bidirectional trust between nodes and control-planes.
Used for joining nodes in the cluster.</td>
</tr>
<tr><td><code>description</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`description` sets a human-friendly message why this token exists and what it's used
for, so other administrators can know its purpose.</td>
</tr>
<tr><td><code>ttl</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
`ttl` defines the time to live for this token. Defaults to "24h".
`expires` and `ttl` are mutually exclusive.</td>
</tr>
<tr><td><code>expires</code> <b>[Required]</b><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#time-v1-meta><code>meta/v1.Time</code></a>
</td>
<td>
`expires` specifies the timestamp when this token expires. Defaults to being set
dynamically at runtime based on the `ttl`. `expires` and `ttl` are mutually exclusive.</td>
</tr>
<tr><td><code>usages</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`usages` describes the ways in which this token can be used. Can by default be used
for establishing bidirectional trust, but that can be changed here.</td>
</tr>
<tr><td><code>groups</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`groups` specifies the extra groups that this token will authenticate as when/if
used for authentication</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-BootstrapTokenDiscovery><code>BootstrapTokenDiscovery</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-Discovery>Discovery</a></li>
</ul>
<p>BootstrapTokenDiscovery is used to set the options for bootstrap token based discovery</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>token</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`token` is a token used to validate cluster information fetched from the control-plane.</td>
</tr>
<tr><td><code>apiServerEndpoint</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`apiServerEndpoint` is an IP or domain name to the API server from which
information will be fetched.</td>
</tr>
<tr><td><code>caCertHashes</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
discovery is used. The root CA found during discovery must match one of these
values. Specifying an empty set disables root CA pinning, which can be unsafe.
Each hash is specified as `<type>:<value>`, where the only currently supported
type is "sha256". This is a hex-encoded SHA-256 hash of the Subject Public Key
Info (SPKI) object in DER-encoded ASN.1. These hashes can be calculated using,
for example, OpenSSL.</td>
</tr>
<tr><td><code>unsafeSkipCAVerification</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
`unsafeSkipCAVerification` allows token-based discovery without CA verification
via `caCertHashes`. This can weaken the security of kubeadm since other nodes
can impersonate the control-plane.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-BootstrapTokenString><code>BootstrapTokenString</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-BootstrapToken>BootstrapToken</a></li>
</ul>
<p>BootstrapTokenString is a token of the format abcdef.abcdef0123456789 that is used
for both validation of the practically of the API server from a joining node's point
of view and as an authentication method for the node in the bootstrap phase of
"kubeadm join". This token is and should be short-lived</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>-</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>-</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-ControlPlaneComponent><code>ControlPlaneComponent</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-ClusterConfiguration>ClusterConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-APIServer>APIServer</a></p>
</li>
</ul>
<p>ControlPlaneComponent holds settings common to control plane component of the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>extraArgs</code> <b>[Required]</b><br>
<code>map[string]string</code>
</td>
<td>
`extraArgs` is an extra set of flags to pass to the control plane component.</td>
</tr>
<tr><td><code>extraVolumes</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-HostPathMount><code>[]HostPathMount</code></a>
</td>
<td>
`extraVolumes` is an extra set of host volumes, mounted to the control plane component.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-DNS><code>DNS</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>DNS defines the DNS addon that should be used in the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>type</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-DNSAddOnType><code>DNSAddOnType</code></a>
</td>
<td>
`type` defines the DNS add-on to use.</td>
</tr>
<tr><td><code>ImageMeta</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-ImageMeta><code>ImageMeta</code></a>
</td>
<td>(Members of <code>ImageMeta</code> are embedded into this type.)
`imageMeta` allows to customize the image used for the DNS.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-DNSAddOnType><code>DNSAddOnType</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-DNS>DNS</a></li>
</ul>
<p>DNSAddOnType defines string identifying DNS add-on types</p>
<h2 id=kubeadm-k8s-io-v1beta2-Discovery><code>Discovery</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-JoinConfiguration>JoinConfiguration</a></li>
</ul>
<p>Discovery specifies the options for the kubelet to use during the TLS Bootstrap process</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>bootstrapToken</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-BootstrapTokenDiscovery><code>BootstrapTokenDiscovery</code></a>
</td>
<td>
`bootstrapToken` is used to set the options for bootstrap token based discovery.
`bootstrapToken` and `file` are mutually exclusive.</td>
</tr>
<tr><td><code>file</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-FileDiscovery><code>FileDiscovery</code></a>
</td>
<td>
`file` specifies a file or URL to a kubeconfig file from which to load cluster information.
`bootstrapToken` and `file` are mutually exclusive.</td>
</tr>
<tr><td><code>tlsBootstrapToken</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`tlsBootstrapToken` is a token used for TLS bootstrapping.
If `bootstrapToken` is set, this field is defaulted to `bootstrapToken.token`,
but can be overridden.
If `file` is set, this field &#8727;&#8727;must be set&#8727;&#8727; in case the KubeConfigFile does
not contain any other authentication information</td>
</tr>
<tr><td><code>timeout</code> <b>[Required]</b><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
`timeout` modifies the discovery timeout.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-Etcd><code>Etcd</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>Etcd contains elements describing Etcd configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>local</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-LocalEtcd><code>LocalEtcd</code></a>
</td>
<td>
`local` provides configuration knobs for configuring the local etcd instance.
`local` and `external` are mutually exclusive.</td>
</tr>
<tr><td><code>external</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-ExternalEtcd><code>ExternalEtcd</code></a>
</td>
<td>
`external` describes how to connect to an external etcd cluster.
`local` and `external` are mutually exclusive.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-ExternalEtcd><code>ExternalEtcd</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-Etcd>Etcd</a></li>
</ul>
<p>ExternalEtcd describes an external etcd cluster.
Kubeadm has no knowledge of where certificate files live and they must be supplied.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>endpoints</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`endpoints` are endpoints of etcd members. This field is required.</td>
</tr>
<tr><td><code>caFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`caFile` is an SSL Certificate Authority file used to secure etcd communication.
Required if using a TLS connection.</td>
</tr>
<tr><td><code>certFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`certFile` is an SSL certification file used to secure etcd communication.
Required if using a TLS connection.</td>
</tr>
<tr><td><code>keyFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`keyFile` is an SSL key file used to secure etcd communication.
Required if using a TLS connection.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-FileDiscovery><code>FileDiscovery</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-Discovery>Discovery</a></li>
</ul>
<p>FileDiscovery is used to specify a file or URL to a kubeconfig file from which to load cluster information</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>kubeConfigPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`kubeConfigPath` specifies the actual file path or URL to the kubeconfig file
from which to load cluster information</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-HostPathMount><code>HostPathMount</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-ControlPlaneComponent>ControlPlaneComponent</a></li>
</ul>
<p>HostPathMount contains elements describing volumes that are mounted from the host.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`name` is the volume name inside the Pod template.</td>
</tr>
<tr><td><code>hostPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`hostPath` is the path in the host that will be mounted inside the Pod.</td>
</tr>
<tr><td><code>mountPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`mountPath` is the path inside the Pod where the `hostPath` volume is mounted.</td>
</tr>
<tr><td><code>readOnly</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
`readOnly` controls write access to the volume.</td>
</tr>
<tr><td><code>pathType</code> <b>[Required]</b><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#hostpathtype-v1-core><code>core/v1.HostPathType</code></a>
</td>
<td>
`pathType` is the type of the `hostPath` volume.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-ImageMeta><code>ImageMeta</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-DNS>DNS</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-LocalEtcd>LocalEtcd</a></p>
</li>
</ul>
<p>ImageMeta allows to customize the image used for components that are not
originated from the Kubernetes/Kubernetes release process</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>imageRepository</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`imageRepository` sets the container registry to pull images from.
If not set, the ImageRepository defined in ClusterConfiguration will be used instead.</td>
</tr>
<tr><td><code>imageTag</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`imageTag` allows to specify a tag for the image.
In case this value is set, kubeadm does not change automatically the
version of the above components during upgrades.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-JoinControlPlane><code>JoinControlPlane</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-JoinConfiguration>JoinConfiguration</a></li>
</ul>
<p>JoinControlPlane contains elements describing an additional control plane instance to be deployed on the joining node.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>localAPIEndpoint</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-APIEndpoint><code>APIEndpoint</code></a>
</td>
<td>
`localAPIEndpoint` represents the endpoint of the API server instance to be deployed
on this node.</td>
</tr>
<tr><td><code>certificateKey</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`certificateKey` is the key that is used for decryption of certificates after they
are downloaded from the secret upon joining a new control plane node. The
corresponding encryption key is in the InitConfiguration.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-LocalEtcd><code>LocalEtcd</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-Etcd>Etcd</a></li>
</ul>
<p>LocalEtcd describes that kubeadm should run an etcd cluster locally</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>ImageMeta</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta2-ImageMeta><code>ImageMeta</code></a>
</td>
<td>(Members of <code>ImageMeta</code> are embedded into this type.)
`ImageMeta` allows to customize the container used for etcd.</td>
</tr>
<tr><td><code>dataDir</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`dataDir` is the directory etcd will place its data.
Defaults to "/var/lib/etcd".</td>
</tr>
<tr><td><code>extraArgs</code> <b>[Required]</b><br>
<code>map[string]string</code>
</td>
<td>
`extraArgs` are extra arguments provided to the etcd binary
when run inside a static pod.</td>
</tr>
<tr><td><code>serverCertSANs</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`serverCertSANs` sets extra Subject Alternative Names for the etcd server signing cert.</td>
</tr>
<tr><td><code>peerCertSANs</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`peerCertSANs` sets extra Subject Alternative Names for the etcd peer signing cert.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-Networking><code>Networking</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta2-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>Networking contains elements describing cluster's networking configuration</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceSubnet</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`serviceSubnet` is the subnet used by k8s services. Defaults to "10.96.0.0/12".</td>
</tr>
<tr><td><code>podSubnet</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`podSubnet` is the subnet used by Pods.</td>
</tr>
<tr><td><code>dnsDomain</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`dnsDomain` is the DNS domain used by k8s services. Defaults to "cluster.local".</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta2-NodeRegistrationOptions><code>NodeRegistrationOptions</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-InitConfiguration>InitConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta2-JoinConfiguration>JoinConfiguration</a></p>
</li>
</ul>
<p>NodeRegistrationOptions holds fields that relate to registering a new control-plane or node to the cluster, either via "kubeadm init" or "kubeadm join"</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`name` is the `.metadata.name` field of the Node API object that will be created in this
`kubeadm init` or `kubeadm join` operation.
This field is also used in the CommonName field of the kubelet's client certificate to the
API server. Defaults to the hostname of the node if not provided.</td>
</tr>
<tr><td><code>criSocket</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`criSocket` is used to retrieve container runtime info. This information will be
annotated to the Node API object, for later re-use.</td>
</tr>
<tr><td><code>taints</code> <b>[Required]</b><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#taint-v1-core><code>[]core/v1.Taint</code></a>
</td>
<td>
`taints` specifies the taints the Node API object should be registered with. If
this field is unset, i.e. nil, in the `kubeadm init` process, it will be defaulted
to `['"node-role.kubernetes.io/master"=""']`. If you don't want to taint your
control-plane node, set this field to an empty list, i.e. `taints: []` in the YAML
file. This field is solely used for Node registration.</td>
</tr>
<tr><td><code>kubeletExtraArgs</code> <b>[Required]</b><br>
<code>map[string]string</code>
</td>
<td>
`kubeletExtraArgs` passes through extra arguments to the kubelet. The arguments here
are passed to the kubelet command line via the environment file kubeadm writes at
runtime for the kubelet to source. This overrides the generic base-level
configuration in the "kubelet-config-1.X" ConfigMap. Flags have higher priority when
parsing. These values are local and specific to the node kubeadm is executing on.</td>
</tr>
<tr><td><code>ignorePreflightErrors</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`ignorePreflightErrors` provides a slice of pre-flight errors to be ignored when
the current node is registered.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-675226e13e76ef189fe0156f7e52353a>11.9 - kubeadm Configuration (v1beta3)</h1>
<p>Package v1beta3 defines the v1beta3 version of the kubeadm configuration file format.
This version improves on the v1beta2 format by fixing some minor issues and adding a few new fields.</p>
<p>A list of changes since v1beta2:</p>
<ul>
<li>The deprecated <code>ClusterConfiguration.useHyperKubeImage</code> field has been removed.
Kubeadm no longer supports the hyperkube image.</li>
<li>The <code>ClusterConfiguration.dns.type</code> field has been removed since CoreDNS is the only supported
DNS server type by kubeadm.</li>
<li>Include "datapolicy" tags on the fields that hold secrets.
This would result in the field values to be omitted when API structures are printed with klog.</li>
<li>Add <code>InitConfiguration.skipPhases</code>, <code>JoinConfiguration.skipPhases</code> to allow skipping
a list of phases during kubeadm init/join command execution.</li>
<li>Add <code>InitConfiguration.nodeRegistration.imagePullPolicy" and</code>JoinConfiguration.nodeRegistration.imagePullPolicy` to allow specifying
the images pull policy during kubeadm "init" and "join". The value must be
one of "Always", "Never" or "IfNotPresent". "IfNotPresent" is the default,
which has been the existing behavior prior to this addition.</li>
<li>Add <code>InitConfiguration.patches.directory</code>, <code>JoinConfiguration.patches.directory</code>
to allow the user to configure a directory from which to take patches for
components deployed by kubeadm.</li>
<li>Move the <code>BootstrapToken&amp;lowast;</code> API and related utilities out of the "kubeadm" API group
to a new group "bootstraptoken". The kubeadm API version v1beta3 no longer contains
the <code>BootstrapToken&amp;lowast;</code> structures.</li>
</ul>
<h2 id=migration-from-old-kubeadm-config-versions>Migration from old kubeadm config versions</h2>
<ul>
<li>kubeadm v1.15.x and newer can be used to migrate from the v1beta1 to v1beta2.</li>
<li>kubeadm v1.22.x no longer supports v1beta1 and older APIs, but can be used to migrate v1beta2 to v1beta3.</li>
</ul>
<h2 id=basics>Basics</h2>
<p>The preferred way to configure kubeadm is to pass an YAML configuration file with the --config option. Some of the
configuration options defined in the kubeadm config file are also available as command line flags, but only
the most common/simple use case are supported with this approach.</p>
<p>A kubeadm config file could contain multiple configuration types separated using three dashes (“---”).</p>
<p>kubeadm supports the following configuration types:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>InitConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubelet.config.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeletConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeproxy.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeProxyConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>JoinConfiguration<span style=color:#bbb>
</span></code></pre></div><p>To print the defaults for "init" and "join" actions use the following commands:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>kubeadm config print init-defaults
kubeadm config print join-defaults
</code></pre></div><p>The list of configuration types that must be included in a configuration file depends by the action you are
performing (init or join) and by the configuration options you are going to use (defaults or advanced customization).</p>
<p>If some configuration types are not provided, or provided only partially, kubeadm will use default values; defaults
provided by kubeadm includes also enforcing consistency of values across components when required (e.g.
cluster-cidr flag on controller manager and clusterCIDR on kube-proxy).</p>
<p>Users are always allowed to override default values, with the only exception of a small subset of setting with
relevance for security (e.g. enforce authorization-mode Node and RBAC on api server)</p>
<p>If the user provides a configuration types that is not expected for the action you are performing, kubeadm will
ignore those types and print a warning.</p>
<h2 id=kubeadm-init-configuration-types>Kubeadm init configuration types</h2>
<p>When executing kubeadm init with the <code>--config</code> option, the following configuration types could be used:
InitConfiguration, ClusterConfiguration, KubeProxyConfiguration, KubeletConfiguration, but only one
between InitConfiguration and ClusterConfiguration is mandatory.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>InitConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>bootstrapTokens</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>nodeRegistration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div><p>The InitConfiguration type should be used to configure runtime settings, that in case of kubeadm init
are the configuration of the bootstrap token and all the setting which are specific to the node where kubeadm
is executed, including:</p>
<ul>
<li>
<p>NodeRegistration, that holds fields that relate to registering the new node to the cluster;
use it to customize the node name, the CRI socket to use or any other settings that should apply to this
node only (e.g. the node ip).</p>
</li>
<li>
<p>LocalAPIEndpoint, that represents the endpoint of the instance of the API server to be deployed on this node;
use it e.g. to customize the API server advertise address.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>networking</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>etcd</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiServer</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>...<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div></li>
</ul>
<p>The ClusterConfiguration type should be used to configure cluster-wide settings,
including settings for:</p>
<ul>
<li>
<p>Networking, that holds configuration for the networking topology of the cluster; use it e.g. to customize
pod subnet or services subnet.</p>
</li>
<li>
<p>Etcd configurations; use it e.g. to customize the local etcd or to configure the API server
for using an external etcd cluster.</p>
</li>
<li>
<p>kube-apiserver, kube-scheduler, kube-controller-manager configurations; use it to customize control-plane
components by adding customized setting or overriding kubeadm default settings.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeproxy.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeProxyConfiguration<span style=color:#bbb>
</span><span style=color:#bbb>  </span>...<span style=color:#bbb>
</span></code></pre></div></li>
</ul>
<p>The KubeProxyConfiguration type should be used to change the configuration passed to kube-proxy instances deployed
in the cluster. If this object is not provided or provided only partially, kubeadm applies defaults.</p>
<p>See <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/>https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/</a> or <a href=https://godoc.org/k8s.io/kube-proxy/config/v1alpha1#KubeProxyConfiguration>https://godoc.org/k8s.io/kube-proxy/config/v1alpha1#KubeProxyConfiguration</a>
for kube proxy official documentation.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubelet.config.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeletConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div><p>The KubeletConfiguration type should be used to change the configurations that will be passed to all kubelet instances
deployed in the cluster. If this object is not provided or provided only partially, kubeadm applies defaults.</p>
<p>See <a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/>https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/</a> or <a href=https://godoc.org/k8s.io/kubelet/config/v1beta1#KubeletConfiguration>https://godoc.org/k8s.io/kubelet/config/v1beta1#KubeletConfiguration</a>
for kubelet official documentation.</p>
<p>Here is a fully populated example of a single YAML file containing multiple
configuration types to be used during a <code>kubeadm init</code> run.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>InitConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>bootstrapTokens</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;9a08jv.c0izixklcxtmnze7&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>description</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;kubeadm bootstrap token&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>ttl</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;24h&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>token</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;783bde.3f89s0fje9f38fhf&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>description</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;another bootstrap token&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>usages</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- authentication<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- signing<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>groups</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- system:bootstrappers:kubeadm:default-node-token<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>nodeRegistration</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;ec2-10-100-0-1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>criSocket</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/var/run/dockershim.sock&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>taints</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>key</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;kubeadmNode&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>value</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;master&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>effect</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;NoSchedule&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kubeletExtraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>v</span>:<span style=color:#bbb> </span><span style=color:#666>4</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>ignorePreflightErrors</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- IsPrivilegedUser<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>imagePullPolicy</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;IfNotPresent&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>localAPIEndpoint</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>advertiseAddress</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>bindPort</span>:<span style=color:#bbb> </span><span style=color:#666>6443</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>certificateKey</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;e6a2eb8581237ab72a4f494f30285ec12a9694d750b9785706a83bfcbbbd2204&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>skipPhases</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- add/kube-proxy<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>ClusterConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>etcd</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># one of local or external</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>local</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>imageRepository</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;registry.k8s.io&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>imageTag</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;3.2.24&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>dataDir</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/var/lib/etcd&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>listen-client-urls</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;http://10.100.0.1:2379&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>serverCertSANs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;ec2-10-100-0-1.compute-1.amazonaws.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>peerCertSANs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:#b44>&#34;10.100.0.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:#080;font-style:italic># external:</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># endpoints:</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># - &#34;10.100.0.1:2379&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># - &#34;10.100.0.2:2379&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># caFile: &#34;/etcd/kubernetes/pki/etcd/etcd-ca.crt&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># certFile: &#34;/etcd/kubernetes/pki/etcd/etcd.crt&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:#080;font-style:italic># keyFile: &#34;/etcd/kubernetes/pki/etcd/etcd.key&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>networking</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>serviceSubnet</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.96.0.0/12&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>podSubnet</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1/24&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>dnsDomain</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;cluster.local&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kubernetesVersion</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;v1.12.0&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>controlPlaneEndpoint</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1:6443&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiServer</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>authorization-mode</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;Node,RBAC&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;some-volume&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>hostPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>mountPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-pod-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>pathType</span>:<span style=color:#bbb> </span>File<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>certSANs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:#b44>&#34;10.100.1.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:#b44>&#34;ec2-10-100-0-1.compute-1.amazonaws.com&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>timeoutForControlPlane</span>:<span style=color:#bbb> </span>4m0s<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>controllerManager</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>&#34;node-cidr-mask-size&#34;: </span><span style=color:#b44>&#34;20&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;some-volume&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>hostPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>mountPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-pod-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>pathType</span>:<span style=color:#bbb> </span>File<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>scheduler</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraArgs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>address</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;10.100.0.1&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>extraVolumes</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;some-volume&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>hostPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>mountPath</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/some-pod-path&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>readOnly</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>false</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>pathType</span>:<span style=color:#bbb> </span>File<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>certificatesDir</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;/etc/kubernetes/pki&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>imageRepository</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;registry.k8s.io&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clusterName</span>:<span style=color:#bbb> </span><span style=color:#b44>&#34;example-cluster&#34;</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubelet.config.k8s.io/v1beta1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeletConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kubelet specific options here</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>---</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeproxy.config.k8s.io/v1alpha1<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeProxyConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#080;font-style:italic># kube-proxy specific options here</span><span style=color:#bbb>
</span></code></pre></div><h2 id=kubeadm-join-configuration-types>Kubeadm join configuration types</h2>
<p>When executing kubeadm join with the <code>--config</code> option, the JoinConfiguration type should be provided.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubeadm.k8s.io/v1beta3<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>JoinConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:#00f;font-weight:700>...</span><span style=color:#bbb>
</span></code></pre></div><p>The JoinConfiguration type should be used to configure runtime settings, that in case of kubeadm join
are the discovery method used for accessing the cluster info and all the setting which are specific
to the node where kubeadm is executed, including:</p>
<ul>
<li>NodeRegistration, that holds fields that relate to registering the new node to the cluster;
use it to customize the node name, the CRI socket to use or any other settings that should apply to this
node only (e.g. the node ip).</li>
<li>APIEndpoint, that represents the endpoint of the instance of the API server to be eventually
deployed on this node.</li>
</ul>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-ClusterConfiguration>ClusterConfiguration</a></li>
<li><a href=#kubeadm-k8s-io-v1beta3-InitConfiguration>InitConfiguration</a></li>
<li><a href=#kubeadm-k8s-io-v1beta3-JoinConfiguration>JoinConfiguration</a></li>
</ul>
<h2 id=kubeadm-k8s-io-v1beta3-ClusterConfiguration><code>ClusterConfiguration</code> </h2>
<p>ClusterConfiguration contains cluster-wide configuration for a kubeadm cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta3</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>ClusterConfiguration</code></td></tr>
<tr><td><code>etcd</code><br>
<a href=#kubeadm-k8s-io-v1beta3-Etcd><code>Etcd</code></a>
</td>
<td>
`etcd` holds configuration for etcd.</td>
</tr>
<tr><td><code>networking</code><br>
<a href=#kubeadm-k8s-io-v1beta3-Networking><code>Networking</code></a>
</td>
<td>
`networking` holds configuration for the networking topology of the cluster.</td>
</tr>
<tr><td><code>kubernetesVersion</code><br>
<code>string</code>
</td>
<td>
`kubernetesVersion` is the target version of the control plane.</td>
</tr>
<tr><td><code>controlPlaneEndpoint</code><br>
<code>string</code>
</td>
<td>
`controlPlaneEndpoint` sets a stable IP address or DNS name for the control plane; it
can be a valid IP address or a RFC-1123 DNS subdomain, both with optional TCP port.
In case the `controlPlaneEndpoint` is not specified, the `advertiseAddress` + `bindPort`
are used; in case the `controlPlaneEndpoint` is specified but without a TCP port,
the `bindPort` of the `localAPIEndpoint` is used.
Possible usages are:
<ul>
<li>In a cluster with more than one control plane instances, this field should be
assigned the address of the external load balancer in front of the
control plane instances.</li>
<li>In environments with enforced node recycling, the ControlPlaneEndpoint
could be used for assigning a stable DNS to the control plane.</td></li>
</ul>
</tr>
<tr><td><code>apiServer</code><br>
<a href=#kubeadm-k8s-io-v1beta3-APIServer><code>APIServer</code></a>
</td>
<td>
`apiServer` contains extra settings for the API server.</td>
</tr>
<tr><td><code>controllerManager</code><br>
<a href=#kubeadm-k8s-io-v1beta3-ControlPlaneComponent><code>ControlPlaneComponent</code></a>
</td>
<td>
`controllerManager` contains extra settings for the controller manager.</td>
</tr>
<tr><td><code>scheduler</code><br>
<a href=#kubeadm-k8s-io-v1beta3-ControlPlaneComponent><code>ControlPlaneComponent</code></a>
</td>
<td>
`scheduler` contains extra settings for the scheduler.</td>
</tr>
<tr><td><code>dns</code><br>
<a href=#kubeadm-k8s-io-v1beta3-DNS><code>DNS</code></a>
</td>
<td>
`dns` defines the options for the DNS add-on.</td>
</tr>
<tr><td><code>certificatesDir</code><br>
<code>string</code>
</td>
<td>
`certificatesDir` specifies where to store or look for all required certificates.</td>
</tr>
<tr><td><code>imageRepository</code><br>
<code>string</code>
</td>
<td>
`imageRepository` sets the container registry to pull images from.
If empty, `registry.k8s.io` will be used by default; in case of kubernetes version is
a CI build (kubernetes version starts with `ci/` or `ci-cross/`)
`gcr.io/k8s-staging-ci-images` will be used as a default for control plane
components and for kube-proxy, while `registry.k8s.io` will be used for all the other images.</td>
</tr>
<tr><td><code>featureGates</code><br>
<code>map[string]bool</code>
</td>
<td>
Feature gates enabled by the user.</td>
</tr>
<tr><td><code>clusterName</code><br>
<code>string</code>
</td>
<td>
The cluster name.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-InitConfiguration><code>InitConfiguration</code> </h2>
<p>InitConfiguration contains a list of elements that is specific "kubeadm init"-only runtime
information.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta3</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>InitConfiguration</code></td></tr>
<tr><td><code>bootstrapTokens</code><br>
<a href=#BootstrapToken><code>[]BootstrapToken</code></a>
</td>
<td>
`bootstrapTokens` is respected at `kubeadm init` time and describes a set of Bootstrap Tokens to create.
This information IS NOT uploaded to the kubeadm cluster configmap, partly because of its sensitive nature.</td>
</tr>
<tr><td><code>nodeRegistration</code><br>
<a href=#kubeadm-k8s-io-v1beta3-NodeRegistrationOptions><code>NodeRegistrationOptions</code></a>
</td>
<td>
`nodeRegistration` holds fields that relate to registering the new control-plane node to the cluster</td>
</tr>
<tr><td><code>localAPIEndpoint</code><br>
<a href=#kubeadm-k8s-io-v1beta3-APIEndpoint><code>APIEndpoint</code></a>
</td>
<td>
`localAPIEndpoint` represents the endpoint of the API server instance that's deployed on this control plane node
In HA setups, this differs from ClusterConfiguration.ControlPlaneEndpoint in the sense that ControlPlaneEndpoint
is the global endpoint for the cluster, which then loadbalances the requests to each individual API server. This
configuration object lets you customize what IP/DNS name and port the local API server advertises it's accessible
on. By default, kubeadm tries to auto-detect the IP of the default interface and use that, but in case that process
fails you may set the desired value here.</td>
</tr>
<tr><td><code>certificateKey</code><br>
<code>string</code>
</td>
<td>
`certificateKey` sets the key with which certificates and keys are encrypted prior to being uploaded in
a Secret in the cluster during the "uploadcerts" init phase.</td>
</tr>
<tr><td><code>skipPhases</code><br>
<code>[]string</code>
</td>
<td>
`skipPhases` is a list of phases to skip during command execution.
The list of phases can be obtained with the `kubeadm init --help` command.
The flag `--skip-phases` takes precedence over this field.</td>
</tr>
<tr><td><code>patches</code><br>
<a href=#kubeadm-k8s-io-v1beta3-Patches><code>Patches</code></a>
</td>
<td>
`patches` contains options related to applying patches to components deployed by kubeadm during
"kubeadm init".</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-JoinConfiguration><code>JoinConfiguration</code> </h2>
<p>JoinConfiguration contains elements describing a particular node.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubeadm.k8s.io/v1beta3</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>JoinConfiguration</code></td></tr>
<tr><td><code>nodeRegistration</code><br>
<a href=#kubeadm-k8s-io-v1beta3-NodeRegistrationOptions><code>NodeRegistrationOptions</code></a>
</td>
<td>
`nodeRegistration` holds fields that relate to registering the new control-plane
node to the cluster</td>
</tr>
<tr><td><code>caCertPath</code><br>
<code>string</code>
</td>
<td>
`caCertPath` is the path to the SSL certificate authority used to
secure comunications between node and control-plane.
Defaults to "/etc/kubernetes/pki/ca.crt".</td>
</tr>
<tr><td><code>discovery</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta3-Discovery><code>Discovery</code></a>
</td>
<td>
`discovery` specifies the options for the kubelet to use during the TLS Bootstrap process.</td>
</tr>
<tr><td><code>controlPlane</code><br>
<a href=#kubeadm-k8s-io-v1beta3-JoinControlPlane><code>JoinControlPlane</code></a>
</td>
<td>
`controlPlane` defines the additional control plane instance to be deployed on the
joining node. If nil, no additional control plane instance will be deployed.</td>
</tr>
<tr><td><code>skipPhases</code><br>
<code>[]string</code>
</td>
<td>
`skipPhases` is a list of phases to skip during command execution.
The list of phases can be obtained with the `kubeadm join --help` command.
The flag `--skip-phases` takes precedence over this field.</td>
</tr>
<tr><td><code>patches</code><br>
<a href=#kubeadm-k8s-io-v1beta3-Patches><code>Patches</code></a>
</td>
<td>
`patches` contains options related to applying patches to components deployed by kubeadm during
`kubeadm join`.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-APIEndpoint><code>APIEndpoint</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-InitConfiguration>InitConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-JoinControlPlane>JoinControlPlane</a></p>
</li>
</ul>
<p>APIEndpoint struct contains elements of API server instance deployed on a node.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>advertiseAddress</code><br>
<code>string</code>
</td>
<td>
`advertiseAddress` sets the IP address for the API server to advertise.</td>
</tr>
<tr><td><code>bindPort</code><br>
<code>int32</code>
</td>
<td>
`bindPort` sets the secure port for the API Server to bind to. Defaults to 6443.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-APIServer><code>APIServer</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>APIServer holds settings necessary for API server deployments in the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>ControlPlaneComponent</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta3-ControlPlaneComponent><code>ControlPlaneComponent</code></a>
</td>
<td>(Members of <code>ControlPlaneComponent</code> are embedded into this type.)
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>certSANs</code><br>
<code>[]string</code>
</td>
<td>
`certSANs` sets extra Subject Alternative Names for the API Server signing cert.</td>
</tr>
<tr><td><code>timeoutForControlPlane</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
`timeoutForControlPlane` controls the timeout that we use for API server to appear</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-BootstrapTokenDiscovery><code>BootstrapTokenDiscovery</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-Discovery>Discovery</a></li>
</ul>
<p>BootstrapTokenDiscovery is used to set the options for bootstrap token based discovery</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>token</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`token` is a token used to validate cluster information fetched from the control-plane.</td>
</tr>
<tr><td><code>apiServerEndpoint</code><br>
<code>string</code>
</td>
<td>
`apiServerEndpoint` is an IP or domain name to the API server from which
information will be fetched.</td>
</tr>
<tr><td><code>caCertHashes</code><br>
<code>[]string</code>
</td>
<td>
CACertHashes specifies a set of public key pins to verify when token-based
discovery is used. The root CA found during discovery must match one of these
values. Specifying an empty set disables root CA pinning, which can be unsafe.
Each hash is specified as `<type>:<value>`, where the only currently supported
type is "sha256". This is a hex-encoded SHA-256 hash of the Subject Public Key
Info (SPKI) object in DER-encoded ASN.1. These hashes can be calculated using,
for example, OpenSSL.</td>
</tr>
<tr><td><code>unsafeSkipCAVerification</code><br>
<code>bool</code>
</td>
<td>
`unsafeSkipCAVerification` allows token-based discovery without CA verification
via `caCertHashes`. This can weaken the security of kubeadm since other nodes
can impersonate the control-plane.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-ControlPlaneComponent><code>ControlPlaneComponent</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-ClusterConfiguration>ClusterConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-APIServer>APIServer</a></p>
</li>
</ul>
<p>ControlPlaneComponent holds settings common to control plane component of the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>extraArgs</code><br>
<code>map[string]string</code>
</td>
<td>
`extraArgs` is an extra set of flags to pass to the control plane component.
A key in this map is the flag name as it appears on the
command line except without leading dash(es).</td>
</tr>
<tr><td><code>extraVolumes</code><br>
<a href=#kubeadm-k8s-io-v1beta3-HostPathMount><code>[]HostPathMount</code></a>
</td>
<td>
`extraVolumes` is an extra set of host volumes, mounted to the control plane component.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-DNS><code>DNS</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>DNS defines the DNS addon that should be used in the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>ImageMeta</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta3-ImageMeta><code>ImageMeta</code></a>
</td>
<td>(Members of <code>ImageMeta</code> are embedded into this type.)
`imageMeta` allows to customize the image used for the DNS component.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-DNSAddOnType><code>DNSAddOnType</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p>DNSAddOnType defines string identifying DNS add-on types</p>
<h2 id=kubeadm-k8s-io-v1beta3-Discovery><code>Discovery</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-JoinConfiguration>JoinConfiguration</a></li>
</ul>
<p>Discovery specifies the options for the kubelet to use during the TLS Bootstrap process</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>bootstrapToken</code><br>
<a href=#kubeadm-k8s-io-v1beta3-BootstrapTokenDiscovery><code>BootstrapTokenDiscovery</code></a>
</td>
<td>
`bootstrapToken` is used to set the options for bootstrap token based discovery.
`bootstrapToken` and `file` are mutually exclusive.</td>
</tr>
<tr><td><code>file</code><br>
<a href=#kubeadm-k8s-io-v1beta3-FileDiscovery><code>FileDiscovery</code></a>
</td>
<td>
`file` specifies a file or URL to a kubeconfig file from which to load cluster information.
`bootstrapToken` and `file` are mutually exclusive.</td>
</tr>
<tr><td><code>tlsBootstrapToken</code><br>
<code>string</code>
</td>
<td>
`tlsBootstrapToken` is a token used for TLS bootstrapping.
If `bootstrapToken` is set, this field is defaulted to `bootstrapToken.token`,
but can be overridden.
If `file` is set, this field &#8727;&#8727;must be set&#8727;&#8727; in case the KubeConfigFile does
not contain any other authentication information</td>
</tr>
<tr><td><code>timeout</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
`timeout` modifies the discovery timeout.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-Etcd><code>Etcd</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>Etcd contains elements describing Etcd configuration.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>local</code><br>
<a href=#kubeadm-k8s-io-v1beta3-LocalEtcd><code>LocalEtcd</code></a>
</td>
<td>
`local` provides configuration knobs for configuring the local etcd instance.
`local` and `external` are mutually exclusive.</td>
</tr>
<tr><td><code>external</code><br>
<a href=#kubeadm-k8s-io-v1beta3-ExternalEtcd><code>ExternalEtcd</code></a>
</td>
<td>
`external` describes how to connect to an external etcd cluster.
`local` and `external` are mutually exclusive.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-ExternalEtcd><code>ExternalEtcd</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-Etcd>Etcd</a></li>
</ul>
<p>ExternalEtcd describes an external etcd cluster.
Kubeadm has no knowledge of where certificate files live and they must be supplied.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>endpoints</code> <b>[Required]</b><br>
<code>[]string</code>
</td>
<td>
`endpoints` are endpoints of etcd members. This field is required.</td>
</tr>
<tr><td><code>caFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`caFile` is an SSL Certificate Authority file used to secure etcd communication.
Required if using a TLS connection.</td>
</tr>
<tr><td><code>certFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`certFile` is an SSL certification file used to secure etcd communication.
Required if using a TLS connection.</td>
</tr>
<tr><td><code>keyFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`keyFile` is an SSL key file used to secure etcd communication.
Required if using a TLS connection.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-FileDiscovery><code>FileDiscovery</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-Discovery>Discovery</a></li>
</ul>
<p>FileDiscovery is used to specify a file or URL to a kubeconfig file from which to load cluster information</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>kubeConfigPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`kubeConfigPath` specifies the actual file path or URL to the kubeconfig file
from which to load cluster information</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-HostPathMount><code>HostPathMount</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-ControlPlaneComponent>ControlPlaneComponent</a></li>
</ul>
<p>HostPathMount contains elements describing volumes that are mounted from the host.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`name` is the volume name inside the Pod template.</td>
</tr>
<tr><td><code>hostPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`hostPath` is the path in the host that will be mounted inside the Pod.</td>
</tr>
<tr><td><code>mountPath</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`mountPath` is the path inside the Pod where the `hostPath` volume is mounted.</td>
</tr>
<tr><td><code>readOnly</code><br>
<code>bool</code>
</td>
<td>
`readOnly` controls write access to the volume.</td>
</tr>
<tr><td><code>pathType</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#hostpathtype-v1-core><code>core/v1.HostPathType</code></a>
</td>
<td>
`pathType` is the type of the `hostPath` volume.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-ImageMeta><code>ImageMeta</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-DNS>DNS</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-LocalEtcd>LocalEtcd</a></p>
</li>
</ul>
<p>ImageMeta allows to customize the image used for components that are not
originated from the Kubernetes/Kubernetes release process</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>imageRepository</code><br>
<code>string</code>
</td>
<td>
`imageRepository` sets the container registry to pull images from.
If not set, the ImageRepository defined in ClusterConfiguration will be used instead.</td>
</tr>
<tr><td><code>imageTag</code><br>
<code>string</code>
</td>
<td>
`imageTag` allows to specify a tag for the image.
In case this value is set, kubeadm does not change automatically the
version of the above components during upgrades.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-JoinControlPlane><code>JoinControlPlane</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-JoinConfiguration>JoinConfiguration</a></li>
</ul>
<p>JoinControlPlane contains elements describing an additional control plane instance to be deployed on the joining node.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>localAPIEndpoint</code><br>
<a href=#kubeadm-k8s-io-v1beta3-APIEndpoint><code>APIEndpoint</code></a>
</td>
<td>
`localAPIEndpoint` represents the endpoint of the API server instance to be deployed
on this node.</td>
</tr>
<tr><td><code>certificateKey</code><br>
<code>string</code>
</td>
<td>
`certificateKey` is the key that is used for decryption of certificates after they
are downloaded from the secret upon joining a new control plane node. The
corresponding encryption key is in the InitConfiguration.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-LocalEtcd><code>LocalEtcd</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-Etcd>Etcd</a></li>
</ul>
<p>LocalEtcd describes that kubeadm should run an etcd cluster locally</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>ImageMeta</code> <b>[Required]</b><br>
<a href=#kubeadm-k8s-io-v1beta3-ImageMeta><code>ImageMeta</code></a>
</td>
<td>(Members of <code>ImageMeta</code> are embedded into this type.)
`ImageMeta` allows to customize the container used for etcd.</td>
</tr>
<tr><td><code>dataDir</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
`dataDir` is the directory etcd will place its data.
Defaults to "/var/lib/etcd".</td>
</tr>
<tr><td><code>extraArgs</code><br>
<code>map[string]string</code>
</td>
<td>
`extraArgs` are extra arguments provided to the etcd binary
when run inside a static pod.
A key in this map is the flag name as it appears on the command line except
without leading dash(es).</td>
</tr>
<tr><td><code>serverCertSANs</code><br>
<code>[]string</code>
</td>
<td>
`serverCertSANs` sets extra Subject Alternative Names for the etcd server signing cert.</td>
</tr>
<tr><td><code>peerCertSANs</code><br>
<code>[]string</code>
</td>
<td>
`peerCertSANs` sets extra Subject Alternative Names for the etcd peer signing cert.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-Networking><code>Networking</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-ClusterConfiguration>ClusterConfiguration</a></li>
</ul>
<p>Networking contains elements describing cluster's networking configuration</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>serviceSubnet</code><br>
<code>string</code>
</td>
<td>
`serviceSubnet` is the subnet used by k8s services. Defaults to "10.96.0.0/12".</td>
</tr>
<tr><td><code>podSubnet</code><br>
<code>string</code>
</td>
<td>
`podSubnet` is the subnet used by Pods.</td>
</tr>
<tr><td><code>dnsDomain</code><br>
<code>string</code>
</td>
<td>
`dnsDomain` is the DNS domain used by k8s services. Defaults to "cluster.local".</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-NodeRegistrationOptions><code>NodeRegistrationOptions</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-InitConfiguration>InitConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-JoinConfiguration>JoinConfiguration</a></p>
</li>
</ul>
<p>NodeRegistrationOptions holds fields that relate to registering a new control-plane or node to the cluster, either via "kubeadm init" or "kubeadm join"</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>name</code><br>
<code>string</code>
</td>
<td>
`name` is the `.metadata.name` field of the Node API object that will be created in this
`kubeadm init` or `kubeadm join` operation.
This field is also used in the `CommonName` field of the kubelet's client certificate to the
API server. Defaults to the hostname of the node if not provided.</td>
</tr>
<tr><td><code>criSocket</code><br>
<code>string</code>
</td>
<td>
`criSocket` is used to retrieve container runtime info. This information will be
annotated to the Node API object, for later re-use.</td>
</tr>
<tr><td><code>taints</code> <b>[Required]</b><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#taint-v1-core><code>[]core/v1.Taint</code></a>
</td>
<td>
`taints` specifies the taints the Node API object should be registered with. If
this field is unset, i.e. nil, in the `kubeadm init` process, it will be defaulted
to `['"node-role.kubernetes.io/master"=""']`. If you don't want to taint your
control-plane node, set this field to an empty list, i.e. `taints: []` in the YAML
file. This field is solely used for Node registration.</td>
</tr>
<tr><td><code>kubeletExtraArgs</code><br>
<code>map[string]string</code>
</td>
<td>
`kubeletExtraArgs` passes through extra arguments to the kubelet. The arguments here
are passed to the kubelet command line via the environment file kubeadm writes at
runtime for the kubelet to source. This overrides the generic base-level
configuration in the "kubelet-config-1.X" ConfigMap. Flags have higher priority when
parsing. These values are local and specific to the node kubeadm is executing on.
A key in this map is the flag name as it appears on the command line except without
leading dash(es).</td>
</tr>
<tr><td><code>ignorePreflightErrors</code><br>
<code>[]string</code>
</td>
<td>
`ignorePreflightErrors` provides a slice of pre-flight errors to be ignored when
the current node is registered.</td>
</tr>
<tr><td><code>imagePullPolicy</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#pullpolicy-v1-core><code>core/v1.PullPolicy</code></a>
</td>
<td>
`imagePullPolicy` specifies the policy for image pulling during `kubeadm init` and
`kubeadm join` operations.
The value of this field must be one of "Always", "IfNotPresent" or "Never".
If this field is unset kubeadm will default it to "IfNotPresent", or pull the required
images if not present on the host.</td>
</tr>
</tbody>
</table>
<h2 id=kubeadm-k8s-io-v1beta3-Patches><code>Patches</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-InitConfiguration>InitConfiguration</a></p>
</li>
<li>
<p><a href=#kubeadm-k8s-io-v1beta3-JoinConfiguration>JoinConfiguration</a></p>
</li>
</ul>
<p>Patches contains options related to applying patches to components deployed by kubeadm.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>directory</code><br>
<code>string</code>
</td>
<td>
`directory` is a path to a directory that contains files named
`target[suffix][+patchtype].extension`.
For example, `kube-apiserver0+merge.yaml` or just `etcd.json`. `target` can be one of
"kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd". `patchtype` can be one
of "strategic", "merge" or "json" and they match the patch formats supported by kubectl.
The default `patchtype` is "strategic". `extension` must be either "json" or "yaml".
`suffix` is an optional string that can be used to determine which patches are applied
first alpha-numerically.</td>
</tr>
</tbody>
</table>
<h2 id=BootstrapToken><code>BootstrapToken</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubeadm-k8s-io-v1beta3-InitConfiguration>InitConfiguration</a></li>
</ul>
<p>BootstrapToken describes one bootstrap token, stored as a Secret in the cluster</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>token</code> <b>[Required]</b><br>
<a href=#BootstrapTokenString><code>BootstrapTokenString</code></a>
</td>
<td>
`token` is used for establishing bidirectional trust between nodes and control-planes.
Used for joining nodes in the cluster.</td>
</tr>
<tr><td><code>description</code><br>
<code>string</code>
</td>
<td>
`description` sets a human-friendly message why this token exists and what it's used
for, so other administrators can know its purpose.</td>
</tr>
<tr><td><code>ttl</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
`ttl` defines the time to live for this token. Defaults to `24h`.
`expires` and `ttl` are mutually exclusive.</td>
</tr>
<tr><td><code>expires</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#time-v1-meta><code>meta/v1.Time</code></a>
</td>
<td>
`expires` specifies the timestamp when this token expires. Defaults to being set
dynamically at runtime based on the `ttl`. `expires` and `ttl` are mutually exclusive.</td>
</tr>
<tr><td><code>usages</code><br>
<code>[]string</code>
</td>
<td>
`usages` describes the ways in which this token can be used. Can by default be used
for establishing bidirectional trust, but that can be changed here.</td>
</tr>
<tr><td><code>groups</code><br>
<code>[]string</code>
</td>
<td>
`groups` specifies the extra groups that this token will authenticate as when/if
used for authentication</td>
</tr>
</tbody>
</table>
<h2 id=BootstrapTokenString><code>BootstrapTokenString</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#BootstrapToken>BootstrapToken</a></li>
</ul>
<p>BootstrapTokenString is a token of the format <code>abcdef.abcdef0123456789</code> that is used
for both validation of the practically of the API server from a joining node's point
of view and as an authentication method for the node in the bootstrap phase of
"kubeadm join". This token is and should be short-lived.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>-</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>-</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-aaa2b8b78fe84a05914c155652d10956>11.10 - Kubelet Configuration (v1beta1)</h1>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
<li><a href=#kubelet-config-k8s-io-v1beta1-SerializedNodeConfigSource>SerializedNodeConfigSource</a></li>
</ul>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletConfiguration><code>KubeletConfiguration</code> </h2>
<p>KubeletConfiguration contains the configuration for the Kubelet</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubelet.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>KubeletConfiguration</code></td></tr>
<tr><td><code>enableServer</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
enableServer enables Kubelet's secured server.
Note: Kubelet's insecure port is controlled by the readOnlyPort option.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: true</td>
</tr>
<tr><td><code>staticPodPath</code><br>
<code>string</code>
</td>
<td>
staticPodPath is the path to the directory containing local (static) pods to
run, or the path to a single static pod file.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
the set of static pods specified at the new path may be different than the
ones the Kubelet initially started with, and this may disrupt your node.
Default: ""</td>
</tr>
<tr><td><code>syncFrequency</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
syncFrequency is the max period between synchronizing running
containers and config.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
shortening this duration may have a negative performance impact, especially
as the number of Pods on the node increases. Alternatively, increasing this
duration will result in longer refresh times for ConfigMaps and Secrets.
Default: "1m"</td>
</tr>
<tr><td><code>fileCheckFrequency</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
fileCheckFrequency is the duration between checking config files for
new data.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
shortening the duration will cause the Kubelet to reload local Static Pod
configurations more frequently, which may have a negative performance impact.
Default: "20s"</td>
</tr>
<tr><td><code>httpCheckFrequency</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
httpCheckFrequency is the duration between checking http for new data.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
shortening the duration will cause the Kubelet to poll staticPodURL more
frequently, which may have a negative performance impact.
Default: "20s"</td>
</tr>
<tr><td><code>staticPodURL</code><br>
<code>string</code>
</td>
<td>
staticPodURL is the URL for accessing static pods to run.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
the set of static pods specified at the new URL may be different than the
ones the Kubelet initially started with, and this may disrupt your node.
Default: ""</td>
</tr>
<tr><td><code>staticPodURLHeader</code><br>
<code>map[string][]string</code>
</td>
<td>
staticPodURLHeader is a map of slices with HTTP headers to use when accessing the podURL.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt the ability to read the latest set of static pods from StaticPodURL.
Default: nil</td>
</tr>
<tr><td><code>address</code><br>
<code>string</code>
</td>
<td>
address is the IP address for the Kubelet to serve on (set to 0.0.0.0
for all interfaces).
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: "0.0.0.0"</td>
</tr>
<tr><td><code>port</code><br>
<code>int32</code>
</td>
<td>
port is the port for the Kubelet to serve on.
The port number must be between 1 and 65535, inclusive.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: 10250</td>
</tr>
<tr><td><code>readOnlyPort</code><br>
<code>int32</code>
</td>
<td>
readOnlyPort is the read-only port for the Kubelet to serve on with
no authentication/authorization.
The port number must be between 1 and 65535, inclusive.
Setting this field to 0 disables the read-only service.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: 0 (disabled)</td>
</tr>
<tr><td><code>tlsCertFile</code><br>
<code>string</code>
</td>
<td>
tlsCertFile is the file containing x509 Certificate for HTTPS. (CA cert,
if any, concatenated after server cert). If tlsCertFile and
tlsPrivateKeyFile are not provided, a self-signed certificate
and key are generated for the public address and saved to the directory
passed to the Kubelet's --cert-dir flag.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: ""</td>
</tr>
<tr><td><code>tlsPrivateKeyFile</code><br>
<code>string</code>
</td>
<td>
tlsPrivateKeyFile is the file containing x509 private key matching tlsCertFile.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: ""</td>
</tr>
<tr><td><code>tlsCipherSuites</code><br>
<code>[]string</code>
</td>
<td>
tlsCipherSuites is the list of allowed cipher suites for the server.
Values are from tls package constants (https://golang.org/pkg/crypto/tls/#pkg-constants).
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: nil</td>
</tr>
<tr><td><code>tlsMinVersion</code><br>
<code>string</code>
</td>
<td>
tlsMinVersion is the minimum TLS version supported.
Values are from tls package constants (https://golang.org/pkg/crypto/tls/#pkg-constants).
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: ""</td>
</tr>
<tr><td><code>rotateCertificates</code><br>
<code>bool</code>
</td>
<td>
rotateCertificates enables client certificate rotation. The Kubelet will request a
new certificate from the certificates.k8s.io API. This requires an approver to approve the
certificate signing requests.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
disabling it may disrupt the Kubelet's ability to authenticate with the API server
after the current certificate expires.
Default: false</td>
</tr>
<tr><td><code>serverTLSBootstrap</code><br>
<code>bool</code>
</td>
<td>
serverTLSBootstrap enables server certificate bootstrap. Instead of self
signing a serving certificate, the Kubelet will request a certificate from
the 'certificates.k8s.io' API. This requires an approver to approve the
certificate signing requests (CSR). The RotateKubeletServerCertificate feature
must be enabled when setting this field.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
disabling it will stop the renewal of Kubelet server certificates, which can
disrupt components that interact with the Kubelet server in the long term,
due to certificate expiration.
Default: false</td>
</tr>
<tr><td><code>authentication</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication><code>KubeletAuthentication</code></a>
</td>
<td>
authentication specifies how requests to the Kubelet's server are authenticated.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Defaults:
anonymous:
enabled: false
webhook:
enabled: true
cacheTTL: "2m"</td>
</tr>
<tr><td><code>authorization</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorization><code>KubeletAuthorization</code></a>
</td>
<td>
authorization specifies how requests to the Kubelet's server are authorized.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Defaults:
mode: Webhook
webhook:
cacheAuthorizedTTL: "5m"
cacheUnauthorizedTTL: "30s"</td>
</tr>
<tr><td><code>registryPullQPS</code><br>
<code>int32</code>
</td>
<td>
registryPullQPS is the limit of registry pulls per second.
The value must not be a negative number.
Setting it to 0 means no limit.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced
by image pulls.
Default: 5</td>
</tr>
<tr><td><code>registryBurst</code><br>
<code>int32</code>
</td>
<td>
registryBurst is the maximum size of bursty pulls, temporarily allows
pulls to burst to this number, while still not exceeding registryPullQPS.
The value must not be a negative number.
Only used if registryPullQPS is greater than 0.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced
by image pulls.
Default: 10</td>
</tr>
<tr><td><code>eventRecordQPS</code><br>
<code>int32</code>
</td>
<td>
eventRecordQPS is the maximum event creations per second. If 0, there
is no limit enforced. The value cannot be a negative number.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced by
event creations.
Default: 5</td>
</tr>
<tr><td><code>eventBurst</code><br>
<code>int32</code>
</td>
<td>
eventBurst is the maximum size of a burst of event creations, temporarily
allows event creations to burst to this number, while still not exceeding
eventRecordQPS. This field canot be a negative number and it is only used
when eventRecordQPS > 0.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic produced by
event creations.
Default: 10</td>
</tr>
<tr><td><code>enableDebuggingHandlers</code><br>
<code>bool</code>
</td>
<td>
enableDebuggingHandlers enables server endpoints for log access
and local running of containers and commands, including the exec,
attach, logs, and portforward features.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
disabling it may disrupt components that interact with the Kubelet server.
Default: true</td>
</tr>
<tr><td><code>enableContentionProfiling</code><br>
<code>bool</code>
</td>
<td>
enableContentionProfiling enables lock contention profiling, if enableDebuggingHandlers is true.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
enabling it may carry a performance impact.
Default: false</td>
</tr>
<tr><td><code>healthzPort</code><br>
<code>int32</code>
</td>
<td>
healthzPort is the port of the localhost healthz endpoint (set to 0 to disable).
A valid number is between 1 and 65535.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that monitor Kubelet health.
Default: 10248</td>
</tr>
<tr><td><code>healthzBindAddress</code><br>
<code>string</code>
</td>
<td>
healthzBindAddress is the IP address for the healthz server to serve on.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that monitor Kubelet health.
Default: "127.0.0.1"</td>
</tr>
<tr><td><code>oomScoreAdj</code><br>
<code>int32</code>
</td>
<td>
oomScoreAdj is The oom-score-adj value for kubelet process. Values
must be within the range [-1000, 1000].
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact the stability of nodes under memory pressure.
Default: -999</td>
</tr>
<tr><td><code>clusterDomain</code><br>
<code>string</code>
</td>
<td>
clusterDomain is the DNS domain for this cluster. If set, kubelet will
configure all containers to search this domain in addition to the
host's search domains.
Dynamic Kubelet Config (deprecated): Dynamically updating this field is not recommended,
as it should be kept in sync with the rest of the cluster.
Default: ""</td>
</tr>
<tr><td><code>clusterDNS</code><br>
<code>[]string</code>
</td>
<td>
clusterDNS is a list of IP addresses for the cluster DNS server. If set,
kubelet will configure all containers to use this for DNS resolution
instead of the host's DNS servers.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
changes will only take effect on Pods created after the update. Draining
the node is recommended before changing this field.
Default: nil</td>
</tr>
<tr><td><code>streamingConnectionIdleTimeout</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
streamingConnectionIdleTimeout is the maximum time a streaming connection
can be idle before the connection is automatically closed.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact components that rely on infrequent updates over streaming
connections to the Kubelet server.
Default: "4h"</td>
</tr>
<tr><td><code>nodeStatusUpdateFrequency</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
nodeStatusUpdateFrequency is the frequency that kubelet computes node
status. If node lease feature is not enabled, it is also the frequency that
kubelet posts node status to master.
Note: When node lease feature is not enabled, be cautious when changing the
constant, it must work with nodeMonitorGracePeriod in nodecontroller.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact node scalability, and also that the node controller's
nodeMonitorGracePeriod must be set to N&#8727;NodeStatusUpdateFrequency,
where N is the number of retries before the node controller marks
the node unhealthy.
Default: "10s"</td>
</tr>
<tr><td><code>nodeStatusReportFrequency</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
nodeStatusReportFrequency is the frequency that kubelet posts node
status to master if node status does not change. Kubelet will ignore this
frequency and post node status immediately if any change is detected. It is
only used when node lease feature is enabled. nodeStatusReportFrequency's
default value is 5m. But if nodeStatusUpdateFrequency is set explicitly,
nodeStatusReportFrequency's default value will be set to
nodeStatusUpdateFrequency for backward compatibility.
Default: "5m"</td>
</tr>
<tr><td><code>nodeLeaseDurationSeconds</code><br>
<code>int32</code>
</td>
<td>
nodeLeaseDurationSeconds is the duration the Kubelet will set on its corresponding Lease,
when the NodeLease feature is enabled. This feature provides an indicator of node
health by having the Kubelet create and periodically renew a lease, named after the node,
in the kube-node-lease namespace. If the lease expires, the node can be considered unhealthy.
The lease is currently renewed every 10s, per KEP-0009. In the future, the lease renewal interval
may be set based on the lease duration.
The field value must be greater than 0.
Requires the NodeLease feature gate to be enabled.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
decreasing the duration may reduce tolerance for issues that temporarily prevent
the Kubelet from renewing the lease (e.g. a short-lived network issue).
Default: 40</td>
</tr>
<tr><td><code>imageMinimumGCAge</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
imageMinimumGCAge is the minimum age for an unused image before it is
garbage collected.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger or delay garbage collection, and may change the image overhead
on the node.
Default: "2m"</td>
</tr>
<tr><td><code>imageGCHighThresholdPercent</code><br>
<code>int32</code>
</td>
<td>
imageGCHighThresholdPercent is the percent of disk usage after which
image garbage collection is always run. The percent is calculated by
dividing this field value by 100, so this field must be between 0 and
100, inclusive. When specified, the value must be greater than
imageGCLowThresholdPercent.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger or delay garbage collection, and may change the image overhead
on the node.
Default: 85</td>
</tr>
<tr><td><code>imageGCLowThresholdPercent</code><br>
<code>int32</code>
</td>
<td>
imageGCLowThresholdPercent is the percent of disk usage before which
image garbage collection is never run. Lowest disk usage to garbage
collect to. The percent is calculated by dividing this field value by 100,
so the field value must be between 0 and 100, inclusive. When specified, the
value must be less than imageGCHighThresholdPercent.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger or delay garbage collection, and may change the image overhead
on the node.
Default: 80</td>
</tr>
<tr><td><code>volumeStatsAggPeriod</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
volumeStatsAggPeriod is the frequency for calculating and caching volume
disk usage for all pods.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
shortening the period may carry a performance impact.
Default: "1m"</td>
</tr>
<tr><td><code>kubeletCgroups</code><br>
<code>string</code>
</td>
<td>
kubeletCgroups is the absolute name of cgroups to isolate the kubelet in
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td>
</tr>
<tr><td><code>systemCgroups</code><br>
<code>string</code>
</td>
<td>
systemCgroups is absolute name of cgroups in which to place
all non-kernel processes that are not already in a container. Empty
for no container. Rolling back the flag requires a reboot.
The cgroupRoot must be specified if this field is not empty.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td>
</tr>
<tr><td><code>cgroupRoot</code><br>
<code>string</code>
</td>
<td>
cgroupRoot is the root cgroup to use for pods. This is handled by the
container runtime on a best effort basis.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td>
</tr>
<tr><td><code>cgroupsPerQOS</code><br>
<code>bool</code>
</td>
<td>
cgroupsPerQOS enable QoS based CGroup hierarchy: top level CGroups for QoS classes
and all Burstable and BestEffort Pods are brought up under their specific top level
QoS CGroup.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: true</td>
</tr>
<tr><td><code>cgroupDriver</code><br>
<code>string</code>
</td>
<td>
cgroupDriver is the driver kubelet uses to manipulate CGroups on the host (cgroupfs
or systemd).
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "cgroupfs"</td>
</tr>
<tr><td><code>cpuManagerPolicy</code><br>
<code>string</code>
</td>
<td>
cpuManagerPolicy is the name of the policy to use.
Requires the CPUManager feature gate to be enabled.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "None"</td>
</tr>
<tr><td><code>cpuManagerPolicyOptions</code><br>
<code>map[string]string</code>
</td>
<td>
cpuManagerPolicyOptions is a set of key=value which allows to set extra options
to fine tune the behaviour of the cpu manager policies.
Requires both the "CPUManager" and "CPUManagerPolicyOptions" feature gates to be enabled.
Dynamic Kubelet Config (beta): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: nil</td>
</tr>
<tr><td><code>cpuManagerReconcilePeriod</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
cpuManagerReconcilePeriod is the reconciliation period for the CPU Manager.
Requires the CPUManager feature gate to be enabled.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
shortening the period may carry a performance impact.
Default: "10s"</td>
</tr>
<tr><td><code>memoryManagerPolicy</code><br>
<code>string</code>
</td>
<td>
memoryManagerPolicy is the name of the policy to use by memory manager.
Requires the MemoryManager feature gate to be enabled.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "none"</td>
</tr>
<tr><td><code>topologyManagerPolicy</code><br>
<code>string</code>
</td>
<td>
topologyManagerPolicy is the name of the topology manager policy to use.
Valid values include:
<ul>
<li><code>restricted</code>: kubelet only allows pods with optimal NUMA node alignment for
requested resources;</li>
<li><code>best-effort</code>: kubelet will favor pods with NUMA alignment of CPU and device
resources;</li>
<li><code>none</code>: kublet has no knowledge of NUMA alignment of a pod's CPU and device resources.</li>
<li><code>single-numa-node</code>: kubelet only allows pods with a single NUMA alignment
of CPU and device resources.</li>
</ul>
<p>Policies other than "none" require the TopologyManager feature gate to be enabled.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: "none"</td></p>
</tr>
<tr><td><code>topologyManagerScope</code><br>
<code>string</code>
</td>
<td>
topologyManagerScope represents the scope of topology hint generation
that topology manager requests and hint providers generate. Valid values include:
<ul>
<li><code>container</code>: topology policy is applied on a per-container basis.</li>
<li><code>pod</code>: topology policy is applied on a per-pod basis.</li>
</ul>
<p>"pod" scope requires the TopologyManager feature gate to be enabled.
Default: "container"</td></p>
</tr>
<tr><td><code>qosReserved</code><br>
<code>map[string]string</code>
</td>
<td>
qosReserved is a set of resource name to percentage pairs that specify
the minimum percentage of a resource reserved for exclusive use by the
guaranteed QoS tier.
Currently supported resources: "memory"
Requires the QOSReserved feature gate to be enabled.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: nil</td>
</tr>
<tr><td><code>runtimeRequestTimeout</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
runtimeRequestTimeout is the timeout for all runtime requests except long running
requests - pull, logs, exec and attach.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may disrupt components that interact with the Kubelet server.
Default: "2m"</td>
</tr>
<tr><td><code>hairpinMode</code><br>
<code>string</code>
</td>
<td>
hairpinMode specifies how the Kubelet should configure the container
bridge for hairpin packets.
Setting this flag allows endpoints in a Service to loadbalance back to
themselves if they should try to access their own Service. Values:
<ul>
<li>"promiscuous-bridge": make the container bridge promiscuous.</li>
<li>"hairpin-veth": set the hairpin flag on container veth interfaces.</li>
<li>"none": do nothing.</li>
</ul>
<p>Generally, one must set <code>--hairpin-mode=hairpin-veth to</code> achieve hairpin NAT,
because promiscuous-bridge assumes the existence of a container bridge named cbr0.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may require a node reboot, depending on the network plugin.
Default: "promiscuous-bridge"</td></p>
</tr>
<tr><td><code>maxPods</code><br>
<code>int32</code>
</td>
<td>
maxPods is the maximum number of Pods that can run on this Kubelet.
The value must be a non-negative integer.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
changes may cause Pods to fail admission on Kubelet restart, and may change
the value reported in Node.Status.Capacity[v1.ResourcePods], thus affecting
future scheduling decisions. Increasing this value may also decrease performance,
as more Pods can be packed into a single node.
Default: 110</td>
</tr>
<tr><td><code>podCIDR</code><br>
<code>string</code>
</td>
<td>
podCIDR is the CIDR to use for pod IP addresses, only used in standalone mode.
In cluster mode, this is obtained from the control plane.
Dynamic Kubelet Config (deprecated): This field should always be set to the empty default.
It should only set for standalone Kubelets, which cannot use Dynamic Kubelet Config.
Default: ""</td>
</tr>
<tr><td><code>podPidsLimit</code><br>
<code>int64</code>
</td>
<td>
podPidsLimit is the maximum number of PIDs in any pod.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
lowering it may prevent container processes from forking after the change.
Default: -1</td>
</tr>
<tr><td><code>resolvConf</code><br>
<code>string</code>
</td>
<td>
resolvConf is the resolver configuration file used as the basis
for the container DNS resolution configuration.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
changes will only take effect on Pods created after the update. Draining
the node is recommended before changing this field.
Default: "/etc/resolv.conf"</td>
</tr>
<tr><td><code>runOnce</code><br>
<code>bool</code>
</td>
<td>
runOnce causes the Kubelet to check the API server once for pods,
run those in addition to the pods specified by static pod files, and exit.
Default: false</td>
</tr>
<tr><td><code>cpuCFSQuota</code><br>
<code>bool</code>
</td>
<td>
cpuCFSQuota enables CPU CFS quota enforcement for containers that
specify CPU limits.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
disabling it may reduce node stability.
Default: true</td>
</tr>
<tr><td><code>cpuCFSQuotaPeriod</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
cpuCFSQuotaPeriod is the CPU CFS quota period value, `cpu.cfs_period_us`.
The value must be between 1 us and 1 second, inclusive.
Requires the CustomCPUCFSQuotaPeriod feature gate to be enabled.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
limits set for containers will result in different cpu.cfs_quota settings. This
will trigger container restarts on the node being reconfigured.
Default: "100ms"</td>
</tr>
<tr><td><code>nodeStatusMaxImages</code><br>
<code>int32</code>
</td>
<td>
nodeStatusMaxImages caps the number of images reported in Node.status.images.
The value must be greater than -2.
Note: If -1 is specified, no cap will be applied. If 0 is specified, no image is returned.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
different values can be reported on node status.
Default: 50</td>
</tr>
<tr><td><code>maxOpenFiles</code><br>
<code>int64</code>
</td>
<td>
maxOpenFiles is Number of files that can be opened by Kubelet process.
The value must be a non-negative number.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact the ability of the Kubelet to interact with the node's filesystem.
Default: 1000000</td>
</tr>
<tr><td><code>contentType</code><br>
<code>string</code>
</td>
<td>
contentType is contentType of requests sent to apiserver.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact the ability for the Kubelet to communicate with the API server.
If the Kubelet loses contact with the API server due to a change to this field,
the change cannot be reverted via dynamic Kubelet config.
Default: "application/vnd.kubernetes.protobuf"</td>
</tr>
<tr><td><code>kubeAPIQPS</code><br>
<code>int32</code>
</td>
<td>
kubeAPIQPS is the QPS to use while talking with kubernetes apiserver.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic the Kubelet
sends to the API server.
Default: 5</td>
</tr>
<tr><td><code>kubeAPIBurst</code><br>
<code>int32</code>
</td>
<td>
kubeAPIBurst is the burst to allow while talking with kubernetes API server.
This field cannot be a negative number.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact scalability by changing the amount of traffic the Kubelet
sends to the API server.
Default: 10</td>
</tr>
<tr><td><code>serializeImagePulls</code><br>
<code>bool</code>
</td>
<td>
serializeImagePulls when enabled, tells the Kubelet to pull images one
at a time. We recommend &#8727;not&#8727; changing the default value on nodes that
run docker daemon with version < 1.9 or an Aufs storage backend.
Issue #10959 has more details.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact the performance of image pulls.
Default: true</td>
</tr>
<tr><td><code>evictionHard</code><br>
<code>map[string]string</code>
</td>
<td>
evictionHard is a map of signal names to quantities that defines hard eviction
thresholds. For example: `{"memory.available": "300Mi"}`.
To explicitly disable, pass a 0% or 100% threshold on an arbitrary resource.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger or delay Pod evictions.
Default:
memory.available: "100Mi"
nodefs.available: "10%"
nodefs.inodesFree: "5%"
imagefs.available: "15%"</td>
</tr>
<tr><td><code>evictionSoft</code><br>
<code>map[string]string</code>
</td>
<td>
evictionSoft is a map of signal names to quantities that defines soft eviction thresholds.
For example: `{"memory.available": "300Mi"}`.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger or delay Pod evictions, and may change the allocatable reported
by the node.
Default: nil</td>
</tr>
<tr><td><code>evictionSoftGracePeriod</code><br>
<code>map[string]string</code>
</td>
<td>
evictionSoftGracePeriod is a map of signal names to quantities that defines grace
periods for each soft eviction signal. For example: `{"memory.available": "30s"}`.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger or delay Pod evictions.
Default: nil</td>
</tr>
<tr><td><code>evictionPressureTransitionPeriod</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
evictionPressureTransitionPeriod is the duration for which the kubelet has to wait
before transitioning out of an eviction pressure condition.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
lowering it may decrease the stability of the node when the node is overcommitted.
Default: "5m"</td>
</tr>
<tr><td><code>evictionMaxPodGracePeriod</code><br>
<code>int32</code>
</td>
<td>
evictionMaxPodGracePeriod is the maximum allowed grace period (in seconds) to use
when terminating pods in response to a soft eviction threshold being met. This value
effectively caps the Pod's terminationGracePeriodSeconds value during soft evictions.
Note: Due to issue #64530, the behavior has a bug where this value currently just
overrides the grace period during soft eviction, which can increase the grace
period from what is set on the Pod. This bug will be fixed in a future release.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
lowering it decreases the amount of time Pods will have to gracefully clean
up before being killed during a soft eviction.
Default: 0</td>
</tr>
<tr><td><code>evictionMinimumReclaim</code><br>
<code>map[string]string</code>
</td>
<td>
evictionMinimumReclaim is a map of signal names to quantities that defines minimum reclaims,
which describe the minimum amount of a given resource the kubelet will reclaim when
performing a pod eviction while that resource is under pressure.
For example: `{"imagefs.available": "2Gi"}`.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may change how well eviction can manage resource pressure.
Default: nil</td>
</tr>
<tr><td><code>podsPerCore</code><br>
<code>int32</code>
</td>
<td>
podsPerCore is the maximum number of pods per core. Cannot exceed maxPods.
The value must be a non-negative integer.
If 0, there is no limit on the number of Pods.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
changes may cause Pods to fail admission on Kubelet restart, and may change
the value reported in `Node.status.capacity.pods`, thus affecting
future scheduling decisions. Increasing this value may also decrease performance,
as more Pods can be packed into a single node.
Default: 0</td>
</tr>
<tr><td><code>enableControllerAttachDetach</code><br>
<code>bool</code>
</td>
<td>
enableControllerAttachDetach enables the Attach/Detach controller to
manage attachment/detachment of volumes scheduled to this node, and
disables kubelet from executing any attach/detach operations.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
changing which component is responsible for volume management on a live node
may result in volumes refusing to detach if the node is not drained prior to
the update, and if Pods are scheduled to the node before the
volumes.kubernetes.io/controller-managed-attach-detach annotation is updated by the
Kubelet. In general, it is safest to leave this value set the same as local config.
Default: true</td>
</tr>
<tr><td><code>protectKernelDefaults</code><br>
<code>bool</code>
</td>
<td>
protectKernelDefaults, if true, causes the Kubelet to error if kernel
flags are not as it expects. Otherwise the Kubelet will attempt to modify
kernel flags to match its expectation.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
enabling it may cause the Kubelet to crash-loop if the Kernel is not configured as
Kubelet expects.
Default: false</td>
</tr>
<tr><td><code>makeIPTablesUtilChains</code><br>
<code>bool</code>
</td>
<td>
makeIPTablesUtilChains, if true, causes the Kubelet ensures a set of iptables rules
are present on host.
These rules will serve as utility rules for various components, e.g. kube-proxy.
The rules will be created based on iptablesMasqueradeBit and iptablesDropBit.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
disabling it will prevent the Kubelet from healing locally misconfigured iptables rules.
Default: true</td>
</tr>
<tr><td><code>iptablesMasqueradeBit</code><br>
<code>int32</code>
</td>
<td>
iptablesMasqueradeBit is the bit of the iptables fwmark space to mark for SNAT.
Values must be within the range [0, 31]. Must be different from other mark bits.
Warning: Please match the value of the corresponding parameter in kube-proxy.
TODO: clean up IPTablesMasqueradeBit in kube-proxy.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it needs to be coordinated with other components, like kube-proxy, and the update
will only be effective if MakeIPTablesUtilChains is enabled.
Default: 14</td>
</tr>
<tr><td><code>iptablesDropBit</code><br>
<code>int32</code>
</td>
<td>
iptablesDropBit is the bit of the iptables fwmark space to mark for dropping packets.
Values must be within the range [0, 31]. Must be different from other mark bits.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it needs to be coordinated with other components, like kube-proxy, and the update
will only be effective if MakeIPTablesUtilChains is enabled.
Default: 15</td>
</tr>
<tr><td><code>featureGates</code><br>
<code>map[string]bool</code>
</td>
<td>
featureGates is a map of feature names to bools that enable or disable experimental
features. This field modifies piecemeal the built-in default values from
"k8s.io/kubernetes/pkg/features/kube_features.go".
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider the
documentation for the features you are enabling or disabling. While we
encourage feature developers to make it possible to dynamically enable
and disable features, some changes may require node reboots, and some
features may require careful coordination to retroactively disable.
Default: nil</td>
</tr>
<tr><td><code>failSwapOn</code><br>
<code>bool</code>
</td>
<td>
failSwapOn tells the Kubelet to fail to start if swap is enabled on the node.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
setting it to true will cause the Kubelet to crash-loop if swap is enabled.
Default: true</td>
</tr>
<tr><td><code>memorySwap</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-MemorySwapConfiguration><code>MemorySwapConfiguration</code></a>
</td>
<td>
memorySwap configures swap memory available to container workloads.</td>
</tr>
<tr><td><code>containerLogMaxSize</code><br>
<code>string</code>
</td>
<td>
containerLogMaxSize is a quantity defining the maximum size of the container log
file before it is rotated. For example: "5Mi" or "256Ki".
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may trigger log rotation.
Default: "10Mi"</td>
</tr>
<tr><td><code>containerLogMaxFiles</code><br>
<code>int32</code>
</td>
<td>
containerLogMaxFiles specifies the maximum number of container log files that can
be present for a container.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
lowering it may cause log files to be deleted.
Default: 5</td>
</tr>
<tr><td><code>configMapAndSecretChangeDetectionStrategy</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-ResourceChangeDetectionStrategy><code>ResourceChangeDetectionStrategy</code></a>
</td>
<td>
configMapAndSecretChangeDetectionStrategy is a mode in which ConfigMap and Secret
managers are running. Valid values include:
<ul>
<li><code>Get</code>: kubelet fetches necessary objects directly from the API server;</li>
<li><code>Cache</code>: kubelet uses TTL cache for object fetched from the API server;</li>
<li><code>Watch</code>: kubelet uses watches to observe changes to objects that are in its interest.</li>
</ul>
<p>Default: "Watch"</td></p>
</tr>
<tr><td><code>systemReserved</code><br>
<code>map[string]string</code>
</td>
<td>
systemReserved is a set of ResourceName=ResourceQuantity (e.g. cpu=200m,memory=150G)
pairs that describe resources reserved for non-kubernetes components.
Currently only cpu and memory are supported.
See http://kubernetes.io/docs/user-guide/compute-resources for more detail.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may not be possible to increase the reserved resources, because this
requires resizing cgroups. Always look for a NodeAllocatableEnforced event
after updating this field to ensure that the update was successful.
Default: nil</td>
</tr>
<tr><td><code>kubeReserved</code><br>
<code>map[string]string</code>
</td>
<td>
kubeReserved is a set of ResourceName=ResourceQuantity (e.g. cpu=200m,memory=150G) pairs
that describe resources reserved for kubernetes system components.
Currently cpu, memory and local storage for root file system are supported.
See https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
for more details.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may not be possible to increase the reserved resources, because this
requires resizing cgroups. Always look for a NodeAllocatableEnforced event
after updating this field to ensure that the update was successful.
Default: nil</td>
</tr>
<tr><td><code>reservedSystemCPUs</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
The reservedSystemCPUs option specifies the CPU list reserved for the host
level system threads and kubernetes related threads. This provide a "static"
CPU list rather than the "dynamic" list by systemReserved and kubeReserved.
This option does not support systemReservedCgroup or kubeReservedCgroup.</td>
</tr>
<tr><td><code>showHiddenMetricsForVersion</code><br>
<code>string</code>
</td>
<td>
showHiddenMetricsForVersion is the previous version for which you want to show
hidden metrics.
Only the previous minor version is meaningful, other values will not be allowed.
The format is `<major>.<minor>`, e.g.: `1.16`.
The purpose of this format is make sure you have the opportunity to notice
if the next release hides additional metrics, rather than being surprised
when they are permanently removed in the release after that.
Default: ""</td>
</tr>
<tr><td><code>systemReservedCgroup</code><br>
<code>string</code>
</td>
<td>
systemReservedCgroup helps the kubelet identify absolute name of top level CGroup used
to enforce `systemReserved` compute resource reservation for OS system daemons.
Refer to [Node Allocatable](https://git.k8s.io/community/contributors/design-proposals/node/node-allocatable.md)
doc for more information.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td>
</tr>
<tr><td><code>kubeReservedCgroup</code><br>
<code>string</code>
</td>
<td>
kubeReservedCgroup helps the kubelet identify absolute name of top level CGroup used
to enforce `KubeReserved` compute resource reservation for Kubernetes node system daemons.
Refer to [Node Allocatable](https://git.k8s.io/community/contributors/design-proposals/node/node-allocatable.md)
doc for more information.
Dynamic Kubelet Config (deprecated): This field should not be updated without a full node
reboot. It is safest to keep this value the same as the local config.
Default: ""</td>
</tr>
<tr><td><code>enforceNodeAllocatable</code><br>
<code>[]string</code>
</td>
<td>
This flag specifies the various Node Allocatable enforcements that Kubelet needs to perform.
This flag accepts a list of options. Acceptable options are `none`, `pods`,
`system-reserved` and `kube-reserved`.
If `none` is specified, no other options may be specified.
When `system-reserved` is in the list, systemReservedCgroup must be specified.
When `kube-reserved` is in the list, kubeReservedCgroup must be specified.
This field is supported only when `cgroupsPerQOS` is set to true.
Refer to [Node Allocatable](https://git.k8s.io/community/contributors/design-proposals/node/node-allocatable.md)
for more information.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
removing enforcements may reduce the stability of the node. Alternatively, adding
enforcements may reduce the stability of components which were using more than
the reserved amount of resources; for example, enforcing kube-reserved may cause
Kubelets to OOM if it uses more than the reserved resources, and enforcing system-reserved
may cause system daemons to OOM if they use more than the reserved resources.
Default: ["pods"]</td>
</tr>
<tr><td><code>allowedUnsafeSysctls</code><br>
<code>[]string</code>
</td>
<td>
A comma separated whitelist of unsafe sysctls or sysctl patterns (ending in `&#8727;`).
Unsafe sysctl groups are `kernel.shm&#8727;`, `kernel.msg&#8727;`, `kernel.sem`, `fs.mqueue.&#8727;`,
and `net.&#8727;`. For example: "`kernel.msg&#8727;,net.ipv4.route.min_pmtu`"
Default: []</td>
</tr>
<tr><td><code>volumePluginDir</code><br>
<code>string</code>
</td>
<td>
volumePluginDir is the full path of the directory in which to search
for additional third party volume plugins.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that changing
the volumePluginDir may disrupt workloads relying on third party volume plugins.
Default: "/usr/libexec/kubernetes/kubelet-plugins/volume/exec/"</td>
</tr>
<tr><td><code>providerID</code><br>
<code>string</code>
</td>
<td>
providerID, if set, sets the unique ID of the instance that an external
provider (i.e. cloudprovider) can use to identify a specific node.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact the ability of the Kubelet to interact with cloud providers.
Default: ""</td>
</tr>
<tr><td><code>kernelMemcgNotification</code><br>
<code>bool</code>
</td>
<td>
kernelMemcgNotification, if set, instructs the the kubelet to integrate with the
kernel memcg notification for determining if memory eviction thresholds are
exceeded rather than polling.
If DynamicKubeletConfig (deprecated; default off) is on, when
dynamically updating this field, consider that
it may impact the way Kubelet interacts with the kernel.
Default: false</td>
</tr>
<tr><td><code>logging</code> <b>[Required]</b><br>
<a href=#LoggingConfiguration><code>LoggingConfiguration</code></a>
</td>
<td>
logging specifies the options of logging.
Refer to [Logs Options](https://github.com/kubernetes/component-base/blob/master/logs/options.go)
for more information.
Default:
Format: text</td>
</tr>
<tr><td><code>enableSystemLogHandler</code><br>
<code>bool</code>
</td>
<td>
enableSystemLogHandler enables system logs via web interface host:port/logs/
Default: true</td>
</tr>
<tr><td><code>shutdownGracePeriod</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
shutdownGracePeriod specifies the total duration that the node should delay the
shutdown and total grace period for pod termination during a node shutdown.
Default: "0s"</td>
</tr>
<tr><td><code>shutdownGracePeriodCriticalPods</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
shutdownGracePeriodCriticalPods specifies the duration used to terminate critical
pods during a node shutdown. This should be less than shutdownGracePeriod.
For example, if shutdownGracePeriod=30s, and shutdownGracePeriodCriticalPods=10s,
during a node shutdown the first 20 seconds would be reserved for gracefully
terminating normal pods, and the last 10 seconds would be reserved for terminating
critical pods.
Default: "0s"</td>
</tr>
<tr><td><code>reservedMemory</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-MemoryReservation><code>[]MemoryReservation</code></a>
</td>
<td>
reservedMemory specifies a comma-separated list of memory reservations for NUMA nodes.
The parameter makes sense only in the context of the memory manager feature.
The memory manager will not allocate reserved memory for container workloads.
For example, if you have a NUMA0 with 10Gi of memory and the reservedMemory was
specified to reserve 1Gi of memory at NUMA0, the memory manager will assume that
only 9Gi is available for allocation.
You can specify a different amount of NUMA node and memory types.
You can omit this parameter at all, but you should be aware that the amount of
reserved memory from all NUMA nodes should be equal to the amount of memory specified
by the [node allocatable](https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/#node-allocatable).
If at least one node allocatable parameter has a non-zero value, you will need
to specify at least one NUMA node.
Also, avoid specifying:
<ol>
<li>Duplicates, the same NUMA node, and memory type, but with a different value.</li>
<li>zero limits for any memory type.</li>
<li>NUMAs nodes IDs that do not exist under the machine.</li>
<li>memory types except for memory and hugepages-<size></li>
</ol>
<p>Default: nil</td></p>
</tr>
<tr><td><code>enableProfilingHandler</code><br>
<code>bool</code>
</td>
<td>
enableProfilingHandler enables profiling via web interface host:port/debug/pprof/
Default: true</td>
</tr>
<tr><td><code>enableDebugFlagsHandler</code><br>
<code>bool</code>
</td>
<td>
enableDebugFlagsHandler enables flags endpoint via web interface host:port/debug/flags/v
Default: true</td>
</tr>
<tr><td><code>seccompDefault</code><br>
<code>bool</code>
</td>
<td>
SeccompDefault enables the use of `RuntimeDefault` as the default seccomp profile for all workloads.
This requires the corresponding SeccompDefault feature gate to be enabled as well.
Default: false</td>
</tr>
<tr><td><code>memoryThrottlingFactor</code><br>
<code>float64</code>
</td>
<td>
MemoryThrottlingFactor specifies the factor multiplied by the memory limit or node allocatable memory
when setting the cgroupv2 memory.high value to enforce MemoryQoS.
Decreasing this factor will set lower high limit for container cgroups and put heavier reclaim pressure
while increasing will put less reclaim pressure.
See http://kep.k8s.io/2570 for more details.
Default: 0.8</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-SerializedNodeConfigSource><code>SerializedNodeConfigSource</code> </h2>
<p>SerializedNodeConfigSource allows us to serialize v1.NodeConfigSource.
This type is used internally by the Kubelet for tracking checkpointed dynamic configs.
It exists in the kubeletconfig API group because it is classified as a versioned input to the Kubelet.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>kubelet.config.k8s.io/v1beta1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>SerializedNodeConfigSource</code></td></tr>
<tr><td><code>source</code><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#nodeconfigsource-v1-core><code>core/v1.NodeConfigSource</code></a>
</td>
<td>
source is the source that we are serializing.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-HairpinMode><code>HairpinMode</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p>HairpinMode denotes how the kubelet should configure networking to handle
hairpin packets.</p>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletAnonymousAuthentication><code>KubeletAnonymousAuthentication</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication>KubeletAuthentication</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enabled</code><br>
<code>bool</code>
</td>
<td>
enabled allows anonymous requests to the kubelet server.
Requests that are not rejected by another authentication method are treated as
anonymous requests.
Anonymous requests have a username of `system:anonymous`, and a group name of
`system:unauthenticated`.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletAuthentication><code>KubeletAuthentication</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>x509</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletX509Authentication><code>KubeletX509Authentication</code></a>
</td>
<td>
x509 contains settings related to x509 client certificate authentication.</td>
</tr>
<tr><td><code>webhook</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthentication><code>KubeletWebhookAuthentication</code></a>
</td>
<td>
webhook contains settings related to webhook bearer token authentication.</td>
</tr>
<tr><td><code>anonymous</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletAnonymousAuthentication><code>KubeletAnonymousAuthentication</code></a>
</td>
<td>
anonymous contains settings related to anonymous authentication.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletAuthorization><code>KubeletAuthorization</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>mode</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorizationMode><code>KubeletAuthorizationMode</code></a>
</td>
<td>
mode is the authorization mode to apply to requests to the kubelet server.
Valid values are `AlwaysAllow` and `Webhook`.
Webhook mode uses the SubjectAccessReview API to determine authorization.</td>
</tr>
<tr><td><code>webhook</code><br>
<a href=#kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthorization><code>KubeletWebhookAuthorization</code></a>
</td>
<td>
webhook contains settings related to Webhook authorization.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletAuthorizationMode><code>KubeletAuthorizationMode</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorization>KubeletAuthorization</a></li>
</ul>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthentication><code>KubeletWebhookAuthentication</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication>KubeletAuthentication</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>enabled</code><br>
<code>bool</code>
</td>
<td>
enabled allows bearer token authentication backed by the
tokenreviews.authentication.k8s.io API.</td>
</tr>
<tr><td><code>cacheTTL</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
cacheTTL enables caching of authentication results</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletWebhookAuthorization><code>KubeletWebhookAuthorization</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthorization>KubeletAuthorization</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>cacheAuthorizedTTL</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
cacheAuthorizedTTL is the duration to cache 'authorized' responses from the
webhook authorizer.</td>
</tr>
<tr><td><code>cacheUnauthorizedTTL</code><br>
<a href=https://godoc.org/k8s.io/apimachinery/pkg/apis/meta/v1#Duration><code>meta/v1.Duration</code></a>
</td>
<td>
cacheUnauthorizedTTL is the duration to cache 'unauthorized' responses from
the webhook authorizer.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-KubeletX509Authentication><code>KubeletX509Authentication</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletAuthentication>KubeletAuthentication</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>clientCAFile</code><br>
<code>string</code>
</td>
<td>
clientCAFile is the path to a PEM-encoded certificate bundle. If set, any request
presenting a client certificate signed by one of the authorities in the bundle
is authenticated with a username corresponding to the CommonName,
and groups corresponding to the Organization in the client certificate.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-MemoryReservation><code>MemoryReservation</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<p>MemoryReservation specifies the memory reservation of different types for each NUMA node</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>numaNode</code> <b>[Required]</b><br>
<code>int32</code>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
<tr><td><code>limits</code> <b>[Required]</b><br>
<a href=https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.21/#resourcelist-v1-core><code>core/v1.ResourceList</code></a>
</td>
<td>
<span class=text-muted>No description provided.</span>
</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-MemorySwapConfiguration><code>MemorySwapConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>swapBehavior</code><br>
<code>string</code>
</td>
<td>
swapBehavior configures swap memory available to container workloads. May be one of
"", "LimitedSwap": workload combined memory and swap usage cannot exceed pod memory limit
"UnlimitedSwap": workloads can use unlimited swap, up to the allocatable limit.</td>
</tr>
</tbody>
</table>
<h2 id=kubelet-config-k8s-io-v1beta1-ResourceChangeDetectionStrategy><code>ResourceChangeDetectionStrategy</code> </h2>
<p>(Alias of <code>string</code>)</p>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<p>ResourceChangeDetectionStrategy denotes a mode in which internal
managers (secret, configmap) are discovering object changes.</p>
<h2 id=LoggingConfiguration><code>LoggingConfiguration</code> </h2>
<p><strong>Appears in:</strong></p>
<ul>
<li><a href=#kubelet-config-k8s-io-v1beta1-KubeletConfiguration>KubeletConfiguration</a></li>
</ul>
<p>LoggingConfiguration contains logging options
Refer <a href=https://github.com/kubernetes/component-base/blob/master/logs/options.go>Logs Options</a> for more information.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>format</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
Format Flag specifies the structure of log messages.
default value of format is `text`</td>
</tr>
<tr><td><code>sanitization</code> <b>[Required]</b><br>
<code>bool</code>
</td>
<td>
[Experimental] When enabled prevents logging of fields tagged as sensitive (passwords, keys, tokens).
Runtime log sanitization may introduce significant computation overhead and therefore should not be enabled in production.`)</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-74f43b2a33c21414f1ed8c359b37d326>11.11 - WebhookAdmission Configuration (v1)</h1>
<p>Package v1 is the v1 version of the API.</p>
<h2 id=resource-types>Resource Types</h2>
<ul>
<li><a href=#apiserver-config-k8s-io-v1-WebhookAdmission>WebhookAdmission</a></li>
</ul>
<h2 id=apiserver-config-k8s-io-v1-WebhookAdmission><code>WebhookAdmission</code> </h2>
<p>WebhookAdmission provides configuration for the webhook admission controller.</p>
<table class=table>
<thead><tr><th width=30%>Field</th><th>Description</th></tr></thead>
<tbody>
<tr><td><code>apiVersion</code><br>string</td><td><code>apiserver.config.k8s.io/v1</code></td></tr>
<tr><td><code>kind</code><br>string</td><td><code>WebhookAdmission</code></td></tr>
<tr><td><code>kubeConfigFile</code> <b>[Required]</b><br>
<code>string</code>
</td>
<td>
KubeConfigFile is the path to the kubeconfig file.</td>
</tr>
</tbody>
</table>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-f8b023454daa9497b7eea35b7d35c075>12 - Scheduling</h1>
</div>
<div class=td-content>
<h1 id=pg-5a0a68fb6a7ffefb6d5f861100fa0ae3>12.1 - Scheduling Policies</h1>
<p>A scheduling Policy can be used to specify the <em>predicates</em> and <em>priorities</em>
that the <a class=glossary-tooltip title="Control plane component that watches for newly created pods with no assigned node, and selects a node for them to run on." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-scheduler/ target=_blank aria-label=kube-scheduler>kube-scheduler</a>
runs to <a href=/docs/concepts/scheduling-eviction/kube-scheduler/#kube-scheduler-implementation>filter and score nodes</a>,
respectively.</p>
<p>You can set a scheduling policy by running
<code>kube-scheduler --policy-config-file &lt;filename></code> or
<code>kube-scheduler --policy-configmap &lt;ConfigMap></code>
and using the <a href=/docs/reference/config-api/kube-scheduler-policy-config.v1/>Policy type</a>.</p>
<h2 id=predicates>Predicates</h2>
<p>The following <em>predicates</em> implement filtering:</p>
<ul>
<li>
<p><code>PodFitsHostPorts</code>: Checks if a Node has free ports (the network protocol kind)
for the Pod ports the Pod is requesting.</p>
</li>
<li>
<p><code>PodFitsHost</code>: Checks if a Pod specifies a specific Node by its hostname.</p>
</li>
<li>
<p><code>PodFitsResources</code>: Checks if the Node has free resources (eg, CPU and Memory)
to meet the requirement of the Pod.</p>
</li>
<li>
<p><code>MatchNodeSelector</code>: Checks if a Pod's Node <a class=glossary-tooltip title="Allows users to filter a list of resources based on labels." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels/ target=_blank aria-label=Selector>Selector</a>
matches the Node's <a class=glossary-tooltip title="Tags objects with identifying attributes that are meaningful and relevant to users." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels target=_blank aria-label=label(s)>label(s)</a>.</p>
</li>
<li>
<p><code>NoVolumeZoneConflict</code>: Evaluate if the <a class=glossary-tooltip title="A directory containing data, accessible to the containers in a pod." data-toggle=tooltip data-placement=top href=/docs/concepts/storage/volumes/ target=_blank aria-label=Volumes>Volumes</a>
that a Pod requests are available on the Node, given the failure zone restrictions for
that storage.</p>
</li>
<li>
<p><code>NoDiskConflict</code>: Evaluates if a Pod can fit on a Node due to the volumes it requests,
and those that are already mounted.</p>
</li>
<li>
<p><code>MaxCSIVolumeCount</code>: Decides how many <a class=glossary-tooltip title="The Container Storage Interface (CSI) defines a standard interface to expose storage systems to containers." data-toggle=tooltip data-placement=top href=/docs/concepts/storage/volumes/#csi target=_blank aria-label=CSI>CSI</a>
volumes should be attached, and whether that's over a configured limit.</p>
</li>
<li>
<p><code>PodToleratesNodeTaints</code>: checks if a Pod's <a class=glossary-tooltip title="A core object consisting of three required properties: key, value, and effect. Tolerations enable the scheduling of pods on nodes or node groups that have a matching taint." data-toggle=tooltip data-placement=top href=/docs/concepts/scheduling-eviction/taint-and-toleration/ target=_blank aria-label=tolerations>tolerations</a>
can tolerate the Node's <a class=glossary-tooltip title="A core object consisting of three required properties: key, value, and effect. Taints prevent the scheduling of pods on nodes or node groups." data-toggle=tooltip data-placement=top href=/docs/concepts/scheduling-eviction/taint-and-toleration/ target=_blank aria-label=taints>taints</a>.</p>
</li>
<li>
<p><code>CheckVolumeBinding</code>: Evaluates if a Pod can fit due to the volumes it requests.
This applies for both bound and unbound
<a class=glossary-tooltip title="Claims storage resources defined in a PersistentVolume so that it can be mounted as a volume in a container." data-toggle=tooltip data-placement=top href=/docs/concepts/storage/persistent-volumes/ target=_blank aria-label=PVCs>PVCs</a>.</p>
</li>
</ul>
<h2 id=priorities>Priorities</h2>
<p>The following <em>priorities</em> implement scoring:</p>
<ul>
<li>
<p><code>SelectorSpreadPriority</code>: Spreads Pods across hosts, considering Pods that
belong to the same <a class=glossary-tooltip title="A way to expose an application running on a set of Pods as a network service." data-toggle=tooltip data-placement=top href=/docs/concepts/services-networking/service/ target=_blank aria-label=Service>Service</a>,
<a class=glossary-tooltip title="Manages deployment and scaling of a set of Pods, with durable storage and persistent identifiers for each Pod." data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/statefulset/ target=_blank aria-label=StatefulSet>StatefulSet</a> or
<a class=glossary-tooltip title="ReplicaSet ensures that a specified number of Pod replicas are running at one time" data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/replicaset/ target=_blank aria-label=ReplicaSet>ReplicaSet</a>.</p>
</li>
<li>
<p><code>InterPodAffinityPriority</code>: Implements preferred
<a href=/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity>inter pod affininity and antiaffinity</a>.</p>
</li>
<li>
<p><code>LeastRequestedPriority</code>: Favors nodes with fewer requested resources. In other
words, the more Pods that are placed on a Node, and the more resources those
Pods use, the lower the ranking this policy will give.</p>
</li>
<li>
<p><code>MostRequestedPriority</code>: Favors nodes with most requested resources. This policy
will fit the scheduled Pods onto the smallest number of Nodes needed to run your
overall set of workloads.</p>
</li>
<li>
<p><code>RequestedToCapacityRatioPriority</code>: Creates a requestedToCapacity based ResourceAllocationPriority using default resource scoring function shape.</p>
</li>
<li>
<p><code>BalancedResourceAllocation</code>: Favors nodes with balanced resource usage.</p>
</li>
<li>
<p><code>NodePreferAvoidPodsPriority</code>: Prioritizes nodes according to the node annotation
<code>scheduler.alpha.kubernetes.io/preferAvoidPods</code>. You can use this to hint that
two different Pods shouldn't run on the same Node.</p>
</li>
<li>
<p><code>NodeAffinityPriority</code>: Prioritizes nodes according to node affinity scheduling
preferences indicated in PreferredDuringSchedulingIgnoredDuringExecution.
You can read more about this in <a href=/docs/concepts/scheduling-eviction/assign-pod-node/>Assigning Pods to Nodes</a>.</p>
</li>
<li>
<p><code>TaintTolerationPriority</code>: Prepares the priority list for all the nodes, based on
the number of intolerable taints on the node. This policy adjusts a node's rank
taking that list into account.</p>
</li>
<li>
<p><code>ImageLocalityPriority</code>: Favors nodes that already have the
<a class=glossary-tooltip title="Stored instance of a container that holds a set of software needed to run an application." data-toggle=tooltip data-placement=top href="/docs/reference/glossary/?all=true#term-image" target=_blank aria-label="container images">container images</a> for that
Pod cached locally.</p>
</li>
<li>
<p><code>ServiceSpreadingPriority</code>: For a given Service, this policy aims to make sure that
the Pods for the Service run on different nodes. It favours scheduling onto nodes
that don't have Pods for the service already assigned there. The overall outcome is
that the Service becomes more resilient to a single Node failure.</p>
</li>
<li>
<p><code>EqualPriority</code>: Gives an equal weight of one to all nodes.</p>
</li>
<li>
<p><code>EvenPodsSpreadPriority</code>: Implements preferred
<a href=/docs/concepts/workloads/pods/pod-topology-spread-constraints/>pod topology spread constraints</a>.</p>
</li>
</ul>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>Learn about <a href=/docs/concepts/scheduling-eviction/kube-scheduler/>scheduling</a></li>
<li>Learn about <a href=/docs/reference/scheduling/config/>kube-scheduler Configuration</a></li>
<li>Read the <a href=/docs/reference/config-api/kube-scheduler-config.v1beta2>kube-scheduler configuration reference (v1beta2)</a></li>
<li>Read the <a href=/docs/reference/config-api/kube-scheduler-policy-config.v1/>kube-scheduler Policy reference (v1)</a></li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-ef4fb938b6b63c95f5f26f9b1cec3054>12.2 - Scheduler Configuration</h1>
<div style=margin-top:10px;margin-bottom:10px>
<b>FEATURE STATE:</b> <code>Kubernetes v1.19 [beta]</code>
</div>
<p>You can customize the behavior of the <code>kube-scheduler</code> by writing a configuration
file and passing its path as a command line argument.</p>
<p>A scheduling Profile allows you to configure the different stages of scheduling
in the <a class=glossary-tooltip title="Control plane component that watches for newly created pods with no assigned node, and selects a node for them to run on." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-scheduler/ target=_blank aria-label=kube-scheduler>kube-scheduler</a>.
Each stage is exposed in an extension point. Plugins provide scheduling behaviors
by implementing one or more of these extension points.</p>
<p>You can specify scheduling profiles by running <code>kube-scheduler --config &lt;filename></code>,
using the
KubeSchedulerConfiguration (<a href=/docs/reference/config-api/kube-scheduler-config.v1beta1/>v1beta1</a>
or <a href=/docs/reference/config-api/kube-scheduler-config.v1beta2/>v1beta2</a>)
struct.</p>
<p>A minimal configuration looks as follows:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubescheduler.config.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeSchedulerConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>clientConnection</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:green;font-weight:700>kubeconfig</span>:<span style=color:#bbb> </span>/etc/srv/kubernetes/kube-scheduler/kubeconfig<span style=color:#bbb>
</span></code></pre></div><h2 id=profiles>Profiles</h2>
<p>A scheduling Profile allows you to configure the different stages of scheduling
in the <a class=glossary-tooltip title="Control plane component that watches for newly created pods with no assigned node, and selects a node for them to run on." data-toggle=tooltip data-placement=top href=/docs/reference/command-line-tools-reference/kube-scheduler/ target=_blank aria-label=kube-scheduler>kube-scheduler</a>.
Each stage is exposed in an <a href=#extension-points>extension point</a>.
<a href=#scheduling-plugins>Plugins</a> provide scheduling behaviors by implementing one
or more of these extension points.</p>
<p>You can configure a single instance of <code>kube-scheduler</code> to run
<a href=#multiple-profiles>multiple profiles</a>.</p>
<h3 id=extension-points>Extension points</h3>
<p>Scheduling happens in a series of stages that are exposed through the following
extension points:</p>
<ol>
<li><code>queueSort</code>: These plugins provide an ordering function that is used to
sort pending Pods in the scheduling queue. Exactly one queue sort plugin
may be enabled at a time.</li>
<li><code>preFilter</code>: These plugins are used to pre-process or check information
about a Pod or the cluster before filtering. They can mark a pod as
unschedulable.</li>
<li><code>filter</code>: These plugins are the equivalent of Predicates in a scheduling
Policy and are used to filter out nodes that can not run the Pod. Filters
are called in the configured order. A pod is marked as unschedulable if no
nodes pass all the filters.</li>
<li><code>postFilter</code>: These plugins are called in their configured order when no
feasible nodes were found for the pod. If any <code>postFilter</code> plugin marks the
Pod <em>schedulable</em>, the remaining plugins are not called.</li>
<li><code>preScore</code>: This is an informational extension point that can be used
for doing pre-scoring work.</li>
<li><code>score</code>: These plugins provide a score to each node that has passed the
filtering phase. The scheduler will then select the node with the highest
weighted scores sum.</li>
<li><code>reserve</code>: This is an informational extension point that notifies plugins
when resources have been reserved for a given Pod. Plugins also implement an
<code>Unreserve</code> call that gets called in the case of failure during or after
<code>Reserve</code>.</li>
<li><code>permit</code>: These plugins can prevent or delay the binding of a Pod.</li>
<li><code>preBind</code>: These plugins perform any work required before a Pod is bound.</li>
<li><code>bind</code>: The plugins bind a Pod to a Node. <code>bind</code> plugins are called in order
and once one has done the binding, the remaining plugins are skipped. At
least one bind plugin is required.</li>
<li><code>postBind</code>: This is an informational extension point that is called after
a Pod has been bound.</li>
</ol>
<p>For each extension point, you could disable specific <a href=#scheduling-plugins>default plugins</a>
or enable your own. For example:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubescheduler.config.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeSchedulerConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>profiles</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>score</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>disabled</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>PodTopologySpread<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>enabled</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>MyCustomPluginA<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>weight</span>:<span style=color:#bbb> </span><span style=color:#666>2</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>MyCustomPluginB<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>weight</span>:<span style=color:#bbb> </span><span style=color:#666>1</span><span style=color:#bbb>
</span></code></pre></div><p>You can use <code>*</code> as name in the disabled array to disable all default plugins
for that extension point. This can also be used to rearrange plugins order, if
desired.</p>
<h3 id=scheduling-plugins>Scheduling plugins</h3>
<p>The following plugins, enabled by default, implement one or more of these
extension points:</p>
<ul>
<li><code>ImageLocality</code>: Favors nodes that already have the container images that the
Pod runs.
Extension points: <code>score</code>.</li>
<li><code>TaintToleration</code>: Implements
<a href=/docs/concepts/scheduling-eviction/taint-and-toleration/>taints and tolerations</a>.
Implements extension points: <code>filter</code>, <code>preScore</code>, <code>score</code>.</li>
<li><code>NodeName</code>: Checks if a Pod spec node name matches the current node.
Extension points: <code>filter</code>.</li>
<li><code>NodePorts</code>: Checks if a node has free ports for the requested Pod ports.
Extension points: <code>preFilter</code>, <code>filter</code>.</li>
<li><code>NodeAffinity</code>: Implements
<a href=/docs/concepts/scheduling-eviction/assign-pod-node/#nodeselector>node selectors</a>
and <a href=/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity>node affinity</a>.
Extension points: <code>filter</code>, <code>score</code>.</li>
<li><code>PodTopologySpread</code>: Implements
<a href=/docs/concepts/workloads/pods/pod-topology-spread-constraints/>Pod topology spread</a>.
Extension points: <code>preFilter</code>, <code>filter</code>, <code>preScore</code>, <code>score</code>.</li>
<li><code>NodeUnschedulable</code>: Filters out nodes that have <code>.spec.unschedulable</code> set to
true.
Extension points: <code>filter</code>.</li>
<li><code>NodeResourcesFit</code>: Checks if the node has all the resources that the Pod is
requesting. The score can use one of three strategies: <code>LeastAllocated</code>
(default), <code>MostAllocated</code> and <code>RequestedToCapacityRatio</code>.
Extension points: <code>preFilter</code>, <code>filter</code>, <code>score</code>.</li>
<li><code>NodeResourcesBalancedAllocation</code>: Favors nodes that would obtain a more
balanced resource usage if the Pod is scheduled there.
Extension points: <code>score</code>.</li>
<li><code>VolumeBinding</code>: Checks if the node has or if it can bind the requested
<a class=glossary-tooltip title="A directory containing data, accessible to the containers in a pod." data-toggle=tooltip data-placement=top href=/docs/concepts/storage/volumes/ target=_blank aria-label=volumes>volumes</a>.
Extension points: <code>preFilter</code>, <code>filter</code>, <code>reserve</code>, <code>preBind</code>, <code>score</code>.
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> <code>score</code> extension point is enabled when <code>VolumeCapacityPriority</code> feature is
enabled. It prioritizes the smallest PVs that can fit the requested volume
size.
</div></li>
<li><code>VolumeRestrictions</code>: Checks that volumes mounted in the node satisfy
restrictions that are specific to the volume provider.
Extension points: <code>filter</code>.</li>
<li><code>VolumeZone</code>: Checks that volumes requested satisfy any zone requirements they
might have.
Extension points: <code>filter</code>.</li>
<li><code>NodeVolumeLimits</code>: Checks that CSI volume limits can be satisfied for the
node.
Extension points: <code>filter</code>.</li>
<li><code>EBSLimits</code>: Checks that AWS EBS volume limits can be satisfied for the node.
Extension points: <code>filter</code>.</li>
<li><code>GCEPDLimits</code>: Checks that GCP-PD volume limits can be satisfied for the node.
Extension points: <code>filter</code>.</li>
<li><code>AzureDiskLimits</code>: Checks that Azure disk volume limits can be satisfied for
the node.
Extension points: <code>filter</code>.</li>
<li><code>InterPodAffinity</code>: Implements
<a href=/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity>inter-Pod affinity and anti-affinity</a>.
Extension points: <code>preFilter</code>, <code>filter</code>, <code>preScore</code>, <code>score</code>.</li>
<li><code>PrioritySort</code>: Provides the default priority based sorting.
Extension points: <code>queueSort</code>.</li>
<li><code>DefaultBinder</code>: Provides the default binding mechanism.
Extension points: <code>bind</code>.</li>
<li><code>DefaultPreemption</code>: Provides the default preemption mechanism.
Extension points: <code>postFilter</code>.</li>
</ul>
<p>You can also enable the following plugins, through the component config APIs,
that are not enabled by default:</p>
<ul>
<li><code>SelectorSpread</code>: Favors spreading across nodes for Pods that belong to
<a class=glossary-tooltip title="A way to expose an application running on a set of Pods as a network service." data-toggle=tooltip data-placement=top href=/docs/concepts/services-networking/service/ target=_blank aria-label=Services>Services</a>,
<a class=glossary-tooltip title="ReplicaSet ensures that a specified number of Pod replicas are running at one time" data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/replicaset/ target=_blank aria-label=ReplicaSets>ReplicaSets</a> and
<a class=glossary-tooltip title="Manages deployment and scaling of a set of Pods, with durable storage and persistent identifiers for each Pod." data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/statefulset/ target=_blank aria-label=StatefulSets>StatefulSets</a>.
Extension points: <code>preScore</code>, <code>score</code>.</li>
<li><code>CinderLimits</code>: Checks that <a href=https://docs.openstack.org/cinder/>OpenStack Cinder</a>
volume limits can be satisfied for the node.
Extension points: <code>filter</code>.</li>
</ul>
<p>The following plugins are deprecated and can only be enabled in a <code>v1beta1</code>
configuration:</p>
<ul>
<li><code>NodeResourcesLeastAllocated</code>: Favors nodes that have a low allocation of
resources.
Extension points: <code>score</code>.</li>
<li><code>NodeResourcesMostAllocated</code>: Favors nodes that have a high allocation of
resources.
Extension points: <code>score</code>.</li>
<li><code>RequestedToCapacityRatio</code>: Favor nodes according to a configured function of
the allocated resources.
Extension points: <code>score</code>.</li>
<li><code>NodeLabel</code>: Filters and / or scores a node according to configured
<a class=glossary-tooltip title="Tags objects with identifying attributes that are meaningful and relevant to users." data-toggle=tooltip data-placement=top href=/docs/concepts/overview/working-with-objects/labels target=_blank aria-label=label(s)>label(s)</a>.
Extension points: <code>filter</code>, <code>score</code>.</li>
<li><code>ServiceAffinity</code>: Checks that Pods that belong to a
<a class=glossary-tooltip title="A way to expose an application running on a set of Pods as a network service." data-toggle=tooltip data-placement=top href=/docs/concepts/services-networking/service/ target=_blank aria-label=Service>Service</a> fit in a set of nodes defined by
configured labels. This plugin also favors spreading the Pods belonging to a
Service across nodes.
Extension points: <code>preFilter</code>, <code>filter</code>, <code>score</code>.</li>
<li><code>NodePreferAvoidPods</code>: Prioritizes nodes according to the node annotation
<code>scheduler.alpha.kubernetes.io/preferAvoidPods</code>.
Extension points: <code>score</code>.</li>
</ul>
<h3 id=multiple-profiles>Multiple profiles</h3>
<p>You can configure <code>kube-scheduler</code> to run more than one profile.
Each profile has an associated scheduler name and can have a different set of
plugins configured in its <a href=#extension-points>extension points</a>.</p>
<p>With the following sample configuration, the scheduler will run with two
profiles: one with the default plugins and one with all scoring plugins
disabled.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubescheduler.config.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeSchedulerConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>profiles</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>schedulerName</span>:<span style=color:#bbb> </span>default-scheduler<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>schedulerName</span>:<span style=color:#bbb> </span><span style=color:#a2f;font-weight:700>no</span>-scoring-scheduler<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>preScore</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>disabled</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>score</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>disabled</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span><span style=color:#b44>&#39;*&#39;</span><span style=color:#bbb>
</span></code></pre></div><p>Pods that want to be scheduled according to a specific profile can include
the corresponding scheduler name in its <code>.spec.schedulerName</code>.</p>
<p>By default, one profile with the scheduler name <code>default-scheduler</code> is created.
This profile includes the default plugins described above. When declaring more
than one profile, a unique scheduler name for each of them is required.</p>
<p>If a Pod doesn't specify a scheduler name, kube-apiserver will set it to
<code>default-scheduler</code>. Therefore, a profile with this scheduler name should exist
to get those pods scheduled.</p>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> Pod's scheduling events have <code>.spec.schedulerName</code> as the ReportingController.
Events for leader election use the scheduler name of the first profile in the
list.
</div>
<div class="alert alert-info note callout" role=alert>
<strong>Note:</strong> All profiles must use the same plugin in the <code>queueSort</code> extension point and have
the same configuration parameters (if applicable). This is because the scheduler
only has one pending pods queue.
</div>
<h2 id=scheduler-configuration-migrations>Scheduler configuration migrations</h2>
<ul class="nav nav-tabs" id=tab-with-md role=tablist><li class=nav-item><a data-toggle=tab class="nav-link active" href=#tab-with-md-0 role=tab aria-controls=tab-with-md-0 aria-selected=true>v1beta1 → v1beta2</a></li>
</ul>
<div class=tab-content id=tab-with-md><div id=tab-with-md-0 class="tab-pane show active" role=tabpanel aria-labelledby=tab-with-md-0>
<p><ul>
<li>
<p>With the v1beta2 configuration version, you can use a new score extension for the
<code>NodeResourcesFit</code> plugin.
The new extension combines the functionalities of the <code>NodeResourcesLeastAllocated</code>,
<code>NodeResourcesMostAllocated</code> and <code>RequestedToCapacityRatio</code> plugins.
For example, if you previously used the <code>NodeResourcesMostAllocated</code> plugin, you
would instead use <code>NodeResourcesFit</code> (enabled by default) and add a <code>pluginConfig</code>
with a <code>scoreStrategy</code> that is similar to:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:green;font-weight:700>apiVersion</span>:<span style=color:#bbb> </span>kubescheduler.config.k8s.io/v1beta2<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>kind</span>:<span style=color:#bbb> </span>KubeSchedulerConfiguration<span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:green;font-weight:700>profiles</span>:<span style=color:#bbb>
</span><span style=color:#bbb></span>- <span style=color:green;font-weight:700>pluginConfig</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- <span style=color:green;font-weight:700>args</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:green;font-weight:700>scoringStrategy</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span>- <span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>cpu<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:green;font-weight:700>weight</span>:<span style=color:#bbb> </span><span style=color:#666>1</span><span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:green;font-weight:700>type</span>:<span style=color:#bbb> </span>MostAllocated<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:green;font-weight:700>name</span>:<span style=color:#bbb> </span>NodeResourcesFit<span style=color:#bbb>
</span></code></pre></div></li>
<li>
<p>The scheduler plugin <code>NodeLabel</code> is deprecated; instead, use the <a href=/docs/concepts/scheduling-eviction/assign-pod-node/#affinity-and-anti-affinity><code>NodeAffinity</code></a> plugin (enabled by default) to achieve similar behavior.</p>
</li>
<li>
<p>The scheduler plugin <code>ServiceAffinity</code> is deprecated; instead, use the <a href=/docs/concepts/scheduling-eviction/assign-pod-node/#inter-pod-affinity-and-anti-affinity><code>InterPodAffinity</code></a> plugin (enabled by default) to achieve similar behavior.</p>
</li>
<li>
<p>The scheduler plugin <code>NodePreferAvoidPods</code> is deprecated; instead, use <a href=/docs/concepts/scheduling-eviction/taint-and-toleration/>node taints</a> to achieve similar behavior.</p>
</li>
<li>
<p>A plugin enabled in a v1beta2 configuration file takes precedence over the default configuration for that plugin.</p>
</li>
<li>
<p>Invalid <code>host</code> or <code>port</code> configured for scheduler healthz and metrics bind address will cause validation failure.</p>
</li>
</ul>
</div></div>
<h2 id=what-s-next>What's next</h2>
<ul>
<li>Read the <a href=/docs/reference/command-line-tools-reference/kube-scheduler/>kube-scheduler reference</a></li>
<li>Learn about <a href=/docs/concepts/scheduling-eviction/kube-scheduler/>scheduling</a></li>
<li>Read the <a href=/docs/reference/config-api/kube-scheduler-config.v1beta1/>kube-scheduler configuration (v1beta1)</a> reference</li>
<li>Read the <a href=/docs/reference/config-api/kube-scheduler-config.v1beta2/>kube-scheduler configuration (v1beta2)</a> reference</li>
</ul>
</div>
<div class=td-content style=page-break-before:always>
<h1 id=pg-c808ce38575e73f72835d7ed02b03780>13 - Other Tools</h1>
<p>Kubernetes contains several tools to help you work with the Kubernetes system.</p>
<h2 id=minikube>Minikube</h2>
<p><a href=https://minikube.sigs.k8s.io/docs/><code>minikube</code></a> is a tool that
runs a single-node Kubernetes cluster locally on your workstation for
development and testing purposes.</p>
<h2 id=dashboard>Dashboard</h2>
<p><a href=/docs/tasks/access-application-cluster/web-ui-dashboard/><code>Dashboard</code></a>, the web-based user interface of Kubernetes, allows you to deploy containerized applications
to a Kubernetes cluster, troubleshoot them, and manage the cluster and its resources itself.</p>
<h2 id=helm>Helm</h2>
<div class="alert alert-secondary callout third-party-content" role=alert>&#128711; This item links to a third party project or product that is not part of Kubernetes itself. <a class=alert-more-info href=#third-party-content-disclaimer>More information</a></div>
<p><a href=https://helm.sh/>Helm</a> is a tool for managing packages of pre-configured
Kubernetes resources. These packages are known as <em>Helm charts</em>.</p>
<p>Helm is a third party managed tool for managing packages of pre-configured
Kubernetes resources, aka Kubernetes charts.</p>
<p>Use Helm to:</p>
<ul>
<li>Find and use popular software packaged as Kubernetes charts</li>
<li>Share your own applications as Kubernetes charts</li>
<li>Create reproducible builds of your Kubernetes applications</li>
<li>Intelligently manage your Kubernetes manifest files</li>
<li>Manage releases of Helm packages</li>
</ul>
<h2 id=kompose>Kompose</h2>
<p><a href=https://github.com/kubernetes/kompose><code>Kompose</code></a> is a tool to help Docker Compose users move to Kubernetes.</p>
<p>Use Kompose to:</p>
<ul>
<li>Translate a Docker Compose file into Kubernetes objects</li>
<li>Go from local Docker development to managing your application via Kubernetes</li>
<li>Convert v1 or v2 Docker Compose <code>yaml</code> files or <a href=https://docs.docker.com/compose/bundles/>Distributed Application Bundles</a></li>
</ul>
<h2 id=kui>Kui</h2>
<p><a href=https://github.com/kubernetes-sigs/kui><code>Kui</code></a> is a GUI tool that takes your normal
<code>kubectl</code> command line requests and responds with graphics.</p>
<p>Kui takes the normal <code>kubectl</code> command line requests and responds with graphics. Instead
of ASCII tables, Kui provides a GUI rendering with tables that you can sort.</p>
<p>Kui lets you:</p>
<ul>
<li>Directly click on long, auto-generated resource names instead of copying and pasting</li>
<li>Type in <code>kubectl</code> commands and see them execute, even sometimes faster than <code>kubectl</code> itself</li>
<li>Query a <a class=glossary-tooltip title="A finite or batch task that runs to completion." data-toggle=tooltip data-placement=top href=/docs/concepts/workloads/controllers/job/ target=_blank aria-label=Job>Job</a> and see its execution rendered
as a waterfall diagram</li>
<li>Click through resources in your cluster using a tabbed UI</li>
</ul>
</div>
</main>
</div>
</div>
<footer class=d-print-none>
<div class=footer__links>
<nav>
<a class=text-white href=/docs/home/>Home</a>
<a class=text-white href=/blog/>Blog</a>
<a class=text-white href=/training/>Training</a>
<a class=text-white href=/partners/>Partners</a>
<a class=text-white href=/community/>Community</a>
<a class=text-white href=/case-studies/>Case Studies</a>
</nav>
</div>
<div class=container-fluid>
<div class=row>
<div class="col-6 col-sm-2 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list">
<a class=text-white target=_blank href=https://discuss.kubernetes.io>
<i class="fa fa-envelope"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter>
<a class=text-white target=_blank href=https://twitter.com/kubernetesio>
<i class="fab fa-twitter"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Calendar aria-label=Calendar>
<a class=text-white target=_blank href="https://calendar.google.com/calendar/embed?src=calendar%40kubernetes.io">
<i class="fas fa-calendar-alt"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Youtube aria-label=Youtube>
<a class=text-white target=_blank href=https://youtube.com/kubernetescommunity>
<i class="fab fa-youtube"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-2 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank href=https://github.com/kubernetes/kubernetes>
<i class="fab fa-github"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack>
<a class=text-white target=_blank href=https://slack.k8s.io>
<i class="fab fa-slack"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Contribute aria-label=Contribute>
<a class=text-white target=_blank href=https://git.k8s.io/community/contributors/guide>
<i class="fas fa-edit"></i>
</a>
</li>
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow">
<a class=text-white target=_blank href=https://stackoverflow.com/questions/tagged/kubernetes>
<i class="fab fa-stack-overflow"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-8 text-center order-sm-2">
<small class=text-white>&copy; 2023 The Kubernetes Authors | Documentation Distributed under <a href=https://git.k8s.io/website/LICENSE class=light-text>CC BY 4.0</a></small>
<br>
<small class=text-white>Copyright &copy; 2023 The Linux Foundation &reg;. All rights reserved. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href=https://www.linuxfoundation.org/trademark-usage class=light-text>Trademark Usage page</a></small>
<br>
<small class=text-white>ICP license: 京ICP备17074266号-3</small>
</div>
</div>
</div>
</footer>
</div>
<script src=/js/popper-1.14.3.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=/js/bootstrap-4.3.1.min.js integrity=sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM crossorigin=anonymous></script>
<script src=/js/main.min.40616251a9b6e4b689e7769be0340661efa4d7ebb73f957404e963e135b4ed52.js integrity="sha256-QGFiUam25LaJ53ab4DQGYe+k1+u3P5V0BOlj4TW07VI=" crossorigin=anonymous></script>
</body>
</html>